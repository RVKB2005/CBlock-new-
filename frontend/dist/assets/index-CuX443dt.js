var dB=Object.defineProperty;var IA=t=>{throw TypeError(t)};var fB=(t,e,r)=>e in t?dB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var F=(t,e,r)=>fB(t,typeof e!="symbol"?e+"":e,r),gx=(t,e,r)=>e.has(t)||IA("Cannot "+r);var E=(t,e,r)=>(gx(t,e,"read from private field"),r?r.call(t):e.get(t)),z=(t,e,r)=>e.has(t)?IA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),O=(t,e,r,n)=>(gx(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),J=(t,e,r)=>(gx(t,e,"access private method"),r);var $d=(t,e,r,n)=>({set _(i){O(t,e,i,r)},get _(){return E(t,e,n)}});function hB(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function rs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iT={exports:{}},Rg={},sT={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh=Symbol.for("react.element"),mB=Symbol.for("react.portal"),pB=Symbol.for("react.fragment"),gB=Symbol.for("react.strict_mode"),yB=Symbol.for("react.profiler"),xB=Symbol.for("react.provider"),vB=Symbol.for("react.context"),bB=Symbol.for("react.forward_ref"),wB=Symbol.for("react.suspense"),jB=Symbol.for("react.memo"),NB=Symbol.for("react.lazy"),DA=Symbol.iterator;function AB(t){return t===null||typeof t!="object"?null:(t=DA&&t[DA]||t["@@iterator"],typeof t=="function"?t:null)}var aT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oT=Object.assign,lT={};function Ed(t,e,r){this.props=t,this.context=e,this.refs=lT,this.updater=r||aT}Ed.prototype.isReactComponent={};Ed.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ed.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cT(){}cT.prototype=Ed.prototype;function U1(t,e,r){this.props=t,this.context=e,this.refs=lT,this.updater=r||aT}var $1=U1.prototype=new cT;$1.constructor=U1;oT($1,Ed.prototype);$1.isPureReactComponent=!0;var RA=Array.isArray,uT=Object.prototype.hasOwnProperty,V1={current:null},dT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)uT.call(e,n)&&!dT.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Kh,type:t,key:s,ref:a,props:i,_owner:V1.current}}function EB(t,e){return{$$typeof:Kh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kh}function SB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var MA=/\/+/g;function yx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SB(""+t.key):e.toString(36)}function bp(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kh:case mB:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+yx(a,0):n,RA(i)?(r="",t!=null&&(r=t.replace(MA,"$&/")+"/"),bp(i,e,r,"",function(u){return u})):i!=null&&(z1(i)&&(i=EB(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(MA,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",RA(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+yx(s,l);a+=bp(s,e,r,c,i)}else if(c=AB(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+yx(s,l++),a+=bp(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function km(t,e,r){if(t==null)return t;var n=[],i=0;return bp(t,n,"","",function(s){return e.call(r,s,i++)}),n}function kB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lr={current:null},wp={transition:null},CB={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:wp,ReactCurrentOwner:V1};function hT(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:km,forEach:function(t,e,r){km(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return km(t,function(){e++}),e},toArray:function(t){return km(t,function(e){return e})||[]},only:function(t){if(!z1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Ed;Se.Fragment=pB;Se.Profiler=yB;Se.PureComponent=U1;Se.StrictMode=gB;Se.Suspense=wB;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CB;Se.act=hT;Se.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=oT({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=V1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)uT.call(e,c)&&!dT.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Kh,type:t.type,key:i,ref:s,props:n,_owner:a}};Se.createContext=function(t){return t={$$typeof:vB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xB,_context:t},t.Consumer=t};Se.createElement=fT;Se.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:bB,render:t}};Se.isValidElement=z1;Se.lazy=function(t){return{$$typeof:NB,_payload:{_status:-1,_result:t},_init:kB}};Se.memo=function(t,e){return{$$typeof:jB,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=wp.transition;wp.transition={};try{t()}finally{wp.transition=e}};Se.unstable_act=hT;Se.useCallback=function(t,e){return Lr.current.useCallback(t,e)};Se.useContext=function(t){return Lr.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return Lr.current.useDeferredValue(t)};Se.useEffect=function(t,e){return Lr.current.useEffect(t,e)};Se.useId=function(){return Lr.current.useId()};Se.useImperativeHandle=function(t,e,r){return Lr.current.useImperativeHandle(t,e,r)};Se.useInsertionEffect=function(t,e){return Lr.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return Lr.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return Lr.current.useMemo(t,e)};Se.useReducer=function(t,e,r){return Lr.current.useReducer(t,e,r)};Se.useRef=function(t){return Lr.current.useRef(t)};Se.useState=function(t){return Lr.current.useState(t)};Se.useSyncExternalStore=function(t,e,r){return Lr.current.useSyncExternalStore(t,e,r)};Se.useTransition=function(){return Lr.current.useTransition()};Se.version="18.3.1";sT.exports=Se;var p=sT.exports;const Sd=rs(p),PB=hB({__proto__:null,default:Sd},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TB=p,OB=Symbol.for("react.element"),IB=Symbol.for("react.fragment"),DB=Object.prototype.hasOwnProperty,RB=TB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MB={key:!0,ref:!0,__self:!0,__source:!0};function mT(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)DB.call(e,n)&&!MB.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OB,type:t,key:s,ref:a,props:i,_owner:RB.current}}Rg.Fragment=IB;Rg.jsx=mT;Rg.jsxs=mT;iT.exports=Rg;var o=iT.exports,pT={exports:{}},An={},gT={exports:{}},yT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,L){var H=k.length;k.push(L);e:for(;0<H;){var W=H-1>>>1,G=k[W];if(0<i(G,L))k[W]=L,k[H]=G,H=W;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var L=k[0],H=k.pop();if(H!==L){k[0]=H;e:for(var W=0,G=k.length,me=G>>>1;W<me;){var ve=2*(W+1)-1,de=k[ve],we=ve+1,Le=k[we];if(0>i(de,H))we<G&&0>i(Le,de)?(k[W]=Le,k[we]=H,W=we):(k[W]=de,k[ve]=H,W=ve);else if(we<G&&0>i(Le,H))k[W]=Le,k[we]=H,W=we;else break e}}return L}function i(k,L){var H=k.sortIndex-L.sortIndex;return H!==0?H:k.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=k)n(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(u)}}function j(k){if(x=!1,b(k),!g)if(r(c)!==null)g=!0,M(A);else{var L=r(u);L!==null&&U(j,L.startTime-k)}}function A(k,L){g=!1,x&&(x=!1,y(N),N=-1),m=!0;var H=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||k&&!D());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var G=W(f.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var me=!0;else{var ve=r(u);ve!==null&&U(j,ve.startTime-L),me=!1}return me}finally{f=null,h=H,m=!1}}var S=!1,C=null,N=-1,P=5,I=-1;function D(){return!(t.unstable_now()-I<P)}function B(){if(C!==null){var k=t.unstable_now();I=k;var L=!0;try{L=C(!0,k)}finally{L?V():(S=!1,C=null)}}else S=!1}var V;if(typeof v=="function")V=function(){v(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,T=Q.port2;Q.port1.onmessage=B,V=function(){T.postMessage(null)}}else V=function(){w(B,0)};function M(k){C=k,S||(S=!0,V())}function U(k,L){N=w(function(){k(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,M(A))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return k()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,L){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var H=h;h=k;try{return L()}finally{h=H}},t.unstable_scheduleCallback=function(k,L,H){var W=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?W+H:W):H=W,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,k={id:d++,callback:L,priorityLevel:k,startTime:H,expirationTime:G,sortIndex:-1},H>W?(k.sortIndex=H,e(u,k),r(c)===null&&k===r(u)&&(x?(y(N),N=-1):x=!0,U(j,H-W))):(k.sortIndex=G,e(c,k),g||m||(g=!0,M(A))),k},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(k){var L=h;return function(){var H=h;h=L;try{return k.apply(this,arguments)}finally{h=H}}}})(yT);gT.exports=yT;var LB=gT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _B=p,xn=LB;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xT=new Set,Vf={};function tc(t,e){qu(t,e),qu(t+"Capture",e)}function qu(t,e){for(Vf[t]=e,t=0;t<e.length;t++)xT.add(e[t])}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eb=Object.prototype.hasOwnProperty,BB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LA={},_A={};function FB(t){return eb.call(_A,t)?!0:eb.call(LA,t)?!1:BB.test(t)?_A[t]=!0:(LA[t]=!0,!1)}function UB(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $B(t,e,r,n){if(e===null||typeof e>"u"||UB(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _r(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lr[t]=new _r(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lr[e]=new _r(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lr[t]=new _r(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lr[t]=new _r(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lr[t]=new _r(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lr[t]=new _r(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lr[t]=new _r(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lr[t]=new _r(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lr[t]=new _r(t,5,!1,t.toLowerCase(),null,!1,!1)});var H1=/[\-:]([a-z])/g;function W1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H1,W1);lr[e]=new _r(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H1,W1);lr[e]=new _r(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H1,W1);lr[e]=new _r(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lr[t]=new _r(t,1,!1,t.toLowerCase(),null,!1,!1)});lr.xlinkHref=new _r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lr[t]=new _r(t,1,!1,t.toLowerCase(),null,!0,!0)});function G1(t,e,r,n){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($B(e,r,i,n)&&(r=null),n||i===null?FB(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Js=_B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cm=Symbol.for("react.element"),Nc=Symbol.for("react.portal"),Ac=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),tb=Symbol.for("react.profiler"),vT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),Q1=Symbol.for("react.forward_ref"),rb=Symbol.for("react.suspense"),nb=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),wT=Symbol.for("react.offscreen"),BA=Symbol.iterator;function Vd(t){return t===null||typeof t!="object"?null:(t=BA&&t[BA]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,xx;function ff(t){if(xx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);xx=e&&e[1]||""}return`
`+xx+t}var vx=!1;function bx(t,e){if(!t||vx)return"";vx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{vx=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ff(t):""}function VB(t){switch(t.tag){case 5:return ff(t.type);case 16:return ff("Lazy");case 13:return ff("Suspense");case 19:return ff("SuspenseList");case 0:case 2:case 15:return t=bx(t.type,!1),t;case 11:return t=bx(t.type.render,!1),t;case 1:return t=bx(t.type,!0),t;default:return""}}function ib(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ac:return"Fragment";case Nc:return"Portal";case tb:return"Profiler";case K1:return"StrictMode";case rb:return"Suspense";case nb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bT:return(t.displayName||"Context")+".Consumer";case vT:return(t._context.displayName||"Context")+".Provider";case Q1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y1:return e=t.displayName||null,e!==null?e:ib(t.type)||"Memo";case pa:e=t._payload,t=t._init;try{return ib(t(e))}catch{}}return null}function zB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ib(e);case 8:return e===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function no(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HB(t){var e=jT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pm(t){t._valueTracker||(t._valueTracker=HB(t))}function NT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=jT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Kp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sb(t,e){var r=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function FA(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=no(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AT(t,e){e=e.checked,e!=null&&G1(t,"checked",e,!1)}function ab(t,e){AT(t,e);var r=no(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ob(t,e.type,r):e.hasOwnProperty("defaultValue")&&ob(t,e.type,no(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UA(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ob(t,e,r){(e!=="number"||Kp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hf=Array.isArray;function Yc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+no(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function lb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $A(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(hf(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:no(r)}}function ET(t,e){var r=no(e.value),n=no(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function VA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ST(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ST(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tm,kT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tm=Tm||document.createElement("div"),Tm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Af={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WB=["Webkit","ms","Moz","O"];Object.keys(Af).forEach(function(t){WB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Af[e]=Af[t]})});function CT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Af.hasOwnProperty(t)&&Af[t]?(""+e).trim():e+"px"}function PT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=CT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var GB=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(t,e){if(e){if(GB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function db(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fb=null;function q1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hb=null,qc=null,Jc=null;function zA(t){if(t=qh(t)){if(typeof hb!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Fg(e),hb(t.stateNode,t.type,e))}}function TT(t){qc?Jc?Jc.push(t):Jc=[t]:qc=t}function OT(){if(qc){var t=qc,e=Jc;if(Jc=qc=null,zA(t),e)for(t=0;t<e.length;t++)zA(e[t])}}function IT(t,e){return t(e)}function DT(){}var wx=!1;function RT(t,e,r){if(wx)return t(e,r);wx=!0;try{return IT(t,e,r)}finally{wx=!1,(qc!==null||Jc!==null)&&(DT(),OT())}}function Hf(t,e){var r=t.stateNode;if(r===null)return null;var n=Fg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var mb=!1;if(Bs)try{var zd={};Object.defineProperty(zd,"passive",{get:function(){mb=!0}}),window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{mb=!1}function KB(t,e,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Ef=!1,Qp=null,Yp=!1,pb=null,QB={onError:function(t){Ef=!0,Qp=t}};function YB(t,e,r,n,i,s,a,l,c){Ef=!1,Qp=null,KB.apply(QB,arguments)}function qB(t,e,r,n,i,s,a,l,c){if(YB.apply(this,arguments),Ef){if(Ef){var u=Qp;Ef=!1,Qp=null}else throw Error(Z(198));Yp||(Yp=!0,pb=u)}}function rc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function MT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HA(t){if(rc(t)!==t)throw Error(Z(188))}function JB(t){var e=t.alternate;if(!e){if(e=rc(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return HA(i),t;if(s===n)return HA(i),e;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function LT(t){return t=JB(t),t!==null?_T(t):null}function _T(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_T(t);if(e!==null)return e;t=t.sibling}return null}var BT=xn.unstable_scheduleCallback,WA=xn.unstable_cancelCallback,XB=xn.unstable_shouldYield,ZB=xn.unstable_requestPaint,Nt=xn.unstable_now,e8=xn.unstable_getCurrentPriorityLevel,J1=xn.unstable_ImmediatePriority,FT=xn.unstable_UserBlockingPriority,qp=xn.unstable_NormalPriority,t8=xn.unstable_LowPriority,UT=xn.unstable_IdlePriority,Mg=null,Qi=null;function r8(t){if(Qi&&typeof Qi.onCommitFiberRoot=="function")try{Qi.onCommitFiberRoot(Mg,t,void 0,(t.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:s8,n8=Math.log,i8=Math.LN2;function s8(t){return t>>>=0,t===0?32:31-(n8(t)/i8|0)|0}var Om=64,Im=4194304;function mf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Jp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=mf(l):(s&=a,s!==0&&(n=mf(s)))}else a=r&~i,a!==0?n=mf(a):s!==0&&(n=mf(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wi(e),i=1<<r,n|=t[r],e&=~i;return n}function a8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o8(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-wi(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=a8(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function gb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $T(){var t=Om;return Om<<=1,!(Om&4194240)&&(Om=64),t}function jx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Qh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wi(e),t[e]=r}function l8(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-wi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function X1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-wi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ve=0;function VT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zT,Z1,HT,WT,GT,yb=!1,Dm=[],Ha=null,Wa=null,Ga=null,Wf=new Map,Gf=new Map,ba=[],c8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GA(t,e){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":Wf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gf.delete(e.pointerId)}}function Hd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=qh(e),e!==null&&Z1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function u8(t,e,r,n,i){switch(e){case"focusin":return Ha=Hd(Ha,t,e,r,n,i),!0;case"dragenter":return Wa=Hd(Wa,t,e,r,n,i),!0;case"mouseover":return Ga=Hd(Ga,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Wf.set(s,Hd(Wf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gf.set(s,Hd(Gf.get(s)||null,t,e,r,n,i)),!0}return!1}function KT(t){var e=Yo(t.target);if(e!==null){var r=rc(e);if(r!==null){if(e=r.tag,e===13){if(e=MT(r),e!==null){t.blockedOn=e,GT(t.priority,function(){HT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);fb=n,r.target.dispatchEvent(n),fb=null}else return e=qh(r),e!==null&&Z1(e),t.blockedOn=r,!1;e.shift()}return!0}function KA(t,e,r){jp(t)&&r.delete(e)}function d8(){yb=!1,Ha!==null&&jp(Ha)&&(Ha=null),Wa!==null&&jp(Wa)&&(Wa=null),Ga!==null&&jp(Ga)&&(Ga=null),Wf.forEach(KA),Gf.forEach(KA)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,yb||(yb=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,d8)))}function Kf(t){function e(i){return Wd(i,t)}if(0<Dm.length){Wd(Dm[0],t);for(var r=1;r<Dm.length;r++){var n=Dm[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ha!==null&&Wd(Ha,t),Wa!==null&&Wd(Wa,t),Ga!==null&&Wd(Ga,t),Wf.forEach(e),Gf.forEach(e),r=0;r<ba.length;r++)n=ba[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ba.length&&(r=ba[0],r.blockedOn===null);)KT(r),r.blockedOn===null&&ba.shift()}var Xc=Js.ReactCurrentBatchConfig,Xp=!0;function f8(t,e,r,n){var i=Ve,s=Xc.transition;Xc.transition=null;try{Ve=1,e2(t,e,r,n)}finally{Ve=i,Xc.transition=s}}function h8(t,e,r,n){var i=Ve,s=Xc.transition;Xc.transition=null;try{Ve=4,e2(t,e,r,n)}finally{Ve=i,Xc.transition=s}}function e2(t,e,r,n){if(Xp){var i=xb(t,e,r,n);if(i===null)Ix(t,e,n,Zp,r),GA(t,n);else if(u8(i,t,e,r,n))n.stopPropagation();else if(GA(t,n),e&4&&-1<c8.indexOf(t)){for(;i!==null;){var s=qh(i);if(s!==null&&zT(s),s=xb(t,e,r,n),s===null&&Ix(t,e,n,Zp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Ix(t,e,n,null,r)}}var Zp=null;function xb(t,e,r,n){if(Zp=null,t=q1(n),t=Yo(t),t!==null)if(e=rc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=MT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zp=t,null}function QT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e8()){case J1:return 1;case FT:return 4;case qp:case t8:return 16;case UT:return 536870912;default:return 16}default:return 16}}var $a=null,t2=null,Np=null;function YT(){if(Np)return Np;var t,e=t2,r=e.length,n,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Np=i.slice(t,1<n?1-n:void 0)}function Ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rm(){return!0}function QA(){return!1}function En(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rm:QA,this.isPropagationStopped=QA,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rm)},persist:function(){},isPersistent:Rm}),e}var kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r2=En(kd),Yh=pt({},kd,{view:0,detail:0}),m8=En(Yh),Nx,Ax,Gd,Lg=pt({},Yh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gd&&(Gd&&t.type==="mousemove"?(Nx=t.screenX-Gd.screenX,Ax=t.screenY-Gd.screenY):Ax=Nx=0,Gd=t),Nx)},movementY:function(t){return"movementY"in t?t.movementY:Ax}}),YA=En(Lg),p8=pt({},Lg,{dataTransfer:0}),g8=En(p8),y8=pt({},Yh,{relatedTarget:0}),Ex=En(y8),x8=pt({},kd,{animationName:0,elapsedTime:0,pseudoElement:0}),v8=En(x8),b8=pt({},kd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w8=En(b8),j8=pt({},kd,{data:0}),qA=En(j8),N8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E8[t])?!!e[t]:!1}function n2(){return S8}var k8=pt({},Yh,{key:function(t){if(t.key){var e=N8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n2,charCode:function(t){return t.type==="keypress"?Ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C8=En(k8),P8=pt({},Lg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JA=En(P8),T8=pt({},Yh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n2}),O8=En(T8),I8=pt({},kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),D8=En(I8),R8=pt({},Lg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M8=En(R8),L8=[9,13,27,32],i2=Bs&&"CompositionEvent"in window,Sf=null;Bs&&"documentMode"in document&&(Sf=document.documentMode);var _8=Bs&&"TextEvent"in window&&!Sf,qT=Bs&&(!i2||Sf&&8<Sf&&11>=Sf),XA=" ",ZA=!1;function JT(t,e){switch(t){case"keyup":return L8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ec=!1;function B8(t,e){switch(t){case"compositionend":return XT(e);case"keypress":return e.which!==32?null:(ZA=!0,XA);case"textInput":return t=e.data,t===XA&&ZA?null:t;default:return null}}function F8(t,e){if(Ec)return t==="compositionend"||!i2&&JT(t,e)?(t=YT(),Np=t2=$a=null,Ec=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qT&&e.locale!=="ko"?null:e.data;default:return null}}var U8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U8[t.type]:e==="textarea"}function ZT(t,e,r,n){TT(n),e=e0(e,"onChange"),0<e.length&&(r=new r2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var kf=null,Qf=null;function $8(t){uO(t,0)}function _g(t){var e=Cc(t);if(NT(e))return t}function V8(t,e){if(t==="change")return e}var eO=!1;if(Bs){var Sx;if(Bs){var kx="oninput"in document;if(!kx){var tE=document.createElement("div");tE.setAttribute("oninput","return;"),kx=typeof tE.oninput=="function"}Sx=kx}else Sx=!1;eO=Sx&&(!document.documentMode||9<document.documentMode)}function rE(){kf&&(kf.detachEvent("onpropertychange",tO),Qf=kf=null)}function tO(t){if(t.propertyName==="value"&&_g(Qf)){var e=[];ZT(e,Qf,t,q1(t)),RT($8,e)}}function z8(t,e,r){t==="focusin"?(rE(),kf=e,Qf=r,kf.attachEvent("onpropertychange",tO)):t==="focusout"&&rE()}function H8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _g(Qf)}function W8(t,e){if(t==="click")return _g(e)}function G8(t,e){if(t==="input"||t==="change")return _g(e)}function K8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ni=typeof Object.is=="function"?Object.is:K8;function Yf(t,e){if(Ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!eb.call(e,i)||!Ni(t[i],e[i]))return!1}return!0}function nE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iE(t,e){var r=nE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nE(r)}}function rO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nO(){for(var t=window,e=Kp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Kp(t.document)}return e}function s2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Q8(t){var e=nO(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rO(r.ownerDocument.documentElement,r)){if(n!==null&&s2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=iE(r,s);var a=iE(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y8=Bs&&"documentMode"in document&&11>=document.documentMode,Sc=null,vb=null,Cf=null,bb=!1;function sE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bb||Sc==null||Sc!==Kp(n)||(n=Sc,"selectionStart"in n&&s2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cf&&Yf(Cf,n)||(Cf=n,n=e0(vb,"onSelect"),0<n.length&&(e=new r2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Sc)))}function Mm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kc={animationend:Mm("Animation","AnimationEnd"),animationiteration:Mm("Animation","AnimationIteration"),animationstart:Mm("Animation","AnimationStart"),transitionend:Mm("Transition","TransitionEnd")},Cx={},iO={};Bs&&(iO=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function Bg(t){if(Cx[t])return Cx[t];if(!kc[t])return t;var e=kc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iO)return Cx[t]=e[r];return t}var sO=Bg("animationend"),aO=Bg("animationiteration"),oO=Bg("animationstart"),lO=Bg("transitionend"),cO=new Map,aE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(t,e){cO.set(t,e),tc(e,[t])}for(var Px=0;Px<aE.length;Px++){var Tx=aE[Px],q8=Tx.toLowerCase(),J8=Tx[0].toUpperCase()+Tx.slice(1);yo(q8,"on"+J8)}yo(sO,"onAnimationEnd");yo(aO,"onAnimationIteration");yo(oO,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(lO,"onTransitionEnd");qu("onMouseEnter",["mouseout","mouseover"]);qu("onMouseLeave",["mouseout","mouseover"]);qu("onPointerEnter",["pointerout","pointerover"]);qu("onPointerLeave",["pointerout","pointerover"]);tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X8=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function oE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qB(n,e,void 0,t),t.currentTarget=null}function uO(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;oE(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;oE(i,l,u),s=c}}}if(Yp)throw t=pb,Yp=!1,pb=null,t}function Ze(t,e){var r=e[Eb];r===void 0&&(r=e[Eb]=new Set);var n=t+"__bubble";r.has(n)||(dO(e,t,2,!1),r.add(n))}function Ox(t,e,r){var n=0;e&&(n|=4),dO(r,t,n,e)}var Lm="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[Lm]){t[Lm]=!0,xT.forEach(function(r){r!=="selectionchange"&&(X8.has(r)||Ox(r,!1,t),Ox(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Lm]||(e[Lm]=!0,Ox("selectionchange",!1,e))}}function dO(t,e,r,n){switch(QT(e)){case 1:var i=f8;break;case 4:i=h8;break;default:i=e2}r=i.bind(null,e,r,t),i=void 0,!mb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Ix(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Yo(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}RT(function(){var u=s,d=q1(r),f=[];e:{var h=cO.get(t);if(h!==void 0){var m=r2,g=t;switch(t){case"keypress":if(Ap(r)===0)break e;case"keydown":case"keyup":m=C8;break;case"focusin":g="focus",m=Ex;break;case"focusout":g="blur",m=Ex;break;case"beforeblur":case"afterblur":m=Ex;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=YA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=g8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=O8;break;case sO:case aO:case oO:m=v8;break;case lO:m=D8;break;case"scroll":m=m8;break;case"wheel":m=M8;break;case"copy":case"cut":case"paste":m=w8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JA}var x=(e&4)!==0,w=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,y!==null&&(j=Hf(v,y),j!=null&&x.push(Jf(v,j,b)))),w)break;v=v.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==fb&&(g=r.relatedTarget||r.fromElement)&&(Yo(g)||g[Fs]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Yo(g):null,g!==null&&(w=rc(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=YA,j="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(x=JA,j="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?h:Cc(m),b=g==null?h:Cc(g),h=new x(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,Yo(d)===u&&(x=new x(y,v+"enter",g,r,d),x.target=b,x.relatedTarget=w,j=x),w=j,m&&g)t:{for(x=m,y=g,v=0,b=x;b;b=pc(b))v++;for(b=0,j=y;j;j=pc(j))b++;for(;0<v-b;)x=pc(x),v--;for(;0<b-v;)y=pc(y),b--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=pc(x),y=pc(y)}x=null}else x=null;m!==null&&lE(f,h,m,x,!1),g!==null&&w!==null&&lE(f,w,g,x,!0)}}e:{if(h=u?Cc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var A=V8;else if(eE(h))if(eO)A=G8;else{A=H8;var S=z8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=W8);if(A&&(A=A(t,u))){ZT(f,A,r,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&ob(h,"number",h.value)}switch(S=u?Cc(u):window,t){case"focusin":(eE(S)||S.contentEditable==="true")&&(Sc=S,vb=u,Cf=null);break;case"focusout":Cf=vb=Sc=null;break;case"mousedown":bb=!0;break;case"contextmenu":case"mouseup":case"dragend":bb=!1,sE(f,r,d);break;case"selectionchange":if(Y8)break;case"keydown":case"keyup":sE(f,r,d)}var C;if(i2)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ec?JT(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(qT&&r.locale!=="ko"&&(Ec||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ec&&(C=YT()):($a=d,t2="value"in $a?$a.value:$a.textContent,Ec=!0)),S=e0(u,N),0<S.length&&(N=new qA(N,t,null,r,d),f.push({event:N,listeners:S}),C?N.data=C:(C=XT(r),C!==null&&(N.data=C)))),(C=_8?B8(t,r):F8(t,r))&&(u=e0(u,"onBeforeInput"),0<u.length&&(d=new qA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}uO(f,e)})}function Jf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function e0(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hf(t,r),s!=null&&n.unshift(Jf(t,s,i)),s=Hf(t,e),s!=null&&n.push(Jf(t,s,i))),t=t.return}return n}function pc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lE(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Hf(r,s),c!=null&&a.unshift(Jf(r,c,l))):i||(c=Hf(r,s),c!=null&&a.push(Jf(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Z8=/\r\n?/g,eF=/\u0000|\uFFFD/g;function cE(t){return(typeof t=="string"?t:""+t).replace(Z8,`
`).replace(eF,"")}function _m(t,e,r){if(e=cE(e),cE(t)!==e&&r)throw Error(Z(425))}function t0(){}var wb=null,jb=null;function Nb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ab=typeof setTimeout=="function"?setTimeout:void 0,tF=typeof clearTimeout=="function"?clearTimeout:void 0,uE=typeof Promise=="function"?Promise:void 0,rF=typeof queueMicrotask=="function"?queueMicrotask:typeof uE<"u"?function(t){return uE.resolve(null).then(t).catch(nF)}:Ab;function nF(t){setTimeout(function(){throw t})}function Dx(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Kf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Kf(e)}function Ka(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cd=Math.random().toString(36).slice(2),zi="__reactFiber$"+Cd,Xf="__reactProps$"+Cd,Fs="__reactContainer$"+Cd,Eb="__reactEvents$"+Cd,iF="__reactListeners$"+Cd,sF="__reactHandles$"+Cd;function Yo(t){var e=t[zi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fs]||r[zi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dE(t);t!==null;){if(r=t[zi])return r;t=dE(t)}return e}t=r,r=t.parentNode}return null}function qh(t){return t=t[zi]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Fg(t){return t[Xf]||null}var Sb=[],Pc=-1;function xo(t){return{current:t}}function tt(t){0>Pc||(t.current=Sb[Pc],Sb[Pc]=null,Pc--)}function qe(t,e){Pc++,Sb[Pc]=t.current,t.current=e}var io={},br=xo(io),Gr=xo(!1),$l=io;function Ju(t,e){var r=t.type.contextTypes;if(!r)return io;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function r0(){tt(Gr),tt(br)}function fE(t,e,r){if(br.current!==io)throw Error(Z(168));qe(br,e),qe(Gr,r)}function fO(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,zB(t)||"Unknown",i));return pt({},r,n)}function n0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,$l=br.current,qe(br,t),qe(Gr,Gr.current),!0}function hE(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=fO(t,e,$l),n.__reactInternalMemoizedMergedChildContext=t,tt(Gr),tt(br),qe(br,t)):tt(Gr),qe(Gr,r)}var ls=null,Ug=!1,Rx=!1;function hO(t){ls===null?ls=[t]:ls.push(t)}function aF(t){Ug=!0,hO(t)}function vo(){if(!Rx&&ls!==null){Rx=!0;var t=0,e=Ve;try{var r=ls;for(Ve=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ls=null,Ug=!1}catch(i){throw ls!==null&&(ls=ls.slice(t+1)),BT(J1,vo),i}finally{Ve=e,Rx=!1}}return null}var Tc=[],Oc=0,i0=null,s0=0,Vn=[],zn=0,Vl=null,As=1,Es="";function Do(t,e){Tc[Oc++]=s0,Tc[Oc++]=i0,i0=t,s0=e}function mO(t,e,r){Vn[zn++]=As,Vn[zn++]=Es,Vn[zn++]=Vl,Vl=t;var n=As;t=Es;var i=32-wi(n)-1;n&=~(1<<i),r+=1;var s=32-wi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,As=1<<32-wi(e)+i|r<<i|n,Es=s+t}else As=1<<s|r<<i|n,Es=t}function a2(t){t.return!==null&&(Do(t,1),mO(t,1,0))}function o2(t){for(;t===i0;)i0=Tc[--Oc],Tc[Oc]=null,s0=Tc[--Oc],Tc[Oc]=null;for(;t===Vl;)Vl=Vn[--zn],Vn[zn]=null,Es=Vn[--zn],Vn[zn]=null,As=Vn[--zn],Vn[zn]=null}var mn=null,hn=null,st=!1,hi=null;function pO(t,e){var r=Wn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,hn=Ka(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Vl!==null?{id:As,overflow:Es}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Wn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,mn=t,hn=null,!0):!1;default:return!1}}function kb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cb(t){if(st){var e=hn;if(e){var r=e;if(!mE(t,e)){if(kb(t))throw Error(Z(418));e=Ka(r.nextSibling);var n=mn;e&&mE(t,e)?pO(n,r):(t.flags=t.flags&-4097|2,st=!1,mn=t)}}else{if(kb(t))throw Error(Z(418));t.flags=t.flags&-4097|2,st=!1,mn=t}}}function pE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function Bm(t){if(t!==mn)return!1;if(!st)return pE(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nb(t.type,t.memoizedProps)),e&&(e=hn)){if(kb(t))throw gO(),Error(Z(418));for(;e;)pO(t,e),e=Ka(e.nextSibling)}if(pE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hn=Ka(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=mn?Ka(t.stateNode.nextSibling):null;return!0}function gO(){for(var t=hn;t;)t=Ka(t.nextSibling)}function Xu(){hn=mn=null,st=!1}function l2(t){hi===null?hi=[t]:hi.push(t)}var oF=Js.ReactCurrentBatchConfig;function Kd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Fm(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gE(t){var e=t._init;return e(t._payload)}function yO(t){function e(y,v){if(t){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Ja(y,v),y.index=0,y.sibling=null,y}function s(y,v,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,v,b,j){return v===null||v.tag!==6?(v=$x(b,y.mode,j),v.return=y,v):(v=i(v,b),v.return=y,v)}function c(y,v,b,j){var A=b.type;return A===Ac?d(y,v,b.props.children,j,b.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===pa&&gE(A)===v.type)?(j=i(v,b.props),j.ref=Kd(y,v,b),j.return=y,j):(j=Op(b.type,b.key,b.props,null,y.mode,j),j.ref=Kd(y,v,b),j.return=y,j)}function u(y,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Vx(b,y.mode,j),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function d(y,v,b,j,A){return v===null||v.tag!==7?(v=Tl(b,y.mode,j,A),v.return=y,v):(v=i(v,b),v.return=y,v)}function f(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$x(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cm:return b=Op(v.type,v.key,v.props,null,y.mode,b),b.ref=Kd(y,null,v),b.return=y,b;case Nc:return v=Vx(v,y.mode,b),v.return=y,v;case pa:var j=v._init;return f(y,j(v._payload),b)}if(hf(v)||Vd(v))return v=Tl(v,y.mode,b,null),v.return=y,v;Fm(y,v)}return null}function h(y,v,b,j){var A=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:l(y,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cm:return b.key===A?c(y,v,b,j):null;case Nc:return b.key===A?u(y,v,b,j):null;case pa:return A=b._init,h(y,v,A(b._payload),j)}if(hf(b)||Vd(b))return A!==null?null:d(y,v,b,j,null);Fm(y,b)}return null}function m(y,v,b,j,A){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(b)||null,l(v,y,""+j,A);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Cm:return y=y.get(j.key===null?b:j.key)||null,c(v,y,j,A);case Nc:return y=y.get(j.key===null?b:j.key)||null,u(v,y,j,A);case pa:var S=j._init;return m(y,v,b,S(j._payload),A)}if(hf(j)||Vd(j))return y=y.get(b)||null,d(v,y,j,A,null);Fm(v,j)}return null}function g(y,v,b,j){for(var A=null,S=null,C=v,N=v=0,P=null;C!==null&&N<b.length;N++){C.index>N?(P=C,C=null):P=C.sibling;var I=h(y,C,b[N],j);if(I===null){C===null&&(C=P);break}t&&C&&I.alternate===null&&e(y,C),v=s(I,v,N),S===null?A=I:S.sibling=I,S=I,C=P}if(N===b.length)return r(y,C),st&&Do(y,N),A;if(C===null){for(;N<b.length;N++)C=f(y,b[N],j),C!==null&&(v=s(C,v,N),S===null?A=C:S.sibling=C,S=C);return st&&Do(y,N),A}for(C=n(y,C);N<b.length;N++)P=m(C,y,N,b[N],j),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?N:P.key),v=s(P,v,N),S===null?A=P:S.sibling=P,S=P);return t&&C.forEach(function(D){return e(y,D)}),st&&Do(y,N),A}function x(y,v,b,j){var A=Vd(b);if(typeof A!="function")throw Error(Z(150));if(b=A.call(b),b==null)throw Error(Z(151));for(var S=A=null,C=v,N=v=0,P=null,I=b.next();C!==null&&!I.done;N++,I=b.next()){C.index>N?(P=C,C=null):P=C.sibling;var D=h(y,C,I.value,j);if(D===null){C===null&&(C=P);break}t&&C&&D.alternate===null&&e(y,C),v=s(D,v,N),S===null?A=D:S.sibling=D,S=D,C=P}if(I.done)return r(y,C),st&&Do(y,N),A;if(C===null){for(;!I.done;N++,I=b.next())I=f(y,I.value,j),I!==null&&(v=s(I,v,N),S===null?A=I:S.sibling=I,S=I);return st&&Do(y,N),A}for(C=n(y,C);!I.done;N++,I=b.next())I=m(C,y,N,I.value,j),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?N:I.key),v=s(I,v,N),S===null?A=I:S.sibling=I,S=I);return t&&C.forEach(function(B){return e(y,B)}),st&&Do(y,N),A}function w(y,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Ac&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Cm:e:{for(var A=b.key,S=v;S!==null;){if(S.key===A){if(A=b.type,A===Ac){if(S.tag===7){r(y,S.sibling),v=i(S,b.props.children),v.return=y,y=v;break e}}else if(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===pa&&gE(A)===S.type){r(y,S.sibling),v=i(S,b.props),v.ref=Kd(y,S,b),v.return=y,y=v;break e}r(y,S);break}else e(y,S);S=S.sibling}b.type===Ac?(v=Tl(b.props.children,y.mode,j,b.key),v.return=y,y=v):(j=Op(b.type,b.key,b.props,null,y.mode,j),j.ref=Kd(y,v,b),j.return=y,y=j)}return a(y);case Nc:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=Vx(b,y.mode,j),v.return=y,y=v}return a(y);case pa:return S=b._init,w(y,v,S(b._payload),j)}if(hf(b))return g(y,v,b,j);if(Vd(b))return x(y,v,b,j);Fm(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,b),v.return=y,y=v):(r(y,v),v=$x(b,y.mode,j),v.return=y,y=v),a(y)):r(y,v)}return w}var Zu=yO(!0),xO=yO(!1),a0=xo(null),o0=null,Ic=null,c2=null;function u2(){c2=Ic=o0=null}function d2(t){var e=a0.current;tt(a0),t._currentValue=e}function Pb(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zc(t,e){o0=t,c2=Ic=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(c2!==t)if(t={context:t,memoizedValue:e,next:null},Ic===null){if(o0===null)throw Error(Z(308));Ic=t,o0.dependencies={lanes:0,firstContext:t}}else Ic=Ic.next=t;return e}var qo=null;function f2(t){qo===null?qo=[t]:qo.push(t)}function vO(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,f2(e)):(r.next=i.next,i.next=r),e.interleaved=r,Us(t,n)}function Us(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ga=!1;function h2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Os(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Us(t,r)}return i=n.interleaved,i===null?(e.next=e,f2(n)):(e.next=i.next,i.next=e),n.interleaved=e,Us(t,r)}function Ep(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,X1(t,r)}}function yE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function l0(t,e,r,n){var i=t.updateQueue;ga=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(h=e,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=pt({},f,h);break e;case 2:ga=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hl|=a,t.lanes=a,t.memoizedState=f}}function xE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Jh={},Yi=xo(Jh),Zf=xo(Jh),eh=xo(Jh);function Jo(t){if(t===Jh)throw Error(Z(174));return t}function m2(t,e){switch(qe(eh,e),qe(Zf,t),qe(Yi,Jh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cb(e,t)}tt(Yi),qe(Yi,e)}function ed(){tt(Yi),tt(Zf),tt(eh)}function wO(t){Jo(eh.current);var e=Jo(Yi.current),r=cb(e,t.type);e!==r&&(qe(Zf,t),qe(Yi,r))}function p2(t){Zf.current===t&&(tt(Yi),tt(Zf))}var dt=xo(0);function c0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mx=[];function g2(){for(var t=0;t<Mx.length;t++)Mx[t]._workInProgressVersionPrimary=null;Mx.length=0}var Sp=Js.ReactCurrentDispatcher,Lx=Js.ReactCurrentBatchConfig,zl=0,mt=null,Lt=null,Kt=null,u0=!1,Pf=!1,th=0,lF=0;function cr(){throw Error(Z(321))}function y2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ni(t[r],e[r]))return!1;return!0}function x2(t,e,r,n,i,s){if(zl=s,mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sp.current=t===null||t.memoizedState===null?fF:hF,t=r(n,i),Pf){s=0;do{if(Pf=!1,th=0,25<=s)throw Error(Z(301));s+=1,Kt=Lt=null,e.updateQueue=null,Sp.current=mF,t=r(n,i)}while(Pf)}if(Sp.current=d0,e=Lt!==null&&Lt.next!==null,zl=0,Kt=Lt=mt=null,u0=!1,e)throw Error(Z(300));return t}function v2(){var t=th!==0;return th=0,t}function Oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?mt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Yn(){if(Lt===null){var t=mt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Kt===null?mt.memoizedState:Kt.next;if(e!==null)Kt=e,Lt=t;else{if(t===null)throw Error(Z(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Kt===null?mt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function rh(t,e){return typeof e=="function"?e(t):e}function _x(t){var e=Yn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Lt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((zl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,mt.lanes|=d,Hl|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,Ni(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,mt.lanes|=s,Hl|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Bx(t){var e=Yn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ni(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function jO(){}function NO(t,e){var r=mt,n=Yn(),i=e(),s=!Ni(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,b2(SO.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(r.flags|=2048,nh(9,EO.bind(null,r,n,i,e),void 0,null),Xt===null)throw Error(Z(349));zl&30||AO(r,e,i)}return i}function AO(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function EO(t,e,r,n){e.value=r,e.getSnapshot=n,kO(e)&&CO(t)}function SO(t,e,r){return r(function(){kO(e)&&CO(t)})}function kO(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ni(t,r)}catch{return!0}}function CO(t){var e=Us(t,1);e!==null&&ji(e,t,1,-1)}function vE(t){var e=Oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:t},e.queue=t,t=t.dispatch=dF.bind(null,mt,t),[e.memoizedState,t]}function nh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=mt.updateQueue,e===null?(e={lastEffect:null,stores:null},mt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function PO(){return Yn().memoizedState}function kp(t,e,r,n){var i=Oi();mt.flags|=t,i.memoizedState=nh(1|e,r,void 0,n===void 0?null:n)}function $g(t,e,r,n){var i=Yn();n=n===void 0?null:n;var s=void 0;if(Lt!==null){var a=Lt.memoizedState;if(s=a.destroy,n!==null&&y2(n,a.deps)){i.memoizedState=nh(e,r,s,n);return}}mt.flags|=t,i.memoizedState=nh(1|e,r,s,n)}function bE(t,e){return kp(8390656,8,t,e)}function b2(t,e){return $g(2048,8,t,e)}function TO(t,e){return $g(4,2,t,e)}function OO(t,e){return $g(4,4,t,e)}function IO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DO(t,e,r){return r=r!=null?r.concat([t]):null,$g(4,4,IO.bind(null,e,t),r)}function w2(){}function RO(t,e){var r=Yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MO(t,e){var r=Yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function LO(t,e,r){return zl&21?(Ni(r,e)||(r=$T(),mt.lanes|=r,Hl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function cF(t,e){var r=Ve;Ve=r!==0&&4>r?r:4,t(!0);var n=Lx.transition;Lx.transition={};try{t(!1),e()}finally{Ve=r,Lx.transition=n}}function _O(){return Yn().memoizedState}function uF(t,e,r){var n=qa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BO(t))FO(e,r);else if(r=vO(t,e,r,n),r!==null){var i=Rr();ji(r,t,n,i),UO(r,e,n)}}function dF(t,e,r){var n=qa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BO(t))FO(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Ni(l,a)){var c=e.interleaved;c===null?(i.next=i,f2(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=vO(t,e,i,n),r!==null&&(i=Rr(),ji(r,t,n,i),UO(r,e,n))}}function BO(t){var e=t.alternate;return t===mt||e!==null&&e===mt}function FO(t,e){Pf=u0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function UO(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,X1(t,r)}}var d0={readContext:Qn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},fF={readContext:Qn,useCallback:function(t,e){return Oi().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:bE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,kp(4194308,4,IO.bind(null,e,t),r)},useLayoutEffect:function(t,e){return kp(4194308,4,t,e)},useInsertionEffect:function(t,e){return kp(4,2,t,e)},useMemo:function(t,e){var r=Oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=uF.bind(null,mt,t),[n.memoizedState,t]},useRef:function(t){var e=Oi();return t={current:t},e.memoizedState=t},useState:vE,useDebugValue:w2,useDeferredValue:function(t){return Oi().memoizedState=t},useTransition:function(){var t=vE(!1),e=t[0];return t=cF.bind(null,t[1]),Oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=mt,i=Oi();if(st){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),Xt===null)throw Error(Z(349));zl&30||AO(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,bE(SO.bind(null,n,s,t),[t]),n.flags|=2048,nh(9,EO.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Oi(),e=Xt.identifierPrefix;if(st){var r=Es,n=As;r=(n&~(1<<32-wi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=th++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lF++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hF={readContext:Qn,useCallback:RO,useContext:Qn,useEffect:b2,useImperativeHandle:DO,useInsertionEffect:TO,useLayoutEffect:OO,useMemo:MO,useReducer:_x,useRef:PO,useState:function(){return _x(rh)},useDebugValue:w2,useDeferredValue:function(t){var e=Yn();return LO(e,Lt.memoizedState,t)},useTransition:function(){var t=_x(rh)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:jO,useSyncExternalStore:NO,useId:_O,unstable_isNewReconciler:!1},mF={readContext:Qn,useCallback:RO,useContext:Qn,useEffect:b2,useImperativeHandle:DO,useInsertionEffect:TO,useLayoutEffect:OO,useMemo:MO,useReducer:Bx,useRef:PO,useState:function(){return Bx(rh)},useDebugValue:w2,useDeferredValue:function(t){var e=Yn();return Lt===null?e.memoizedState=t:LO(e,Lt.memoizedState,t)},useTransition:function(){var t=Bx(rh)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:jO,useSyncExternalStore:NO,useId:_O,unstable_isNewReconciler:!1};function ii(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Tb(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vg={isMounted:function(t){return(t=t._reactInternals)?rc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=qa(t),s=Os(n,i);s.payload=e,r!=null&&(s.callback=r),e=Qa(t,s,i),e!==null&&(ji(e,t,i,n),Ep(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=qa(t),s=Os(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Qa(t,s,i),e!==null&&(ji(e,t,i,n),Ep(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Rr(),n=qa(t),i=Os(r,n);i.tag=2,e!=null&&(i.callback=e),e=Qa(t,i,n),e!==null&&(ji(e,t,n,r),Ep(e,t,n))}};function wE(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Yf(r,n)||!Yf(i,s):!0}function $O(t,e,r){var n=!1,i=io,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=Kr(e)?$l:br.current,n=e.contextTypes,s=(n=n!=null)?Ju(t,i):io),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vg,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vg.enqueueReplaceState(e,e.state,null)}function Ob(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},h2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=Kr(e)?$l:br.current,i.context=Ju(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tb(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vg.enqueueReplaceState(i,i.state,null),l0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function td(t,e){try{var r="",n=e;do r+=VB(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ib(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var pF=typeof WeakMap=="function"?WeakMap:Map;function VO(t,e,r){r=Os(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){h0||(h0=!0,Vb=n),Ib(t,e)},r}function zO(t,e,r){r=Os(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ib(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Ib(t,e),typeof n!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function NE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new pF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=PF.bind(null,t,e,r),e.then(t,t))}function AE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function EE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Os(-1,1),e.tag=2,Qa(r,e,1))),r.lanes|=1),t)}var gF=Js.ReactCurrentOwner,Hr=!1;function Er(t,e,r,n){e.child=t===null?xO(e,null,r,n):Zu(e,t.child,r,n)}function SE(t,e,r,n,i){r=r.render;var s=e.ref;return Zc(e,i),n=x2(t,e,r,n,s,i),r=v2(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$s(t,e,i)):(st&&r&&a2(e),e.flags|=1,Er(t,e,n,i),e.child)}function kE(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!P2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,HO(t,e,s,n,i)):(t=Op(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yf,r(a,n)&&t.ref===e.ref)return $s(t,e,i)}return e.flags|=1,t=Ja(s,n),t.ref=e.ref,t.return=e,e.child=t}function HO(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Yf(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,$s(t,e,i)}return Db(t,e,r,n,i)}function WO(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Rc,ln),ln|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Rc,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,qe(Rc,ln),ln|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,qe(Rc,ln),ln|=n;return Er(t,e,i,r),e.child}function GO(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Db(t,e,r,n,i){var s=Kr(r)?$l:br.current;return s=Ju(e,s),Zc(e,i),r=x2(t,e,r,n,s,i),n=v2(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$s(t,e,i)):(st&&n&&a2(e),e.flags|=1,Er(t,e,r,i),e.child)}function CE(t,e,r,n,i){if(Kr(r)){var s=!0;n0(e)}else s=!1;if(Zc(e,i),e.stateNode===null)Cp(t,e),$O(e,r,n),Ob(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=Kr(r)?$l:br.current,u=Ju(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jE(e,a,n,u),ga=!1;var h=e.memoizedState;a.state=h,l0(e,n,a,i),c=e.memoizedState,l!==n||h!==c||Gr.current||ga?(typeof d=="function"&&(Tb(e,r,d,n),c=e.memoizedState),(l=ga||wE(e,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,bO(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ii(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Qn(c):(c=Kr(r)?$l:br.current,c=Ju(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&jE(e,a,n,c),ga=!1,h=e.memoizedState,a.state=h,l0(e,n,a,i);var g=e.memoizedState;l!==f||h!==g||Gr.current||ga?(typeof m=="function"&&(Tb(e,r,m,n),g=e.memoizedState),(u=ga||wE(e,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Rb(t,e,r,n,s,i)}function Rb(t,e,r,n,i,s){GO(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&hE(e,r,!1),$s(t,e,s);n=e.stateNode,gF.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zu(e,t.child,null,s),e.child=Zu(e,null,l,s)):Er(t,e,l,s),e.memoizedState=n.state,i&&hE(e,r,!0),e.child}function KO(t){var e=t.stateNode;e.pendingContext?fE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fE(t,e.context,!1),m2(t,e.containerInfo)}function PE(t,e,r,n,i){return Xu(),l2(i),e.flags|=256,Er(t,e,r,n),e.child}var Mb={dehydrated:null,treeContext:null,retryLane:0};function Lb(t){return{baseLanes:t,cachePool:null,transitions:null}}function QO(t,e,r){var n=e.pendingProps,i=dt.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(dt,i&1),t===null)return Cb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Wg(a,n,0,null),t=Tl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Lb(r),e.memoizedState=Mb,t):j2(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return yF(t,e,a,n,l,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ja(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ja(l,s):(s=Tl(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Lb(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Mb,n}return s=t.child,t=s.sibling,n=Ja(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function j2(t,e){return e=Wg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Um(t,e,r,n){return n!==null&&l2(n),Zu(e,t.child,null,r),t=j2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yF(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Fx(Error(Z(422))),Um(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Wg({mode:"visible",children:n.children},i,0,null),s=Tl(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Zu(e,t.child,null,a),e.child.memoizedState=Lb(a),e.memoizedState=Mb,s);if(!(e.mode&1))return Um(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Z(419)),n=Fx(s,n,void 0),Um(t,e,a,n)}if(l=(a&t.childLanes)!==0,Hr||l){if(n=Xt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Us(t,i),ji(n,t,i,-1))}return C2(),n=Fx(Error(Z(421))),Um(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=TF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=Ka(i.nextSibling),mn=e,st=!0,hi=null,t!==null&&(Vn[zn++]=As,Vn[zn++]=Es,Vn[zn++]=Vl,As=t.id,Es=t.overflow,Vl=e),e=j2(e,n.children),e.flags|=4096,e)}function TE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pb(t.return,e,r)}function Ux(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function YO(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Er(t,e,n.children,r),n=dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TE(t,r,e);else if(t.tag===19)TE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(qe(dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&c0(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ux(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&c0(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ux(e,!0,r,null,s);break;case"together":Ux(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $s(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=Ja(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ja(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function xF(t,e,r){switch(e.tag){case 3:KO(e),Xu();break;case 5:wO(e);break;case 1:Kr(e.type)&&n0(e);break;case 4:m2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;qe(a0,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(qe(dt,dt.current&1),e.flags|=128,null):r&e.child.childLanes?QO(t,e,r):(qe(dt,dt.current&1),t=$s(t,e,r),t!==null?t.sibling:null);qe(dt,dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return YO(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(dt,dt.current),n)break;return null;case 22:case 23:return e.lanes=0,WO(t,e,r)}return $s(t,e,r)}var qO,_b,JO,XO;qO=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_b=function(){};JO=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Jo(Yi.current);var s=null;switch(r){case"input":i=sb(t,i),n=sb(t,n),s=[];break;case"select":i=pt({},i,{value:void 0}),n=pt({},n,{value:void 0}),s=[];break;case"textarea":i=lb(t,i),n=lb(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=t0)}ub(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vf.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ze("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};XO=function(t,e,r,n){r!==n&&(e.flags|=4)};function Qd(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ur(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vF(t,e,r){var n=e.pendingProps;switch(o2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(e),null;case 1:return Kr(e.type)&&r0(),ur(e),null;case 3:return n=e.stateNode,ed(),tt(Gr),tt(br),g2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hi!==null&&(Wb(hi),hi=null))),_b(t,e),ur(e),null;case 5:p2(e);var i=Jo(eh.current);if(r=e.type,t!==null&&e.stateNode!=null)JO(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return ur(e),null}if(t=Jo(Yi.current),Bm(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zi]=e,n[Xf]=s,t=(e.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(i=0;i<pf.length;i++)Ze(pf[i],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":FA(n,s),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",n);break;case"textarea":$A(n,s),Ze("invalid",n)}ub(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&_m(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_m(n.textContent,l,t),i=["children",""+l]):Vf.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ze("scroll",n)}switch(r){case"input":Pm(n),UA(n,s,!0);break;case"textarea":Pm(n),VA(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=t0)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ST(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[zi]=e,t[Xf]=n,qO(t,e,!1,!1),e.stateNode=t;e:{switch(a=db(r,n),r){case"dialog":Ze("cancel",t),Ze("close",t),i=n;break;case"iframe":case"object":case"embed":Ze("load",t),i=n;break;case"video":case"audio":for(i=0;i<pf.length;i++)Ze(pf[i],t);i=n;break;case"source":Ze("error",t),i=n;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=n;break;case"details":Ze("toggle",t),i=n;break;case"input":FA(t,n),i=sb(t,n),Ze("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pt({},n,{value:void 0}),Ze("invalid",t);break;case"textarea":$A(t,n),i=lb(t,n),Ze("invalid",t);break;default:i=n}ub(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?PT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kT(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zf(t,c):typeof c=="number"&&zf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ze("scroll",t):c!=null&&G1(t,s,c,a))}switch(r){case"input":Pm(t),UA(t,n,!1);break;case"textarea":Pm(t),VA(t);break;case"option":n.value!=null&&t.setAttribute("value",""+no(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Yc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Yc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=t0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ur(e),null;case 6:if(t&&e.stateNode!=null)XO(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Jo(eh.current),Jo(Yi.current),Bm(e)){if(n=e.stateNode,r=e.memoizedProps,n[zi]=e,(s=n.nodeValue!==r)&&(t=mn,t!==null))switch(t.tag){case 3:_m(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_m(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zi]=e,e.stateNode=n}return ur(e),null;case 13:if(tt(dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&hn!==null&&e.mode&1&&!(e.flags&128))gO(),Xu(),e.flags|=98560,s=!1;else if(s=Bm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[zi]=e}else Xu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ur(e),s=!1}else hi!==null&&(Wb(hi),hi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?_t===0&&(_t=3):C2())),e.updateQueue!==null&&(e.flags|=4),ur(e),null);case 4:return ed(),_b(t,e),t===null&&qf(e.stateNode.containerInfo),ur(e),null;case 10:return d2(e.type._context),ur(e),null;case 17:return Kr(e.type)&&r0(),ur(e),null;case 19:if(tt(dt),s=e.memoizedState,s===null)return ur(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Qd(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=c0(t),a!==null){for(e.flags|=128,Qd(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return qe(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nt()>rd&&(e.flags|=128,n=!0,Qd(s,!1),e.lanes=4194304)}else{if(!n)if(t=c0(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Qd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!st)return ur(e),null}else 2*Nt()-s.renderingStartTime>rd&&r!==1073741824&&(e.flags|=128,n=!0,Qd(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nt(),e.sibling=null,r=dt.current,qe(dt,n?r&1|2:r&1),e):(ur(e),null);case 22:case 23:return k2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ln&1073741824&&(ur(e),e.subtreeFlags&6&&(e.flags|=8192)):ur(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function bF(t,e){switch(o2(e),e.tag){case 1:return Kr(e.type)&&r0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ed(),tt(Gr),tt(br),g2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p2(e),null;case 13:if(tt(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));Xu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(dt),null;case 4:return ed(),null;case 10:return d2(e.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var $m=!1,gr=!1,wF=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Dc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function Bb(t,e,r){try{r()}catch(n){xt(t,e,n)}}var OE=!1;function jF(t,e){if(wb=Xp,t=nO(),s2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(jb={focusedElem:t,selectionRange:r},Xp=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:ii(e.type,x),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(j){xt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return g=OE,OE=!1,g}function Tf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Bb(e,r,s)}i=i.next}while(i!==n)}}function zg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Fb(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ZO(t){var e=t.alternate;e!==null&&(t.alternate=null,ZO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zi],delete e[Xf],delete e[Eb],delete e[iF],delete e[sF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e3(t){return t.tag===5||t.tag===3||t.tag===4}function IE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ub(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=t0));else if(n!==4&&(t=t.child,t!==null))for(Ub(t,e,r),t=t.sibling;t!==null;)Ub(t,e,r),t=t.sibling}function $b(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for($b(t,e,r),t=t.sibling;t!==null;)$b(t,e,r),t=t.sibling}var rr=null,fi=!1;function sa(t,e,r){for(r=r.child;r!==null;)t3(t,e,r),r=r.sibling}function t3(t,e,r){if(Qi&&typeof Qi.onCommitFiberUnmount=="function")try{Qi.onCommitFiberUnmount(Mg,r)}catch{}switch(r.tag){case 5:gr||Dc(r,e);case 6:var n=rr,i=fi;rr=null,sa(t,e,r),rr=n,fi=i,rr!==null&&(fi?(t=rr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(fi?(t=rr,r=r.stateNode,t.nodeType===8?Dx(t.parentNode,r):t.nodeType===1&&Dx(t,r),Kf(t)):Dx(rr,r.stateNode));break;case 4:n=rr,i=fi,rr=r.stateNode.containerInfo,fi=!0,sa(t,e,r),rr=n,fi=i;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Bb(r,e,a),i=i.next}while(i!==n)}sa(t,e,r);break;case 1:if(!gr&&(Dc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xt(r,e,l)}sa(t,e,r);break;case 21:sa(t,e,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,sa(t,e,r),gr=n):sa(t,e,r);break;default:sa(t,e,r)}}function DE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wF),e.forEach(function(n){var i=OF.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ti(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:rr=l.stateNode,fi=!1;break e;case 3:rr=l.stateNode.containerInfo,fi=!0;break e;case 4:rr=l.stateNode.containerInfo,fi=!0;break e}l=l.return}if(rr===null)throw Error(Z(160));t3(s,a,i),rr=null,fi=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r3(e,t),e=e.sibling}function r3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),Pi(t),n&4){try{Tf(3,t,t.return),zg(3,t)}catch(x){xt(t,t.return,x)}try{Tf(5,t,t.return)}catch(x){xt(t,t.return,x)}}break;case 1:ti(e,t),Pi(t),n&512&&r!==null&&Dc(r,r.return);break;case 5:if(ti(e,t),Pi(t),n&512&&r!==null&&Dc(r,r.return),t.flags&32){var i=t.stateNode;try{zf(i,"")}catch(x){xt(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&AT(i,s),db(l,a);var u=db(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?PT(i,f):d==="dangerouslySetInnerHTML"?kT(i,f):d==="children"?zf(i,f):G1(i,d,f,u)}switch(l){case"input":ab(i,s);break;case"textarea":ET(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Yc(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Yc(i,!!s.multiple,s.defaultValue,!0):Yc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Xf]=s}catch(x){xt(t,t.return,x)}}break;case 6:if(ti(e,t),Pi(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){xt(t,t.return,x)}}break;case 3:if(ti(e,t),Pi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kf(e.containerInfo)}catch(x){xt(t,t.return,x)}break;case 4:ti(e,t),Pi(t);break;case 13:ti(e,t),Pi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E2=Nt())),n&4&&DE(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(gr=(u=gr)||d,ti(e,t),gr=u):ti(e,t),Pi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:Tf(4,h,h.return);break;case 1:Dc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){xt(n,r,x)}}break;case 5:Dc(h,h.return);break;case 22:if(h.memoizedState!==null){ME(f);continue}}m!==null?(m.return=h,ae=m):ME(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CT("display",a))}catch(x){xt(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){xt(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ti(e,t),Pi(t),n&4&&DE(t);break;case 21:break;default:ti(e,t),Pi(t)}}function Pi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(e3(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zf(i,""),n.flags&=-33);var s=IE(t);$b(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=IE(t);Ub(t,l,a);break;default:throw Error(Z(161))}}catch(c){xt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NF(t,e,r){ae=t,n3(t)}function n3(t,e,r){for(var n=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||$m;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||gr;l=$m;var u=gr;if($m=a,(gr=c)&&!u)for(ae=i;ae!==null;)a=ae,c=a.child,a.tag===22&&a.memoizedState!==null?LE(i):c!==null?(c.return=a,ae=c):LE(i);for(;s!==null;)ae=s,n3(s),s=s.sibling;ae=i,$m=l,gr=u}RE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):RE(t)}}function RE(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||zg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ii(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xE(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xE(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Kf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}gr||e.flags&512&&Fb(e)}catch(h){xt(e,e.return,h)}}if(e===t){ae=null;break}if(r=e.sibling,r!==null){r.return=e.return,ae=r;break}ae=e.return}}function ME(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ae=r;break}ae=e.return}}function LE(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zg(4,e)}catch(c){xt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){xt(e,i,c)}}var s=e.return;try{Fb(e)}catch(c){xt(e,s,c)}break;case 5:var a=e.return;try{Fb(e)}catch(c){xt(e,a,c)}}}catch(c){xt(e,e.return,c)}if(e===t){ae=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ae=l;break}ae=e.return}}var AF=Math.ceil,f0=Js.ReactCurrentDispatcher,N2=Js.ReactCurrentOwner,Kn=Js.ReactCurrentBatchConfig,Oe=0,Xt=null,Ot=null,ar=0,ln=0,Rc=xo(0),_t=0,ih=null,Hl=0,Hg=0,A2=0,Of=null,Vr=null,E2=0,rd=1/0,ss=null,h0=!1,Vb=null,Ya=null,Vm=!1,Va=null,m0=0,If=0,zb=null,Pp=-1,Tp=0;function Rr(){return Oe&6?Nt():Pp!==-1?Pp:Pp=Nt()}function qa(t){return t.mode&1?Oe&2&&ar!==0?ar&-ar:oF.transition!==null?(Tp===0&&(Tp=$T()),Tp):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:QT(t.type)),t):1}function ji(t,e,r,n){if(50<If)throw If=0,zb=null,Error(Z(185));Qh(t,r,n),(!(Oe&2)||t!==Xt)&&(t===Xt&&(!(Oe&2)&&(Hg|=r),_t===4&&wa(t,ar)),Qr(t,n),r===1&&Oe===0&&!(e.mode&1)&&(rd=Nt()+500,Ug&&vo()))}function Qr(t,e){var r=t.callbackNode;o8(t,e);var n=Jp(t,t===Xt?ar:0);if(n===0)r!==null&&WA(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&WA(r),e===1)t.tag===0?aF(_E.bind(null,t)):hO(_E.bind(null,t)),rF(function(){!(Oe&6)&&vo()}),r=null;else{switch(VT(n)){case 1:r=J1;break;case 4:r=FT;break;case 16:r=qp;break;case 536870912:r=UT;break;default:r=qp}r=d3(r,i3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function i3(t,e){if(Pp=-1,Tp=0,Oe&6)throw Error(Z(327));var r=t.callbackNode;if(eu()&&t.callbackNode!==r)return null;var n=Jp(t,t===Xt?ar:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=p0(t,n);else{e=n;var i=Oe;Oe|=2;var s=a3();(Xt!==t||ar!==e)&&(ss=null,rd=Nt()+500,Pl(t,e));do try{kF();break}catch(l){s3(t,l)}while(!0);u2(),f0.current=s,Oe=i,Ot!==null?e=0:(Xt=null,ar=0,e=_t)}if(e!==0){if(e===2&&(i=gb(t),i!==0&&(n=i,e=Hb(t,i))),e===1)throw r=ih,Pl(t,0),wa(t,n),Qr(t,Nt()),r;if(e===6)wa(t,n);else{if(i=t.current.alternate,!(n&30)&&!EF(i)&&(e=p0(t,n),e===2&&(s=gb(t),s!==0&&(n=s,e=Hb(t,s))),e===1))throw r=ih,Pl(t,0),wa(t,n),Qr(t,Nt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:Ro(t,Vr,ss);break;case 3:if(wa(t,n),(n&130023424)===n&&(e=E2+500-Nt(),10<e)){if(Jp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ab(Ro.bind(null,t,Vr,ss),e);break}Ro(t,Vr,ss);break;case 4:if(wa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-wi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*AF(n/1960))-n,10<n){t.timeoutHandle=Ab(Ro.bind(null,t,Vr,ss),n);break}Ro(t,Vr,ss);break;case 5:Ro(t,Vr,ss);break;default:throw Error(Z(329))}}}return Qr(t,Nt()),t.callbackNode===r?i3.bind(null,t):null}function Hb(t,e){var r=Of;return t.current.memoizedState.isDehydrated&&(Pl(t,e).flags|=256),t=p0(t,e),t!==2&&(e=Vr,Vr=r,e!==null&&Wb(e)),t}function Wb(t){Vr===null?Vr=t:Vr.push.apply(Vr,t)}function EF(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ni(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wa(t,e){for(e&=~A2,e&=~Hg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wi(e),n=1<<r;t[r]=-1,e&=~n}}function _E(t){if(Oe&6)throw Error(Z(327));eu();var e=Jp(t,0);if(!(e&1))return Qr(t,Nt()),null;var r=p0(t,e);if(t.tag!==0&&r===2){var n=gb(t);n!==0&&(e=n,r=Hb(t,n))}if(r===1)throw r=ih,Pl(t,0),wa(t,e),Qr(t,Nt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ro(t,Vr,ss),Qr(t,Nt()),null}function S2(t,e){var r=Oe;Oe|=1;try{return t(e)}finally{Oe=r,Oe===0&&(rd=Nt()+500,Ug&&vo())}}function Wl(t){Va!==null&&Va.tag===0&&!(Oe&6)&&eu();var e=Oe;Oe|=1;var r=Kn.transition,n=Ve;try{if(Kn.transition=null,Ve=1,t)return t()}finally{Ve=n,Kn.transition=r,Oe=e,!(Oe&6)&&vo()}}function k2(){ln=Rc.current,tt(Rc)}function Pl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tF(r)),Ot!==null)for(r=Ot.return;r!==null;){var n=r;switch(o2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&r0();break;case 3:ed(),tt(Gr),tt(br),g2();break;case 5:p2(n);break;case 4:ed();break;case 13:tt(dt);break;case 19:tt(dt);break;case 10:d2(n.type._context);break;case 22:case 23:k2()}r=r.return}if(Xt=t,Ot=t=Ja(t.current,null),ar=ln=e,_t=0,ih=null,A2=Hg=Hl=0,Vr=Of=null,qo!==null){for(e=0;e<qo.length;e++)if(r=qo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}qo=null}return t}function s3(t,e){do{var r=Ot;try{if(u2(),Sp.current=d0,u0){for(var n=mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}u0=!1}if(zl=0,Kt=Lt=mt=null,Pf=!1,th=0,N2.current=null,r===null||r.return===null){_t=1,ih=e,Ot=null;break}e:{var s=t,a=r.return,l=r,c=e;if(e=ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AE(a);if(m!==null){m.flags&=-257,EE(m,a,l,s,e),m.mode&1&&NE(s,u,e),e=m,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){NE(s,u,e),C2();break e}c=Error(Z(426))}}else if(st&&l.mode&1){var w=AE(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),EE(w,a,l,s,e),l2(td(c,l));break e}}s=c=td(c,l),_t!==4&&(_t=2),Of===null?Of=[s]:Of.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=VO(s,c,e);yE(s,y);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ya===null||!Ya.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=zO(s,l,e);yE(s,j);break e}}s=s.return}while(s!==null)}l3(r)}catch(A){e=A,Ot===r&&r!==null&&(Ot=r=r.return);continue}break}while(!0)}function a3(){var t=f0.current;return f0.current=d0,t===null?d0:t}function C2(){(_t===0||_t===3||_t===2)&&(_t=4),Xt===null||!(Hl&268435455)&&!(Hg&268435455)||wa(Xt,ar)}function p0(t,e){var r=Oe;Oe|=2;var n=a3();(Xt!==t||ar!==e)&&(ss=null,Pl(t,e));do try{SF();break}catch(i){s3(t,i)}while(!0);if(u2(),Oe=r,f0.current=n,Ot!==null)throw Error(Z(261));return Xt=null,ar=0,_t}function SF(){for(;Ot!==null;)o3(Ot)}function kF(){for(;Ot!==null&&!XB();)o3(Ot)}function o3(t){var e=u3(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?l3(t):Ot=e,N2.current=null}function l3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=bF(r,e),r!==null){r.flags&=32767,Ot=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,Ot=null;return}}else if(r=vF(r,e,ln),r!==null){Ot=r;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);_t===0&&(_t=5)}function Ro(t,e,r){var n=Ve,i=Kn.transition;try{Kn.transition=null,Ve=1,CF(t,e,r,n)}finally{Kn.transition=i,Ve=n}return null}function CF(t,e,r,n){do eu();while(Va!==null);if(Oe&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(l8(t,s),t===Xt&&(Ot=Xt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vm||(Vm=!0,d3(qp,function(){return eu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var a=Ve;Ve=1;var l=Oe;Oe|=4,N2.current=null,jF(t,r),r3(r,t),Q8(jb),Xp=!!wb,jb=wb=null,t.current=r,NF(r),ZB(),Oe=l,Ve=a,Kn.transition=s}else t.current=r;if(Vm&&(Vm=!1,Va=t,m0=i),s=t.pendingLanes,s===0&&(Ya=null),r8(r.stateNode),Qr(t,Nt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(h0)throw h0=!1,t=Vb,Vb=null,t;return m0&1&&t.tag!==0&&eu(),s=t.pendingLanes,s&1?t===zb?If++:(If=0,zb=t):If=0,vo(),null}function eu(){if(Va!==null){var t=VT(m0),e=Kn.transition,r=Ve;try{if(Kn.transition=null,Ve=16>t?16:t,Va===null)var n=!1;else{if(t=Va,Va=null,m0=0,Oe&6)throw Error(Z(331));var i=Oe;for(Oe|=4,ae=t.current;ae!==null;){var s=ae,a=s.child;if(ae.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Tf(8,d,s)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(ZO(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ae=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ae=a;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tf(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ae=y;break e}ae=s.return}}var v=t.current;for(ae=v;ae!==null;){a=ae;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ae=b;else e:for(a=v;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zg(9,l)}}catch(A){xt(l,l.return,A)}if(l===a){ae=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ae=j;break e}ae=l.return}}if(Oe=i,vo(),Qi&&typeof Qi.onPostCommitFiberRoot=="function")try{Qi.onPostCommitFiberRoot(Mg,t)}catch{}n=!0}return n}finally{Ve=r,Kn.transition=e}}return!1}function BE(t,e,r){e=td(r,e),e=VO(t,e,1),t=Qa(t,e,1),e=Rr(),t!==null&&(Qh(t,1,e),Qr(t,e))}function xt(t,e,r){if(t.tag===3)BE(t,t,r);else for(;e!==null;){if(e.tag===3){BE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ya===null||!Ya.has(n))){t=td(r,t),t=zO(e,t,1),e=Qa(e,t,1),t=Rr(),e!==null&&(Qh(e,1,t),Qr(e,t));break}}e=e.return}}function PF(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&r,Xt===t&&(ar&r)===r&&(_t===4||_t===3&&(ar&130023424)===ar&&500>Nt()-E2?Pl(t,0):A2|=r),Qr(t,e)}function c3(t,e){e===0&&(t.mode&1?(e=Im,Im<<=1,!(Im&130023424)&&(Im=4194304)):e=1);var r=Rr();t=Us(t,e),t!==null&&(Qh(t,e,r),Qr(t,r))}function TF(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),c3(t,r)}function OF(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),c3(t,r)}var u3;u3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,xF(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,st&&e.flags&1048576&&mO(e,s0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Cp(t,e),t=e.pendingProps;var i=Ju(e,br.current);Zc(e,r),i=x2(null,e,n,t,i,r);var s=v2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(n)?(s=!0,n0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h2(e),i.updater=Vg,e.stateNode=i,i._reactInternals=e,Ob(e,n,t,r),e=Rb(null,e,n,!0,s,r)):(e.tag=0,st&&s&&a2(e),Er(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Cp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=DF(n),t=ii(n,t),i){case 0:e=Db(null,e,n,t,r);break e;case 1:e=CE(null,e,n,t,r);break e;case 11:e=SE(null,e,n,t,r);break e;case 14:e=kE(null,e,n,ii(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ii(n,i),Db(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ii(n,i),CE(t,e,n,i,r);case 3:e:{if(KO(e),t===null)throw Error(Z(387));n=e.pendingProps,s=e.memoizedState,i=s.element,bO(t,e),l0(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=td(Error(Z(423)),e),e=PE(t,e,n,r,i);break e}else if(n!==i){i=td(Error(Z(424)),e),e=PE(t,e,n,r,i);break e}else for(hn=Ka(e.stateNode.containerInfo.firstChild),mn=e,st=!0,hi=null,r=xO(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xu(),n===i){e=$s(t,e,r);break e}Er(t,e,n,r)}e=e.child}return e;case 5:return wO(e),t===null&&Cb(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Nb(n,i)?a=null:s!==null&&Nb(n,s)&&(e.flags|=32),GO(t,e),Er(t,e,a,r),e.child;case 6:return t===null&&Cb(e),null;case 13:return QO(t,e,r);case 4:return m2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zu(e,null,n,r):Er(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ii(n,i),SE(t,e,n,i,r);case 7:return Er(t,e,e.pendingProps,r),e.child;case 8:return Er(t,e,e.pendingProps.children,r),e.child;case 12:return Er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,qe(a0,n._currentValue),n._currentValue=a,s!==null)if(Ni(s.value,a)){if(s.children===i.children&&!Gr.current){e=$s(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Os(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Pb(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Pb(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Er(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Zc(e,r),i=Qn(i),n=n(i),e.flags|=1,Er(t,e,n,r),e.child;case 14:return n=e.type,i=ii(n,e.pendingProps),i=ii(n.type,i),kE(t,e,n,i,r);case 15:return HO(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ii(n,i),Cp(t,e),e.tag=1,Kr(n)?(t=!0,n0(e)):t=!1,Zc(e,r),$O(e,n,i),Ob(e,n,i,r),Rb(null,e,n,!0,t,r);case 19:return YO(t,e,r);case 22:return WO(t,e,r)}throw Error(Z(156,e.tag))};function d3(t,e){return BT(t,e)}function IF(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(t,e,r,n){return new IF(t,e,r,n)}function P2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DF(t){if(typeof t=="function")return P2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q1)return 11;if(t===Y1)return 14}return 2}function Ja(t,e){var r=t.alternate;return r===null?(r=Wn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Op(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")P2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ac:return Tl(r.children,i,s,e);case K1:a=8,i|=8;break;case tb:return t=Wn(12,r,e,i|2),t.elementType=tb,t.lanes=s,t;case rb:return t=Wn(13,r,e,i),t.elementType=rb,t.lanes=s,t;case nb:return t=Wn(19,r,e,i),t.elementType=nb,t.lanes=s,t;case wT:return Wg(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vT:a=10;break e;case bT:a=9;break e;case Q1:a=11;break e;case Y1:a=14;break e;case pa:a=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Wn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Tl(t,e,r,n){return t=Wn(7,t,n,e),t.lanes=r,t}function Wg(t,e,r,n){return t=Wn(22,t,n,e),t.elementType=wT,t.lanes=r,t.stateNode={isHidden:!1},t}function $x(t,e,r){return t=Wn(6,t,null,e),t.lanes=r,t}function Vx(t,e,r){return e=Wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RF(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jx(0),this.expirationTimes=jx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T2(t,e,r,n,i,s,a,l,c){return t=new RF(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},h2(s),t}function MF(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function f3(t){if(!t)return io;t=t._reactInternals;e:{if(rc(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(Kr(r))return fO(t,r,e)}return e}function h3(t,e,r,n,i,s,a,l,c){return t=T2(r,n,!0,t,i,s,a,l,c),t.context=f3(null),r=t.current,n=Rr(),i=qa(r),s=Os(n,i),s.callback=e??null,Qa(r,s,i),t.current.lanes=i,Qh(t,i,n),Qr(t,n),t}function Gg(t,e,r,n){var i=e.current,s=Rr(),a=qa(i);return r=f3(r),e.context===null?e.context=r:e.pendingContext=r,e=Os(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Qa(i,e,a),t!==null&&(ji(t,i,a,s),Ep(t,i,a)),a}function g0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O2(t,e){FE(t,e),(t=t.alternate)&&FE(t,e)}function LF(){return null}var m3=typeof reportError=="function"?reportError:function(t){console.error(t)};function I2(t){this._internalRoot=t}Kg.prototype.render=I2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Gg(t,e,null,null)};Kg.prototype.unmount=I2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wl(function(){Gg(null,t,null,null)}),e[Fs]=null}};function Kg(t){this._internalRoot=t}Kg.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ba.length&&e!==0&&e<ba[r].priority;r++);ba.splice(r,0,t),r===0&&KT(t)}};function D2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UE(){}function _F(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=g0(a);s.call(u)}}var a=h3(e,n,t,0,null,!1,!1,"",UE);return t._reactRootContainer=a,t[Fs]=a.current,qf(t.nodeType===8?t.parentNode:t),Wl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=g0(c);l.call(u)}}var c=T2(t,0,!1,null,null,!1,!1,"",UE);return t._reactRootContainer=c,t[Fs]=c.current,qf(t.nodeType===8?t.parentNode:t),Wl(function(){Gg(e,c,r,n)}),c}function Yg(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=g0(a);l.call(c)}}Gg(e,a,t,i)}else a=_F(r,e,t,i,n);return g0(a)}zT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=mf(e.pendingLanes);r!==0&&(X1(e,r|1),Qr(e,Nt()),!(Oe&6)&&(rd=Nt()+500,vo()))}break;case 13:Wl(function(){var n=Us(t,1);if(n!==null){var i=Rr();ji(n,t,1,i)}}),O2(t,1)}};Z1=function(t){if(t.tag===13){var e=Us(t,134217728);if(e!==null){var r=Rr();ji(e,t,134217728,r)}O2(t,134217728)}};HT=function(t){if(t.tag===13){var e=qa(t),r=Us(t,e);if(r!==null){var n=Rr();ji(r,t,e,n)}O2(t,e)}};WT=function(){return Ve};GT=function(t,e){var r=Ve;try{return Ve=t,e()}finally{Ve=r}};hb=function(t,e,r){switch(e){case"input":if(ab(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Fg(n);if(!i)throw Error(Z(90));NT(n),ab(n,i)}}}break;case"textarea":ET(t,r);break;case"select":e=r.value,e!=null&&Yc(t,!!r.multiple,e,!1)}};IT=S2;DT=Wl;var BF={usingClientEntryPoint:!1,Events:[qh,Cc,Fg,TT,OT,S2]},Yd={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FF={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LT(t),t===null?null:t.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||LF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zm.isDisabled&&zm.supportsFiber)try{Mg=zm.inject(FF),Qi=zm}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BF;An.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D2(e))throw Error(Z(200));return MF(t,e,null,r)};An.createRoot=function(t,e){if(!D2(t))throw Error(Z(299));var r=!1,n="",i=m3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T2(t,1,!1,null,null,r,!1,n,i),t[Fs]=e.current,qf(t.nodeType===8?t.parentNode:t),new I2(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=LT(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Wl(t)};An.hydrate=function(t,e,r){if(!Qg(e))throw Error(Z(200));return Yg(null,t,e,!0,r)};An.hydrateRoot=function(t,e,r){if(!D2(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=m3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=h3(e,null,t,1,r??null,i,!1,s,a),t[Fs]=e.current,qf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Kg(e)};An.render=function(t,e,r){if(!Qg(e))throw Error(Z(200));return Yg(null,t,e,!1,r)};An.unmountComponentAtNode=function(t){if(!Qg(t))throw Error(Z(40));return t._reactRootContainer?(Wl(function(){Yg(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1};An.unstable_batchedUpdates=S2;An.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qg(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Yg(t,e,r,!1,n)};An.version="18.3.1-next-f1338f8080-20240426";function p3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p3)}catch(t){console.error(t)}}p3(),pT.exports=An;var g3=pT.exports,y3,$E=g3;y3=$E.createRoot,$E.hydrateRoot;const x3=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),qg=p.createContext({}),Jg=p.createContext(null),Xg=typeof document<"u",R2=Xg?p.useLayoutEffect:p.useEffect,v3=p.createContext({strict:!1}),M2=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),UF="framerAppearId",b3="data-"+M2(UF);function $F(t,e,r,n){const{visualElement:i}=p.useContext(qg),s=p.useContext(v3),a=p.useContext(Jg),l=p.useContext(x3).reducedMotion,c=p.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(r,a)});const d=p.useRef(!!(r[b3]&&!window.HandoffComplete));return R2(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Mc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function VF(t,e,r){return p.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Mc(r)&&(r.current=n))},[e])}function sh(t){return typeof t=="string"||Array.isArray(t)}function Zg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const L2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_2=["initial",...L2];function ey(t){return Zg(t.animate)||_2.some(e=>sh(t[e]))}function w3(t){return!!(ey(t)||t.variants)}function zF(t,e){if(ey(t)){const{initial:r,animate:n}=t;return{initial:r===!1||sh(r)?r:void 0,animate:sh(n)?n:void 0}}return t.inherit!==!1?e:{}}function HF(t){const{initial:e,animate:r}=zF(t,p.useContext(qg));return p.useMemo(()=>({initial:e,animate:r}),[VE(e),VE(r)])}function VE(t){return Array.isArray(t)?t.join(" "):t}const zE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ah={};for(const t in zE)ah[t]={isEnabled:e=>zE[t].some(r=>!!e[r])};function WF(t){for(const e in t)ah[e]={...ah[e],...t[e]}}const B2=p.createContext({}),j3=p.createContext({}),GF=Symbol.for("motionComponentSymbol");function KF({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&WF(t);function s(l,c){let u;const d={...p.useContext(x3),...l,layoutId:QF(l)},{isStatic:f}=d,h=HF(l),m=n(l,f);if(!f&&Xg){h.visualElement=$F(i,m,d,e);const g=p.useContext(j3),x=p.useContext(v3).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,x,t,g))}return p.createElement(qg.Provider,{value:h},u&&h.visualElement?p.createElement(u,{visualElement:h.visualElement,...d}):null,r(i,l,VF(m,h.visualElement,c),m,f,h.visualElement))}const a=p.forwardRef(s);return a[GF]=i,a}function QF({layoutId:t}){const e=p.useContext(B2).id;return e&&t!==void 0?e+"-"+t:t}function YF(t){function e(n,i={}){return KF(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const qF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F2(t){return typeof t!="string"||t.includes("-")?!1:!!(qF.indexOf(t)>-1||/[A-Z]/.test(t))}const y0={};function JF(t){Object.assign(y0,t)}const Xh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nc=new Set(Xh);function N3(t,{layout:e,layoutId:r}){return nc.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!y0[t]||t==="opacity")}const qr=t=>!!(t&&t.getVelocity),XF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZF=Xh.length;function eU(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let a=0;a<ZF;a++){const l=Xh[a];if(t[l]!==void 0){const c=XF[l]||l;s+=`${c}(${t[l]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const A3=t=>e=>typeof e=="string"&&e.startsWith(t),E3=A3("--"),Gb=A3("var(--"),tU=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,rU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,so=(t,e,r)=>Math.min(Math.max(r,t),e),ic={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Df={...ic,transform:t=>so(0,1,t)},Hm={...ic,default:1},Rf=t=>Math.round(t*1e5)/1e5,ty=/(-)?([\d]*\.?[\d])+/g,S3=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,nU=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Zh(t){return typeof t=="string"}const em=t=>({test:e=>Zh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ha=em("deg"),qi=em("%"),ye=em("px"),iU=em("vh"),sU=em("vw"),HE={...qi,parse:t=>qi.parse(t)/100,transform:t=>qi.transform(t*100)},WE={...ic,transform:Math.round},k3={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,size:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,rotate:ha,rotateX:ha,rotateY:ha,rotateZ:ha,scale:Hm,scaleX:Hm,scaleY:Hm,scaleZ:Hm,skew:ha,skewX:ha,skewY:ha,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Df,originX:HE,originY:HE,originZ:ye,zIndex:WE,fillOpacity:Df,strokeOpacity:Df,numOctaves:WE};function U2(t,e,r,n){const{style:i,vars:s,transform:a,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(E3(f)){s[f]=h;continue}const m=k3[f],g=rU(h,m);if(nc.has(f)){if(c=!0,a[f]=g,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):i[f]=g}if(e.transform||(c||n?i.transform=eU(t.transform,r,d,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;i.transformOrigin=`${f} ${h} ${m}`}}const $2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function C3(t,e,r){for(const n in e)!qr(e[n])&&!N3(n,r)&&(t[n]=e[n])}function aU({transformTemplate:t},e,r){return p.useMemo(()=>{const n=$2();return U2(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function oU(t,e,r){const n=t.style||{},i={};return C3(i,n,t),Object.assign(i,aU(t,e,r)),t.transformValues?t.transformValues(i):i}function lU(t,e,r){const n={},i=oU(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const cU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function x0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cU.has(t)}let P3=t=>!x0(t);function uU(t){t&&(P3=e=>e.startsWith("on")?!x0(e):t(e))}try{uU(require("@emotion/is-prop-valid").default)}catch{}function dU(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(P3(i)||r===!0&&x0(i)||!e&&!x0(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function GE(t,e,r){return typeof t=="string"?t:ye.transform(e+r*t)}function fU(t,e,r){const n=GE(e,t.x,t.width),i=GE(r,t.y,t.height);return`${n} ${i}`}const hU={offset:"stroke-dashoffset",array:"stroke-dasharray"},mU={offset:"strokeDashoffset",array:"strokeDasharray"};function pU(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?hU:mU;t[s.offset]=ye.transform(-n);const a=ye.transform(e),l=ye.transform(r);t[s.array]=`${a} ${l}`}function V2(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(U2(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:x}=t;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=fU(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&pU(m,a,l,c,!1)}const T3=()=>({...$2(),attrs:{}}),z2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function gU(t,e,r,n){const i=p.useMemo(()=>{const s=T3();return V2(s,e,{enableHardwareAcceleration:!1},z2(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};C3(s,t.style,t),i.style={...s,...i.style}}return i}function yU(t=!1){return(r,n,i,{latestValues:s},a)=>{const c=(F2(r)?gU:lU)(n,s,a,r),d={...dU(n,typeof r=="string",t),...c,ref:i},{children:f}=n,h=p.useMemo(()=>qr(f)?f.get():f,[f]);return p.createElement(r,{...d,children:h})}}function O3(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const I3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function D3(t,e,r,n){O3(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(I3.has(i)?i:M2(i),e.attrs[i])}function H2(t,e){const{style:r}=t,n={};for(const i in r)(qr(r[i])||e.style&&qr(e.style[i])||N3(i,t))&&(n[i]=r[i]);return n}function R3(t,e){const r=H2(t,e);for(const n in t)if(qr(t[n])||qr(e[n])){const i=Xh.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function W2(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function M3(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const v0=t=>Array.isArray(t),xU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vU=t=>v0(t)?t[t.length-1]||0:t;function Ip(t){const e=qr(t)?t.get():t;return xU(e)?e.toValue():e}function bU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const a={latestValues:wU(n,i,s,t),renderState:e()};return r&&(a.mount=l=>r(n,l,a)),a}const L3=t=>(e,r)=>{const n=p.useContext(qg),i=p.useContext(Jg),s=()=>bU(t,e,n,i);return r?s():M3(s)};function wU(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=Ip(s[h]);let{initial:a,animate:l}=t;const c=ey(t),u=w3(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!Zg(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=W2(t,m);if(!g)return;const{transitionEnd:x,transition:w,...y}=g;for(const v in y){let b=y[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in x)i[v]=x[v]}),i}const Et=t=>t;class KE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jU(t){let e=new KE,r=new KE,n=0,i=!1,s=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&i,h=f?e:r;return u&&a.add(c),h.add(c)&&f&&i&&(n=e.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(c),a.has(d)&&(l.schedule(d),t())}i=!1,s&&(s=!1,l.process(c))}};return l}const Wm=["prepare","read","update","preRender","render","postRender"],NU=40;function AU(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Wm.reduce((f,h)=>(f[h]=jU(()=>r=!0),f),{}),a=f=>s[f].process(i),l=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,NU),1),i.timestamp=f,i.isProcessing=!0,Wm.forEach(a),i.isProcessing=!1,r&&e&&(n=!1,t(l))},c=()=>{r=!0,n=!0,i.isProcessing||t(l)};return{schedule:Wm.reduce((f,h)=>{const m=s[h];return f[h]=(g,x=!1,w=!1)=>(r||c(),m.schedule(g,x,w)),f},{}),cancel:f=>Wm.forEach(h=>s[h].cancel(f)),state:i,steps:s}}const{schedule:Je,cancel:Vs,state:mr,steps:zx}=AU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Et,!0),EU={useVisualState:L3({scrapeMotionValuesFromProps:R3,createRenderState:T3,onMount:(t,e,{renderState:r,latestValues:n})=>{Je.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Je.render(()=>{V2(r,n,{enableHardwareAcceleration:!1},z2(e.tagName),t.transformTemplate),D3(e,r)})}})},SU={useVisualState:L3({scrapeMotionValuesFromProps:H2,createRenderState:$2})};function kU(t,{forwardMotionProps:e=!1},r,n){return{...F2(t)?EU:SU,preloadedFeatures:r,useRender:yU(e),createVisualElement:n,Component:t}}function Ss(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const _3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ry(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const CU=t=>e=>_3(e)&&t(e,ry(e));function Is(t,e,r,n){return Ss(t,e,CU(r),n)}const PU=(t,e)=>r=>e(t(r)),Xa=(...t)=>t.reduce(PU);function B3(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const QE=B3("dragHorizontal"),YE=B3("dragVertical");function F3(t){let e=!1;if(t==="y")e=YE();else if(t==="x")e=QE();else{const r=QE(),n=YE();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function U3(){const t=F3(!0);return t?(t(),!1):!0}class bo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qE(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||U3())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[n]&&Je.update(()=>l[n](s,a))};return Is(t.current,r,i,{passive:!t.getProps()[n]})}class TU extends bo{mount(){this.unmount=Xa(qE(this.node,!0),qE(this.node,!1))}unmount(){}}class OU extends bo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xa(Ss(this.node.current,"focus",()=>this.onFocus()),Ss(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const $3=(t,e)=>e?t===e?!0:$3(t,e.parentElement):!1;function Hx(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,ry(r))}class IU extends bo{constructor(){super(...arguments),this.removeStartListeners=Et,this.removeEndListeners=Et,this.removeAccessibleListeners=Et,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Is(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Je.update(()=>{!f&&!$3(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),a=Is(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Xa(s,a),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||Hx("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Je.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ss(this.node.current,"keyup",a),Hx("down",(l,c)=>{this.startPress(l,c)})},r=Ss(this.node.current,"keydown",e),n=()=>{this.isPressing&&Hx("cancel",(s,a)=>this.cancelPress(s,a))},i=Ss(this.node.current,"blur",n);this.removeAccessibleListeners=Xa(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Je.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!U3()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Je.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Is(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ss(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xa(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kb=new WeakMap,Wx=new WeakMap,DU=t=>{const e=Kb.get(t.target);e&&e(t)},RU=t=>{t.forEach(DU)};function MU({root:t,...e}){const r=t||document;Wx.has(r)||Wx.set(r,{});const n=Wx.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(RU,{root:t,...e})),n[i]}function LU(t,e,r){const n=MU(e);return Kb.set(t,r),n.observe(t),()=>{Kb.delete(t),n.unobserve(t)}}const _U={some:0,all:1};class BU extends bo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_U[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return LU(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(FU(e,r))&&this.startObserver()}unmount(){}}function FU({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const UU={inView:{Feature:BU},tap:{Feature:IU},focus:{Feature:OU},hover:{Feature:TU}};function V3(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function $U(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function VU(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function ny(t,e,r){const n=t.getProps();return W2(n,e,r!==void 0?r:n.custom,$U(t),VU(t))}let G2=Et;const Ol=t=>t*1e3,Ds=t=>t/1e3,zU={current:!1},z3=t=>Array.isArray(t)&&typeof t[0]=="number";function H3(t){return!!(!t||typeof t=="string"&&W3[t]||z3(t)||Array.isArray(t)&&t.every(H3))}const gf=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,W3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gf([0,.65,.55,1]),circOut:gf([.55,0,1,.45]),backIn:gf([.31,.01,.66,-.59]),backOut:gf([.33,1.53,.69,.99])};function G3(t){if(t)return z3(t)?gf(t):Array.isArray(t)?t.map(G3):W3[t]}function HU(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:a="loop",ease:l,times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=G3(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function WU(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const K3=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,GU=1e-7,KU=12;function QU(t,e,r,n,i){let s,a,l=0;do a=e+(r-e)/2,s=K3(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>GU&&++l<KU);return a}function tm(t,e,r,n){if(t===e&&r===n)return Et;const i=s=>QU(s,0,1,t,r);return s=>s===0||s===1?s:K3(i(s),e,n)}const YU=tm(.42,0,1,1),qU=tm(0,0,.58,1),Q3=tm(.42,0,.58,1),JU=t=>Array.isArray(t)&&typeof t[0]!="number",Y3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q3=t=>e=>1-t(1-e),K2=t=>1-Math.sin(Math.acos(t)),J3=q3(K2),XU=Y3(K2),X3=tm(.33,1.53,.69,.99),Q2=q3(X3),ZU=Y3(Q2),e9=t=>(t*=2)<1?.5*Q2(t):.5*(2-Math.pow(2,-10*(t-1))),t9={linear:Et,easeIn:YU,easeInOut:Q3,easeOut:qU,circIn:K2,circInOut:XU,circOut:J3,backIn:Q2,backInOut:ZU,backOut:X3,anticipate:e9},JE=t=>{if(Array.isArray(t)){G2(t.length===4);const[e,r,n,i]=t;return tm(e,r,n,i)}else if(typeof t=="string")return t9[t];return t},Y2=(t,e)=>r=>!!(Zh(r)&&nU.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),Z3=(t,e,r)=>n=>{if(!Zh(n))return n;const[i,s,a,l]=n.match(ty);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},r9=t=>so(0,255,t),Gx={...ic,transform:t=>Math.round(r9(t))},Xo={test:Y2("rgb","red"),parse:Z3("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Gx.transform(t)+", "+Gx.transform(e)+", "+Gx.transform(r)+", "+Rf(Df.transform(n))+")"};function n9(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Qb={test:Y2("#"),parse:n9,transform:Xo.transform},Lc={test:Y2("hsl","hue"),parse:Z3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+qi.transform(Rf(e))+", "+qi.transform(Rf(r))+", "+Rf(Df.transform(n))+")"},Ar={test:t=>Xo.test(t)||Qb.test(t)||Lc.test(t),parse:t=>Xo.test(t)?Xo.parse(t):Lc.test(t)?Lc.parse(t):Qb.parse(t),transform:t=>Zh(t)?t:t.hasOwnProperty("red")?Xo.transform(t):Lc.transform(t)},ht=(t,e,r)=>-r*t+r*e+t;function Kx(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function i9({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=Kx(c,l,t+1/3),s=Kx(c,l,t),a=Kx(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}const Qx=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},s9=[Qb,Xo,Lc],a9=t=>s9.find(e=>e.test(t));function XE(t){const e=a9(t);let r=e.parse(t);return e===Lc&&(r=i9(r)),r}const eI=(t,e)=>{const r=XE(t),n=XE(e),i={...r};return s=>(i.red=Qx(r.red,n.red,s),i.green=Qx(r.green,n.green,s),i.blue=Qx(r.blue,n.blue,s),i.alpha=ht(r.alpha,n.alpha,s),Xo.transform(i))};function o9(t){var e,r;return isNaN(t)&&Zh(t)&&(((e=t.match(ty))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(S3))===null||r===void 0?void 0:r.length)||0)>0}const tI={regex:tU,countKey:"Vars",token:"${v}",parse:Et},rI={regex:S3,countKey:"Colors",token:"${c}",parse:Ar.parse},nI={regex:ty,countKey:"Numbers",token:"${n}",parse:ic.parse};function Yx(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function b0(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Yx(r,tI),Yx(r,rI),Yx(r,nI),r}function iI(t){return b0(t).values}function sI(t){const{values:e,numColors:r,numVars:n,tokenised:i}=b0(t),s=e.length;return a=>{let l=i;for(let c=0;c<s;c++)c<n?l=l.replace(tI.token,a[c]):c<n+r?l=l.replace(rI.token,Ar.transform(a[c])):l=l.replace(nI.token,Rf(a[c]));return l}}const l9=t=>typeof t=="number"?0:t;function c9(t){const e=iI(t);return sI(t)(e.map(l9))}const ao={test:o9,parse:iI,createTransformer:sI,getAnimatableNone:c9},aI=(t,e)=>r=>`${r>0?e:t}`;function oI(t,e){return typeof t=="number"?r=>ht(t,e,r):Ar.test(t)?eI(t,e):t.startsWith("var(")?aI(t,e):cI(t,e)}const lI=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,a)=>oI(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}},u9=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=oI(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},cI=(t,e)=>{const r=ao.createTransformer(e),n=b0(t),i=b0(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Xa(lI(n.values,i.values),r):aI(t,e)},oh=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},ZE=(t,e)=>r=>ht(t,e,r);function d9(t){return typeof t=="number"?ZE:typeof t=="string"?Ar.test(t)?eI:cI:Array.isArray(t)?lI:typeof t=="object"?u9:ZE}function f9(t,e,r){const n=[],i=r||d9(t[0]),s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Et:e;l=Xa(c,l)}n.push(l)}return n}function uI(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(G2(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=f9(e,n,i),l=a.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=oh(t[d],t[d+1],u);return a[d](f)};return r?u=>c(so(t[0],t[s-1],u)):c}function h9(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=oh(0,e,n);t.push(ht(r,1,i))}}function m9(t){const e=[0];return h9(e,t.length-1),e}function p9(t,e){return t.map(r=>r*e)}function g9(t,e){return t.map(()=>e||Q3).splice(0,t.length-1)}function w0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=JU(n)?n.map(JE):JE(n),s={done:!1,value:e[0]},a=p9(r&&r.length===e.length?r:m9(e),t),l=uI(a,e,{ease:Array.isArray(i)?i:g9(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}function dI(t,e){return e?t*(1e3/e):0}const y9=5;function fI(t,e,r){const n=Math.max(e-y9,0);return dI(r-t(n),e-n)}const qx=.001,x9=.01,v9=10,b9=.05,w9=1;function j9({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s,a=1-e;a=so(b9,w9,a),t=so(x9,v9,Ds(t)),a<1?(i=u=>{const d=u*a,f=d*t,h=d-r,m=Yb(u,a),g=Math.exp(-f);return qx-h/m*g},s=u=>{const f=u*a*t,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-f),x=Yb(Math.pow(u,2),a);return(-i(u)+qx>0?-1:1)*((h-m)*g)/x}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-qx+d*f},s=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const l=5/t,c=A9(i,s,l);if(t=Ol(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const N9=12;function A9(t,e,r){let n=r;for(let i=1;i<N9;i++)n=n-t(n)/e(n);return n}function Yb(t,e){return t*Math.sqrt(1-e*e)}const E9=["duration","bounce"],S9=["stiffness","damping","mass"];function eS(t,e){return e.some(r=>t[r]!==void 0)}function k9(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!eS(t,S9)&&eS(t,E9)){const r=j9(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function hI({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=k9({...n,velocity:-Ds(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),x=s-i,w=Ds(Math.sqrt(l/u)),y=Math.abs(x)<5;r||(r=y?.01:2),e||(e=y?.005:.5);let v;if(g<1){const b=Yb(w,g);v=j=>{const A=Math.exp(-g*w*j);return s-A*((m+g*w*x)/b*Math.sin(b*j)+x*Math.cos(b*j))}}else if(g===1)v=b=>s-Math.exp(-w*b)*(x+(m+w*x)*b);else{const b=w*Math.sqrt(g*g-1);v=j=>{const A=Math.exp(-g*w*j),S=Math.min(b*j,300);return s-A*((m+g*w*x)*Math.sinh(S)+b*x*Math.cosh(S))/b}}return{calculatedDuration:h&&d||null,next:b=>{const j=v(b);if(h)a.done=b>=d;else{let A=m;b!==0&&(g<1?A=fI(v,b,j):A=0);const S=Math.abs(A)<=r,C=Math.abs(s-j)<=e;a.done=S&&C}return a.value=a.done?s:j,a}}}function tS({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,g=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=r*e;const w=f+x,y=a===void 0?w:a(w);y!==w&&(x=y-f);const v=N=>-x*Math.exp(-N/n),b=N=>y+v(N),j=N=>{const P=v(N),I=b(N);h.done=Math.abs(P)<=u,h.value=h.done?y:I};let A,S;const C=N=>{m(h.value)&&(A=N,S=hI({keyframes:[h.value,g(h.value)],velocity:fI(b,N,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:N=>{let P=!1;return!S&&A===void 0&&(P=!0,j(N),C(N)),A!==void 0&&N>A?S.next(N-A):(!P&&j(N),h)}}}const C9=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Je.update(e,!0),stop:()=>Vs(e),now:()=>mr.isProcessing?mr.timestamp:performance.now()}},rS=2e4;function nS(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<rS;)e+=r,n=t.next(e);return e>=rS?1/0:e}const P9={decay:tS,inertia:tS,tween:w0,keyframes:w0,spring:hI};function j0({autoplay:t=!0,delay:e=0,driver:r=C9,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,g=!1,x,w;const y=()=>{w=new Promise(W=>{x=W})};y();let v;const b=P9[i]||w0;let j;b!==w0&&typeof n[0]!="number"&&(j=uI([0,100],n,{clamp:!1}),n=[0,100]);const A=b({...h,keyframes:n});let S;l==="mirror"&&(S=b({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let C="idle",N=null,P=null,I=null;A.calculatedDuration===null&&s&&(A.calculatedDuration=nS(A));const{calculatedDuration:D}=A;let B=1/0,V=1/0;D!==null&&(B=D+a,V=B*(s+1)-a);let Q=0;const T=W=>{if(P===null)return;m>0&&(P=Math.min(P,W)),m<0&&(P=Math.min(W-V/m,P)),N!==null?Q=N:Q=Math.round(W-P)*m;const G=Q-e*(m>=0?1:-1),me=m>=0?G<0:G>V;Q=Math.max(G,0),C==="finished"&&N===null&&(Q=V);let ve=Q,de=A;if(s){const te=Math.min(Q,V)/B;let pe=Math.floor(te),be=te%1;!be&&te>=1&&(be=1),be===1&&pe--,pe=Math.min(pe,s+1),!!(pe%2)&&(l==="reverse"?(be=1-be,a&&(be-=a/B)):l==="mirror"&&(de=S)),ve=so(0,1,be)*B}const we=me?{done:!1,value:n[0]}:de.next(ve);j&&(we.value=j(we.value));let{done:Le}=we;!me&&D!==null&&(Le=m>=0?Q>=V:Q<=0);const ut=N===null&&(C==="finished"||C==="running"&&Le);return f&&f(we.value),ut&&k(),we},M=()=>{v&&v.stop(),v=void 0},U=()=>{C="idle",M(),x(),y(),P=I=null},k=()=>{C="finished",d&&d(),M(),x()},L=()=>{if(g)return;v||(v=r(T));const W=v.now();c&&c(),N!==null?P=W-N:(!P||C==="finished")&&(P=W),C==="finished"&&y(),I=P,N=null,C="running",v.start()};t&&L();const H={then(W,G){return w.then(W,G)},get time(){return Ds(Q)},set time(W){W=Ol(W),Q=W,N!==null||!v||m===0?N=W:P=v.now()-W/m},get duration(){const W=A.calculatedDuration===null?nS(A):A.calculatedDuration;return Ds(W)},get speed(){return m},set speed(W){W===m||!v||(m=W,H.time=Ds(Q))},get state(){return C},play:L,pause:()=>{C="paused",N=Q},stop:()=>{g=!0,C!=="idle"&&(C="idle",u&&u(),U())},cancel:()=>{I!==null&&T(I),U()},complete:()=>{C="finished"},sample:W=>(P=0,T(W))};return H}function T9(t){let e;return()=>(e===void 0&&(e=t()),e)}const O9=T9(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),I9=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Gm=10,D9=2e4,R9=(t,e)=>e.type==="spring"||t==="backgroundColor"||!H3(e.ease);function M9(t,e,{onUpdate:r,onComplete:n,...i}){if(!(O9()&&I9.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:h=300,ease:m,times:g}=i;if(R9(e,i)){const b=j0({...i,repeat:0,delay:0});let j={done:!1,value:f[0]};const A=[];let S=0;for(;!j.done&&S<D9;)j=b.sample(S),A.push(j.value),S+=Gm;g=void 0,f=A,h=S-Gm,m="linear"}const x=HU(t.owner.current,e,f,{...i,duration:h,ease:m,times:g}),w=()=>{u=!1,x.cancel()},y=()=>{u=!0,Je.update(w),l(),d()};return x.onfinish=()=>{u||(t.set(WU(f,i)),n&&n(),y())},{then(b,j){return c.then(b,j)},attachTimeline(b){return x.timeline=b,x.onfinish=null,Et},get time(){return Ds(x.currentTime||0)},set time(b){x.currentTime=Ol(b)},get speed(){return x.playbackRate},set speed(b){x.playbackRate=b},get duration(){return Ds(h)},play:()=>{a||(x.play(),Vs(w))},pause:()=>x.pause(),stop:()=>{if(a=!0,x.playState==="idle")return;const{currentTime:b}=x;if(b){const j=j0({...i,autoplay:!1});t.setWithVelocity(j.sample(b-Gm).value,j.sample(b).value,Gm)}y()},complete:()=>{u||x.finish()},cancel:y}}function L9({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Et,pause:Et,stop:Et,then:s=>(s(),Promise.resolve()),cancel:Et,complete:Et});return e?j0({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const _9={type:"spring",stiffness:500,damping:25,restSpeed:10},B9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),F9={type:"keyframes",duration:.8},U9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$9=(t,{keyframes:e})=>e.length>2?F9:nc.has(t)?t.startsWith("scale")?B9(e[1]):_9:U9,qb=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ao.test(e)||e==="0")&&!e.startsWith("url(")),V9=new Set(["brightness","contrast","saturate","opacity"]);function z9(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ty)||[];if(!n)return t;const i=r.replace(n,"");let s=V9.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const H9=/([a-z-]*)\(.*?\)/g,Jb={...ao,getAnimatableNone:t=>{const e=t.match(H9);return e?e.map(z9).join(" "):t}},W9={...k3,color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:Jb,WebkitFilter:Jb},q2=t=>W9[t];function mI(t,e){let r=q2(t);return r!==Jb&&(r=ao),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const pI=t=>/^0[^.\s]+$/.test(t);function G9(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||pI(t)}function K9(t,e,r,n){const i=qb(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const a=n.from!==void 0?n.from:t.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?a:s[u-1]),G9(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];s[d]=mI(e,l)}return s}function Q9({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function J2(t,e){return t[e]||t.default||t}const Y9={skipAnimations:!1},X2=(t,e,r,n={})=>i=>{const s=J2(n,t)||{},a=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Ol(a);const c=K9(e,t,r,s),u=c[0],d=c[c.length-1],f=qb(t,u),h=qb(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Q9(s)||(m={...m,...$9(t,m)}),m.duration&&(m.duration=Ol(m.duration)),m.repeatDelay&&(m.repeatDelay=Ol(m.repeatDelay)),!f||!h||zU.current||s.type===!1||Y9.skipAnimations)return L9(m);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=M9(e,t,m);if(g)return g}return j0(m)};function N0(t){return!!(qr(t)&&t.add)}const gI=t=>/^\-?\d*\.?\d+$/.test(t);function Z2(t,e){t.indexOf(e)===-1&&t.push(e)}function ej(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class tj{constructor(){this.subscriptions=[]}add(e){return Z2(this.subscriptions,e),()=>ej(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const q9=t=>!isNaN(parseFloat(t));class J9{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:a}=mr;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Je.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Je.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=q9(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new tj);const n=this.events[e].add(r);return e==="change"?()=>{n(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?dI(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nd(t,e){return new J9(t,e)}const yI=t=>e=>e.test(t),X9={test:t=>t==="auto",parse:t=>t},xI=[ic,ye,qi,ha,sU,iU,X9],qd=t=>xI.find(yI(t)),Z9=[...xI,Ar,ao],e7=t=>Z9.find(yI(t));function t7(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,nd(r))}function r7(t,e){const r=ny(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const a in s){const l=vU(s[a]);t7(t,a,l)}}function n7(t,e,r){var n,i;const s=Object.keys(e).filter(l=>!t.hasValue(l)),a=s.length;if(a)for(let l=0;l<a;l++){const c=s[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(n=r[c])!==null&&n!==void 0?n:t.readValue(c))!==null&&i!==void 0?i:e[c]),d!=null&&(typeof d=="string"&&(gI(d)||pI(d))?d=parseFloat(d):!e7(d)&&ao.test(u)&&(d=mI(c,u)),t.addValue(c,nd(d,{owner:t})),r[c]===void 0&&(r[c]=d),d!==null&&t.setBaseTarget(c,d))}}function i7(t,e){return e?(e[t]||e.default||e).from:void 0}function s7(t,e,r){const n={};for(const i in t){const s=i7(i,e);if(s!==void 0)n[i]=s;else{const a=r.getValue(i);a&&(n[i]=a.get())}}return n}function a7({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function o7(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function vI(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");n&&(s=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f),m=l[f];if(!h||m===void 0||d&&a7(d,f))continue;const g={delay:r,elapsed:0,...J2(s||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[b3];if(y){const v=window.HandoffAppearAnimations(y,f,h,Je);v!==null&&(g.elapsed=v,g.isHandoff=!0)}}let x=!g.isHandoff&&!o7(h,m);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(X2(f,h,m,t.shouldReduceMotion&&nc.has(f)?{type:!1}:g));const w=h.animation;N0(c)&&(c.add(f),w.then(()=>c.remove(f))),u.push(w)}return a&&Promise.all(u).then(()=>{a&&r7(t,a)}),u}function Xb(t,e,r={}){const n=ny(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(vI(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return l7(t,e,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(r.delay)])}function l7(t,e,r=0,n=0,i=1,s){const a=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(c7).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(Xb(u,e,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function c7(t,e){return t.sortNodePosition(e)}function u7(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Xb(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Xb(t,e,r);else{const i=typeof e=="function"?ny(t,e,r.custom):e;n=Promise.all(vI(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const d7=[...L2].reverse(),f7=L2.length;function h7(t){return e=>Promise.all(e.map(({animation:r,options:n})=>u7(t,r,n)))}function m7(t){let e=h7(t);const r=g7();let n=!0;const i=(c,u)=>{const d=ny(t,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function s(c){e=c(t)}function a(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],m=new Set;let g={},x=1/0;for(let y=0;y<f7;y++){const v=d7[y],b=r[v],j=d[v]!==void 0?d[v]:f[v],A=sh(j),S=v===u?b.isActive:null;S===!1&&(x=y);let C=j===f[v]&&j!==d[v]&&A;if(C&&n&&t.manuallyAnimateOnMount&&(C=!1),b.protectedKeys={...g},!b.isActive&&S===null||!j&&!b.prevProp||Zg(j)||typeof j=="boolean")continue;let P=p7(b.prevProp,j)||v===u&&b.isActive&&!C&&A||y>x&&A,I=!1;const D=Array.isArray(j)?j:[j];let B=D.reduce(i,{});S===!1&&(B={});const{prevResolvedValues:V={}}=b,Q={...V,...B},T=M=>{P=!0,m.has(M)&&(I=!0,m.delete(M)),b.needsAnimating[M]=!0};for(const M in Q){const U=B[M],k=V[M];if(g.hasOwnProperty(M))continue;let L=!1;v0(U)&&v0(k)?L=!V3(U,k):L=U!==k,L?U!==void 0?T(M):m.add(M):U!==void 0&&m.has(M)?T(M):b.protectedKeys[M]=!0}b.prevProp=j,b.prevResolvedValues=B,b.isActive&&(g={...g,...B}),n&&t.blockInitialAnimation&&(P=!1),P&&(!C||I)&&h.push(...D.map(M=>({animation:M,options:{type:v,...c}})))}if(m.size){const y={};m.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(y[v]=b)}),h.push({animation:y})}let w=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=a(d,c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r}}function p7(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!V3(e,t):!1}function Po(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function g7(){return{animate:Po(!0),whileInView:Po(),whileHover:Po(),whileTap:Po(),whileDrag:Po(),whileFocus:Po(),exit:Po()}}class y7 extends bo{constructor(e){super(e),e.animationState||(e.animationState=m7(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Zg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let x7=0;class v7 extends bo{constructor(){super(...arguments),this.id=x7++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const b7={animation:{Feature:y7},exit:{Feature:v7}},iS=(t,e)=>Math.abs(t-e);function w7(t,e){const r=iS(t.x,e.x),n=iS(t.y,e.y);return Math.sqrt(r**2+n**2)}class bI{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=w7(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:x}=mr;this.history.push({...g,timestamp:x});const{onStart:w,onMove:y}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Jx(h,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Xx(f.type==="pointercancel"?this.lastMoveEventInfo:Jx(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),g&&g(f,w)},!_3(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const a=ry(e),l=Jx(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=mr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,Xx(l,this.history)),this.removeListeners=Xa(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function Jx(t,e){return e?{point:e(t.point)}:t}function sS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Xx({point:t},e){return{point:t,delta:sS(t,wI(e)),offset:sS(t,j7(e)),velocity:N7(e,.1)}}function j7(t){return t[0]}function wI(t){return t[t.length-1]}function N7(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=wI(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ol(e)));)r--;if(!n)return{x:0,y:0};const s=Ds(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function vn(t){return t.max-t.min}function Zb(t,e=0,r=.01){return Math.abs(t-e)<=r}function aS(t,e,r,n=.5){t.origin=n,t.originPoint=ht(e.min,e.max,t.origin),t.scale=vn(r)/vn(e),(Zb(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ht(r.min,r.max,t.origin)-t.originPoint,(Zb(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Mf(t,e,r,n){aS(t.x,e.x,r.x,n?n.originX:void 0),aS(t.y,e.y,r.y,n?n.originY:void 0)}function oS(t,e,r){t.min=r.min+e.min,t.max=t.min+vn(e)}function A7(t,e,r){oS(t.x,e.x,r.x),oS(t.y,e.y,r.y)}function lS(t,e,r){t.min=e.min-r.min,t.max=t.min+vn(e)}function Lf(t,e,r){lS(t.x,e.x,r.x),lS(t.y,e.y,r.y)}function E7(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ht(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ht(r,t,n.max):Math.min(t,r)),t}function cS(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function S7(t,{top:e,left:r,bottom:n,right:i}){return{x:cS(t.x,r,i),y:cS(t.y,e,n)}}function uS(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function k7(t,e){return{x:uS(t.x,e.x),y:uS(t.y,e.y)}}function C7(t,e){let r=.5;const n=vn(t),i=vn(e);return i>n?r=oh(e.min,e.max-n,t.min):n>i&&(r=oh(t.min,t.max-i,e.min)),so(0,1,r)}function P7(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const ew=.35;function T7(t=ew){return t===!1?t=0:t===!0&&(t=ew),{x:dS(t,"left","right"),y:dS(t,"top","bottom")}}function dS(t,e,r){return{min:fS(t,e),max:fS(t,r)}}function fS(t,e){return typeof t=="number"?t:t[e]||0}const hS=()=>({translate:0,scale:1,origin:0,originPoint:0}),_c=()=>({x:hS(),y:hS()}),mS=()=>({min:0,max:0}),Pt=()=>({x:mS(),y:mS()});function Rn(t){return[t("x"),t("y")]}function jI({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function O7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function I7(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zx(t){return t===void 0||t===1}function tw({scale:t,scaleX:e,scaleY:r}){return!Zx(t)||!Zx(e)||!Zx(r)}function Mo(t){return tw(t)||NI(t)||t.z||t.rotate||t.rotateX||t.rotateY}function NI(t){return pS(t.x)||pS(t.y)}function pS(t){return t&&t!=="0%"}function A0(t,e,r){const n=t-r,i=e*n;return r+i}function gS(t,e,r,n,i){return i!==void 0&&(t=A0(t,i,n)),A0(t,r,n)+e}function rw(t,e=0,r=1,n,i){t.min=gS(t.min,e,r,n,i),t.max=gS(t.max,e,r,n,i)}function AI(t,{x:e,y:r}){rw(t.x,e.translate,e.scale,e.originPoint),rw(t.y,r.translate,r.scale,r.originPoint)}function D7(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,AI(t,a)),n&&Mo(s.latestValues)&&Bc(t,s.latestValues))}e.x=yS(e.x),e.y=yS(e.y)}function yS(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ya(t,e){t.min=t.min+e,t.max=t.max+e}function xS(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,a=ht(t.min,t.max,s);rw(t,e[r],e[n],a,e.scale)}const R7=["x","scaleX","originX"],M7=["y","scaleY","originY"];function Bc(t,e){xS(t.x,e,R7),xS(t.y,e,M7)}function EI(t,e){return jI(I7(t.getBoundingClientRect(),e))}function L7(t,e,r){const n=EI(t,r),{scroll:i}=e;return i&&(ya(n.x,i.offset.x),ya(n.y,i.offset.y)),n}const SI=({current:t})=>t?t.ownerDocument.defaultView:null,_7=new WeakMap;class B7{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ry(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=F3(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(w=>{let y=this.getAxisMotionValue(w).get()||0;if(qi.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(y=vn(b)*(parseFloat(y)/100))}}this.originPoint[w]=y}),g&&Je.update(()=>g(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=F7(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Rn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bI(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:SI(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Je.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Km(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=E7(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&Mc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=S7(i.layoutBox,r):this.constraints=!1,this.elastic=T7(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Rn(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=P7(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Mc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=L7(n,i.root,this.visualElement.getTransformPagePoint());let a=k7(i.layout.layoutBox,s);if(r){const l=r(O7(a));this.hasMutatedConstraints=!!l,l&&(a=jI(l))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Rn(d=>{if(!Km(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(X2(e,n,0,r))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rn(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Rn(r=>{const{drag:n}=this.getProps();if(!Km(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(e[r]-ht(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Mc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rn(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();i[a]=C7({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rn(a=>{if(!Km(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(ht(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;_7.set(this.visualElement,this);const e=this.visualElement.current,r=Is(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Mc(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const a=Ss(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=ew,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Km(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function F7(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class U7 extends bo{constructor(e){super(e),this.removeGroupControls=Et,this.removeListeners=Et,this.controls=new B7(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Et}unmount(){this.removeGroupControls(),this.removeListeners()}}const vS=t=>(e,r)=>{t&&Je.update(()=>t(e,r))};class $7 extends bo{constructor(){super(...arguments),this.removePointerDownListener=Et}onPointerDown(e){this.session=new bI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:vS(e),onStart:vS(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Je.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function V7(){const t=p.useContext(Jg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=p.useId();return p.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const Dp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ye.test(t))t=parseFloat(t);else return t;const r=bS(t,e.target.x),n=bS(t,e.target.y);return`${r}% ${n}%`}},z7={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=ao.parse(t);if(i.length>5)return n;const s=ao.createTransformer(t),a=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const u=ht(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class H7 extends Sd.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;JF(W7),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Je.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kI(t){const[e,r]=V7(),n=p.useContext(B2);return Sd.createElement(H7,{...t,layoutGroup:n,switchLayoutGroup:p.useContext(j3),isPresent:e,safeToRemove:r})}const W7={borderRadius:{...Jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jd,borderTopRightRadius:Jd,borderBottomLeftRadius:Jd,borderBottomRightRadius:Jd,boxShadow:z7},CI=["TopLeft","TopRight","BottomLeft","BottomRight"],G7=CI.length,wS=t=>typeof t=="string"?parseFloat(t):t,jS=t=>typeof t=="number"||ye.test(t);function K7(t,e,r,n,i,s){i?(t.opacity=ht(0,r.opacity!==void 0?r.opacity:1,Q7(n)),t.opacityExit=ht(e.opacity!==void 0?e.opacity:1,0,Y7(n))):s&&(t.opacity=ht(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<G7;a++){const l=`border${CI[a]}Radius`;let c=NS(e,l),u=NS(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jS(c)===jS(u)?(t[l]=Math.max(ht(wS(c),wS(u),n),0),(qi.test(u)||qi.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=ht(e.rotate||0,r.rotate||0,n))}function NS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Q7=PI(0,.5,J3),Y7=PI(.5,.95,Et);function PI(t,e,r){return n=>n<t?0:n>e?1:r(oh(t,e,n))}function AS(t,e){t.min=e.min,t.max=e.max}function Pn(t,e){AS(t.x,e.x),AS(t.y,e.y)}function ES(t,e,r,n,i){return t-=e,t=A0(t,1/r,n),i!==void 0&&(t=A0(t,1/i,n)),t}function q7(t,e=0,r=1,n=.5,i,s=t,a=t){if(qi.test(e)&&(e=parseFloat(e),e=ht(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=ht(s.min,s.max,n);t===s&&(l-=e),t.min=ES(t.min,e,r,l,i),t.max=ES(t.max,e,r,l,i)}function SS(t,e,[r,n,i],s,a){q7(t,e[r],e[n],e[i],e.scale,s,a)}const J7=["x","scaleX","originX"],X7=["y","scaleY","originY"];function kS(t,e,r,n){SS(t.x,e,J7,r?r.x:void 0,n?n.x:void 0),SS(t.y,e,X7,r?r.y:void 0,n?n.y:void 0)}function CS(t){return t.translate===0&&t.scale===1}function TI(t){return CS(t.x)&&CS(t.y)}function Z7(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function OI(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function PS(t){return vn(t.x)/vn(t.y)}class e${constructor(){this.members=[]}add(e){Z2(this.members,e),e.scheduleRender()}remove(e){if(ej(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TS(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const t$=(t,e)=>t.depth-e.depth;class r${constructor(){this.children=[],this.isDirty=!1}add(e){Z2(this.children,e),this.isDirty=!0}remove(e){ej(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t$),this.isDirty=!1,this.children.forEach(e)}}function n$(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Vs(n),t(s-e))};return Je.read(n,!0),()=>Vs(n)}function i$(t){window.MotionDebug&&window.MotionDebug.record(t)}function s$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function a$(t,e,r){const n=qr(t)?t:nd(t);return n.start(X2("",n,e,r)),n.animation}const OS=["","X","Y","Z"],o$={visibility:"hidden"},IS=1e3;let l$=0;const Lo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function II({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=l$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lo.totalNodes=Lo.resolvedTargetDeltas=Lo.recalculatedProjection=0,this.nodes.forEach(d$),this.nodes.forEach(g$),this.nodes.forEach(y$),this.nodes.forEach(f$),i$(Lo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new r$)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new tj),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=s$(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=n$(h,250),Dp.hasAnimatedSinceResize&&(Dp.hasAnimatedSinceResize=!1,this.nodes.forEach(RS))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||j$,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=d.getProps(),v=!this.targetLayout||!OI(this.targetLayout,g)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...J2(x,"layout"),onPlay:w,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||RS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DS);return}this.isUpdating||this.nodes.forEach(m$),this.isUpdating=!1,this.nodes.forEach(p$),this.nodes.forEach(c$),this.nodes.forEach(u$),this.clearAllSnapshots();const l=performance.now();mr.delta=so(0,1e3/60,l-mr.timestamp),mr.timestamp=l,mr.isProcessing=!0,zx.update.process(mr),zx.preRender.process(mr),zx.render.process(mr),mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(h$),this.sharedNodes.forEach(v$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!TI(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Mo(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),N$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Pt();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(ya(l.x,c.offset.x),ya(l.y,c.offset.y)),l}removeElementScroll(a){const l=Pt();Pn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){Pn(l,a);const{scroll:h}=this.root;h&&(ya(l.x,-h.offset.x),ya(l.y,-h.offset.y))}ya(l.x,d.offset.x),ya(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=Pt();Pn(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mo(d.latestValues)&&Bc(c,d.latestValues)}return Mo(this.latestValues)&&Bc(c,this.latestValues),c}removeTransform(a){const l=Pt();Pn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mo(u.latestValues))continue;tw(u.latestValues)&&u.updateSnapshot();const d=Pt(),f=u.measurePageBox();Pn(d,f),kS(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mo(this.latestValues)&&kS(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=mr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Lf(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),A7(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),AI(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Lf(this.relativeTargetOrigin,this.target,m.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||tw(this.parent.latestValues)||NI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===mr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Pn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;D7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=_c(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=_c(),this.projectionDeltaWithTransform=_c());const x=this.projectionTransform;Mf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=TS(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Lo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=_c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Pt(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,w=this.getStack(),y=!w||w.members.length<=1,v=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(w$));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const A=j/1e3;MS(f.x,a.x,A),MS(f.y,a.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lf(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b$(this.relativeTarget,this.relativeTargetOrigin,h,A),b&&Z7(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Pt()),Pn(b,this.relativeTarget)),x&&(this.animationValues=d,K7(d,u,this.latestValues,A,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Dp.hasAnimatedSinceResize=!0,this.currentAnimation=a$(0,IS,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&DI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pt();const f=vn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=vn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Pn(l,c),Bc(l,d),Mf(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new e$),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<OS.length;d++){const f="rotate"+OS[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return o$;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ip(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Ip(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=TS(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in y0){if(h[x]===void 0)continue;const{correct:w,applyTo:y}=y0[x],v=u.transform==="none"?h[x]:w(h[x],f);if(y){const b=y.length;for(let j=0;j<b;j++)u[y[j]]=v}else u[x]=v}return this.options.layoutId&&(u.pointerEvents=f===this?Ip(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(DS),this.root.sharedNodes.clear()}}}function c$(t){t.updateLayout()}function u$(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=r.source!==t.layout.source;s==="size"?Rn(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=vn(h);h.min=n[f].min,h.max=h.min+m}):DI(s,r.layoutBox,n)&&Rn(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=vn(n[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=_c();Mf(l,n,r.layoutBox);const c=_c();a?Mf(c,t.applyTransform(i,!0),r.measuredBox):Mf(c,n,r.layoutBox);const u=!TI(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Pt();Lf(g,r.layoutBox,h.layoutBox);const x=Pt();Lf(x,n,m.layoutBox),OI(g,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function d$(t){Lo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function f$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h$(t){t.clearSnapshot()}function DS(t){t.clearMeasurements()}function m$(t){t.isLayoutDirty=!1}function p$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function g$(t){t.resolveTargetDelta()}function y$(t){t.calcProjection()}function x$(t){t.resetRotation()}function v$(t){t.removeLeadSnapshot()}function MS(t,e,r){t.translate=ht(e.translate,0,r),t.scale=ht(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function LS(t,e,r,n){t.min=ht(e.min,r.min,n),t.max=ht(e.max,r.max,n)}function b$(t,e,r,n){LS(t.x,e.x,r.x,n),LS(t.y,e.y,r.y,n)}function w$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const j$={duration:.45,ease:[.4,0,.1,1]},_S=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),BS=_S("applewebkit/")&&!_S("chrome/")?Math.round:Et;function FS(t){t.min=BS(t.min),t.max=BS(t.max)}function N$(t){FS(t.x),FS(t.y)}function DI(t,e,r){return t==="position"||t==="preserve-aspect"&&!Zb(PS(e),PS(r),.2)}const A$=II({attachResizeListener:(t,e)=>Ss(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ev={current:void 0},RI=II({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ev.current){const t=new A$({});t.mount(window),t.setOptions({layoutScroll:!0}),ev.current=t}return ev.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),E$={pan:{Feature:$7},drag:{Feature:U7,ProjectionNode:RI,MeasureLayout:kI}},S$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function k$(t){const e=S$.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function nw(t,e,r=1){const[n,i]=k$(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return gI(a)?parseFloat(a):a}else return Gb(i)?nw(i,e,r+1):i}function C$(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!Gb(s))return;const a=nw(s,n);a&&i.set(a)});for(const i in e){const s=e[i];if(!Gb(s))continue;const a=nw(s,n);a&&(e[i]=a,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const P$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),MI=t=>P$.has(t),T$=t=>Object.keys(t).some(MI),US=t=>t===ic||t===ye,$S=(t,e)=>parseFloat(t.split(", ")[e]),VS=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return $S(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?$S(s[1],t):0}},O$=new Set(["x","y","z"]),I$=Xh.filter(t=>!O$.has(t));function D$(t){const e=[];return I$.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const id={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VS(4,13),y:VS(5,14)};id.translateX=id.x;id.translateY=id.y;const R$=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{l[u]=id[u](n,s)}),e.render();const c=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=id[u](c,s)}),t},M$=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(MI);let s=[],a=!1;const l=[];if(i.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=r[c],f=qd(d);const h=e[c];let m;if(v0(h)){const g=h.length,x=h[0]===null?1:0;d=h[x],f=qd(d);for(let w=x;w<g&&h[w]!==null;w++)m?G2(qd(h[w])===m):m=qd(h[w])}else m=qd(h);if(f!==m)if(US(f)&&US(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&m===ye&&(e[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(h):(a||(s=D$(t),a=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:e[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=R$(e,t,l);return s.length&&s.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),Xg&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function L$(t,e,r,n){return T$(e)?M$(t,e,r,n):{target:e,transitionEnd:n}}const _$=(t,e,r,n)=>{const i=C$(t,e,n);return e=i.target,n=i.transitionEnd,L$(t,e,r,n)},iw={current:null},LI={current:!1};function B$(){if(LI.current=!0,!!Xg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iw.current=t.matches;t.addListener(e),e()}else iw.current=!1}function F$(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],a=r[i];if(qr(s))t.addValue(i,s),N0(n)&&n.add(i);else if(qr(a))t.addValue(i,nd(s,{owner:t})),N0(n)&&n.remove(i);else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,nd(l!==void 0?l:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const zS=new WeakMap,_I=Object.keys(ah),U$=_I.length,HS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$$=_2.length;class V${constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Je.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=ey(r),this.isVariantNode=w3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&qr(h)&&(h.set(l[f],!1),N0(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,zS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),LI.current||B$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zS.delete(this.current),this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=nc.has(e),i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Je.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let a,l;for(let c=0;c<U$;c++){const u=_I[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=ah[u];h&&(a=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Mc(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<HS.length;n++){const i=HS[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=F$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<$$;n++){const i=_2[n],s=this.props[i];(sh(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=nd(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=W2(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new tj),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class BI extends V${sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let a=s7(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),a&&(a=i(a))),s){n7(this,n,a);const l=_$(this,n,a,r);r=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:r,...n}}}function z$(t){return window.getComputedStyle(t)}class H$ extends BI{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(nc.has(r)){const n=q2(r);return n&&n.default||0}else{const n=z$(e),i=(E3(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return EI(e,r)}build(e,r,n,i){U2(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return H2(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){O3(e,r,n,i)}}class W$ extends BI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(nc.has(r)){const n=q2(r);return n&&n.default||0}return r=I3.has(r)?r:M2(r),e.getAttribute(r)}measureInstanceViewportBox(){return Pt()}scrapeMotionValuesFromProps(e,r){return R3(e,r)}build(e,r,n,i){V2(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){D3(e,r,n,i)}mount(e){this.isSVGTag=z2(e.tagName),super.mount(e)}}const G$=(t,e)=>F2(t)?new W$(e,{enableHardwareAcceleration:!1}):new H$(e,{enableHardwareAcceleration:!0}),K$={layout:{ProjectionNode:RI,MeasureLayout:kI}},Q$={...b7,...UU,...E$,...K$},R=YF((t,e)=>kU(t,e,Q$,G$));function FI(){const t=p.useRef(!1);return R2(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Y$(){const t=FI(),[e,r]=p.useState(0),n=p.useCallback(()=>{t.current&&r(e+1)},[e]);return[p.useCallback(()=>Je.postRender(n),[n]),e]}class q$ extends p.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function J$({children:t,isPresent:e}){const r=p.useId(),n=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=i.current;if(e||!n.current||!s||!a)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),p.createElement(q$,{isPresent:e,childRef:n,sizeRef:i},p.cloneElement(t,{ref:n}))}const tv=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a})=>{const l=M3(X$),c=p.useId(),u=p.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),s?void 0:[r]);return p.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),p.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),a==="popLayout"&&(t=p.createElement(J$,{isPresent:r},t)),p.createElement(Jg.Provider,{value:u},t)};function X$(){return new Map}function Z$(t){return p.useEffect(()=>()=>t(),[])}const _o=t=>t.key||"";function eV(t,e){t.forEach(r=>{const n=_o(r);e.set(n,r)})}function tV(t){const e=[];return p.Children.forEach(t,r=>{p.isValidElement(r)&&e.push(r)}),e}const Ft=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const l=p.useContext(B2).forceRender||Y$()[0],c=FI(),u=tV(t);let d=u;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,g=p.useRef(!0);if(R2(()=>{g.current=!1,eV(u,m),h.current=d}),Z$(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return p.createElement(p.Fragment,null,d.map(v=>p.createElement(tv,{key:_o(v),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:a},v)));d=[...d];const x=h.current.map(_o),w=u.map(_o),y=x.length;for(let v=0;v<y;v++){const b=x[v];w.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(w.indexOf(b)!==-1)return;const j=m.get(b);if(!j)return;const A=x.indexOf(b);let S=v;if(!S){const C=()=>{f.delete(b);const N=Array.from(m.keys()).filter(P=>!w.includes(P));if(N.forEach(P=>m.delete(P)),h.current=u.filter(P=>{const I=_o(P);return I===b||N.includes(I)}),!f.size){if(c.current===!1)return;l(),n&&n()}};S=p.createElement(tv,{key:_o(j),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:s,mode:a},j),f.set(b,S)}d.splice(A,0,S)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:p.createElement(tv,{key:_o(v),isPresent:!0,presenceAffectsLayout:s,mode:a},v)}),p.createElement(p.Fragment,null,f.size?d:d.map(v=>p.cloneElement(v)))};let rV={data:""},nV=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||rV,iV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sV=/\/\*[^]*?\*\/|  +/g,WS=/\n+/g,ja=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?ja(a,s):s+"{"+ja(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=ja(a,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ja.p?ja.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},ns={},UI=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+UI(t[r]);return e}return t},aV=(t,e,r,n,i)=>{let s=UI(t),a=ns[s]||(ns[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!ns[a]){let c=s!==t?t:(u=>{let d,f,h=[{}];for(;d=iV.exec(u.replace(sV,""));)d[4]?h.shift():d[3]?(f=d[3].replace(WS," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(WS," ").trim();return h[0]})(t);ns[a]=ja(i?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&ns.g?ns.g:null;return r&&(ns.g=ns[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(ns[a],e,n,l),a},oV=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":ja(l,""):l===!1?"":l}return n+i+(a??"")},"");function iy(t){let e=this||{},r=t.call?t(e.p):t;return aV(r.unshift?r.raw?oV(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,nV(e.target),e.g,e.o,e.k)}let $I,sw,aw;iy.bind({g:1});let zs=iy.bind({k:1});function lV(t,e,r,n){ja.p=e,$I=t,sw=r,aw=n}function wo(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let l=Object.assign({},s),c=l.className||i.className;r.p=Object.assign({theme:sw&&sw()},l),r.o=/ *go\d+/.test(c),l.className=iy.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),aw&&u[0]&&aw(l),$I(u,l)}return i}}var cV=t=>typeof t=="function",E0=(t,e)=>cV(t)?t(e):t,uV=(()=>{let t=0;return()=>(++t).toString()})(),VI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),dV=20,zI=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,dV)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return zI(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Rp=[],Zo={toasts:[],pausedAt:void 0},sc=t=>{Zo=zI(Zo,t),Rp.forEach(e=>{e(Zo)})},fV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hV=(t={})=>{let[e,r]=p.useState(Zo),n=p.useRef(Zo);p.useEffect(()=>(n.current!==Zo&&r(Zo),Rp.push(r),()=>{let s=Rp.indexOf(r);s>-1&&Rp.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||fV[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},mV=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||uV()}),rm=t=>(e,r)=>{let n=mV(e,t,r);return sc({type:2,toast:n}),n.id},Y=(t,e)=>rm("blank")(t,e);Y.error=rm("error");Y.success=rm("success");Y.loading=rm("loading");Y.custom=rm("custom");Y.dismiss=t=>{sc({type:3,toastId:t})};Y.remove=t=>sc({type:4,toastId:t});Y.promise=(t,e,r)=>{let n=Y.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?E0(e.success,i):void 0;return s?Y.success(s,{id:n,...r,...r==null?void 0:r.success}):Y.dismiss(n),i}).catch(i=>{let s=e.error?E0(e.error,i):void 0;s?Y.error(s,{id:n,...r,...r==null?void 0:r.error}):Y.dismiss(n)}),t};var pV=(t,e)=>{sc({type:1,toast:{id:t,height:e}})},gV=()=>{sc({type:5,time:Date.now()})},_f=new Map,yV=1e3,xV=(t,e=yV)=>{if(_f.has(t))return;let r=setTimeout(()=>{_f.delete(t),sc({type:4,toastId:t})},e);_f.set(t,r)},vV=t=>{let{toasts:e,pausedAt:r}=hV(t);p.useEffect(()=>{if(r)return;let s=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&Y.dismiss(l.id);return}return setTimeout(()=>Y.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=p.useCallback(()=>{r&&sc({type:6,time:Date.now()})},[r]),i=p.useCallback((s,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=e.filter(m=>(m.position||u)===(s.position||u)&&m.height),f=d.findIndex(m=>m.id===s.id),h=d.filter((m,g)=>g<f&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[h+1]:[0,h]).reduce((m,g)=>m+(g.height||0)+c,0)},[e]);return p.useEffect(()=>{e.forEach(s=>{if(s.dismissed)xV(s.id,s.removeDelay);else{let a=_f.get(s.id);a&&(clearTimeout(a),_f.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:pV,startPause:gV,endPause:n,calculateOffset:i}}},bV=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,wV=zs`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jV=zs`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,NV=wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${wV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,AV=zs`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EV=wo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${AV} 1s linear infinite;
`,SV=zs`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kV=zs`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CV=wo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,PV=wo("div")`
  position: absolute;
`,TV=wo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OV=zs`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IV=wo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,DV=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?p.createElement(IV,null,e):e:r==="blank"?null:p.createElement(TV,null,p.createElement(EV,{...n}),r!=="loading"&&p.createElement(PV,null,r==="error"?p.createElement(NV,{...n}):p.createElement(CV,{...n})))},RV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,MV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,LV="0%{opacity:0;} 100%{opacity:1;}",_V="0%{opacity:1;} 100%{opacity:0;}",BV=wo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FV=wo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UV=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=VI()?[LV,_V]:[RV(r),MV(r)];return{animation:e?`${zs(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zs(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$V=p.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?UV(t.position||e||"top-center",t.visible):{opacity:0},s=p.createElement(DV,{toast:t}),a=p.createElement(FV,{...t.ariaProps},E0(t.message,t));return p.createElement(BV,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):p.createElement(p.Fragment,null,s,a))});lV(p.createElement);var VV=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=p.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return p.createElement("div",{ref:s,className:e,style:r},i)},zV=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:VI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},HV=iy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qm=16,rv=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:c}=vV(r);return p.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Qm,left:Qm,right:Qm,bottom:Qm,pointerEvents:"none",...s},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),h=zV(d,f);return p.createElement(VV,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?HV:"",style:h},u.type==="custom"?E0(u.message,u):i?i(u):p.createElement($V,{toast:u,position:d}))}))},X=Y;function WV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const GV=p.forwardRef(WV);function KV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const QV=p.forwardRef(KV);function YV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const HI=p.forwardRef(YV);function qV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Re=p.forwardRef(qV);function JV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const WI=p.forwardRef(JV);function XV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const lh=p.forwardRef(XV);function ZV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const ez=p.forwardRef(ZV);function tz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const tu=p.forwardRef(tz);function rz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const nz=p.forwardRef(rz);function iz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const sz=p.forwardRef(iz);function az({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ac=p.forwardRef(az);function oz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const lz=p.forwardRef(oz);function cz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const pn=p.forwardRef(cz);function uz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $e=p.forwardRef(uz);function dz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const wt=p.forwardRef(dz);function fz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const hz=p.forwardRef(fz);function mz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const pz=p.forwardRef(mz);function gz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const GI=p.forwardRef(gz);function yz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const xz=p.forwardRef(yz);function vz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const bz=p.forwardRef(vz);function wz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const oc=p.forwardRef(wz);function jz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const GS=p.forwardRef(jz);function Nz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Az=p.forwardRef(Nz);function Ez({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const nv=p.forwardRef(Ez);function Sz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"}))}const ow=p.forwardRef(Sz);function kz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Cz=p.forwardRef(kz);function Pz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const gn=p.forwardRef(Pz);function Tz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Oz=p.forwardRef(Tz);function Iz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const S0=p.forwardRef(Iz);function Dz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const KS=p.forwardRef(Dz);function Rz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ai=p.forwardRef(Rz);function Mz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Lz=p.forwardRef(Mz);function _z({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const De=p.forwardRef(_z);function Bz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const k0=p.forwardRef(Bz);function Fz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const oo=p.forwardRef(Fz);function Uz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Ji=p.forwardRef(Uz);function $z({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Vz=p.forwardRef($z);function zz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const ch=p.forwardRef(zz);function Hz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"}))}const Wz=p.forwardRef(Hz);function Gz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const sd=p.forwardRef(Gz);function Kz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Qz=p.forwardRef(Kz);function Yz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const qn=p.forwardRef(Yz);function qz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Jz=p.forwardRef(qz);function Xz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const ad=p.forwardRef(Xz);function Zz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const od=p.forwardRef(Zz);function eH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const tH=p.forwardRef(eH);function rH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const nH=p.forwardRef(rH);function iH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ks=p.forwardRef(iH);function sH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const QS=p.forwardRef(sH);function aH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const oH=p.forwardRef(aH);function lH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Yt=p.forwardRef(lH);function cH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Ei=p.forwardRef(cH);function uH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const mi=p.forwardRef(uH);function dH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const rj=p.forwardRef(dH);function fH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const hH=p.forwardRef(fH);function mH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const pH=p.forwardRef(mH);function gH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ut=p.forwardRef(gH);function yH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const St=p.forwardRef(yH);function xH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Il=p.forwardRef(xH);function vH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const nj=p.forwardRef(vH),bH="modulepreload",wH=function(t){return"/"+t},YS={},ij=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=wH(c),c in YS)return;YS[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":bH,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},jH="6.15.0";function NH(t,e,r){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function Sr(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function ge(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&NH(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Fc(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>Fc(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let i=0;i<t.length;i++)n+=r[t[i]>>4],n+=r[t[i]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return Fc(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${Fc(n,e)}: ${Fc(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function sr(t,e){return t&&t.code===e}function sj(t){return sr(t,"CALL_EXCEPTION")}function it(t,e,r){let n=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Fc(r)}`);for(const a in r){if(a==="shortMessage")continue;const l=r[a];s.push(a+"="+Fc(l))}}s.push(`code=${e}`),s.push(`version=${jH}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return ge(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&ge(i,{shortMessage:n}),i}function K(t,e,r,n){if(!t)throw it(e,r,n)}function _(t,e,r,n){K(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function KI(t,e,r){r==null&&(r=""),r&&(r=": "+r),K(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),K(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function nm(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),K(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function QI(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(t.substring(i,i+2),16),i+=2;return n}_(!1,"invalid BytesLike value",e||"value",t)}function Ae(t,e){return QI(t,e,!1)}function Pr(t,e){return QI(t,e,!0)}function Xe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function aj(t){return Xe(t,!0)||t instanceof Uint8Array}const qS="0123456789abcdef";function re(t){const e=Ae(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=qS[(i&240)>>4]+qS[i&15]}return r}function bt(t){return"0x"+t.map(e=>re(e).substring(2)).join("")}function ru(t){return Xe(t,!0)?(t.length-2)/2:Ae(t).length}function yt(t,e,r){const n=Ae(t);return r!=null&&r>n.length&&K(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),re(n.slice(e??0,r??n.length))}function YI(t,e,r){const n=Ae(t);K(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),re(i)}function Hs(t,e){return YI(t,e,!0)}function AH(t,e){return YI(t,e,!1)}const sy=BigInt(0),xi=BigInt(1),Uc=9007199254740991;function C0(t,e){const r=ay(t,"value"),n=BigInt(je(e,"width"));if(K(r>>n===sy,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-xi){const i=(xi<<n)-xi;return-((~r&i)+xi)}return r}function qI(t,e){let r=oe(t,"value");const n=BigInt(je(e,"width")),i=xi<<n-xi;if(r<sy){r=-r,K(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(xi<<n)-xi;return(~r&s)+xi}else K(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function el(t,e){const r=ay(t,"value"),n=BigInt(je(e,"bits"));return r&(xi<<n)-xi}function oe(t,e){switch(typeof t){case"bigint":return t;case"number":return _(Number.isInteger(t),"underflow",e||"value",t),_(t>=-Uc&&t<=Uc,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){_(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}_(!1,"invalid BigNumberish value",e||"value",t)}function ay(t,e){const r=oe(t,e);return K(r>=sy,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const JS="0123456789abcdef";function oy(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=JS[r>>4],e+=JS[r&15];return BigInt(e)}return oe(t)}function je(t,e){switch(typeof t){case"bigint":return _(t>=-Uc&&t<=Uc,"overflow",e||"value",t),Number(t);case"number":return _(Number.isInteger(t),"underflow",e||"value",t),_(t>=-Uc&&t<=Uc,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return je(BigInt(t),e)}catch(r){_(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}_(!1,"invalid numeric value",e||"value",t)}function EH(t){return je(oy(t))}function lo(t,e){let n=ay(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=je(e,"width");for(K(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function Bt(t){const e=ay(t,"value");if(e===sy)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(r.substring(s,s+2),16)}return n}function pi(t){let e=re(aj(t)?t:Bt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const XS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ZS=BigInt(58);function SH(t){const e=Ae(t);let r=oy(e),n="";for(;r;)n=XS[Number(r%ZS)]+n,r/=ZS;for(let i=0;i<e.length&&!e[i];i++)n=XS[0]+n;return n}function kH(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return Ae(e)}function CH(t){const e=Ae(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var uu;class JI{constructor(e,r,n){F(this,"filter");F(this,"emitter");z(this,uu);O(this,uu,r),ge(this,{emitter:e,filter:n})}async removeListener(){E(this,uu)!=null&&await this.emitter.off(this.filter,E(this,uu))}}uu=new WeakMap;function PH(t,e,r,n,i){_(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function XI(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t==="OVERRUN"?r.length-e-1:0}function TH(t,e,r,n,i){return t==="OVERLONG"?(_(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),XI(t,e,r))}const OH=Object.freeze({error:PH,ignore:XI,replace:TH});function IH(t,e){e==null&&(e=OH.error);const r=Ae(t,"bytes"),n=[];let i=0;for(;i<r.length;){const s=r[i++];if(!(s>>7)){n.push(s);continue}let a=null,l=null;if((s&224)===192)a=1,l=127;else if((s&240)===224)a=2,l=2047;else if((s&248)===240)a=3,l=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+a>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let c=s&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=r[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),c=null;break}c=c<<6|d&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-a,r,n,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-a,r,n,c);continue}if(c<=l){i+=e("OVERLONG",i-1-a,r,n,c);continue}n.push(c)}}return n}function Rs(t,e){_(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);_(n<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function DH(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function P0(t,e){return DH(IH(t,e))}function ZI(t){async function e(r,n){K(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=r.url.split(":")[0].toLowerCase();K(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),K(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const a=new AbortController,l=setTimeout(()=>{s=it("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{s=it("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal});let u;try{u=await fetch(r.url,c)}catch(m){throw clearTimeout(l),s||m}clearTimeout(l);const d={};u.headers.forEach((m,g)=>{d[g.toLowerCase()]=m});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const RH=12,MH=250;let ek=ZI();const LH=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),_H=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let iv=!1;async function e6(t,e){try{const r=t.match(LH);if(!r)throw new Error("invalid data");return new Za(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?kH(r[3]):FH(r[3]))}catch{return new Za(599,"BAD REQUEST (invalid data: URI)",{},null,new co(t))}}function t6(t){async function e(r,n){try{const i=r.match(_H);if(!i)throw new Error("invalid link");return new co(`${t}${i[2]}`)}catch{return new Za(599,"BAD REQUEST (invalid IPFS URI)",{},null,new co(r))}}return e}const Ym={data:e6,ipfs:t6("https://gateway.ipfs.io/ipfs/")},r6=new WeakMap;var cl,Aa;class BH{constructor(e){z(this,cl);z(this,Aa);O(this,cl,[]),O(this,Aa,!1),r6.set(e,()=>{if(!E(this,Aa)){O(this,Aa,!0);for(const r of E(this,cl))setTimeout(()=>{r()},0);O(this,cl,[])}})}addListener(e){K(!E(this,Aa),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),E(this,cl).push(e)}get cancelled(){return E(this,Aa)}checkSignal(){K(!this.cancelled,"cancelled","CANCELLED",{})}}cl=new WeakMap,Aa=new WeakMap;function qm(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var du,fu,ai,us,hu,mu,Wt,nn,ds,ul,dl,fl,Ri,oi,Ea,hl,yf;const kg=class kg{constructor(e){z(this,hl);z(this,du);z(this,fu);z(this,ai);z(this,us);z(this,hu);z(this,mu);z(this,Wt);z(this,nn);z(this,ds);z(this,ul);z(this,dl);z(this,fl);z(this,Ri);z(this,oi);z(this,Ea);O(this,mu,String(e)),O(this,du,!1),O(this,fu,!0),O(this,ai,{}),O(this,us,""),O(this,hu,3e5),O(this,oi,{slotInterval:MH,maxAttempts:RH}),O(this,Ea,null)}get url(){return E(this,mu)}set url(e){O(this,mu,String(e))}get body(){return E(this,Wt)==null?null:new Uint8Array(E(this,Wt))}set body(e){if(e==null)O(this,Wt,void 0),O(this,nn,void 0);else if(typeof e=="string")O(this,Wt,Rs(e)),O(this,nn,"text/plain");else if(e instanceof Uint8Array)O(this,Wt,e),O(this,nn,"application/octet-stream");else if(typeof e=="object")O(this,Wt,Rs(JSON.stringify(e))),O(this,nn,"application/json");else throw new Error("invalid body")}hasBody(){return E(this,Wt)!=null}get method(){return E(this,us)?E(this,us):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),O(this,us,String(e).toUpperCase())}get headers(){const e=Object.assign({},E(this,ai));return E(this,ds)&&(e.authorization=`Basic ${CH(Rs(E(this,ds)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&E(this,nn)&&(e["content-type"]=E(this,nn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){E(this,ai)[String(e).toLowerCase()]=String(r)}clearHeaders(){O(this,ai,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return E(this,ds)||null}setCredentials(e,r){_(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),O(this,ds,`${e}:${r}`)}get allowGzip(){return E(this,fu)}set allowGzip(e){O(this,fu,!!e)}get allowInsecureAuthentication(){return!!E(this,du)}set allowInsecureAuthentication(e){O(this,du,!!e)}get timeout(){return E(this,hu)}set timeout(e){_(e>=0,"timeout must be non-zero","timeout",e),O(this,hu,e)}get preflightFunc(){return E(this,ul)||null}set preflightFunc(e){O(this,ul,e)}get processFunc(){return E(this,dl)||null}set processFunc(e){O(this,dl,e)}get retryFunc(){return E(this,fl)||null}set retryFunc(e){O(this,fl,e)}get getUrlFunc(){return E(this,Ea)||ek}set getUrlFunc(e){O(this,Ea,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${E(this,Wt)?re(E(this,Wt)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(E(this,oi).slotInterval=e.slotInterval),e.maxAttempts!=null&&(E(this,oi).maxAttempts=e.maxAttempts)}send(){return K(E(this,Ri)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),O(this,Ri,new BH(this)),J(this,hl,yf).call(this,0,tk()+this.timeout,0,this,new Za(0,"",{},null,this))}cancel(){K(E(this,Ri)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=r6.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();K(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new kg(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,O(i,ai,Object.assign({},E(this,ai))),E(this,Wt)&&O(i,Wt,new Uint8Array(E(this,Wt))),O(i,nn,E(this,nn)),i}clone(){const e=new kg(this.url);return O(e,us,E(this,us)),E(this,Wt)&&O(e,Wt,E(this,Wt)),O(e,nn,E(this,nn)),O(e,ai,Object.assign({},E(this,ai))),O(e,ds,E(this,ds)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),O(e,ul,E(this,ul)),O(e,dl,E(this,dl)),O(e,fl,E(this,fl)),O(e,oi,Object.assign({},E(this,oi))),O(e,Ea,E(this,Ea)),e}static lockConfig(){iv=!0}static getGateway(e){return Ym[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(iv)throw new Error("gateways locked");Ym[e]=r}static registerGetUrl(e){if(iv)throw new Error("gateways locked");ek=e}static createGetUrlFunc(e){return ZI(e)}static createDataGateway(){return e6}static createIpfsGatewayFunc(e){return t6(e)}};du=new WeakMap,fu=new WeakMap,ai=new WeakMap,us=new WeakMap,hu=new WeakMap,mu=new WeakMap,Wt=new WeakMap,nn=new WeakMap,ds=new WeakMap,ul=new WeakMap,dl=new WeakMap,fl=new WeakMap,Ri=new WeakMap,oi=new WeakMap,Ea=new WeakMap,hl=new WeakSet,yf=async function(e,r,n,i,s){var d,f,h;if(e>=E(this,oi).maxAttempts)return s.makeServerError("exceeded maximum retry limit");K(tk()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await UH(n);let a=this.clone();const l=(a.url.split(":")[0]||"").toLowerCase();if(l in Ym){const m=await Ym[l](a.url,qm(E(i,Ri)));if(m instanceof Za){let g=m;if(this.processFunc){qm(E(i,Ri));try{g=await this.processFunc(a,g)}catch(x){(x.throttle==null||typeof x.stall!="number")&&g.makeServerError("error in post-processing function",x).assertOk()}}return g}a=m}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,qm(E(i,Ri)));let u=new Za(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const m=u.headers.location||"";return J(d=a.redirect(m),hl,yf).call(d,e+1,r,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,e))){const m=u.headers["retry-after"];let g=E(this,oi).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(g=parseInt(m)),J(f=a.clone(),hl,yf).call(f,e+1,r,g,i,u)}if(this.processFunc){qm(E(i,Ri));try{u=await this.processFunc(a,u)}catch(m){(m.throttle==null||typeof m.stall!="number")&&u.makeServerError("error in post-processing function",m).assertOk();let g=E(this,oi).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(g=m.stall),J(h=a.clone(),hl,yf).call(h,e+1,r,g,i,u)}}return u};let co=kg;var Mh,Lh,_h,sn,pu,ml;const PA=class PA{constructor(e,r,n,i,s){z(this,Mh);z(this,Lh);z(this,_h);z(this,sn);z(this,pu);z(this,ml);O(this,Mh,e),O(this,Lh,r),O(this,_h,Object.keys(n).reduce((a,l)=>(a[l.toLowerCase()]=String(n[l]),a),{})),O(this,sn,i==null?null:new Uint8Array(i)),O(this,pu,s||null),O(this,ml,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${E(this,sn)?re(E(this,sn)):"null"}>`}get statusCode(){return E(this,Mh)}get statusMessage(){return E(this,Lh)}get headers(){return Object.assign({},E(this,_h))}get body(){return E(this,sn)==null?null:new Uint8Array(E(this,sn))}get bodyText(){try{return E(this,sn)==null?"":P0(E(this,sn))}catch{K(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{K(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new PA(599,n,this.headers,this.body,E(this,pu)||void 0);return O(i,ml,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:_(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw ge(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return E(this,sn)!=null}get request(){return E(this,pu)}ok(){return E(this,ml).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=E(this,ml);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{E(this,sn)&&(i=P0(E(this,sn)))}catch{}K(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Mh=new WeakMap,Lh=new WeakMap,_h=new WeakMap,sn=new WeakMap,pu=new WeakMap,ml=new WeakMap;let Za=PA;function tk(){return new Date().getTime()}function FH(t){return Rs(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function UH(t){return new Promise(e=>setTimeout(e,t))}const $H=BigInt(-1),ri=BigInt(0),$c=BigInt(1),VH=BigInt(5),gc={};let nu="0000";for(;nu.length<80;)nu+=nu;function To(t){let e=nu;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Xd(t,e,r){const n=BigInt(e.width);if(e.signed){const i=$c<<n-$c;K(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>ri?t=C0(el(t,n),n):t=-C0(el(-t,n),n)}else{const i=$c<<n;K(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-$c}return t}function sv(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);_(s,"invalid fixed format","format",t),e=s[1]!=="u",r=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=t,a=(l,c,u)=>s[l]==null?u:(_(typeof s[l]===c,"invalid fixed format ("+l+" not "+c+")","format."+l,s[l]),s[l]);e=a("signed","boolean",e),r=a("width","number",r),n=a("decimals","number",n)}_(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),_(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function zH(t,e){let r="";t<ri&&(r="-",t*=$H);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=nu+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var li,ze,jr,Fe,Bo,is,lw,cw,uw,dw;const va=class va{constructor(e,r,n){z(this,Fe);F(this,"format");z(this,li);z(this,ze);z(this,jr);F(this,"_value");nm(e,gc,"FixedNumber"),O(this,ze,r),O(this,li,n);const i=zH(r,n.decimals);ge(this,{format:n.name,_value:i}),O(this,jr,To(n.decimals))}get signed(){return E(this,li).signed}get width(){return E(this,li).width}get decimals(){return E(this,li).decimals}get value(){return E(this,ze)}addUnsafe(e){return J(this,Fe,lw).call(this,e)}add(e){return J(this,Fe,lw).call(this,e,"add")}subUnsafe(e){return J(this,Fe,cw).call(this,e)}sub(e){return J(this,Fe,cw).call(this,e,"sub")}mulUnsafe(e){return J(this,Fe,uw).call(this,e)}mul(e){return J(this,Fe,uw).call(this,e,"mul")}mulSignal(e){J(this,Fe,Bo).call(this,e);const r=E(this,ze)*E(e,ze);return K(r%E(this,jr)===ri,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),J(this,Fe,is).call(this,r/E(this,jr),"mulSignal")}divUnsafe(e){return J(this,Fe,dw).call(this,e)}div(e){return J(this,Fe,dw).call(this,e,"div")}divSignal(e){K(E(e,ze)!==ri,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),J(this,Fe,Bo).call(this,e);const r=E(this,ze)*E(this,jr);return K(r%E(e,ze)===ri,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),J(this,Fe,is).call(this,r/E(e,ze),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=To(i):i<0&&(r*=To(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=E(this,ze);return E(this,ze)<ri&&(e-=E(this,jr)-$c),e=E(this,ze)/E(this,jr)*E(this,jr),J(this,Fe,is).call(this,e,"floor")}ceiling(){let e=E(this,ze);return E(this,ze)>ri&&(e+=E(this,jr)-$c),e=E(this,ze)/E(this,jr)*E(this,jr),J(this,Fe,is).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=VH*To(r-1);let i=this.value+n;const s=To(r);return i=i/s*s,Xd(i,E(this,li),"round"),new va(gc,i,E(this,li))}isZero(){return E(this,ze)===ri}isNegative(){return E(this,ze)<ri}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return va.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:je(r),s=sv(n);let a=oe(e,"value");const l=i-s.decimals;if(l>0){const c=To(l);K(a%c===ri,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=c}else l<0&&(a*=To(-l));return Xd(a,s,"fromValue"),new va(gc,a,s)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);_(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=sv(r);let s=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=nu;K(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const l=BigInt(n[1]+s+a);return Xd(l,i,"fromString"),new va(gc,l,i)}static fromBytes(e,r){let n=oy(Ae(e,"value"));const i=sv(r);return i.signed&&(n=C0(n,i.width)),Xd(n,i,"fromBytes"),new va(gc,n,i)}};li=new WeakMap,ze=new WeakMap,jr=new WeakMap,Fe=new WeakSet,Bo=function(e){_(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},is=function(e,r){return e=Xd(e,E(this,li),r),new va(gc,e,E(this,li))},lw=function(e,r){return J(this,Fe,Bo).call(this,e),J(this,Fe,is).call(this,E(this,ze)+E(e,ze),r)},cw=function(e,r){return J(this,Fe,Bo).call(this,e),J(this,Fe,is).call(this,E(this,ze)-E(e,ze),r)},uw=function(e,r){return J(this,Fe,Bo).call(this,e),J(this,Fe,is).call(this,E(this,ze)*E(e,ze)/E(this,jr),r)},dw=function(e,r){return K(E(e,ze)!==ri,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),J(this,Fe,Bo).call(this,e),J(this,Fe,is).call(this,E(this,ze)*E(this,jr)/E(e,ze),r)};let T0=va;function HH(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function rk(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function nk(t,e,r,n){const i=[];for(;r<e+1+n;){const s=n6(t,r);i.push(s.result),r+=s.consumed,K(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function n6(t,e){K(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{K(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=rk(t,e+1,n);return r(e+1+n+i),nk(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),nk(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=rk(t,e+1,n);r(e+1+n+i);const s=re(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=re(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:HH(t[e])}}function im(t){const e=Ae(t,"data"),r=n6(e,0);return _(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function ik(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function i6(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(i6(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=ik(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(Ae(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=ik(e.length);return r.unshift(183+r.length),r.concat(e)}const sk="0123456789abcdef";function uo(t){let e="0x";for(const r of i6(t))e+=sk[r>>4],e+=sk[r&15];return e}function WH(t,e){let r=18;return r=je(e,"unit"),T0.fromValue(t,r,{decimals:r,width:512}).toString()}function GH(t,e){_(typeof t=="string","value must be a string","value",t);let r=18;return r=je(e,"unit"),T0.fromString(t,{decimals:r,width:512}).value}function uh(t){return WH(t,18)}function fw(t){return GH(t,18)}const Tr=32,hw=new Uint8Array(Tr),KH=["then"],Jm={},s6=new WeakMap;function Ho(t){return s6.get(t)}function ak(t,e){s6.set(t,e)}function Zd(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function mw(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof ld?mw(Ho(n),n,r):n):t.reduce((n,i,s)=>{let a=e.getValue(i);return i in n||(r&&a instanceof ld&&(a=mw(Ho(a),a,r)),n[i]=a),n},{})}var gu;const Gc=class Gc extends Array{constructor(...r){const n=r[0];let i=r[1],s=(r[2]||[]).slice(),a=!0;n!==Jm&&(i=r,s=[],a=!1);super(i.length);z(this,gu);i.forEach((u,d)=>{this[d]=u});const l=s.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(ak(this,Object.freeze(i.map((u,d)=>{const f=s[d];return f!=null&&l.get(f)===1?f:null}))),O(this,gu,[]),E(this,gu)==null&&E(this,gu),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(u,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const m=je(d,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const g=u[m];return g instanceof Error&&Zd(`index ${m}`,g),g}if(KH.indexOf(d)>=0)return Reflect.get(u,d,f);const h=u[d];if(h instanceof Function)return function(...m){return h.apply(this===f?u:this,m)};if(!(d in u))return u.getValue.apply(this===f?u:this,[d])}return Reflect.get(u,d,f)}});return ak(c,Ho(this)),c}toArray(r){const n=[];return this.forEach((i,s)=>{i instanceof Error&&Zd(`index ${s}`,i),r&&i instanceof Gc&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=Ho(this);return n.reduce((i,s,a)=>(K(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),mw(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=Ho(this),s=[],a=[];for(let l=r;l<n;l++)s.push(this[l]),a.push(i[l]);return new Gc(Jm,s,a)}filter(r,n){const i=Ho(this),s=[],a=[];for(let l=0;l<this.length;l++){const c=this[l];c instanceof Error&&Zd(`index ${l}`,c),r.call(n,c,l,this)&&(s.push(c),a.push(i[l]))}return new Gc(Jm,s,a)}map(r,n){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&Zd(`index ${s}`,a),i.push(r.call(n,a,s,this))}return i}getValue(r){const n=Ho(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&Zd(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new Gc(Jm,r,n)}};gu=new WeakMap;let ld=Gc;function ok(t){let e=Bt(t);return K(e.length<=Tr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Tr,offset:e.length}),e.length!==Tr&&(e=Pr(bt([hw.slice(e.length%Tr),e]))),e}class Xs{constructor(e,r,n,i){F(this,"name");F(this,"type");F(this,"localName");F(this,"dynamic");ge(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){_(!1,e,this.localName,r)}}var fs,pl,yu,Mp;class pw{constructor(){z(this,yu);z(this,fs);z(this,pl);O(this,fs,[]),O(this,pl,0)}get data(){return bt(E(this,fs))}get length(){return E(this,pl)}appendWriter(e){return J(this,yu,Mp).call(this,Pr(e.data))}writeBytes(e){let r=Pr(e);const n=r.length%Tr;return n&&(r=Pr(bt([r,hw.slice(n)]))),J(this,yu,Mp).call(this,r)}writeValue(e){return J(this,yu,Mp).call(this,ok(e))}writeUpdatableValue(){const e=E(this,fs).length;return E(this,fs).push(hw),O(this,pl,E(this,pl)+Tr),r=>{E(this,fs)[e]=ok(r)}}}fs=new WeakMap,pl=new WeakMap,yu=new WeakSet,Mp=function(e){return E(this,fs).push(e),O(this,pl,E(this,pl)+e.length),e.length};var Br,an,gl,yl,Sa,ec,yw,a6;const TA=class TA{constructor(e,r,n){z(this,ec);F(this,"allowLoose");z(this,Br);z(this,an);z(this,gl);z(this,yl);z(this,Sa);ge(this,{allowLoose:!!r}),O(this,Br,Pr(e)),O(this,gl,0),O(this,yl,null),O(this,Sa,n??1024),O(this,an,0)}get data(){return re(E(this,Br))}get dataLength(){return E(this,Br).length}get consumed(){return E(this,an)}get bytes(){return new Uint8Array(E(this,Br))}subReader(e){const r=new TA(E(this,Br).slice(E(this,an)+e),this.allowLoose,E(this,Sa));return O(r,yl,this),r}readBytes(e,r){let n=J(this,ec,a6).call(this,0,e,!!r);return J(this,ec,yw).call(this,e),O(this,an,E(this,an)+n.length),n.slice(0,e)}readValue(){return oy(this.readBytes(Tr))}readIndex(){return EH(this.readBytes(Tr))}};Br=new WeakMap,an=new WeakMap,gl=new WeakMap,yl=new WeakMap,Sa=new WeakMap,ec=new WeakSet,yw=function(e){var r;if(E(this,yl))return J(r=E(this,yl),ec,yw).call(r,e);O(this,gl,E(this,gl)+e),K(E(this,Sa)<1||E(this,gl)<=E(this,Sa)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${E(this,Sa)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Pr(E(this,Br)),offset:E(this,an),length:e,info:{bytesRead:E(this,gl),dataLength:this.dataLength}})},a6=function(e,r,n){let i=Math.ceil(r/Tr)*Tr;return E(this,an)+i>E(this,Br).length&&(this.allowLoose&&n&&E(this,an)+r<=E(this,Br).length?i=r:K(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Pr(E(this,Br)),length:E(this,Br).length,offset:E(this,an)+i})),E(this,Br).slice(E(this,an),E(this,an)+i)};let gw=TA;function O0(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function oj(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function QH(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");O0(t.outputLen),O0(t.blockLen)}function cd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function o6(t,e){oj(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const av=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const l6=t=>t instanceof Uint8Array,YH=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ov=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Ti=(t,e)=>t<<32-e|t>>>e,qH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qH)throw new Error("Non little-endian hardware is not supported");function JH(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ly(t){if(typeof t=="string"&&(t=JH(t)),!l6(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function XH(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!l6(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class lj{clone(){return this._cloneInto()}}function cj(t){const e=n=>t().update(ly(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ZH(t=32){if(av&&typeof av.getRandomValues=="function")return av.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class c6 extends lj{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,QH(e);const n=ly(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return cd(this),this.iHash.update(e),this}digestInto(e){cd(this),oj(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const u6=(t,e,r)=>new c6(t,e).update(r).digest();u6.create=(t,e)=>new c6(t,e);function eW(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),l=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+u,l,n)}class d6 extends lj{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ov(this.buffer)}update(e){cd(this);const{view:r,buffer:n,blockLen:i}=this;e=ly(e);const s=e.length;for(let a=0;a<s;){const l=Math.min(i-this.pos,s-a);if(l===i){const c=ov(e);for(;i<=s-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){cd(this),o6(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;eW(n,i-8,BigInt(this.length*8),s),this.process(n,0);const l=ov(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)l.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:l}=this;return e.length=i,e.pos=l,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const tW=(t,e,r)=>t&e^~t&r,rW=(t,e,r)=>t&e^t&r^e&r,nW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),aa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oa=new Uint32Array(64);class iW extends d6{constructor(){super(64,32,8,!1),this.A=aa[0]|0,this.B=aa[1]|0,this.C=aa[2]|0,this.D=aa[3]|0,this.E=aa[4]|0,this.F=aa[5]|0,this.G=aa[6]|0,this.H=aa[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:l,H:c}=this;return[e,r,n,i,s,a,l,c]}set(e,r,n,i,s,a,l,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)oa[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=oa[f-15],m=oa[f-2],g=Ti(h,7)^Ti(h,18)^h>>>3,x=Ti(m,17)^Ti(m,19)^m>>>10;oa[f]=x+oa[f-7]+g+oa[f-16]|0}let{A:n,B:i,C:s,D:a,E:l,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const h=Ti(l,6)^Ti(l,11)^Ti(l,25),m=d+h+tW(l,c,u)+nW[f]+oa[f]|0,x=(Ti(n,2)^Ti(n,13)^Ti(n,22))+rW(n,i,s)|0;d=u,u=c,c=l,l=a+m|0,a=s,s=i,i=n,n=m+x|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,i,s,a,l,c,u,d)}roundClean(){oa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const f6=cj(()=>new iW),Xm=BigInt(2**32-1),xw=BigInt(32);function h6(t,e=!1){return e?{h:Number(t&Xm),l:Number(t>>xw&Xm)}:{h:Number(t>>xw&Xm)|0,l:Number(t&Xm)|0}}function m6(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=h6(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}const sW=(t,e)=>BigInt(t>>>0)<<xw|BigInt(e>>>0),aW=(t,e,r)=>t>>>r,oW=(t,e,r)=>t<<32-r|e>>>r,lW=(t,e,r)=>t>>>r|e<<32-r,cW=(t,e,r)=>t<<32-r|e>>>r,uW=(t,e,r)=>t<<64-r|e>>>r-32,dW=(t,e,r)=>t>>>r-32|e<<64-r,fW=(t,e)=>e,hW=(t,e)=>t,p6=(t,e,r)=>t<<r|e>>>32-r,g6=(t,e,r)=>e<<r|t>>>32-r,y6=(t,e,r)=>e<<r-32|t>>>64-r,x6=(t,e,r)=>t<<r-32|e>>>64-r;function mW(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const pW=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),gW=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,yW=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),xW=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,vW=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),bW=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Ne={fromBig:h6,split:m6,toBig:sW,shrSH:aW,shrSL:oW,rotrSH:lW,rotrSL:cW,rotrBH:uW,rotrBL:dW,rotr32H:fW,rotr32L:hW,rotlSH:p6,rotlSL:g6,rotlBH:y6,rotlBL:x6,add:mW,add3L:pW,add3H:gW,add4L:yW,add4H:xW,add5H:bW,add5L:vW},[wW,jW]=Ne.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),la=new Uint32Array(80),ca=new Uint32Array(80);class NW extends d6{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,i,s,a,l,c,u,d,f,h,m,g,x,w]}set(e,r,n,i,s,a,l,c,u,d,f,h,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let b=0;b<16;b++,r+=4)la[b]=e.getUint32(r),ca[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const j=la[b-15]|0,A=ca[b-15]|0,S=Ne.rotrSH(j,A,1)^Ne.rotrSH(j,A,8)^Ne.shrSH(j,A,7),C=Ne.rotrSL(j,A,1)^Ne.rotrSL(j,A,8)^Ne.shrSL(j,A,7),N=la[b-2]|0,P=ca[b-2]|0,I=Ne.rotrSH(N,P,19)^Ne.rotrBH(N,P,61)^Ne.shrSH(N,P,6),D=Ne.rotrSL(N,P,19)^Ne.rotrBL(N,P,61)^Ne.shrSL(N,P,6),B=Ne.add4L(C,D,ca[b-7],ca[b-16]),V=Ne.add4H(B,S,I,la[b-7],la[b-16]);la[b]=V|0,ca[b]=B|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:f,El:h,Fh:m,Fl:g,Gh:x,Gl:w,Hh:y,Hl:v}=this;for(let b=0;b<80;b++){const j=Ne.rotrSH(f,h,14)^Ne.rotrSH(f,h,18)^Ne.rotrBH(f,h,41),A=Ne.rotrSL(f,h,14)^Ne.rotrSL(f,h,18)^Ne.rotrBL(f,h,41),S=f&m^~f&x,C=h&g^~h&w,N=Ne.add5L(v,A,C,jW[b],ca[b]),P=Ne.add5H(N,y,j,S,wW[b],la[b]),I=N|0,D=Ne.rotrSH(n,i,28)^Ne.rotrBH(n,i,34)^Ne.rotrBH(n,i,39),B=Ne.rotrSL(n,i,28)^Ne.rotrBL(n,i,34)^Ne.rotrBL(n,i,39),V=n&s^n&l^s&l,Q=i&a^i&c^a&c;y=x|0,v=w|0,x=m|0,w=g|0,m=f|0,g=h|0,{h:f,l:h}=Ne.add(u|0,d|0,P|0,I|0),u=l|0,d=c|0,l=s|0,c=a|0,s=n|0,a=i|0;const T=Ne.add3L(I,B,Q);n=Ne.add3H(T,P,D,V),i=T|0}({h:n,l:i}=Ne.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Ne.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:l,l:c}=Ne.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Ne.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=Ne.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:g}=Ne.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=Ne.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:y,l:v}=Ne.add(this.Hh|0,this.Hl|0,y|0,v|0),this.set(n,i,s,a,l,c,u,d,f,h,m,g,x,w,y,v)}roundClean(){la.fill(0),ca.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const AW=cj(()=>new NW);function EW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const lk=EW();lk.crypto||lk.msCrypto;function SW(t){switch(t){case"sha256":return f6.create();case"sha512":return AW.create()}_(!1,"invalid hashing algorithm name","algorithm",t)}const[v6,b6,w6]=[[],[],[]],kW=BigInt(0),ef=BigInt(1),CW=BigInt(2),PW=BigInt(7),TW=BigInt(256),OW=BigInt(113);for(let t=0,e=ef,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],v6.push(2*(5*n+r)),b6.push((t+1)*(t+2)/2%64);let i=kW;for(let s=0;s<7;s++)e=(e<<ef^(e>>PW)*OW)%TW,e&CW&&(i^=ef<<(ef<<BigInt(s))-ef);w6.push(i)}const[IW,DW]=m6(w6,!0),ck=(t,e,r)=>r>32?y6(t,e,r):p6(t,e,r),uk=(t,e,r)=>r>32?x6(t,e,r):g6(t,e,r);function RW(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],f=ck(u,d,1)^r[l],h=uk(u,d,1)^r[l+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const l=b6[a],c=ck(i,s,l),u=uk(i,s,l),d=v6[a];i=t[d],s=t[d+1],t[d]=c,t[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=t[a+l];for(let l=0;l<10;l++)t[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=IW[n],t[1]^=DW[n]}r.fill(0)}class uj extends lj{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,O0(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=YH(this.state)}keccak(){RW(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){cd(this);const{blockLen:r,state:n}=this;e=ly(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let l=0;l<a;l++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){cd(this,!1),oj(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return O0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(o6(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new uj(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const MW=(t,e,r)=>cj(()=>new uj(e,t,r)),LW=MW(1,136,256/8);let j6=!1;const N6=function(t){return LW(t)};let A6=N6;function It(t){const e=Ae(t,"data");return re(A6(e))}It._=N6;It.lock=function(){j6=!0};It.register=function(t){if(j6)throw new TypeError("keccak256 is locked");A6=t};Object.freeze(It);const E6=function(t){return SW("sha256").update(t).digest()};let S6=E6,k6=!1;function Pd(t){const e=Ae(t,"data");return re(S6(e))}Pd._=E6;Pd.lock=function(){k6=!0};Pd.register=function(t){if(k6)throw new Error("sha256 is locked");S6=t};Object.freeze(Pd);Object.freeze(Pd);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C6=BigInt(0),cy=BigInt(1),_W=BigInt(2),uy=t=>t instanceof Uint8Array,BW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ud(t){if(!uy(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=BW[t[r]];return e}function P6(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function dj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function dd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function Dl(t){return dj(ud(t))}function fj(t){if(!uy(t))throw new Error("Uint8Array expected");return dj(ud(Uint8Array.from(t).reverse()))}function fd(t,e){return dd(t.toString(16).padStart(e*2,"0"))}function hj(t,e){return fd(t,e).reverse()}function FW(t){return dd(P6(t))}function si(t,e,r){let n;if(typeof e=="string")try{n=dd(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(uy(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function dh(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!uy(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function UW(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function $W(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function VW(t){let e;for(e=0;t>C6;t>>=cy,e+=1);return e}function zW(t,e){return t>>BigInt(e)&cy}const HW=(t,e,r)=>t|(r?cy:C6)<<BigInt(e),mj=t=>(_W<<BigInt(t-1))-cy,lv=t=>new Uint8Array(t),dk=t=>Uint8Array.from(t);function T6(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=lv(t),i=lv(t),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},l=(...f)=>r(i,n,...f),c=(f=lv())=>{i=l(dk([0]),f),n=l(),f.length!==0&&(i=l(dk([1]),f),n=l())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=l();const m=n.slice();h.push(m),f+=n.length}return dh(...h)};return(f,h)=>{a(),c(f);let m;for(;!(m=h(u()));)c();return a(),m}}const WW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function sm(t,e,r={}){const n=(i,s,a)=>{const l=WW[s];if(typeof l!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(a&&c===void 0)&&!l(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const GW=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zW,bitLen:VW,bitMask:mj,bitSet:HW,bytesToHex:ud,bytesToNumberBE:Dl,bytesToNumberLE:fj,concatBytes:dh,createHmacDrbg:T6,ensureBytes:si,equalBytes:UW,hexToBytes:dd,hexToNumber:dj,numberToBytesBE:fd,numberToBytesLE:hj,numberToHexUnpadded:P6,numberToVarBytesBE:FW,utf8ToBytes:$W,validateObject:sm},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qt=BigInt(0),At=BigInt(1),Wo=BigInt(2),KW=BigInt(3),vw=BigInt(4),fk=BigInt(5),hk=BigInt(8);BigInt(9);BigInt(16);function $r(t,e){const r=t%e;return r>=qt?r:e+r}function QW(t,e,r){if(r<=qt||e<qt)throw new Error("Expected power/modulo > 0");if(r===At)return qt;let n=At;for(;e>qt;)e&At&&(n=n*t%r),t=t*t%r,e>>=At;return n}function Tn(t,e,r){let n=t;for(;e-- >qt;)n*=n,n%=r;return n}function bw(t,e){if(t===qt||e<=qt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=$r(t,e),n=e,i=qt,s=At;for(;r!==qt;){const l=n/r,c=n%r,u=i-s*l;n=r,r=c,i=s,s=u}if(n!==At)throw new Error("invert: does not exist");return $r(i,e)}function YW(t){const e=(t-At)/Wo;let r,n,i;for(r=t-At,n=0;r%Wo===qt;r/=Wo,n++);for(i=Wo;i<t&&QW(i,e,t)!==t-At;i++);if(n===1){const a=(t+At)/vw;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(r+At)/Wo;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=n,d=l.pow(l.mul(l.ONE,i),r),f=l.pow(c,s),h=l.pow(c,r);for(;!l.eql(h,l.ONE);){if(l.eql(h,l.ZERO))return l.ZERO;let m=1;for(let x=l.sqr(h);m<u&&!l.eql(x,l.ONE);m++)x=l.sqr(x);const g=l.pow(d,At<<BigInt(u-m-1));d=l.sqr(g),f=l.mul(f,g),h=l.mul(h,d),u=m}return f}}function qW(t){if(t%vw===KW){const e=(t+At)/vw;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%hk===fk){const e=(t-fk)/hk;return function(n,i){const s=n.mul(i,Wo),a=n.pow(s,e),l=n.mul(i,a),c=n.mul(n.mul(l,Wo),a),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return YW(t)}const JW=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function XW(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=JW.reduce((n,i)=>(n[i]="function",n),e);return sm(t,r)}function ZW(t,e,r){if(r<qt)throw new Error("Expected power > 0");if(r===qt)return t.ONE;if(r===At)return e;let n=t.ONE,i=e;for(;r>qt;)r&At&&(n=t.mul(n,i)),i=t.sqr(i),r>>=At;return n}function eG(t,e){const r=new Array(e.length),n=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),i),r}function O6(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function tG(t,e,r=!1,n={}){if(t<=qt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=O6(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=qW(t),l=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:mj(i),ZERO:qt,ONE:At,create:c=>$r(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return qt<=c&&c<t},is0:c=>c===qt,isOdd:c=>(c&At)===At,neg:c=>$r(-c,t),eql:(c,u)=>c===u,sqr:c=>$r(c*c,t),add:(c,u)=>$r(c+u,t),sub:(c,u)=>$r(c-u,t),mul:(c,u)=>$r(c*u,t),pow:(c,u)=>ZW(l,c,u),div:(c,u)=>$r(c*bw(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>bw(c,t),sqrt:n.sqrt||(c=>a(l,c)),invertBatch:c=>eG(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>r?hj(c,s):fd(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?fj(c):Dl(c)}});return Object.freeze(l)}function I6(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function D6(t){const e=I6(t);return e+Math.ceil(e/2)}function rG(t,e,r=!1){const n=t.length,i=I6(e),s=D6(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const a=r?Dl(t):fj(t),l=$r(a,e-At)+At;return r?hj(l,i):fd(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nG=BigInt(0),cv=BigInt(1);function iG(t,e){const r=(i,s)=>{const a=s.negate();return i?a:s},n=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,l=i;for(;s>nG;)s&cv&&(a=a.add(l)),l=l.double(),s>>=cv;return a},precomputeWindow(i,s){const{windows:a,windowSize:l}=n(s),c=[];let u=i,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let h=1;h<l;h++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(i,s,a){const{windows:l,windowSize:c}=n(i);let u=t.ZERO,d=t.BASE;const f=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let g=0;g<l;g++){const x=g*c;let w=Number(a&f);a>>=m,w>c&&(w-=h,a+=cv);const y=x,v=x+Math.abs(w)-1,b=g%2!==0,j=w<0;w===0?d=d.add(r(b,s[y])):u=u.add(r(j,s[v]))}return{p:u,f:d}},wNAFCached(i,s,a,l){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,l(u))),this.wNAF(c,u,a)}}}function R6(t){return XW(t.Fp),sm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...O6(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sG(t){const e=R6(t);sm(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:aG,hexToBytes:oG}=GW,tl={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=tl;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:aG(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=tl,r=typeof t=="string"?oG(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=tl._parseInt(r.subarray(2)),{d:a,l}=tl._parseInt(s);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,l=r(s),c=r(a);return`30${r(a+s+4)}02${c}${i}02${l}${n}`}},ws=BigInt(0),$n=BigInt(1);BigInt(2);const mk=BigInt(3);BigInt(4);function lG(t){const e=sG(t),{Fp:r}=e,n=e.toBytes||((g,x,w)=>{const y=x.toAffine();return dh(Uint8Array.from([4]),r.toBytes(y.x),r.toBytes(y.y))}),i=e.fromBytes||(g=>{const x=g.subarray(1),w=r.fromBytes(x.subarray(0,r.BYTES)),y=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:w,y}});function s(g){const{a:x,b:w}=e,y=r.sqr(g),v=r.mul(y,g);return r.add(r.add(v,r.mul(g,x)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&ws<g&&g<e.n}function l(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:x,nByteLength:w,wrapPrivateKey:y,n:v}=e;if(x&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=ud(g)),typeof g!="string"||!x.includes(g.length))throw new Error("Invalid key");g=g.padStart(w*2,"0")}let b;try{b=typeof g=="bigint"?g:Dl(si("private key",g,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof g}`)}return y&&(b=$r(b,v)),l(b),b}const u=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(x,w,y){if(this.px=x,this.py=w,this.pz=y,x==null||!r.isValid(x))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(y==null||!r.isValid(y))throw new Error("z required")}static fromAffine(x){const{x:w,y}=x||{};if(!x||!r.isValid(w)||!r.isValid(y))throw new Error("invalid affine point");if(x instanceof f)throw new Error("projective point not allowed");const v=b=>r.eql(b,r.ZERO);return v(w)&&v(y)?f.ZERO:new f(w,y,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const w=r.invertBatch(x.map(y=>y.pz));return x.map((y,v)=>y.toAffine(w[v])).map(f.fromAffine)}static fromHex(x){const w=f.fromAffine(i(si("pointHex",x)));return w.assertValidity(),w}static fromPrivateKey(x){return f.BASE.multiply(c(x))}_setWindowSize(x){this._WINDOW_SIZE=x,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x,y:w}=this.toAffine();if(!r.isValid(x)||!r.isValid(w))throw new Error("bad point: x or y not FE");const y=r.sqr(w),v=s(x);if(!r.eql(y,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:x}=this.toAffine();if(r.isOdd)return!r.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){d(x);const{px:w,py:y,pz:v}=this,{px:b,py:j,pz:A}=x,S=r.eql(r.mul(w,A),r.mul(b,v)),C=r.eql(r.mul(y,A),r.mul(j,v));return S&&C}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:x,b:w}=e,y=r.mul(w,mk),{px:v,py:b,pz:j}=this;let A=r.ZERO,S=r.ZERO,C=r.ZERO,N=r.mul(v,v),P=r.mul(b,b),I=r.mul(j,j),D=r.mul(v,b);return D=r.add(D,D),C=r.mul(v,j),C=r.add(C,C),A=r.mul(x,C),S=r.mul(y,I),S=r.add(A,S),A=r.sub(P,S),S=r.add(P,S),S=r.mul(A,S),A=r.mul(D,A),C=r.mul(y,C),I=r.mul(x,I),D=r.sub(N,I),D=r.mul(x,D),D=r.add(D,C),C=r.add(N,N),N=r.add(C,N),N=r.add(N,I),N=r.mul(N,D),S=r.add(S,N),I=r.mul(b,j),I=r.add(I,I),N=r.mul(I,D),A=r.sub(A,N),C=r.mul(I,P),C=r.add(C,C),C=r.add(C,C),new f(A,S,C)}add(x){d(x);const{px:w,py:y,pz:v}=this,{px:b,py:j,pz:A}=x;let S=r.ZERO,C=r.ZERO,N=r.ZERO;const P=e.a,I=r.mul(e.b,mk);let D=r.mul(w,b),B=r.mul(y,j),V=r.mul(v,A),Q=r.add(w,y),T=r.add(b,j);Q=r.mul(Q,T),T=r.add(D,B),Q=r.sub(Q,T),T=r.add(w,v);let M=r.add(b,A);return T=r.mul(T,M),M=r.add(D,V),T=r.sub(T,M),M=r.add(y,v),S=r.add(j,A),M=r.mul(M,S),S=r.add(B,V),M=r.sub(M,S),N=r.mul(P,T),S=r.mul(I,V),N=r.add(S,N),S=r.sub(B,N),N=r.add(B,N),C=r.mul(S,N),B=r.add(D,D),B=r.add(B,D),V=r.mul(P,V),T=r.mul(I,T),B=r.add(B,V),V=r.sub(D,V),V=r.mul(P,V),T=r.add(T,V),D=r.mul(B,T),C=r.add(C,D),D=r.mul(M,T),S=r.mul(Q,S),S=r.sub(S,D),D=r.mul(Q,B),N=r.mul(M,N),N=r.add(N,D),new f(S,C,N)}subtract(x){return this.add(x.negate())}is0(){return this.equals(f.ZERO)}wNAF(x){return m.wNAFCached(this,u,x,w=>{const y=r.invertBatch(w.map(v=>v.pz));return w.map((v,b)=>v.toAffine(y[b])).map(f.fromAffine)})}multiplyUnsafe(x){const w=f.ZERO;if(x===ws)return w;if(l(x),x===$n)return this;const{endo:y}=e;if(!y)return m.unsafeLadder(this,x);let{k1neg:v,k1:b,k2neg:j,k2:A}=y.splitScalar(x),S=w,C=w,N=this;for(;b>ws||A>ws;)b&$n&&(S=S.add(N)),A&$n&&(C=C.add(N)),N=N.double(),b>>=$n,A>>=$n;return v&&(S=S.negate()),j&&(C=C.negate()),C=new f(r.mul(C.px,y.beta),C.py,C.pz),S.add(C)}multiply(x){l(x);let w=x,y,v;const{endo:b}=e;if(b){const{k1neg:j,k1:A,k2neg:S,k2:C}=b.splitScalar(w);let{p:N,f:P}=this.wNAF(A),{p:I,f:D}=this.wNAF(C);N=m.constTimeNegate(j,N),I=m.constTimeNegate(S,I),I=new f(r.mul(I.px,b.beta),I.py,I.pz),y=N.add(I),v=P.add(D)}else{const{p:j,f:A}=this.wNAF(w);y=j,v=A}return f.normalizeZ([y,v])[0]}multiplyAndAddUnsafe(x,w,y){const v=f.BASE,b=(A,S)=>S===ws||S===$n||!A.equals(v)?A.multiplyUnsafe(S):A.multiply(S),j=b(this,w).add(b(x,y));return j.is0()?void 0:j}toAffine(x){const{px:w,py:y,pz:v}=this,b=this.is0();x==null&&(x=b?r.ONE:r.inv(v));const j=r.mul(w,x),A=r.mul(y,x),S=r.mul(v,x);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:j,y:A}}isTorsionFree(){const{h:x,isTorsionFree:w}=e;if(x===$n)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:w}=e;return x===$n?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return this.assertValidity(),n(f,this,x)}toHex(x=!0){return ud(this.toRawBytes(x))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,m=iG(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function cG(t){const e=R6(t);return sm(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function uG(t){const e=cG(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(T){return ws<T&&T<r.ORDER}function l(T){return $r(T,n)}function c(T){return bw(T,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=lG({...e,toBytes(T,M,U){const k=M.toAffine(),L=r.toBytes(k.x),H=dh;return U?H(Uint8Array.from([M.hasEvenY()?2:3]),L):H(Uint8Array.from([4]),L,r.toBytes(k.y))},fromBytes(T){const M=T.length,U=T[0],k=T.subarray(1);if(M===i&&(U===2||U===3)){const L=Dl(k);if(!a(L))throw new Error("Point is not on curve");const H=f(L);let W=r.sqrt(H);const G=(W&$n)===$n;return(U&1)===1!==G&&(W=r.neg(W)),{x:L,y:W}}else if(M===s&&U===4){const L=r.fromBytes(k.subarray(0,r.BYTES)),H=r.fromBytes(k.subarray(r.BYTES,2*r.BYTES));return{x:L,y:H}}else throw new Error(`Point of length ${M} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=T=>ud(fd(T,e.nByteLength));function g(T){const M=n>>$n;return T>M}function x(T){return g(T)?l(-T):T}const w=(T,M,U)=>Dl(T.slice(M,U));class y{constructor(M,U,k){this.r=M,this.s=U,this.recovery=k,this.assertValidity()}static fromCompact(M){const U=e.nByteLength;return M=si("compactSignature",M,U*2),new y(w(M,0,U),w(M,U,2*U))}static fromDER(M){const{r:U,s:k}=tl.toSig(si("DER",M));return new y(U,k)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new y(this.r,this.s,M)}recoverPublicKey(M){const{r:U,s:k,recovery:L}=this,H=C(si("msgHash",M));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const W=L===2||L===3?U+e.n:U;if(W>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=L&1?"03":"02",me=u.fromHex(G+m(W)),ve=c(W),de=l(-H*ve),we=l(k*ve),Le=u.BASE.multiplyAndAddUnsafe(me,de,we);if(!Le)throw new Error("point at infinify");return Le.assertValidity(),Le}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return dd(this.toDERHex())}toDERHex(){return tl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return dd(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const v={isValidPrivateKey(T){try{return d(T),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const T=D6(e.n);return rG(e.randomBytes(T),e.n)},precompute(T=8,M=u.BASE){return M._setWindowSize(T),M.multiply(BigInt(3)),M}};function b(T,M=!0){return u.fromPrivateKey(T).toRawBytes(M)}function j(T){const M=T instanceof Uint8Array,U=typeof T=="string",k=(M||U)&&T.length;return M?k===i||k===s:U?k===2*i||k===2*s:T instanceof u}function A(T,M,U=!0){if(j(T))throw new Error("first arg must be private key");if(!j(M))throw new Error("second arg must be public key");return u.fromHex(M).multiply(d(T)).toRawBytes(U)}const S=e.bits2int||function(T){const M=Dl(T),U=T.length*8-e.nBitLength;return U>0?M>>BigInt(U):M},C=e.bits2int_modN||function(T){return l(S(T))},N=mj(e.nBitLength);function P(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(ws<=T&&T<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return fd(T,e.nByteLength)}function I(T,M,U=D){if(["recovered","canonical"].some(te=>te in U))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:L}=e;let{lowS:H,prehash:W,extraEntropy:G}=U;H==null&&(H=!0),T=si("msgHash",T),W&&(T=si("prehashed msgHash",k(T)));const me=C(T),ve=d(M),de=[P(ve),P(me)];if(G!=null){const te=G===!0?L(r.BYTES):G;de.push(si("extraEntropy",te))}const we=dh(...de),Le=me;function ut(te){const pe=S(te);if(!h(pe))return;const be=c(pe),q=u.BASE.multiply(pe).toAffine(),ee=l(q.x);if(ee===ws)return;const he=l(be*l(Le+ee*ve));if(he===ws)return;let Qe=(q.x===ee?0:2)|Number(q.y&$n),nt=he;return H&&g(he)&&(nt=x(he),Qe^=1),new y(ee,nt,Qe)}return{seed:we,k2sig:ut}}const D={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function V(T,M,U=D){const{seed:k,k2sig:L}=I(T,M,U),H=e;return T6(H.hash.outputLen,H.nByteLength,H.hmac)(k,L)}u.BASE._setWindowSize(8);function Q(T,M,U,k=B){var q;const L=T;if(M=si("msgHash",M),U=si("publicKey",U),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:W}=k;let G,me;try{if(typeof L=="string"||L instanceof Uint8Array)try{G=y.fromDER(L)}catch(ee){if(!(ee instanceof tl.Err))throw ee;G=y.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:ee,s:he}=L;G=new y(ee,he)}else throw new Error("PARSE");me=u.fromHex(U)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&G.hasHighS())return!1;W&&(M=e.hash(M));const{r:ve,s:de}=G,we=C(M),Le=c(de),ut=l(we*Le),te=l(ve*Le),pe=(q=u.BASE.multiplyAndAddUnsafe(me,ut,te))==null?void 0:q.toAffine();return pe?l(pe.x)===ve:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:A,sign:V,verify:Q,ProjectivePoint:u,Signature:y,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function dG(t){return{hash:t,hmac:(e,...r)=>u6(t,e,XH(...r)),randomBytes:ZH}}function fG(t,e){const r=n=>uG({...t,...dG(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const M6=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),pk=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hG=BigInt(1),ww=BigInt(2),gk=(t,e)=>(t+e/ww)/e;function mG(t){const e=M6,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Tn(d,r,e)*d%e,h=Tn(f,r,e)*d%e,m=Tn(h,ww,e)*u%e,g=Tn(m,i,e)*m%e,x=Tn(g,s,e)*g%e,w=Tn(x,l,e)*x%e,y=Tn(w,c,e)*w%e,v=Tn(y,l,e)*x%e,b=Tn(v,r,e)*d%e,j=Tn(b,a,e)*g%e,A=Tn(j,n,e)*u%e,S=Tn(A,ww,e);if(!jw.eql(jw.sqr(S),t))throw new Error("Cannot find square root");return S}const jw=tG(M6,void 0,void 0,{sqrt:mG}),ma=fG({a:BigInt(0),b:BigInt(7),Fp:jw,n:pk,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=pk,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-hG*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),l=gk(s*t,e),c=gk(-n*t,e);let u=$r(t-l*r-c*i,e),d=$r(-l*n-c*s,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},f6);BigInt(0);ma.ProjectivePoint;const fh="0x0000000000000000000000000000000000000000",yk="0x0000000000000000000000000000000000000000000000000000000000000000",xk=BigInt(0),vk=BigInt(1),bk=BigInt(2),wk=BigInt(27),jk=BigInt(28),Zm=BigInt(35),yc={};function Nk(t){return Hs(Bt(t),32)}var xu,Mi,vu,xl;const ni=class ni{constructor(e,r,n,i){z(this,xu);z(this,Mi);z(this,vu);z(this,xl);nm(e,yc,"Signature"),O(this,xu,r),O(this,Mi,n),O(this,vu,i),O(this,xl,null)}get r(){return E(this,xu)}set r(e){_(ru(e)===32,"invalid r","value",e),O(this,xu,re(e))}get s(){return _(parseInt(E(this,Mi).substring(0,3))<8,"non-canonical s; use ._s","s",E(this,Mi)),E(this,Mi)}set s(e){_(ru(e)===32,"invalid s","value",e),O(this,Mi,re(e))}get _s(){return E(this,Mi)}isValid(){return parseInt(E(this,Mi).substring(0,3))<8}get v(){return E(this,vu)}set v(e){const r=je(e,"value");_(r===27||r===28,"invalid v","v",e),O(this,vu,r)}get networkV(){return E(this,xl)}get legacyChainId(){const e=this.networkV;return e==null?null:ni.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=Ae(this.s);return this.yParity&&(e[0]|=128),re(e)}get compactSerialized(){return bt([this.r,this.yParityAndS])}get serialized(){return bt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ni(yc,this.r,this._s,this.v);return this.networkV&&O(e,xl,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const r=oe(e,"v");return r==wk||r==jk?xk:(_(r>=Zm,"invalid EIP-155 v","v",e),(r-Zm)/bk)}static getChainIdV(e,r){return oe(e)*bk+BigInt(35+r-27)}static getNormalizedV(e){const r=oe(e);return r===xk||r===wk?27:r===vk||r===jk?28:(_(r>=Zm,"invalid v","v",e),r&vk?27:28)}static from(e){function r(u,d){_(u,d,"signature",e)}if(e==null)return new ni(yc,yk,yk,27);if(typeof e=="string"){const u=Ae(e,"signature");if(u.length===64){const d=re(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new ni(yc,d,re(f),h)}if(u.length===65){const d=re(u.slice(0,32)),f=re(u.slice(32,64)),h=ni.getNormalizedV(u[64]);return new ni(yc,d,f,h)}r(!1,"invalid raw signature length")}if(e instanceof ni)return e.clone();const n=e.r;r(n!=null,"missing r");const i=Nk(n),s=function(u,d){if(u!=null)return Nk(u);if(d!=null){r(Xe(d,32),"invalid yParityAndS");const f=Ae(d);return f[0]&=127,re(f)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(u,d,f){if(u!=null){const h=oe(u);return{networkV:h>=Zm?h:void 0,v:ni.getNormalizedV(h)}}if(d!=null)return r(Xe(d,32),"invalid yParityAndS"),{v:Ae(d)[0]&128?28:27};if(f!=null){switch(je(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ni(yc,i,s,l);return a&&O(c,xl,a),r(e.yParity==null||je(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};xu=new WeakMap,Mi=new WeakMap,vu=new WeakMap,xl=new WeakMap;let Yr=ni;var hs;const Go=class Go{constructor(e){z(this,hs);_(ru(e)===32,"invalid private key","privateKey","[REDACTED]"),O(this,hs,re(e))}get privateKey(){return E(this,hs)}get publicKey(){return Go.computePublicKey(E(this,hs))}get compressedPublicKey(){return Go.computePublicKey(E(this,hs),!0)}sign(e){_(ru(e)===32,"invalid digest length","digest",e);const r=ma.sign(Pr(e),Pr(E(this,hs)),{lowS:!0});return Yr.from({r:lo(r.r,32),s:lo(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Go.computePublicKey(e);return re(ma.getSharedSecret(Pr(E(this,hs)),Ae(r),!1))}static computePublicKey(e,r){let n=Ae(e,"key");if(n.length===32){const s=ma.getPublicKey(n,!!r);return re(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=ma.ProjectivePoint.fromHex(n);return re(i.toRawBytes(r))}static recoverPublicKey(e,r){_(ru(e)===32,"invalid digest length","digest",e);const n=Yr.from(r);let i=ma.Signature.fromCompact(Pr(bt([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(Pr(e));return _(s!=null,"invalid signature for digest","signature",r),"0x"+s.toHex(!1)}static addPoints(e,r,n){const i=ma.ProjectivePoint.fromHex(Go.computePublicKey(e).substring(2)),s=ma.ProjectivePoint.fromHex(Go.computePublicKey(r).substring(2));return"0x"+i.add(s).toHex(!!n)}};hs=new WeakMap;let hh=Go;const pG=BigInt(0),gG=BigInt(36);function Ak(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Ae(It(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const pj={};for(let t=0;t<10;t++)pj[String(t)]=String(t);for(let t=0;t<26;t++)pj[String.fromCharCode(65+t)]=String(10+t);const Ek=15;function yG(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>pj[n]).join("");for(;e.length>=Ek;){let n=e.substring(0,Ek);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const xG=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function vG(t){t=t.toLowerCase();let e=pG;for(let r=0;r<t.length;r++)e=e*gG+xG[t[r]];return e}function Be(t){if(_(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=Ak(t);return _(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){_(t.substring(2,4)===yG(t),"bad icap checksum","address",t);let e=vG(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return Ak("0x"+e)}_(!1,"invalid address","address",t)}function bG(t){const e=Be(t.from);let n=oe(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Be(yt(It(uo([e,n])),12))}function L6(t){return t&&typeof t.getAddress=="function"}function wG(t){try{return Be(t),!0}catch{}return!1}async function uv(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(K(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),_(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Be(r)}function Or(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Be(t):(K(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),uv(t,e.resolveName(t)));if(L6(t))return uv(t,t.getAddress());if(t&&typeof t.then=="function")return uv(t,t);_(!1,"unsupported addressable value","target",t)}const as={};function se(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new vr(as,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Ie(t,e){return new vr(as,`bytes${e||""}`,t,{size:e})}const Sk=Symbol.for("_ethers_typed");var vl;const os=class os{constructor(e,r,n,i){F(this,"type");F(this,"value");z(this,vl);F(this,"_typedSymbol");i==null&&(i=null),nm(as,e,"Typed"),ge(this,{_typedSymbol:Sk,type:r,value:n}),O(this,vl,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return E(this,vl)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return E(this,vl)===!0?-1:E(this,vl)===!1?this.value.length:null}static from(e,r){return new os(as,e,r)}static uint8(e){return se(e,8)}static uint16(e){return se(e,16)}static uint24(e){return se(e,24)}static uint32(e){return se(e,32)}static uint40(e){return se(e,40)}static uint48(e){return se(e,48)}static uint56(e){return se(e,56)}static uint64(e){return se(e,64)}static uint72(e){return se(e,72)}static uint80(e){return se(e,80)}static uint88(e){return se(e,88)}static uint96(e){return se(e,96)}static uint104(e){return se(e,104)}static uint112(e){return se(e,112)}static uint120(e){return se(e,120)}static uint128(e){return se(e,128)}static uint136(e){return se(e,136)}static uint144(e){return se(e,144)}static uint152(e){return se(e,152)}static uint160(e){return se(e,160)}static uint168(e){return se(e,168)}static uint176(e){return se(e,176)}static uint184(e){return se(e,184)}static uint192(e){return se(e,192)}static uint200(e){return se(e,200)}static uint208(e){return se(e,208)}static uint216(e){return se(e,216)}static uint224(e){return se(e,224)}static uint232(e){return se(e,232)}static uint240(e){return se(e,240)}static uint248(e){return se(e,248)}static uint256(e){return se(e,256)}static uint(e){return se(e,256)}static int8(e){return se(e,-8)}static int16(e){return se(e,-16)}static int24(e){return se(e,-24)}static int32(e){return se(e,-32)}static int40(e){return se(e,-40)}static int48(e){return se(e,-48)}static int56(e){return se(e,-56)}static int64(e){return se(e,-64)}static int72(e){return se(e,-72)}static int80(e){return se(e,-80)}static int88(e){return se(e,-88)}static int96(e){return se(e,-96)}static int104(e){return se(e,-104)}static int112(e){return se(e,-112)}static int120(e){return se(e,-120)}static int128(e){return se(e,-128)}static int136(e){return se(e,-136)}static int144(e){return se(e,-144)}static int152(e){return se(e,-152)}static int160(e){return se(e,-160)}static int168(e){return se(e,-168)}static int176(e){return se(e,-176)}static int184(e){return se(e,-184)}static int192(e){return se(e,-192)}static int200(e){return se(e,-200)}static int208(e){return se(e,-208)}static int216(e){return se(e,-216)}static int224(e){return se(e,-224)}static int232(e){return se(e,-232)}static int240(e){return se(e,-240)}static int248(e){return se(e,-248)}static int256(e){return se(e,-256)}static int(e){return se(e,-256)}static bytes1(e){return Ie(e,1)}static bytes2(e){return Ie(e,2)}static bytes3(e){return Ie(e,3)}static bytes4(e){return Ie(e,4)}static bytes5(e){return Ie(e,5)}static bytes6(e){return Ie(e,6)}static bytes7(e){return Ie(e,7)}static bytes8(e){return Ie(e,8)}static bytes9(e){return Ie(e,9)}static bytes10(e){return Ie(e,10)}static bytes11(e){return Ie(e,11)}static bytes12(e){return Ie(e,12)}static bytes13(e){return Ie(e,13)}static bytes14(e){return Ie(e,14)}static bytes15(e){return Ie(e,15)}static bytes16(e){return Ie(e,16)}static bytes17(e){return Ie(e,17)}static bytes18(e){return Ie(e,18)}static bytes19(e){return Ie(e,19)}static bytes20(e){return Ie(e,20)}static bytes21(e){return Ie(e,21)}static bytes22(e){return Ie(e,22)}static bytes23(e){return Ie(e,23)}static bytes24(e){return Ie(e,24)}static bytes25(e){return Ie(e,25)}static bytes26(e){return Ie(e,26)}static bytes27(e){return Ie(e,27)}static bytes28(e){return Ie(e,28)}static bytes29(e){return Ie(e,29)}static bytes30(e){return Ie(e,30)}static bytes31(e){return Ie(e,31)}static bytes32(e){return Ie(e,32)}static address(e){return new os(as,"address",e)}static bool(e){return new os(as,"bool",!!e)}static bytes(e){return new os(as,"bytes",e)}static string(e){return new os(as,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new os(as,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===Sk}static dereference(e,r){if(os.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};vl=new WeakMap;let vr=os;class jG extends Xs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=vr.dereference(r,"string");try{n=Be(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return Be(lo(e.readValue(),20))}}class NG extends Xs{constructor(r){super(r.name,r.type,"_",r.dynamic);F(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function _6(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const d=u.localName;return K(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),K(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),c[d]=!0,r[d]})}else _(!1,"invalid tuple value","tuple",r);_(e.length===n.length,"types/value length mismatch","tuple",r);let i=new pw,s=new pw,a=[];e.forEach((c,u)=>{let d=n[u];if(c.dynamic){let f=s.length;c.encode(s,d);let h=i.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(i,d)}),a.forEach(c=>{c(i.length)});let l=t.appendWriter(i);return l+=t.appendWriter(s),l}function B6(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let l=t.readIndex(),c=i.subReader(l);try{a=s.decode(c)}catch(u){if(sr(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(l){if(sr(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");r.push(a),n.push(s.localName||null)}),ld.fromItems(r,n)}class AG extends Xs{constructor(r,n,i){const s=r.type+"["+(n>=0?n:"")+"]",a=n===-1||r.dynamic;super("array",s,i,a);F(this,"coder");F(this,"length");ge(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=vr.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,r.writeValue(i.length)),KI(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let l=0;l<i.length;l++)a.push(this.coder);return _6(r,a,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),K(n*Tr<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Tr,length:r.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new NG(this.coder));return B6(r,i)}}class EG extends Xs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=vr.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class F6 extends Xs{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Pr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class SG extends F6{constructor(e){super("bytes",e)}decode(e){return re(super.decode(e))}}class kG extends Xs{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);F(this,"size");ge(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=Pr(vr.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return re(r.readBytes(this.size))}}const CG=new Uint8Array([]);class PG extends Xs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(CG)}decode(e){return e.readBytes(0),null}}const TG=BigInt(0),OG=BigInt(1),IG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class DG extends Xs{constructor(r,n,i){const s=(n?"int":"uint")+r*8;super(s,s,i,!1);F(this,"size");F(this,"signed");ge(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=oe(vr.dereference(n,this.type)),s=el(IG,Tr*8);if(this.signed){let a=el(s,this.size*8-1);(i>a||i<-(a+OG))&&this._throwError("value out-of-bounds",n),i=qI(i,8*Tr)}else(i<TG||i>el(s,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=el(r.readValue(),this.size*8);return this.signed&&(n=C0(n,this.size*8)),n}}class RG extends F6{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Rs(vr.dereference(r,"string")))}decode(e){return P0(super.decode(e))}}class ep extends Xs{constructor(r,n){let i=!1;const s=[];r.forEach(l=>{l.dynamic&&(i=!0),s.push(l.type)});const a="tuple("+s.join(",")+")";super("tuple",a,n,i);F(this,"coders");ge(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),r[a]==null&&(r[a]=r[s]))}),Object.freeze(r)}encode(r,n){const i=vr.dereference(n,"tuple");return _6(r,this.coders,i)}decode(r){return B6(r,this.coders)}}function dv(t,e){return{address:Be(t),storageKeys:e.map((r,n)=>(_(Xe(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function lc(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(_(r.length===2,"invalid slot set",`value[${n}]`,r),dv(r[0],r[1])):(_(r!=null&&typeof r=="object","invalid address-slot set","value",t),dv(r.address,r.storageKeys)));_(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return dv(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function U6(t){return{address:Be(t.address),nonce:oe(t.nonce!=null?t.nonce:0),chainId:oe(t.chainId!=null?t.chainId:0),signature:Yr.from(t.signature)}}function MG(t){let e;return typeof t=="string"?e=hh.computePublicKey(t,!1):e=t.publicKey,Be(It("0x"+e.substring(4)).substring(26))}function LG(t,e){return MG(hh.recoverPublicKey(t,e))}const Qt=BigInt(0),_G=BigInt(2),BG=BigInt(27),FG=BigInt(28),UG=BigInt(35),$G=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),fv=4096*32;function VG(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ae(t.blobToKzgCommitment(re(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return Ae(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return Ae(t.blobToKZGCommitment(re(n)));_(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return Ae(t.computeBlobProof(re(n),re(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return Ae(t.computeBlobKZGProof(re(n),re(i)));_(!1,"unsupported KZG library","kzg",t)}}}function kk(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Pd(e).substring(4),"0x"+r}function Td(t){return t==="0x"?null:Be(t)}function dy(t,e){try{return lc(t)}catch(r){_(!1,r.message,e,t)}}function zG(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const i=t[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);r.push({address:Td(i[1]),nonce:He(i[2],"nonce"),chainId:He(i[0],"chainId"),signature:Yr.from({yParity:cc(i[3],"yParity"),r:Hs(i[4],32),s:Hs(i[5],32)})})}return r}catch(r){_(!1,r.message,e,t)}}function cc(t,e){return t==="0x"?0:je(t,e)}function He(t,e){if(t==="0x")return Qt;const r=oe(t,e);return _(r<=$G,"value exceeds uint size",e,r),r}function Pe(t,e){const r=oe(t,"value"),n=Bt(r);return _(n.length<=32,"value too large",`tx.${e}`,r),n}function fy(t){return lc(t).map(e=>[e.address,e.storageKeys])}function HG(t){return t.map(e=>[Pe(e.chainId,"chainId"),e.address,Pe(e.nonce,"nonce"),Pe(e.signature.yParity,"yParity"),Bt(e.signature.r),Bt(e.signature.s)])}function WG(t,e){_(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)_(Xe(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function GG(t){const e=im(t);_(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:cc(e[0],"nonce"),gasPrice:He(e[1],"gasPrice"),gasLimit:He(e[2],"gasLimit"),to:Td(e[3]),value:He(e[4],"value"),data:re(e[5]),chainId:Qt};if(e.length===6)return r;const n=He(e[6],"v"),i=He(e[7],"r"),s=He(e[8],"s");if(i===Qt&&s===Qt)r.chainId=n;else{let a=(n-UG)/_G;a<Qt&&(a=Qt),r.chainId=a,_(a!==Qt||n===BG||n===FG,"non-canonical legacy v","v",e[6]),r.signature=Yr.from({r:Hs(e[7],32),s:Hs(e[8],32),v:n})}return r}function KG(t,e){const r=[Pe(t.nonce,"nonce"),Pe(t.gasPrice||0,"gasPrice"),Pe(t.gasLimit,"gasLimit"),t.to||"0x",Pe(t.value,"value"),t.data];let n=Qt;if(t.chainId!=Qt)n=oe(t.chainId,"tx.chainId"),_(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==Qt&&(r.push(Bt(n)),r.push("0x"),r.push("0x")),uo(r);let i=BigInt(27+e.yParity);return n!==Qt?i=Yr.getChainIdV(n,e.v):BigInt(e.v)!==i&&_(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(Bt(i)),r.push(Bt(e.r)),r.push(Bt(e.s)),uo(r)}function hy(t,e){let r;try{if(r=cc(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{_(!1,"invalid yParity","yParity",e[0])}const n=Hs(e[1],32),i=Hs(e[2],32),s=Yr.from({r:n,s:i,yParity:r});t.signature=s}function QG(t){const e=im(Ae(t).slice(1));_(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",re(t));const r={type:2,chainId:He(e[0],"chainId"),nonce:cc(e[1],"nonce"),maxPriorityFeePerGas:He(e[2],"maxPriorityFeePerGas"),maxFeePerGas:He(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:He(e[4],"gasLimit"),to:Td(e[5]),value:He(e[6],"value"),data:re(e[7]),accessList:dy(e[8],"accessList")};return e.length===9||hy(r,e.slice(9)),r}function YG(t,e){const r=[Pe(t.chainId,"chainId"),Pe(t.nonce,"nonce"),Pe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pe(t.maxFeePerGas||0,"maxFeePerGas"),Pe(t.gasLimit,"gasLimit"),t.to||"0x",Pe(t.value,"value"),t.data,fy(t.accessList||[])];return e&&(r.push(Pe(e.yParity,"yParity")),r.push(Bt(e.r)),r.push(Bt(e.s))),bt(["0x02",uo(r)])}function qG(t){const e=im(Ae(t).slice(1));_(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",re(t));const r={type:1,chainId:He(e[0],"chainId"),nonce:cc(e[1],"nonce"),gasPrice:He(e[2],"gasPrice"),gasLimit:He(e[3],"gasLimit"),to:Td(e[4]),value:He(e[5],"value"),data:re(e[6]),accessList:dy(e[7],"accessList")};return e.length===8||hy(r,e.slice(8)),r}function JG(t,e){const r=[Pe(t.chainId,"chainId"),Pe(t.nonce,"nonce"),Pe(t.gasPrice||0,"gasPrice"),Pe(t.gasLimit,"gasLimit"),t.to||"0x",Pe(t.value,"value"),t.data,fy(t.accessList||[])];return e&&(r.push(Pe(e.yParity,"recoveryParam")),r.push(Bt(e.r)),r.push(Bt(e.s))),bt(["0x01",uo(r)])}function XG(t){let e=im(Ae(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const s=e[1],a=e[2],l=e[3];_(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),_(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),_(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),_(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),_(s.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:s[c],commitment:a[c],proof:l[c]});e=e[0]}_(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",re(t));const i={type:3,chainId:He(e[0],"chainId"),nonce:cc(e[1],"nonce"),maxPriorityFeePerGas:He(e[2],"maxPriorityFeePerGas"),maxFeePerGas:He(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:He(e[4],"gasLimit"),to:Td(e[5]),value:He(e[6],"value"),data:re(e[7]),accessList:dy(e[8],"accessList"),maxFeePerBlobGas:He(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),_(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),_(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)_(Xe(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||hy(i,e.slice(11)),i}function ZG(t,e,r){const n=[Pe(t.chainId,"chainId"),Pe(t.nonce,"nonce"),Pe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pe(t.maxFeePerGas||0,"maxFeePerGas"),Pe(t.gasLimit,"gasLimit"),t.to||fh,Pe(t.value,"value"),t.data,fy(t.accessList||[]),Pe(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),WG(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Pe(e.yParity,"yParity")),n.push(Bt(e.r)),n.push(Bt(e.s)),r)?bt(["0x03",uo([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):bt(["0x03",uo(n)])}function eK(t){const e=im(Ae(t).slice(1));_(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",re(t));const r={type:4,chainId:He(e[0],"chainId"),nonce:cc(e[1],"nonce"),maxPriorityFeePerGas:He(e[2],"maxPriorityFeePerGas"),maxFeePerGas:He(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:He(e[4],"gasLimit"),to:Td(e[5]),value:He(e[6],"value"),data:re(e[7]),accessList:dy(e[8],"accessList"),authorizationList:zG(e[9],"authorizationList")};return e.length===10||hy(r,e.slice(10)),r}function tK(t,e){const r=[Pe(t.chainId,"chainId"),Pe(t.nonce,"nonce"),Pe(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Pe(t.maxFeePerGas||0,"maxFeePerGas"),Pe(t.gasLimit,"gasLimit"),t.to||"0x",Pe(t.value,"value"),t.data,fy(t.accessList||[]),HG(t.authorizationList||[])];return e&&(r.push(Pe(e.yParity,"yParity")),r.push(Bt(e.r)),r.push(Bt(e.s))),bt(["0x04",uo(r)])}var ci,bu,wu,ju,Nu,Au,Eu,Su,ku,Cu,Pu,Tu,bl,ka,Li,Ca,Ou,Iu,Lp;const Di=class Di{constructor(){z(this,Iu);z(this,ci);z(this,bu);z(this,wu);z(this,ju);z(this,Nu);z(this,Au);z(this,Eu);z(this,Su);z(this,ku);z(this,Cu);z(this,Pu);z(this,Tu);z(this,bl);z(this,ka);z(this,Li);z(this,Ca);z(this,Ou);O(this,ci,null),O(this,bu,null),O(this,ju,0),O(this,Nu,Qt),O(this,Au,null),O(this,Eu,null),O(this,Su,null),O(this,wu,"0x"),O(this,ku,Qt),O(this,Cu,Qt),O(this,Pu,null),O(this,Tu,null),O(this,bl,null),O(this,ka,null),O(this,Li,null),O(this,Ca,null),O(this,Ou,null)}get type(){return E(this,ci)}set type(e){switch(e){case null:O(this,ci,null);break;case 0:case"legacy":O(this,ci,0);break;case 1:case"berlin":case"eip-2930":O(this,ci,1);break;case 2:case"london":case"eip-1559":O(this,ci,2);break;case 3:case"cancun":case"eip-4844":O(this,ci,3);break;case 4:case"pectra":case"eip-7702":O(this,ci,4);break;default:_(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=E(this,bu);return e==null&&this.type===3?fh:e}set to(e){O(this,bu,e==null?null:Be(e))}get nonce(){return E(this,ju)}set nonce(e){O(this,ju,je(e,"value"))}get gasLimit(){return E(this,Nu)}set gasLimit(e){O(this,Nu,oe(e))}get gasPrice(){const e=E(this,Au);return e==null&&(this.type===0||this.type===1)?Qt:e}set gasPrice(e){O(this,Au,e==null?null:oe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=E(this,Eu);return e??(this.type===2||this.type===3?Qt:null)}set maxPriorityFeePerGas(e){O(this,Eu,e==null?null:oe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=E(this,Su);return e??(this.type===2||this.type===3?Qt:null)}set maxFeePerGas(e){O(this,Su,e==null?null:oe(e,"maxFeePerGas"))}get data(){return E(this,wu)}set data(e){O(this,wu,re(e))}get value(){return E(this,ku)}set value(e){O(this,ku,oe(e,"value"))}get chainId(){return E(this,Cu)}set chainId(e){O(this,Cu,oe(e))}get signature(){return E(this,Pu)||null}set signature(e){O(this,Pu,e==null?null:Yr.from(e))}get accessList(){const e=E(this,Tu)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){O(this,Tu,e==null?null:lc(e))}get authorizationList(){const e=E(this,Ou)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){O(this,Ou,e==null?null:e.map(r=>U6(r)))}get maxFeePerBlobGas(){const e=E(this,bl);return e==null&&this.type===3?Qt:e}set maxFeePerBlobGas(e){O(this,bl,e==null?null:oe(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=E(this,ka);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){_(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)_(Xe(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}O(this,ka,e)}get blobs(){return E(this,Ca)==null?null:E(this,Ca).map(e=>Object.assign({},e))}set blobs(e){if(e==null){O(this,Ca,null);return}const r=[],n=[];for(let i=0;i<e.length;i++){const s=e[i];if(aj(s)){K(E(this,Li),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=Ae(s);if(_(a.length<=fv,"blob is too large",`blobs[${i}]`,s),a.length!==fv){const u=new Uint8Array(fv);u.set(a),a=u}const l=E(this,Li).blobToKzgCommitment(a),c=re(E(this,Li).computeBlobKzgProof(a,l));r.push({data:re(a),commitment:re(l),proof:c}),n.push(kk(1,l))}else{const a=re(s.commitment);r.push({data:re(s.data),commitment:a,proof:re(s.proof)}),n.push(kk(1,a))}}O(this,Ca,r),O(this,ka,n)}get kzg(){return E(this,Li)}set kzg(e){e==null?O(this,Li,null):O(this,Li,VG(e))}get hash(){return this.signature==null?null:It(J(this,Iu,Lp).call(this,!0,!1))}get unsignedHash(){return It(this.unsignedSerialized)}get from(){return this.signature==null?null:LG(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:hh.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return J(this,Iu,Lp).call(this,!0,!0)}get unsignedSerialized(){return J(this,Iu,Lp).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=E(this,bl)!=null||E(this,ka);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&K(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),K(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),K(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):r?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Di.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Di;if(typeof e=="string"){const n=Ae(e);if(n[0]>=127)return Di.from(GG(n));switch(n[0]){case 1:return Di.from(qG(n));case 2:return Di.from(QG(n));case 3:return Di.from(XG(n));case 4:return Di.from(eK(n))}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new Di;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Yr.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(_(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),_(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(_(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),_(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};ci=new WeakMap,bu=new WeakMap,wu=new WeakMap,ju=new WeakMap,Nu=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Su=new WeakMap,ku=new WeakMap,Cu=new WeakMap,Pu=new WeakMap,Tu=new WeakMap,bl=new WeakMap,ka=new WeakMap,Li=new WeakMap,Ca=new WeakMap,Ou=new WeakMap,Iu=new WeakSet,Lp=function(e,r){K(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return KG(this,n);case 1:return JG(this,n);case 2:return YG(this,n);case 3:return ZG(this,n,r?this.blobs:null);case 4:return tK(this,n)}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let I0=Di;function Gl(t){return It(Rs(t))}var rK="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const Ck=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),Pk=4;function nK(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let A=1;A<n;A++)s.push(i+=r());let a=r(),l=e;e+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const f=31,h=2**f,m=h>>>1,g=m>>1,x=h-1;let w=0;for(let A=0;A<f;A++)w=w<<1|d();let y=[],v=0,b=h;for(;;){let A=Math.floor(((w-v+1)*i-1)/b),S=0,C=n;for(;C-S>1;){let I=S+C>>>1;A<s[I]?C=I:S=I}if(S==0)break;y.push(S);let N=v+Math.floor(b*s[S]/i),P=v+Math.floor(b*s[S+1]/i)-1;for(;!((N^P)&m);)w=w<<1&x|d(),N=N<<1&x,P=P<<1&x|1;for(;N&~P&g;)w=w&m|w<<1&x>>>1|d(),N=N<<1^m,P=(P^m)<<1|m|1;v=N,b=1+P-N}let j=n-4;return y.map(A=>{switch(A-j){case 3:return j+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return j+256+(t[l++]<<8|t[l++]);case 1:return j+t[l++];default:return A-1}})}function iK(t){let e=0;return()=>t[e++]}function $6(t){return iK(nK(sK(t)))}function sK(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,a=0,l=0;i<r;i++)l=l<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(n[s++]=l>>(a-=8));return n}function aK(t){return t&1?~t>>1:t>>1}function oK(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=aK(e());return r}function mh(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function V6(t){return ph(()=>{let e=mh(t);if(e.length)return e})}function z6(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(lK(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(cK(r,t))}return e.flat()}function ph(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function H6(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)oK(t,r).forEach((s,a)=>n[a].push(s));return n}function lK(t,e){let r=1+e(),n=e(),i=ph(e);return H6(i.length,1+t,e).flatMap((a,l)=>{let[c,...u]=a;return Array(i[l]).fill().map((d,f)=>{let h=f*n;return[c+f*r,u.map(m=>m+h)]})})}function cK(t,e){let r=1+e();return H6(r,1+t,e).map(i=>[i[0],i.slice(1)])}function uK(t){let e=[],r=mh(t);return i(n([]),[]),e;function n(s){let a=t(),l=ph(()=>{let c=mh(t).map(u=>r[u]);if(c.length)return n(c)});return{S:a,B:l,Q:s}}function i({S:s,B:a},l,c){if(!(s&4&&c===l[l.length-1])){s&2&&(c=l[l.length-1]),s&1&&e.push(l);for(let u of a)for(let d of u.Q)i(u,[...l,d],c)}}}function dK(t){return t.toString(16).toUpperCase().padStart(2,"0")}function W6(t){return`{${dK(t)}}`}function fK(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function hd(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function hK(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var mK="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const gh=44032,D0=4352,R0=4449,M0=4519,G6=19,K6=21,md=28,L0=K6*md,pK=G6*L0,gK=gh+pK,yK=D0+G6,xK=R0+K6,vK=M0+md;function xf(t){return t>>24&255}function Q6(t){return t&16777215}let Nw,Tk,Aw,_p;function bK(){let t=$6(mK);Nw=new Map(V6(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),Tk=new Set(mh(t)),Aw=new Map,_p=new Map;for(let[e,r]of z6(t)){if(!Tk.has(e)&&r.length==2){let[n,i]=r,s=_p.get(n);s||(s=new Map,_p.set(n,s)),s.set(i,e)}Aw.set(e,r.reverse())}}function Y6(t){return t>=gh&&t<gK}function wK(t,e){if(t>=D0&&t<yK&&e>=R0&&e<xK)return gh+(t-D0)*L0+(e-R0)*md;if(Y6(t)&&e>M0&&e<vK&&(t-gh)%md==0)return t+(e-M0);{let r=_p.get(t);return r&&(r=r.get(e),r)?r:-1}}function q6(t){Nw||bK();let e=[],r=[],n=!1;function i(s){let a=Nw.get(s);a&&(n=!0,s|=a),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Y6(s)){let a=s-gh,l=a/L0|0,c=a%L0/md|0,u=a%md;i(D0+l),i(R0+c),u>0&&i(M0+u)}else{let a=Aw.get(s);a?r.push(...a):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=xf(e[0]);for(let a=1;a<e.length;a++){let l=xf(e[a]);if(l==0||s<=l){s=l;continue}let c=a-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=xf(e[--c]),s<=l))break}s=xf(e[a])}}return e}function jK(t){let e=[],r=[],n=-1,i=0;for(let s of t){let a=xf(s),l=Q6(s);if(n==-1)a==0?n=l:e.push(l);else if(i>0&&i>=a)a==0?(e.push(n,...r),r.length=0,n=l):r.push(l),i=a;else{let c=wK(n,l);c>=0?n=c:i==0&&a==0?(e.push(n),n=l):(r.push(l),i=a)}}return n>=0&&e.push(n,...r),e}function J6(t){return q6(t).map(Q6)}function NK(t){return jK(q6(t))}const Ok=45,X6=".",Z6=65039,e4=1,_0=t=>Array.from(t);function yh(t,e){return t.P.has(e)||t.Q.has(e)}class AK extends Array{get is_emoji(){return!0}}let Ew,t4,rl,Sw,r4,iu,hv,bc,Fo,Ik,kw;function gj(){if(Ew)return;let t=$6(rK);const e=()=>mh(t),r=()=>new Set(e()),n=(d,f)=>f.forEach(h=>d.add(h));Ew=new Map(z6(t)),t4=r(),rl=e(),Sw=new Set(e().map(d=>rl[d])),rl=new Set(rl),r4=r(),r();let i=V6(t),s=t();const a=()=>{let d=new Set;return e().forEach(f=>n(d,i[f])),n(d,e()),d};iu=ph(d=>{let f=ph(t).map(h=>h+96);if(f.length){let h=d>=s;f[0]-=32,f=hd(f),h&&(f=`Restricted[${f}]`);let m=a(),g=a(),x=!t();return{N:f,P:m,Q:g,M:x,R:h}}}),hv=r(),bc=new Map;let l=e().concat(_0(hv)).sort((d,f)=>d-f);l.forEach((d,f)=>{let h=t(),m=l[f]=h?l[f-h]:{V:[],M:new Map};m.V.push(d),hv.has(d)||bc.set(d,m)});for(let{V:d,M:f}of new Set(bc.values())){let h=[];for(let g of d){let x=iu.filter(y=>yh(y,g)),w=h.find(({G:y})=>x.some(v=>y.has(v)));w||(w={G:new Set,V:[]},h.push(w)),w.V.push(g),n(w.G,x)}let m=h.flatMap(g=>_0(g.G));for(let{G:g,V:x}of h){let w=new Set(m.filter(y=>!g.has(y)));for(let y of x)f.set(y,w)}}Fo=new Set;let c=new Set;const u=d=>Fo.has(d)?c.add(d):Fo.add(d);for(let d of iu){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Fo)!bc.has(d)&&!c.has(d)&&bc.set(d,e4);n(Fo,J6(Fo)),Ik=uK(t).map(d=>AK.from(d)).sort(hK),kw=new Map;for(let d of Ik){let f=[kw];for(let h of d){let m=f.map(g=>{let x=g.get(h);return x||(x=new Map,g.set(h,x)),x});h===Z6?f.push(...m):f=m}for(let h of f)h.V=d}}function yj(t){return(n4(t)?"":`${xj(my([t]))} `)+W6(t)}function xj(t){return`"${t}"‎`}function EK(t){if(t.length>=4&&t[2]==Ok&&t[3]==Ok)throw new Error(`invalid label extension: "${hd(t.slice(0,4))}"`)}function SK(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function kK(t){let e=t[0],r=Ck.get(e);if(r)throw Bf(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let a=Ck.get(e);if(a){if(i==s)throw Bf(`${r} + ${a}`);i=s+1,r=a}}if(i==n)throw Bf(`trailing ${r}`)}function my(t,e=1/0,r=W6){let n=[];CK(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let a=0;a<s;a++){let l=t[a];n4(l)&&(n.push(hd(t.slice(i,a))),n.push(r(l)),i=a+1)}return n.push(hd(t.slice(i,s))),n.join("")}function CK(t){return gj(),rl.has(t)}function n4(t){return gj(),r4.has(t)}function PK(t){return DK(TK(t,NK,LK))}function TK(t,e,r){if(!t)return[];gj();let n=0;return t.split(X6).map(i=>{let s=fK(i),a={input:s,offset:n};n+=s.length+1;try{let l=a.tokens=MK(s,e,r),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(SK(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(h=>h<128))EK(d),u="ASCII";else{let h=l.flatMap(m=>m.is_emoji?[]:m);if(!h.length)u="Emoji";else{if(rl.has(d[0]))throw Bf("leading combining mark");for(let x=1;x<c;x++){let w=l[x];if(!w.is_emoji&&rl.has(w[0]))throw Bf(`emoji + combining mark: "${hd(l[x-1])} + ${my([w[0]])}"`)}kK(d);let m=_0(new Set(h)),[g]=IK(m);RK(g,h),OK(g,m),u=g.N}}a.type=u}catch(l){a.error=l}return a})}function OK(t,e){let r,n=[];for(let i of e){let s=bc.get(i);if(s===e4)return;if(s){let a=s.M.get(i);if(r=r?r.filter(l=>a.has(l)):_0(a),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>yh(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function IK(t){let e=iu;for(let r of t){let n=e.filter(i=>yh(i,r));if(!n.length)throw iu.some(i=>yh(i,r))?s4(e[0],r):i4(r);if(e=n,n.length==1)break}return e}function DK(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${xj(my(e,63))}: ${i}`)}return hd(n)}).join(X6)}function i4(t){return new Error(`disallowed character: ${yj(t)}`)}function s4(t,e){let r=yj(e),n=iu.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Bf(t){return new Error(`illegal placement: ${t}`)}function RK(t,e){for(let r of e)if(!yh(t,r))throw s4(t,r);if(t.M){let r=J6(e);for(let n=1,i=r.length;n<i;n++)if(Sw.has(r[n])){let s=n+1;for(let a;s<i&&Sw.has(a=r[s]);s++)for(let l=n;l<s;l++)if(r[l]==a)throw new Error(`duplicate non-spacing marks: ${yj(a)}`);if(s-n>Pk)throw new Error(`excessive non-spacing marks: ${xj(my(r.slice(n-1,s)))} (${s-n}/${Pk})`);n=s}}}function MK(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=_K(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let a=t.pop();if(Fo.has(a))i.push(a);else{let l=Ew.get(a);if(l)i.push(...l);else if(!t4.has(a))throw i4(a)}}}return i.length&&n.push(e(i)),n}function LK(t){return t.filter(e=>e!=Z6)}function _K(t,e){let r=kw,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}const a4=new Uint8Array(32);a4.fill(0);function Dk(t){return _(t.length!==0,"invalid ENS name; empty component","comp",t),t}function o4(t){const e=Rs(BK(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Dk(e.slice(n,i))),n=i+1);return _(n<e.length,"invalid ENS name; empty component","name",t),r.push(Dk(e.slice(n))),r}function BK(t){try{if(t.length===0)throw new Error("empty label");return PK(t)}catch(e){_(!1,`invalid ENS name (${e.message})`,"name",t)}}function Cw(t){_(typeof t=="string","invalid ENS name; not a string","name",t),_(t.length,"invalid ENS name (empty label)","name",t);let e=a4;const r=o4(t);for(;r.length;)e=It(bt([e,It(r.pop())]));return re(e)}function FK(t,e){const r=e;return _(r<=255,"DNS encoded label cannot exceed 255","length",r),re(bt(o4(t).map(n=>{_(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}const l4=new Uint8Array(32);l4.fill(0);const UK=BigInt(-1),c4=BigInt(0),u4=BigInt(1),$K=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function VK(t){const e=Ae(t),r=e.length%32;return r?bt([e,l4.slice(r)]):re(e)}const zK=lo(u4,32),HK=lo(c4,32),Rk={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},mv=["name","version","chainId","verifyingContract","salt"];function Mk(t){return function(e){return _(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const WK={name:Mk("name"),version:Mk("version"),chainId:function(t){const e=oe(t,"domain.chainId");return _(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):pi(e)},verifyingContract:function(t){try{return Be(t).toLowerCase()}catch{}_(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=Ae(t,"domain.salt");return _(e.length===32,'invalid domain value "salt"',"domain.salt",t),re(e)}};function pv(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);_(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=el($K,r?n-1:n),s=r?(i+u4)*UK:c4;return function(a){const l=oe(a,"value");return _(l>=s&&l<=i,`value out-of-bounds for ${t}`,"value",l),lo(r?qI(l,256):l,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return _(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=Ae(n);return _(i.length===r,`invalid length for ${t}`,"value",n),VK(n)}}}switch(t){case"address":return function(e){return Hs(Be(e),32)};case"bool":return function(e){return e?zK:HK};case"bytes":return function(e){return It(e)};case"string":return function(e){return Gl(e)}}return null}function Lk(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function tp(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Bh,ms,Du,Cg,d4;const Mn=class Mn{constructor(e){z(this,Cg);F(this,"primaryType");z(this,Bh);z(this,ms);z(this,Du);O(this,ms,new Map),O(this,Du,new Map);const r=new Map,n=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:u,type:d})=>{let{base:f,index:h}=tp(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),r.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),O(this,Bh,JSON.stringify(s));for(const c in s){const u=new Set;for(const d of s[c]){_(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const f=tp(d.type).base;_(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!pv(f)&&(_(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);_(a.length!==0,"missing primary type","types",e),_(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),ge(this,{primaryType:a[0]});function l(c,u){_(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of r.get(c))if(n.has(d)){l(d,u);for(const f of u)i.get(f).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of i){const d=Array.from(u);d.sort(),E(this,ms).set(c,Lk(c,s[c])+d.map(f=>Lk(f,s[f])).join(""))}}get types(){return JSON.parse(E(this,Bh))}getEncoder(e){let r=E(this,Du).get(e);return r||(r=J(this,Cg,d4).call(this,e),E(this,Du).set(e,r)),r}encodeType(e){const r=E(this,ms).get(e);return _(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return It(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(pv(e))return n(e,r);const i=tp(e).array;if(i)return _(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(a=>this._visit(i.prefix,a,n));const s=this.types[e];if(s)return s.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,r[l],n),a),{});_(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Mn(e)}static getPrimaryType(e){return Mn.from(e).primaryType}static hashStruct(e,r,n){return Mn.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=Rk[n];_(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>mv.indexOf(n.name)-mv.indexOf(i.name)),Mn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return bt(["0x1901",Mn.hashDomain(e),Mn.from(r).hash(n)])}static hash(e,r,n){return It(Mn.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const s={};e.verifyingContract&&!Xe(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Mn.from(r);a.visit(n,(l,c)=>(l==="address"&&!Xe(c,20)&&(s[c]="0x"),c));for(const l in s)s[l]=await i(l);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(l,c)=>l==="address"&&s[c]?s[c]:c),{domain:e,value:n}}static getPayload(e,r,n){Mn.hashDomain(e);const i={},s=[];mv.forEach(c=>{const u=e[c];u!=null&&(i[c]=WK[c](u),s.push({name:c,type:Rk[c]}))});const a=Mn.from(r);r=a.types;const l=Object.assign({},r);return _(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=s,a.encode(n),{types:l,domain:i,primaryType:a.primaryType,message:a.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return re(Ae(u));if(c.match(/^u?int/))return oe(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return _(typeof u=="string","invalid string","value",u),u}_(!1,"unsupported type","type",c)})}}};Bh=new WeakMap,ms=new WeakMap,Du=new WeakMap,Cg=new WeakSet,d4=function(e){{const i=pv(e);if(i)return i}const r=tp(e).array;if(r){const i=r.prefix,s=this.getEncoder(i);return a=>{_(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let l=a.map(s);return E(this,ms).has(i)&&(l=l.map(It)),It(bt(l))}}const n=this.types[e];if(n){const i=Gl(E(this,ms).get(e));return s=>{const a=n.map(({name:l,type:c})=>{const u=this.getEncoder(c)(s[l]);return E(this,ms).has(c)?It(u):u});return a.unshift(i),bt(a)}}_(!1,`unknown type: ${e}`,"type",e)};let B0=Mn;function Ir(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const GK="external public payable override",KK=Ir(GK.split(" ")),f4="constant external internal payable private public pure view override",QK=Ir(f4.split(" ")),h4="constructor error event fallback function receive struct",m4=Ir(h4.split(" ")),p4="calldata memory storage payable indexed",YK=Ir(p4.split(" ")),qK="tuple returns",JK=[h4,p4,qK,f4].join(" "),XK=Ir(JK.split(" ")),ZK={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},eQ=new RegExp("^(\\s*)"),tQ=new RegExp("^([0-9]+)"),rQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),g4=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),y4=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var er,ui,Fh,Pw;const Pg=class Pg{constructor(e){z(this,Fh);z(this,er);z(this,ui);O(this,er,0),O(this,ui,e.slice())}get offset(){return E(this,er)}get length(){return E(this,ui).length-E(this,er)}clone(){return new Pg(E(this,ui))}reset(){O(this,er,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=J(this,Fh,Pw).call(this,E(this,er)+1,e.match+1);return O(this,er,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;E(this,er)<e.match-1;){const n=this.peek().linkNext;r.push(J(this,Fh,Pw).call(this,E(this,er)+1,n)),O(this,er,n)}return O(this,er,e.match+1),r}peek(){if(E(this,er)>=E(this,ui).length)throw new Error("out-of-bounds");return E(this,ui)[E(this,er)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return $d(this,er)._++,e}toString(){const e=[];for(let r=E(this,er);r<E(this,ui).length;r++){const n=E(this,ui)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};er=new WeakMap,ui=new WeakMap,Fh=new WeakSet,Pw=function(e=0,r=0){return new Pg(E(this,ui).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Si=Pg;function jo(t){const e=[],r=a=>{const l=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${l} at ${s}: ${a}`)};let n=[],i=[],s=0;for(;s<t.length;){let a=t.substring(s),l=a.match(eQ);l&&(s+=l[1].length,a=t.substring(s));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let u=ZK[a[0]]||"";if(u){if(c.type=u,c.text=a[0],s++,u==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=je(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(l=a.match(rQ),l){if(c.text=l[1],s+=c.text.length,XK.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(y4)){c.type="TYPE";continue}c.type="ID";continue}if(l=a.match(tQ),l){c.text=l[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new Si(e.map(a=>Object.freeze(a)))}function _k(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function py(t,e){if(e.peekKeyword(m4)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function Ws(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function x4(t){let e=Ws(t,QK);return _k(e,Ir("constant payable nonpayable".split(" "))),_k(e,Ir("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ms(t,e){return t.popParams().map(r=>or.from(r,e))}function v4(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return oe(t.pop().text);throw new Error("invalid gas")}return null}function Kl(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const nQ=new RegExp(/^(.*)\[([0-9]*)\]$/);function Bk(t){const e=t.match(y4);if(_(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);_(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);_(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const ft={},Jr=Symbol.for("_ethers_internal"),Fk="_ParamTypeInternal",Uk="_ErrorInternal",$k="_EventInternal",Vk="_ConstructorInternal",zk="_FallbackInternal",Hk="_FunctionInternal",Wk="_StructInternal";var Ru,Bp;const Ln=class Ln{constructor(e,r,n,i,s,a,l,c){z(this,Ru);F(this,"name");F(this,"type");F(this,"baseType");F(this,"indexed");F(this,"components");F(this,"arrayLength");F(this,"arrayChildren");if(nm(e,ft,"ParamType"),Object.defineProperty(this,Jr,{value:Fk}),a&&(a=Object.freeze(a.slice())),i==="array"){if(l==null||c==null)throw new Error("")}else if(l!=null||c!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");ge(this,{name:r,type:n,baseType:i,indexed:s,components:a,arrayLength:l,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return J(this,Ru,Bp).call(this,n,e,r,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(Ln.isParamType(e))return e;if(typeof e=="string")try{return Ln.from(jo(e),r)}catch{_(!1,"invalid param type","obj",e)}else if(e instanceof Si){let l="",c="",u=null;Ws(e,Ir(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(x=>Ln.from(x)),l=`tuple(${u.map(x=>x.format()).join(",")})`):(l=Bk(e.popType("TYPE")),c=l);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const x=e.pop();d=new Ln(ft,"",l,c,null,u,f,d),f=x.value,l+=x.text,c="array",u=null}let h=null;if(Ws(e,YK).has("indexed")){if(!r)throw new Error("");h=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ln(ft,g,l,c,h,u,f,d)}const n=e.name;_(!n||typeof n=="string"&&n.match(g4),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(_(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,a=s.match(nQ);if(a){const l=parseInt(a[2]||"-1"),c=Ln.from({type:a[1],components:e.components});return new Ln(ft,n||"",s,"array",i,null,l,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const l=e.components!=null?e.components.map(u=>Ln.from(u)):null;return new Ln(ft,n||"",s,"tuple",i,l,null,null)}return s=Bk(e.type),new Ln(ft,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Jr]===Fk}};Ru=new WeakSet,Bp=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,l=r.slice();l.forEach((c,u)=>{var d;J(d=a,Ru,Bp).call(d,e,c,n,f=>{l[u]=f})}),i(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(r))l=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");l=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((c,u)=>{var d;J(d=a[u],Ru,Bp).call(d,e,c,n,f=>{l[u]=f})}),i(l);return}const s=n(this.type,r);s.then?e.push(async function(){i(await s)}()):i(s)};let or=Ln;class Ql{constructor(e,r,n){F(this,"type");F(this,"inputs");nm(e,ft,"Fragment"),n=Object.freeze(n.slice()),ge(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{Ql.from(JSON.parse(e))}catch{}return Ql.from(jo(e))}if(e instanceof Si)switch(e.peekKeyword(m4)){case"constructor":return Cs.from(e);case"error":return zr.from(e);case"event":return Hi.from(e);case"fallback":case"receive":return cs.from(e);case"function":return Wi.from(e);case"struct":return Rl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Cs.from(e);case"error":return zr.from(e);case"event":return Hi.from(e);case"fallback":case"receive":return cs.from(e);case"function":return Wi.from(e);case"struct":return Rl.from(e)}K(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}_(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Cs.isFragment(e)}static isError(e){return zr.isFragment(e)}static isEvent(e){return Hi.isFragment(e)}static isFunction(e){return Wi.isFragment(e)}static isStruct(e){return Rl.isFragment(e)}}class gy extends Ql{constructor(r,n,i,s){super(r,n,s);F(this,"name");_(typeof i=="string"&&i.match(g4),"invalid identifier","name",i),s=Object.freeze(s.slice()),ge(this,{name:i})}}function xh(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class zr extends gy{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Jr,{value:Uk})}get selector(){return Gl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+xh(e,this.inputs)),r.join(" ")}static from(e){if(zr.isFragment(e))return e;if(typeof e=="string")return zr.from(jo(e));if(e instanceof Si){const r=py("error",e),n=Ms(e);return Kl(e),new zr(ft,r,n)}return new zr(ft,e.name,e.inputs?e.inputs.map(or.from):[])}static isFragment(e){return e&&e[Jr]===Uk}}class Hi extends gy{constructor(r,n,i,s){super(r,"event",n,i);F(this,"anonymous");Object.defineProperty(this,Jr,{value:$k}),ge(this,{anonymous:s})}get topicHash(){return Gl(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+xh(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(s=>or.from(s)),new Hi(ft,r,n,!1).topicHash}static from(r){if(Hi.isFragment(r))return r;if(typeof r=="string")try{return Hi.from(jo(r))}catch{_(!1,"invalid event fragment","obj",r)}else if(r instanceof Si){const n=py("event",r),i=Ms(r,!0),s=!!Ws(r,Ir(["anonymous"])).has("anonymous");return Kl(r),new Hi(ft,n,i,s)}return new Hi(ft,r.name,r.inputs?r.inputs.map(n=>or.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Jr]===$k}}class Cs extends Ql{constructor(r,n,i,s,a){super(r,n,i);F(this,"payable");F(this,"gas");Object.defineProperty(this,Jr,{value:Vk}),ge(this,{payable:s,gas:a})}format(r){if(K(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${xh(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Cs.isFragment(r))return r;if(typeof r=="string")try{return Cs.from(jo(r))}catch{_(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Si){Ws(r,Ir(["constructor"]));const n=Ms(r),i=!!Ws(r,KK).has("payable"),s=v4(r);return Kl(r),new Cs(ft,"constructor",n,i,s)}return new Cs(ft,"constructor",r.inputs?r.inputs.map(or.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Jr]===Vk}}class cs extends Ql{constructor(r,n,i){super(r,"fallback",n);F(this,"payable");Object.defineProperty(this,Jr,{value:zk}),ge(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(cs.isFragment(r))return r;if(typeof r=="string")try{return cs.from(jo(r))}catch{_(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Si){const n=r.toString(),i=r.peekKeyword(Ir(["fallback","receive"]));if(_(i,"type must be fallback or receive","obj",n),r.popKeyword(Ir(["fallback","receive"]))==="receive"){const c=Ms(r);return _(c.length===0,"receive cannot have arguments","obj.inputs",c),Ws(r,Ir(["payable"])),Kl(r),new cs(ft,[],!0)}let a=Ms(r);a.length?_(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[or.from("bytes")];const l=x4(r);if(_(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),Ws(r,Ir(["returns"])).has("returns")){const c=Ms(r);_(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return Kl(r),new cs(ft,a,l==="payable")}if(r.type==="receive")return new cs(ft,[],!0);if(r.type==="fallback"){const n=[or.from("bytes")],i=r.stateMutability==="payable";return new cs(ft,n,i)}_(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Jr]===zk}}class Wi extends gy{constructor(r,n,i,s,a,l){super(r,"function",n,s);F(this,"constant");F(this,"outputs");F(this,"stateMutability");F(this,"payable");F(this,"gas");Object.defineProperty(this,Jr,{value:Hk}),a=Object.freeze(a.slice()),ge(this,{constant:i==="view"||i==="pure",gas:l,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return Gl(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+xh(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(xh(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(s=>or.from(s)),new Wi(ft,r,"view",n,[],null).selector}static from(r){if(Wi.isFragment(r))return r;if(typeof r=="string")try{return Wi.from(jo(r))}catch{_(!1,"invalid function fragment","obj",r)}else if(r instanceof Si){const i=py("function",r),s=Ms(r),a=x4(r);let l=[];Ws(r,Ir(["returns"])).has("returns")&&(l=Ms(r));const c=v4(r);return Kl(r),new Wi(ft,i,a,s,l,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new Wi(ft,r.name,n,r.inputs?r.inputs.map(or.from):[],r.outputs?r.outputs.map(or.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Jr]===Hk}}class Rl extends gy{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Jr,{value:Wk})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Rl.from(jo(e))}catch{_(!1,"invalid struct fragment","obj",e)}else if(e instanceof Si){const r=py("struct",e),n=Ms(e);return Kl(e),new Rl(ft,r,n)}return new Rl(ft,e.name,e.inputs?e.inputs.map(or.from):[])}static isFragment(e){return e&&e[Jr]===Wk}}const ki=new Map;ki.set(0,"GENERIC_PANIC");ki.set(1,"ASSERT_FALSE");ki.set(17,"OVERFLOW");ki.set(18,"DIVIDE_BY_ZERO");ki.set(33,"ENUM_RANGE_ERROR");ki.set(34,"BAD_STORAGE_DATA");ki.set(49,"STACK_UNDERFLOW");ki.set(50,"ARRAY_RANGE_ERROR");ki.set(65,"OUT_OF_MEMORY");ki.set(81,"UNINITIALIZED_FUNCTION_CALL");const iQ=new RegExp(/^bytes([0-9]*)$/),sQ=new RegExp(/^(u?int)([0-9]*)$/);let gv=null,Gk=1024;function aQ(t,e,r,n){let i="missing revert data",s=null;const a=null;let l=null;if(r){i="execution reverted";const u=Ae(r);if(r=re(r),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(re(u.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],u.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(re(u.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],u.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[d]},s=`Panic due to ${ki.get(d)||"UNKNOWN"}(${d})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?Be(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Be(e.from)),it(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:c,invocation:a,revert:l})}var Pa,wc;const Tg=class Tg{constructor(){z(this,Pa)}getDefaultValue(e){const r=e.map(i=>J(this,Pa,wc).call(this,or.from(i)));return new ep(r,"_").defaultValue()}encode(e,r){KI(r.length,e.length,"types/values length mismatch");const n=e.map(a=>J(this,Pa,wc).call(this,or.from(a))),i=new ep(n,"_"),s=new pw;return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(a=>J(this,Pa,wc).call(this,or.from(a)));return new ep(i,"_").decode(new gw(r,n,Gk))}static _setDefaultMaxInflation(e){_(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Gk=e}static defaultAbiCoder(){return gv==null&&(gv=new Tg),gv}static getBuiltinCallException(e,r,n){return aQ(e,r,n,Tg.defaultAbiCoder())}};Pa=new WeakSet,wc=function(e){if(e.isArray())return new AG(J(this,Pa,wc).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new ep(e.components.map(n=>J(this,Pa,wc).call(this,n)),e.name);switch(e.baseType){case"address":return new jG(e.name);case"bool":return new EG(e.name);case"string":return new RG(e.name);case"bytes":return new SG(e.name);case"":return new PG(e.name)}let r=e.type.match(sQ);if(r){let n=parseInt(r[2]||"256");return _(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new DG(n/8,r[1]==="int",e.name)}if(r=e.type.match(iQ),r){let n=parseInt(r[1]);return _(n!==0&&n<=32,"invalid bytes length","param",e),new kG(n,e.name)}_(!1,"invalid type","type",e.type)};let vh=Tg;class oQ{constructor(e,r,n){F(this,"fragment");F(this,"name");F(this,"signature");F(this,"topic");F(this,"args");const i=e.name,s=e.format();ge(this,{fragment:e,name:i,signature:s,topic:r,args:n})}}class lQ{constructor(e,r,n,i){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");F(this,"value");const s=e.name,a=e.format();ge(this,{fragment:e,name:s,args:n,signature:a,selector:r,value:i})}}class cQ{constructor(e,r,n){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");const i=e.name,s=e.format();ge(this,{fragment:e,name:i,args:n,signature:s,selector:r})}}class Kk{constructor(e){F(this,"hash");F(this,"_isIndexed");ge(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Qk={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Yk={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Qk[t.toString()]&&(e=Qk[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var _i,Bi,Fi,dr,Zi,Fp,Up;const Ko=class Ko{constructor(e){z(this,Zi);F(this,"fragments");F(this,"deploy");F(this,"fallback");F(this,"receive");z(this,_i);z(this,Bi);z(this,Fi);z(this,dr);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,O(this,Fi,new Map),O(this,_i,new Map),O(this,Bi,new Map);const n=[];for(const a of r)try{n.push(Ql.from(a))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,l.message)}ge(this,{fragments:Object.freeze(n)});let i=null,s=!1;O(this,dr,this.getAbiCoder()),this.fragments.forEach((a,l)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ge(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(_(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${l}]`,a),i=a,s=i.payable);return;case"function":c=E(this,Fi);break;case"event":c=E(this,Bi);break;case"error":c=E(this,_i);break;default:return}const u=a.format();c.has(u)||c.set(u,a)}),this.deploy||ge(this,{deploy:Cs.from("constructor()")}),ge(this,{fallback:i,receive:s})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return vh.defaultAbiCoder()}getFunctionName(e){const r=J(this,Zi,Fp).call(this,e,null,!1);return _(r,"no matching function","key",e),r.name}hasFunction(e){return!!J(this,Zi,Fp).call(this,e,null,!1)}getFunction(e,r){return J(this,Zi,Fp).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(E(this,Fi).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(E(this,Fi).get(i),n)}}getEventName(e){const r=J(this,Zi,Up).call(this,e,null,!1);return _(r,"no matching event","key",e),r.name}hasEvent(e){return!!J(this,Zi,Up).call(this,e,null,!1)}getEvent(e,r){return J(this,Zi,Up).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(E(this,Bi).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(E(this,Bi).get(i),n)}}getError(e,r){if(Xe(e)){const i=e.toLowerCase();if(Yk[i])return zr.from(Yk[i].signature);for(const s of E(this,_i).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of E(this,_i))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?zr.from("error Error(string)"):e==="Panic"?zr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");_(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=zr.from(e).format(),e==="Error(string)")return zr.from("error Error(string)");if(e==="Panic(uint256)")return zr.from("error Panic(uint256)");const n=E(this,_i).get(e);return n||null}forEachError(e){const r=Array.from(E(this,_i).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(E(this,_i).get(i),n)}}_decodeParams(e,r){return E(this,dr).decode(e,r)}_encodeParams(e,r){return E(this,dr).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);_(n,"unknown error","fragment",e),e=n}return _(yt(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,yt(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);_(n,"unknown error","fragment",e),e=n}return bt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);_(n,"unknown function","fragment",e),e=n}return _(yt(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,yt(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);_(n,"unknown function","fragment",e),e=n}return bt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const s=this.getFunction(e);_(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=Pr(r);if(i.length%32===0)try{return E(this,dr).decode(e.outputs,i)}catch{n="could not decode result data"}K(!1,n,"BAD_DATA",{value:re(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=Ae(e,"data"),i=vh.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const l=re(n.slice(0,4)),c=this.getError(l);if(c)try{const u=E(this,dr).decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);_(n,"unknown function","fragment",e),e=n}return re(E(this,dr).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const s=this.getEvent(e);_(s,"unknown event","eventFragment",e),e=s}K(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,a)=>s.type==="string"?Gl(a):s.type==="bytes"?It(re(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=lo(a):s.type.match(/^bytes/)?a=AH(a,32):s.type==="address"&&E(this,dr).encode(["address"],[a]),Hs(re(a),32));for(r.forEach((s,a)=>{const l=e.inputs[a];if(!l.indexed){_(s==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,s);return}s==null?n.push(null):l.baseType==="array"||l.baseType==="tuple"?_(!1,"filtering with tuples or arrays not supported","contract."+l.name,s):Array.isArray(s)?n.push(s.map(c=>i(l,c))):n.push(i(l,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);_(a,"unknown event","eventFragment",e),e=a}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),_(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,l)=>{const c=r[l];if(a.indexed)if(a.type==="string")n.push(Gl(c));else if(a.type==="bytes")n.push(It(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(E(this,dr).encode([a.type],[c]))}else i.push(a),s.push(c)}),{data:E(this,dr).encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const m=this.getEvent(e);_(m,"unknown event","eventFragment",e),e=m}if(n!=null&&!e.anonymous){const m=e.topicHash;_(Xe(n[0],32)&&n[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((m,g)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(or.from({type:"bytes32",name:m.name})),a.push(!0)):(i.push(m),a.push(!1)):(s.push(m),a.push(!1))});const l=n!=null?E(this,dr).decode(i,bt(n)):null,c=E(this,dr).decode(s,r,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((m,g)=>{let x=null;if(m.indexed)if(l==null)x=new Kk(null);else if(a[g])x=new Kk(l[h++]);else try{x=l[h++]}catch(w){x=w}else try{x=c[f++]}catch(w){x=w}u.push(x),d.push(m.name||null)}),ld.fromItems(u,d)}parseTransaction(e){const r=Ae(e.data,"tx.data"),n=oe(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(re(r.slice(0,4)));if(!i)return null;const s=E(this,dr).decode(i.inputs,r.slice(4));return new lQ(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new oQ(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=re(e),n=this.getError(yt(r,0,4));if(!n)return null;const i=E(this,dr).decode(n.inputs,yt(r,4));return new cQ(n,n.selector,i)}static from(e){return e instanceof Ko?e:typeof e=="string"?new Ko(JSON.parse(e)):typeof e.formatJson=="function"?new Ko(e.formatJson()):typeof e.format=="function"?new Ko(e.format("json")):new Ko(e)}};_i=new WeakMap,Bi=new WeakMap,Fi=new WeakMap,dr=new WeakMap,Zi=new WeakSet,Fp=function(e,r,n){if(Xe(e)){const s=e.toLowerCase();for(const a of E(this,Fi).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,l]of E(this,Fi))a.split("(")[0]===e&&s.push(l);if(r){const a=r.length>0?r[r.length-1]:null;let l=r.length,c=!0;vr.isTyped(a)&&a.type==="overrides"&&(c=!1,l--);for(let u=s.length-1;u>=0;u--){const d=s[u].inputs.length;d!==l&&(!c||d!==l-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const d=s[u].inputs;for(let f=0;f<r.length;f++)if(vr.isTyped(r[f])){if(f>=d.length){if(r[f].type==="overrides")continue;s.splice(u,1);break}if(r[f].type!==d[f].baseType){s.splice(u,1);break}}}}if(s.length===1&&r&&r.length!==s[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(l=>JSON.stringify(l.format())).join(", ");_(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=E(this,Fi).get(Wi.from(e).format());return i||null},Up=function(e,r,n){if(Xe(e)){const s=e.toLowerCase();for(const a of E(this,Bi).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,l]of E(this,Bi))a.split("(")[0]===e&&s.push(l);if(r){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<r.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const l=s[a].inputs;for(let c=0;c<r.length;c++)if(vr.isTyped(r[c])&&r[c].type!==l[c].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(l=>JSON.stringify(l.format())).join(", ");_(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=E(this,Bi).get(Hi.from(e).format());return i||null};let Tw=Ko;const b4=BigInt(0);function su(t){return t??null}function jt(t){return t==null?null:t.toString()}class qk{constructor(e,r,n){F(this,"gasPrice");F(this,"maxFeePerGas");F(this,"maxPriorityFeePerGas");ge(this,{gasPrice:su(e),maxFeePerGas:su(r),maxPriorityFeePerGas:su(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:jt(e),maxFeePerGas:jt(r),maxPriorityFeePerGas:jt(n)}}}function F0(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=re(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=oe(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=je(t[i],`request.${i}`));return t.accessList&&(e.accessList=lc(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>aj(i)?re(i):Object.assign({},i))),e}var ps;class uQ{constructor(e,r){F(this,"provider");F(this,"number");F(this,"hash");F(this,"timestamp");F(this,"parentHash");F(this,"parentBeaconBlockRoot");F(this,"nonce");F(this,"difficulty");F(this,"gasLimit");F(this,"gasUsed");F(this,"stateRoot");F(this,"receiptsRoot");F(this,"blobGasUsed");F(this,"excessBlobGas");F(this,"miner");F(this,"prevRandao");F(this,"extraData");F(this,"baseFeePerGas");z(this,ps);O(this,ps,e.transactions.map(n=>typeof n!="string"?new bh(n,r):n)),ge(this,{provider:r,hash:su(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:su(e.prevRandao),extraData:e.extraData,baseFeePerGas:su(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return E(this,ps).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=E(this,ps).slice();return e.length===0?[]:(K(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:s,hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:g,timestamp:x,transactions:w}=this;return{_type:"Block",baseFeePerGas:jt(e),difficulty:jt(r),extraData:n,gasLimit:jt(i),gasUsed:jt(s),blobGasUsed:jt(this.blobGasUsed),excessBlobGas:jt(this.excessBlobGas),hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,timestamp:x,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:g,transactions:w}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return E(this,ps).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=E(this,ps)[e];else{const n=e.toLowerCase();for(const i of E(this,ps))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;_(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return dQ(this)}}ps=new WeakMap;class am{constructor(e,r){F(this,"provider");F(this,"transactionHash");F(this,"blockHash");F(this,"blockNumber");F(this,"removed");F(this,"address");F(this,"data");F(this,"topics");F(this,"index");F(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());ge(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:a,topics:l,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:a,topics:l,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return K(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return fQ(this)}}var Uh;class w4{constructor(e,r){F(this,"provider");F(this,"to");F(this,"from");F(this,"contractAddress");F(this,"hash");F(this,"index");F(this,"blockHash");F(this,"blockNumber");F(this,"logsBloom");F(this,"gasUsed");F(this,"blobGasUsed");F(this,"cumulativeGasUsed");F(this,"gasPrice");F(this,"blobGasPrice");F(this,"type");F(this,"status");F(this,"root");z(this,Uh);O(this,Uh,Object.freeze(e.logs.map(i=>new am(i,r))));let n=b4;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),ge(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return E(this,Uh)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:s,blockHash:a,blockNumber:l,logsBloom:c,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:l,contractAddress:n,cumulativeGasUsed:jt(this.cumulativeGasUsed),from:r,gasPrice:jt(this.gasPrice),blobGasUsed:jt(this.blobGasUsed),blobGasPrice:jt(this.blobGasPrice),gasUsed:jt(this.gasUsed),hash:i,index:s,logs:u,logsBloom:c,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return N4(this)}reorderedEvent(e){return K(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),j4(this,e)}}Uh=new WeakMap;var Ta;const OA=class OA{constructor(e,r){F(this,"provider");F(this,"blockNumber");F(this,"blockHash");F(this,"index");F(this,"hash");F(this,"type");F(this,"to");F(this,"from");F(this,"nonce");F(this,"gasLimit");F(this,"gasPrice");F(this,"maxPriorityFeePerGas");F(this,"maxFeePerGas");F(this,"maxFeePerBlobGas");F(this,"data");F(this,"value");F(this,"chainId");F(this,"signature");F(this,"accessList");F(this,"blobVersionedHashes");F(this,"authorizationList");z(this,Ta);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,O(this,Ta,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:s,to:a,from:l,nonce:c,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:h,chainId:jt(this.chainId),data:u,from:l,gasLimit:jt(this.gasLimit),gasPrice:jt(this.gasPrice),hash:i,maxFeePerGas:jt(this.maxFeePerGas),maxPriorityFeePerGas:jt(this.maxPriorityFeePerGas),maxFeePerBlobGas:jt(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:n,type:s,value:jt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await Sr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let s=E(this,Ta),a=-1,l=s===-1;const c=async()=>{if(l)return null;const{blockNumber:h,nonce:m}=await Sr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){s=h;return}if(l)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(a===-1&&(a=s-3,a<E(this,Ta)&&(a=E(this,Ta)));a<=h;){if(l)return null;const x=await this.provider.getBlock(a,!0);if(x==null)return;for(const w of x)if(w===this.hash)return;for(let w=0;w<x.length;w++){const y=await x.getTransaction(w);if(y.from===this.from&&y.nonce===this.nonce){if(l)return null;const v=await this.provider.getTransactionReceipt(y.hash);if(v==null||h-v.blockNumber+1<n)return;let b="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?b="repriced":y.data==="0x"&&y.from===y.to&&y.value===b4&&(b="cancelled"),K(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:y.replaceableTransaction(s),hash:y.hash,receipt:v})}}a++}},u=h=>{if(h==null||h.status!==0)return h;K(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(d);if(d){if(n===1||await d.confirmations()>=n)return u(d)}else if(await c(),n===0)return null;return await new Promise((h,m)=>{const g=[],x=()=>{g.forEach(y=>y())};if(g.push(()=>{l=!0}),i>0){const y=setTimeout(()=>{x(),m(it("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(y)})}const w=async y=>{if(await y.confirmations()>=n){x();try{h(u(y))}catch(v){m(v)}}};if(g.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),s>=0){const y=async()=>{try{await c()}catch(v){if(sr(v,"TRANSACTION_REPLACED")){x(),m(v);return}}l||this.provider.once("block",y)};g.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),N4(this)}reorderedEvent(e){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),K(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),j4(this,e)}replaceableTransaction(e){_(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new OA(this,this.provider);return O(r,Ta,e),r}};Ta=new WeakMap;let bh=OA;function dQ(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function j4(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function N4(t){return{orphan:"drop-transaction",tx:t}}function fQ(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class vj extends am{constructor(r,n,i){super(r,r.provider);F(this,"interface");F(this,"fragment");F(this,"args");const s=n.decodeEventLog(i,r.data,r.topics);ge(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class A4 extends am{constructor(r,n){super(r,r.provider);F(this,"error");ge(this,{error:n})}}var Mu;class hQ extends w4{constructor(r,n,i){super(i,n);z(this,Mu);O(this,Mu,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?E(this,Mu).getEvent(r.topics[0]):null;if(n)try{return new vj(r,E(this,Mu),n)}catch(i){return new A4(r,i)}return r})}}Mu=new WeakMap;var $h;class bj extends bh{constructor(r,n,i){super(i,n);z(this,$h);O(this,$h,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new hQ(E(this,$h),this.provider,i)}}$h=new WeakMap;class E4 extends JI{constructor(r,n,i,s){super(r,n,i);F(this,"log");ge(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class mQ extends E4{constructor(e,r,n,i,s){super(e,r,n,new vj(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);ge(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Jk=BigInt(0);function S4(t){return t&&typeof t.call=="function"}function k4(t){return t&&typeof t.estimateGas=="function"}function yy(t){return t&&typeof t.resolveName=="function"}function C4(t){return t&&typeof t.sendTransaction=="function"}function P4(t){if(t!=null){if(yy(t))return t;if(t.provider)return t.provider}}var Vh;class pQ{constructor(e,r,n){z(this,Vh);F(this,"fragment");if(ge(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=Yl(e.runner,"resolveName"),s=yy(i)?i:null;O(this,Vh,async function(){const a=await Promise.all(r.inputs.map((l,c)=>n[c]==null?null:l.walkAsync(n[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>Or(h,s))):Or(f,s):f)));return e.interface.encodeFilterTopics(r,a)}())}getTopicFilter(){return E(this,Vh)}}Vh=new WeakMap;function Yl(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function nl(t){return t==null?null:t.provider||null}async function T4(t,e){const r=vr.dereference(t,"overrides");_(typeof r=="object","invalid overrides parameter","overrides",t);const n=F0(r);return _(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),_(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function gQ(t,e,r){const n=Yl(t,"resolveName"),i=yy(n)?n:null;return await Promise.all(e.map((s,a)=>s.walkAsync(r[a],(l,c)=>(c=vr.dereference(c,l),l==="address"?Or(c,i):c))))}function yQ(t){const e=async function(a){const l=await T4(a,["data"]);l.to=await t.getAddress(),l.from&&(l.from=await Or(l.from,P4(t.runner)));const c=t.interface,u=oe(l.value||Jk,"overrides.value")===Jk,d=(l.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&_(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),_(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data);const f=c.receive||c.fallback&&c.fallback.payable;return _(f||u,"cannot send value to non-payable fallback","overrides.value",l.value),_(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data),l},r=async function(a){const l=Yl(t.runner,"call");K(S4(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await l.call(c)}catch(u){throw sj(u)&&u.data?t.interface.makeError(u.data,c):u}},n=async function(a){const l=t.runner;K(C4(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await l.sendTransaction(await e(a)),u=nl(t.runner);return new bj(t.interface,u,c)},i=async function(a){const l=Yl(t.runner,"estimateGas");return K(k4(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(a))},s=async a=>await n(a);return ge(s,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),s}function xQ(t,e){const r=function(...u){const d=t.interface.getFunction(e,u);return K(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},n=async function(...u){const d=r(...u);let f={};if(d.inputs.length+1===u.length&&(f=await T4(u.pop()),f.from&&(f.from=await Or(f.from,P4(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await gQ(t.runner,d.inputs,u);return Object.assign({},f,await Sr({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},i=async function(...u){const d=await l(...u);return d.length===1?d[0]:d},s=async function(...u){const d=t.runner;K(C4(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await n(...u)),h=nl(t.runner);return new bj(t.interface,h,f)},a=async function(...u){const d=Yl(t.runner,"estimateGas");return K(k4(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...u))},l=async function(...u){const d=Yl(t.runner,"call");K(S4(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...u);let h="0x";try{h=await d.call(f)}catch(g){throw sj(g)&&g.data?t.interface.makeError(g.data,f):g}const m=r(...u);return t.interface.decodeFunctionResult(m,h)},c=async(...u)=>r(...u).constant?await i(...u):await s(...u);return ge(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:s,staticCall:i,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return K(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function vQ(t,e){const r=function(...i){const s=t.interface.getEvent(e,i);return K(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new pQ(t,r(...i),i)};return ge(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return K(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const U0=Symbol.for("_ethersInternal_contract"),O4=new WeakMap;function bQ(t,e){O4.set(t[U0],e)}function rn(t){return O4.get(t[U0])}function wQ(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function wj(t,e){let r,n=null;if(Array.isArray(e)){const s=function(a){if(Xe(a,32))return a;const l=t.interface.getEvent(a);return _(l,"unknown fragment","name",a),l.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?r=[null]:typeof e=="string"?Xe(e,32)?r=[e]:(n=t.interface.getEvent(e),_(n,"unknown fragment","event",e),r=[n.topicHash]):wQ(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):_(!1,"unknown event name","event",e);r=r.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(l=>l.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=r.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:r}}async function vf(t,e){const{subs:r}=rn(t);return r.get((await wj(t,e)).tag)||null}async function Xk(t,e,r){const n=nl(t.runner);K(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await wj(t,r),{addr:l,subs:c}=rn(t);let u=c.get(s);if(!u){const f={address:l||t,topics:a},h=w=>{let y=i;if(y==null)try{y=t.interface.getEvent(w.topics[0])}catch{}if(y){const v=y,b=i?t.interface.decodeEventLog(i,w.data,w.topics):[];Iw(t,r,b,j=>new mQ(t,j,r,v,w))}else Iw(t,r,[],v=>new E4(t,v,r,w))};let m=[];u={tag:s,listeners:[],start:()=>{m.length||m.push(n.on(f,h))},stop:async()=>{if(m.length==0)return;let w=m;m=[],await Promise.all(w),n.off(f,h)}},c.set(s,u)}return u}let Ow=Promise.resolve();async function jQ(t,e,r,n){await Ow;const i=await vf(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:l})=>{const c=Array.from(r);n&&c.push(n(l?null:a));try{a.call(t,...c)}catch{}return!l}),i.listeners.length===0&&(i.stop(),rn(t).subs.delete(i.tag)),s>0}async function Iw(t,e,r,n){try{await Ow}catch{}const i=jQ(t,e,r,n);return Ow=i,await i}const rp=["then"];var nT;nT=U0;const $f=class $f{constructor(e,r,n,i){F(this,"target");F(this,"interface");F(this,"runner");F(this,"filters");F(this,nT);F(this,"fallback");_(typeof e=="string"||L6(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=Tw.from(r);ge(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,U0,{value:{}});let a,l=null,c=null;if(i){const f=nl(n);c=new bj(this.interface,f,i)}let u=new Map;if(typeof e=="string")if(Xe(e))l=e,a=Promise.resolve(e);else{const f=Yl(n,"resolveName");if(!yy(f))throw it("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw it("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return rn(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return rn(this).addr=f,f});bQ(this,{addrPromise:a,addr:l,deployTx:c,subs:u});const d=new Proxy({},{get:(f,h,m)=>{if(typeof h=="symbol"||rp.indexOf(h)>=0)return Reflect.get(f,h,m);try{return this.getEvent(h)}catch(g){if(!sr(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>rp.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return ge(this,{filters:d}),ge(this,{fallback:s.receive||s.fallback?yQ(this):null}),new Proxy(this,{get:(f,h,m)=>{if(typeof h=="symbol"||h in f||rp.indexOf(h)>=0)return Reflect.get(f,h,m);try{return f.getFunction(h)}catch(g){if(!sr(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>typeof h=="symbol"||h in f||rp.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new $f(this.target,this.interface,e)}attach(e){return new $f(e,this.interface,this.runner)}async getAddress(){return await rn(this).addrPromise}async getDeployedCode(){const e=nl(this.runner);K(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=nl(this.runner);return K(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(l){s(l)}};a()})}deploymentTransaction(){return rn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),xQ(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),vQ(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=rn(this),a=i||await s,{fragment:l,topics:c}=await wj(this,e),u={address:a,topics:c,fromBlock:r,toBlock:n},d=nl(this.runner);return K(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=l;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new vj(f,this.interface,h)}catch(m){return new A4(f,m)}return new am(f,d)})}async on(e,r){const n=await Xk(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await Xk(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Iw(this,e,r,null)}async listenerCount(e){if(e){const i=await vf(this,e);return i?i.listeners.length:0}const{subs:r}=rn(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await vf(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:r}=rn(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,r){const n=await vf(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),rn(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await vf(this,e);if(!r)return this;r.stop(),rn(this).subs.delete(r.tag)}else{const{subs:r}=rn(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends $f{constructor(i,s=null){super(i,e,s)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let Dw=$f;function NQ(){return Dw}class Ce extends NQ(){}function yv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):_(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class AQ{constructor(e){F(this,"name");ge(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const I4=new RegExp("^(ipfs)://(.*)$","i"),Zk=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),I4,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Oa,wl,Ia,jc,Og,D4;const Kc=class Kc{constructor(e,r,n){z(this,Ia);F(this,"provider");F(this,"address");F(this,"name");z(this,Oa);z(this,wl);ge(this,{provider:e,address:r,name:n}),O(this,Oa,null),O(this,wl,new Ce(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return E(this,Oa)==null&&O(this,Oa,(async()=>{try{return await E(this,wl).supportsInterface("0x9061b923")}catch(e){if(sr(e,"CALL_EXCEPTION"))return!1;throw O(this,Oa,null),e}})()),await E(this,Oa)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await J(this,Ia,jc).call(this,"addr(bytes32)");return s==null||s===fh?null:s}catch(s){if(sr(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const a=await J(this,Ia,jc).call(this,"addr(bytes32,uint)",[s]);if(Xe(a,20))return Be(a)}let r=null;for(const s of this.provider.plugins)if(s instanceof AQ&&s.supportsCoinType(e)){r=s;break}if(r==null)return null;const n=await J(this,Ia,jc).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;K(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await J(this,Ia,jc).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await J(this,Ia,jc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",s=parseInt(r[4],16);if(r[5].length===s*2)return`${i}://${SH("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;K(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<Zk.length;n++){const i=r.match(Zk[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=yv(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:r});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=c[1],d=new Ce(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const x=await d.ownerOf(u);if(l!==x)return e.push({type:"!owner",value:x}),{url:null,linkage:e};e.push({type:"owner",value:x})}else if(s==="erc1155"){const x=await d.balanceOf(l,u);if(!x)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:x.toString()})}let f=await d[a](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),s==="erc1155"&&(f=f.replace("{id}",lo(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=yv(f)),e.push({type:"metadata-url",value:f});let h={};const m=await new co(f).send();m.assertOk();try{h=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const y=m.body;return y&&e.push({type:"!metadata",value:re(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(I4)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=yv(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return K(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await J(i=Kc,Og,D4).call(i,e,n);if(s!=null){const a=new Kc(e,s,r);return n!==r&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};Oa=new WeakMap,wl=new WeakMap,Ia=new WeakSet,jc=async function(e,r){r=(r||[]).slice();const n=E(this,wl).interface;r.unshift(Cw(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),K(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[FK(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const s=await E(this,wl)[e](...r);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!sr(s,"CALL_EXCEPTION"))throw s}return null},Og=new WeakSet,D4=async function(e,r){const n=await Kc.getEnsAddress(e);try{const s=await new Ce(n,["function resolver(bytes32) view returns (address)"],e).resolver(Cw(r),{enableCcipRead:!0});return s===fh?null:s}catch(i){throw i}return null},z(Kc,Og);let $0=Kc;const eC=BigInt(0);function ke(t,e){return function(r){return r==null?e:t(r)}}function wh(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function om(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r)){for(const a of e[i])if(a in r){s=a;break}}try{const a=t[i](r[s]);a!==void 0&&(n[i]=a)}catch(a){const l=a instanceof Error?a.message:"not-an-error";K(!1,`invalid value for value.${i} (${l})`,"BAD_DATA",{value:r})}}return n}}function EQ(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}_(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function pd(t){return _(Xe(t,!0),"invalid data","value",t),t}function ir(t){return _(Xe(t,32),"invalid hash","value",t),t}const SQ=om({address:Be,blockHash:ir,blockNumber:je,data:pd,index:je,removed:ke(EQ,!1),topics:wh(ir),transactionHash:ir,transactionIndex:je},{index:["logIndex"]});function kQ(t){return SQ(t)}const CQ=om({hash:ke(ir),parentHash:ir,parentBeaconBlockRoot:ke(ir,null),number:je,timestamp:je,nonce:ke(pd),difficulty:oe,gasLimit:oe,gasUsed:oe,stateRoot:ke(ir,null),receiptsRoot:ke(ir,null),blobGasUsed:ke(oe,null),excessBlobGas:ke(oe,null),miner:ke(Be),prevRandao:ke(ir,null),extraData:pd,baseFeePerGas:ke(oe)},{prevRandao:["mixHash"]});function PQ(t){const e=CQ(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:R4(r)),e}const TQ=om({transactionIndex:je,blockNumber:je,transactionHash:ir,address:Be,topics:wh(ir),data:pd,index:je,blockHash:ir},{index:["logIndex"]});function OQ(t){return TQ(t)}const IQ=om({to:ke(Be,null),from:ke(Be,null),contractAddress:ke(Be,null),index:je,root:ke(re),gasUsed:oe,blobGasUsed:ke(oe,null),logsBloom:ke(pd),blockHash:ir,hash:ir,logs:wh(OQ),blockNumber:je,cumulativeGasUsed:oe,effectiveGasPrice:ke(oe),blobGasPrice:ke(oe,null),status:ke(je),type:ke(je,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function DQ(t){return IQ(t)}function R4(t){t.to&&oe(t.to)===eC&&(t.to="0x0000000000000000000000000000000000000000");const e=om({hash:ir,index:ke(je,void 0),type:r=>r==="0x"||r==null?0:je(r),accessList:ke(lc,null),blobVersionedHashes:ke(wh(ir,!0),null),authorizationList:ke(wh(r=>{let n;if(r.signature)n=r.signature;else{let i=r.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},r,{yParity:i})}return{address:Be(r.address),chainId:oe(r.chainId),nonce:oe(r.nonce),signature:Yr.from(n)}},!1),null),blockHash:ke(ir,null),blockNumber:ke(je,null),transactionIndex:ke(je,null),from:Be,gasPrice:ke(oe),maxPriorityFeePerGas:ke(oe),maxFeePerGas:ke(oe),maxFeePerBlobGas:ke(oe,null),gasLimit:oe,to:ke(Be,null),value:oe,nonce:je,data:pd,creates:ke(Be,null),chainId:ke(oe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=bG(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Yr.from(t.signature):e.signature=Yr.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&oe(e.blockHash)===eC&&(e.blockHash=null),e}const RQ="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class lm{constructor(e){F(this,"name");ge(this,{name:e})}clone(){return new lm(this.name)}}class xy extends lm{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);F(this,"effectiveBlock");F(this,"txBase");F(this,"txCreate");F(this,"txDataZero");F(this,"txDataNonzero");F(this,"txAccessListStorageKey");F(this,"txAccessListAddress");const i={effectiveBlock:r};function s(a,l){let c=(n||{})[a];c==null&&(c=l),_(typeof c=="number",`invalud value for ${a}`,"costs",n),i[a]=c}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),ge(this,i)}clone(){return new xy(this.effectiveBlock,this)}}class vy extends lm{constructor(r,n){super("org.ethers.plugins.network.Ens");F(this,"address");F(this,"targetNetwork");ge(this,{address:r||RQ,targetNetwork:n??1})}clone(){return new vy(this.address,this.targetNetwork)}}var zh,Hh;class MQ extends lm{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");z(this,zh);z(this,Hh);O(this,zh,r),O(this,Hh,n)}get url(){return E(this,zh)}get processFunc(){return E(this,Hh)}clone(){return this}}zh=new WeakMap,Hh=new WeakMap;const xv=new Map;var Lu,_u,Da;const Qc=class Qc{constructor(e,r){z(this,Lu);z(this,_u);z(this,Da);O(this,Lu,e),O(this,_u,oe(r)),O(this,Da,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return E(this,Lu)}set name(e){O(this,Lu,e)}get chainId(){return E(this,_u)}set chainId(e){O(this,_u,oe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===oe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===oe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===oe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(E(this,Da).values())}attachPlugin(e){if(E(this,Da).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return E(this,Da).set(e.name,e.clone()),this}getPlugin(e){return E(this,Da).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new Qc(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new xy;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=lc(e.accessList);for(const s in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(LQ(),e==null)return Qc.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=xv.get(e);if(r)return r();if(typeof e=="bigint")return new Qc("unknown",e);_(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){_(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new Qc(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new vy(e.ensAddress,e.ensNetwork)),r}_(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=xv.get(e);n&&_(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),xv.set(e,r)}};Lu=new WeakMap,_u=new WeakMap,Da=new WeakMap;let Gi=Qc;function tC(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function rC(t){return new MQ(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,a]=await Promise.all([n.send(),e()]);i=s;const l=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:tC(l.maxFee,9),maxPriorityFeePerGas:tC(l.maxPriorityFee,9)}}catch(s){K(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let nC=!1;function LQ(){if(nC)return;nC=!0;function t(e,r,n){const i=function(){const s=new Gi(e,r);return n.ensNetwork!=null&&s.attachPlugin(new vy(null,n.ensNetwork)),s.attachPlugin(new xy),(n.plugins||[]).forEach(a=>{s.attachPlugin(a)}),s};Gi.register(e,i),Gi.register(r,i),n.altNames&&n.altNames.forEach(s=>{Gi.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[rC("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[rC("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Rw(t){return JSON.parse(JSON.stringify(t))}var gs,_n,Ra,Ui,Bu,$p;class _Q{constructor(e){z(this,Bu);z(this,gs);z(this,_n);z(this,Ra);z(this,Ui);O(this,gs,e),O(this,_n,null),O(this,Ra,4e3),O(this,Ui,-2)}get pollingInterval(){return E(this,Ra)}set pollingInterval(e){O(this,Ra,e)}start(){E(this,_n)||(O(this,_n,E(this,gs)._setTimeout(J(this,Bu,$p).bind(this),E(this,Ra))),J(this,Bu,$p).call(this))}stop(){E(this,_n)&&(E(this,gs)._clearTimeout(E(this,_n)),O(this,_n,null))}pause(e){this.stop(),e&&O(this,Ui,-2)}resume(){this.start()}}gs=new WeakMap,_n=new WeakMap,Ra=new WeakMap,Ui=new WeakMap,Bu=new WeakSet,$p=async function(){try{const e=await E(this,gs).getBlockNumber();if(E(this,Ui)===-2){O(this,Ui,e);return}if(e!==E(this,Ui)){for(let r=E(this,Ui)+1;r<=e;r++){if(E(this,_n)==null)return;await E(this,gs).emit("block",r)}O(this,Ui,e)}}catch{}E(this,_n)!=null&&O(this,_n,E(this,gs)._setTimeout(J(this,Bu,$p).bind(this),E(this,Ra)))};var jl,Nl,Ma;class jj{constructor(e){z(this,jl);z(this,Nl);z(this,Ma);O(this,jl,e),O(this,Ma,!1),O(this,Nl,r=>{this._poll(r,E(this,jl))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){E(this,Ma)||(O(this,Ma,!0),E(this,Nl).call(this,-2),E(this,jl).on("block",E(this,Nl)))}stop(){E(this,Ma)&&(O(this,Ma,!1),E(this,jl).off("block",E(this,Nl)))}pause(e){this.stop()}resume(){this.start()}}jl=new WeakMap,Nl=new WeakMap,Ma=new WeakMap;var Fu,ys;class BQ extends jj{constructor(r,n){super(r);z(this,Fu);z(this,ys);O(this,Fu,n),O(this,ys,-2)}pause(r){r&&O(this,ys,-2),super.pause(r)}async _poll(r,n){const i=await n.getBlock(E(this,Fu));i!=null&&(E(this,ys)===-2?O(this,ys,i.number):i.number>E(this,ys)&&(n.emit(E(this,Fu),i.number),O(this,ys,i.number)))}}Fu=new WeakMap,ys=new WeakMap;var Ig;class FQ extends jj{constructor(r,n){super(r);z(this,Ig);O(this,Ig,Rw(n))}async _poll(r,n){throw new Error("@TODO")}}Ig=new WeakMap;var Uu;class UQ extends jj{constructor(r,n){super(r);z(this,Uu);O(this,Uu,n)}async _poll(r,n){const i=await n.getTransactionReceipt(E(this,Uu));i&&n.emit(E(this,Uu),i)}}Uu=new WeakMap;var xs,$u,Vu,La,Bn,Dg,M4;class Nj{constructor(e,r){z(this,Dg);z(this,xs);z(this,$u);z(this,Vu);z(this,La);z(this,Bn);O(this,xs,e),O(this,$u,Rw(r)),O(this,Vu,J(this,Dg,M4).bind(this)),O(this,La,!1),O(this,Bn,-2)}start(){E(this,La)||(O(this,La,!0),E(this,Bn)===-2&&E(this,xs).getBlockNumber().then(e=>{O(this,Bn,e)}),E(this,xs).on("block",E(this,Vu)))}stop(){E(this,La)&&(O(this,La,!1),E(this,xs).off("block",E(this,Vu)))}pause(e){this.stop(),e&&O(this,Bn,-2)}resume(){this.start()}}xs=new WeakMap,$u=new WeakMap,Vu=new WeakMap,La=new WeakMap,Bn=new WeakMap,Dg=new WeakSet,M4=async function(e){if(E(this,Bn)===-2)return;const r=Rw(E(this,$u));r.fromBlock=E(this,Bn)+1,r.toBlock=e;const n=await E(this,xs).getLogs(r);if(n.length===0){E(this,Bn)<e-60&&O(this,Bn,e-60);return}for(const i of n)E(this,xs).emit(E(this,$u),i),O(this,Bn,i.blockNumber)};const $Q=BigInt(2),VQ=10;function np(t){return t&&typeof t.then=="function"}function Vp(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,a)=>(s[a]=n[a],s),{})}return n})}class L4{constructor(e){F(this,"name");ge(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function zQ(t){return JSON.parse(JSON.stringify(t))}function Mw(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function vv(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Xe(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Vp("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Vp("orphan",r),filter:zQ(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?Mw(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],s=[],a=l=>{Xe(l)?i.push(l):s.push((async()=>{i.push(await Or(l,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),s.length&&await Promise.all(s),n.address=Mw(i.map(l=>l.toLowerCase()))}return{filter:n,tag:Vp("event",n),type:"event"}}_(!1,"unknown ProviderEvent","event",t)}function bv(){return new Date().getTime()}const HQ={cacheTimeout:250,pollingInterval:4e3};var fr,_a,hr,zu,on,Al,Ba,vs,Wh,Fn,Hu,Wu,Ee,Zr,Lw,_w,bf,Bw,wf,zp;class WQ{constructor(e,r){z(this,Ee);z(this,fr);z(this,_a);z(this,hr);z(this,zu);z(this,on);z(this,Al);z(this,Ba);z(this,vs);z(this,Wh);z(this,Fn);z(this,Hu);z(this,Wu);if(O(this,Wu,Object.assign({},HQ,r||{})),e==="any")O(this,Al,!0),O(this,on,null);else if(e){const n=Gi.from(e);O(this,Al,!1),O(this,on,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else O(this,Al,!1),O(this,on,null);O(this,vs,-1),O(this,Ba,new Map),O(this,fr,new Map),O(this,_a,new Map),O(this,hr,null),O(this,zu,!1),O(this,Wh,1),O(this,Fn,new Map),O(this,Hu,!1)}get pollingInterval(){return E(this,Wu).pollingInterval}get provider(){return this}get plugins(){return Array.from(E(this,_a).values())}attachPlugin(e){if(E(this,_a).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return E(this,_a).set(e.name,e.connect(this)),this}getPlugin(e){return E(this,_a).get(e)||null}get disableCcipRead(){return E(this,Hu)}set disableCcipRead(e){O(this,Hu,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),a=[];for(let l=0;l<n.length;l++){const c=n[l],u=c.replace("{sender}",i).replace("{data}",s),d=new co(u);c.indexOf("{data}")===-1&&(d.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:l,urls:n});let f="unknown error",h;try{h=await d.send()}catch(m){a.push(m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:m}});continue}try{const m=h.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:m}),m.data;m.message&&(f=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:m})}catch{}K(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),a.push(f)}K(!1,`error encountered during CCIP fetch: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new uQ(PQ(e),this)}_wrapLog(e,r){return new am(kQ(e),this)}_wrapTransactionReceipt(e,r){return new w4(DQ(e),this)}_wrapTransactionResponse(e,r){return new bh(R4(e),this)}_detectNetwork(){K(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){K(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=je(await J(this,Ee,Zr).call(this,{method:"getBlockNumber"}),"%response");return E(this,vs)>=0&&O(this,vs,e),e}_getAddress(e){return Or(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Xe(e))return Xe(e,32)?e:pi(e);if(typeof e=="bigint"&&(e=je(e,"blockTag")),typeof e=="number")return e>=0?pi(e):E(this,vs)>=0?pi(E(this,vs)+e):this.getBlockNumber().then(r=>pi(r+e));_(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Mw(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(c,u,d)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),r.length&&(h.topics=r),u&&(h.fromBlock=u),d&&(h.toBlock=d),n&&(h.blockHash=n),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(s),a,l]).then(c=>i(c[0],c[1],c[2])):i(s,a,l)}_getTransactionRequest(e){const r=F0(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const s=Or(r[i],this);np(s)?n.push(async function(){r[i]=await s}()):r[i]=s}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);np(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(E(this,on)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw E(this,on)===i&&O(this,on,null),s}})();return O(this,on,i),(await i).clone()}const e=E(this,on),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(E(this,Al)?(this.emit("network",n,r),E(this,on)===e&&O(this,on,Promise.resolve(n))):K(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:i,gasPrice:s,priorityFee:a}=await Sr({_block:J(this,Ee,Bw).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await J(this,Ee,Zr).call(this,{method:"getGasPrice"});return oe(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await J(this,Ee,Zr).call(this,{method:"getPriorityFee"});return oe(d,"%response")}catch{}return null})()});let l=null,c=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(c=a??BigInt("1000000000"),l=u.baseFeePerGas*$Q+c),new qk(s,l,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new co(n.url),s=await n.processFunc(r,this,i);return new qk(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return np(r)&&(r=await r),oe(await J(this,Ee,Zr).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await Sr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await J(this,Ee,_w).call(this,J(this,Ee,Lw).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return oe(await J(this,Ee,bf).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return je(await J(this,Ee,bf).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return re(await J(this,Ee,bf).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=oe(r,"position");return re(await J(this,Ee,bf).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await Sr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=I0.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await Sr({network:this.getNetwork(),params:J(this,Ee,Bw).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await Sr({network:this.getNetwork(),params:J(this,Ee,Zr).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await Sr({network:this.getNetwork(),params:J(this,Ee,Zr).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await J(this,Ee,Zr).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await Sr({network:this.getNetwork(),result:J(this,Ee,Zr).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:re(r)}async getLogs(e){let r=this._getFilter(e);np(r)&&(r=await r);const{network:n,params:i}=await Sr({network:this.getNetwork(),params:J(this,Ee,Zr).call(this,{method:"getLogs",filter:r})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){K(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await $0.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Be(e);const r=Cw(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await $0.getEnsAddress(this),s=await new Ce(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(s==null||s===fh)return null;const l=await new Ce(s,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(l)!==e?null:l}catch(n){if(sr(n,"BAD_DATA")&&n.value==="0x"||sr(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let l=null;const c=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=i){s(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};n!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c),a(it("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){K(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=E(this,Fn).get(e);r&&(r.timer&&clearTimeout(r.timer),E(this,Fn).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=$d(this,Wh)._++,i=()=>{E(this,Fn).delete(n),e()};if(this.paused)E(this,Fn).set(n,{timer:null,func:i,time:r});else{const s=setTimeout(i,r);E(this,Fn).set(n,{timer:s,func:i,time:bv()})}return n}_forEachSubscriber(e){for(const r of E(this,fr).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new L4(e.type);case"block":{const r=new _Q(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new BQ(this,e.type);case"event":return new Nj(this,e.filter);case"transaction":return new UQ(this,e.hash);case"orphan":return new FQ(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of E(this,fr).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),E(this,hr)!=null&&r.pause(E(this,hr));break}}async on(e,r){const n=await J(this,Ee,zp).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,E(this,hr)!=null&&n.subscriber.pause(E(this,hr))),this}async once(e,r){const n=await J(this,Ee,zp).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,E(this,hr)!=null&&n.subscriber.pause(E(this,hr))),this}async emit(e,...r){const n=await J(this,Ee,wf).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:a})=>{const l=new JI(this,a?null:s,e);try{s.call(this,...r,l)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),E(this,fr).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await J(this,Ee,wf).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of E(this,fr).values())r+=n.length;return r}async listeners(e){if(e){const n=await J(this,Ee,wf).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of E(this,fr).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await J(this,Ee,wf).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),E(this,fr).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await J(this,Ee,zp).call(this,e);n&&i.stop(),E(this,fr).delete(r)}else for(const[r,{started:n,subscriber:i}]of E(this,fr))n&&i.stop(),E(this,fr).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return E(this,zu)}destroy(){this.removeAllListeners();for(const e of E(this,Fn).keys())this._clearTimeout(e);O(this,zu,!0)}get paused(){return E(this,hr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(O(this,vs,-1),E(this,hr)!=null){if(E(this,hr)==!!e)return;K(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),O(this,hr,!!e);for(const r of E(this,Fn).values())r.timer&&clearTimeout(r.timer),r.time=bv()-r.time}resume(){if(E(this,hr)!=null){this._forEachSubscriber(e=>e.resume()),O(this,hr,null);for(const e of E(this,Fn).values()){let r=e.time;r<0&&(r=0),e.time=bv(),setTimeout(e.func,r)}}}}fr=new WeakMap,_a=new WeakMap,hr=new WeakMap,zu=new WeakMap,on=new WeakMap,Al=new WeakMap,Ba=new WeakMap,vs=new WeakMap,Wh=new WeakMap,Fn=new WeakMap,Hu=new WeakMap,Wu=new WeakMap,Ee=new WeakSet,Zr=async function(e){const r=E(this,Wu).cacheTimeout;if(r<0)return await this._perform(e);const n=Vp(e.method,e);let i=E(this,Ba).get(n);return i||(i=this._perform(e),E(this,Ba).set(n,i),setTimeout(()=>{E(this,Ba).get(n)===i&&E(this,Ba).delete(n)},r)),await i},Lw=async function(e,r,n){K(n<VQ,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=F0(e);try{return re(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(s){if(!this.disableCcipRead&&sj(s)&&s.data&&n>=0&&r==="latest"&&i.to!=null&&yt(s.data,0,4)==="0x556f1830"){const a=s.data,l=await Or(i.to,this);let c;try{c=qQ(yt(s.data,4))}catch(f){K(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}K(c.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);K(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const d={to:l,data:bt([c.selector,YQ([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await J(this,Ee,Lw).call(this,d,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw s}},_w=async function(e){const{value:r}=await Sr({network:this.getNetwork(),value:e});return r},bf=async function(e,r,n){let i=this._getAddress(r),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await J(this,Ee,_w).call(this,J(this,Ee,Zr).call(this,Object.assign(e,{address:i,blockTag:s})))},Bw=async function(e,r){if(Xe(e,32))return await J(this,Ee,Zr).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await J(this,Ee,Zr).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},wf=async function(e,r){let n=await vv(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await vv({orphan:"drop-log",log:r[0]},this)),E(this,fr).get(n.tag)||null},zp=async function(e){const r=await vv(e,this),n=r.tag;let i=E(this,fr).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},E(this,fr).set(n,i)),i};function GQ(t,e){try{const r=Fw(t,e);if(r)return P0(r)}catch{}return null}function Fw(t,e){if(t==="0x")return null;try{const r=je(yt(t,e,e+32)),n=je(yt(t,r,r+32));return yt(t,r+32,r+32+n)}catch{}return null}function iC(t){const e=Bt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function KQ(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const QQ=new Uint8Array([]);function YQ(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(QQ),r+=32;for(let n=0;n<t.length;n++){const i=Ae(t[n]);e[n]=iC(r),e.push(iC(i.length)),e.push(KQ(i)),r+=32+Math.ceil(i.length/32)*32}return bt(e)}const sC="0x0000000000000000000000000000000000000000000000000000000000000000";function qQ(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};K(ru(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=yt(t,0,32);K(yt(r,0,12)===yt(sC,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=yt(r,12);try{const n=[],i=je(yt(t,32,64)),s=je(yt(t,i,i+32)),a=yt(t,i+32);for(let l=0;l<s;l++){const c=GQ(a,l*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{K(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Fw(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{K(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}K(yt(t,100,128)===yt(sC,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=yt(t,96,100);try{const n=Fw(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{K(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Oo(t,e){if(t.provider)return t.provider;K(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function aC(t,e){let r=F0(e);if(r.to!=null&&(r.to=Or(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Or(n,t)]).then(([i,s])=>(_(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else r.from=t.getAddress();return await Sr(r)}class JQ{constructor(e){F(this,"provider");ge(this,{provider:e||null})}async getNonce(e){return Oo(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await aC(this,e)}async populateTransaction(e){const r=Oo(this,"populateTransaction"),n=await aC(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const a=oe(n.chainId);_(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?_(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&_(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();K(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const l=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=l,n.maxPriorityFeePerGas=l}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(K(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):K(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await Sr(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await Oo(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return Oo(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Oo(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Oo(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Oo(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=I0.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}authorize(e){K(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function XQ(t){return JSON.parse(JSON.stringify(t))}var Nr,$i,El,Fa,Sl,Gu,go,Uw,$w;class _4{constructor(e){z(this,go);z(this,Nr);z(this,$i);z(this,El);z(this,Fa);z(this,Sl);z(this,Gu);O(this,Nr,e),O(this,$i,null),O(this,El,J(this,go,Uw).bind(this)),O(this,Fa,!1),O(this,Sl,null),O(this,Gu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){E(this,Fa)||(O(this,Fa,!0),J(this,go,Uw).call(this,-2))}stop(){E(this,Fa)&&(O(this,Fa,!1),O(this,Gu,!0),J(this,go,$w).call(this),E(this,Nr).off("block",E(this,El)))}pause(e){e&&J(this,go,$w).call(this),E(this,Nr).off("block",E(this,El))}resume(){this.start()}}Nr=new WeakMap,$i=new WeakMap,El=new WeakMap,Fa=new WeakMap,Sl=new WeakMap,Gu=new WeakMap,go=new WeakSet,Uw=async function(e){try{E(this,$i)==null&&O(this,$i,this._subscribe(E(this,Nr)));let r=null;try{r=await E(this,$i)}catch(s){if(!sr(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(r==null){O(this,$i,null),E(this,Nr)._recoverSubscriber(this,this._recover(E(this,Nr)));return}const n=await E(this,Nr).getNetwork();if(E(this,Sl)||O(this,Sl,n),E(this,Sl).chainId!==n.chainId)throw new Error("chaid changed");if(E(this,Gu))return;const i=await E(this,Nr).send("eth_getFilterChanges",[r]);await this._emitResults(E(this,Nr),i)}catch(r){console.log("@TODO",r)}E(this,Nr).once("block",E(this,El))},$w=function(){const e=E(this,$i);e&&(O(this,$i,null),e.then(r=>{E(this,Nr).destroyed||E(this,Nr).send("eth_uninstallFilter",[r])}))};var kl;class ZQ extends _4{constructor(r,n){super(r);z(this,kl);O(this,kl,XQ(n))}_recover(r){return new Nj(r,E(this,kl))}async _subscribe(r){return await r.send("eth_newFilter",[E(this,kl)])}async _emitResults(r,n){for(const i of n)r.emit(E(this,kl),r._wrapLog(i,r._network))}}kl=new WeakMap;class eY extends _4{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const tY="bigint,boolean,function,number,string,symbol".split(/,/g);function Hp(t){if(t==null||tY.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Hp);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function rY(t){return new Promise(e=>{setTimeout(e,t)})}function xc(t){return t&&t.toLowerCase()}function oC(t){return t&&typeof t.pollingInterval=="number"}const B4={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class wv extends JQ{constructor(r,n){super(r);F(this,"address");n=Be(n),ge(this,{address:n})}connect(r){K(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=Hp(r),i=[];if(n.from){const a=n.from;i.push((async()=>{const l=await Or(a,this.provider);_(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=l})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;i.push((async()=>{n.to=await Or(a,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((s,a)=>{const l=[1e3,100];let c=0;const u=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){s(d.replaceableTransaction(n));return}}catch(d){if(sr(d,"CANCELLED")||sr(d,"BAD_DATA")||sr(d,"NETWORK_ERROR")||sr(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,a(d);return}if(sr(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,c>10)){a(d);return}this.provider.emit("error",it("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},l.pop()||4e3)};u()})}async signTransaction(r){const n=Hp(r);if(n.from){const s=await Or(n.from,this.provider);_(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?Rs(r):r;return await this.provider.send("personal_sign",[re(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const s=Hp(i),a=await B0.resolveNames(r,n,s,async l=>{const c=await Or(l);return _(c!=null,"TypedData does not support null address","value",l),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(B0.getPayload(a.domain,n,a.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Rs(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),re(n)])}}var Cl,Ku,bs,Vi,di,Un,Fr,Gh,Vw;class nY extends WQ{constructor(r,n){super(r,n);z(this,Gh);z(this,Cl);z(this,Ku);z(this,bs);z(this,Vi);z(this,di);z(this,Un);z(this,Fr);O(this,Ku,1),O(this,Cl,Object.assign({},B4,n||{})),O(this,bs,[]),O(this,Vi,null),O(this,Un,null),O(this,Fr,null);{let s=null;const a=new Promise(l=>{s=l});O(this,di,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(_(!i||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&r!=null&&O(this,Un,Gi.from(r))):i&&(_(r==null||i.matches(r),"staticNetwork MUST match network object","options",n),O(this,Un,i))}_getOption(r){return E(this,Cl)[r]}get _network(){return K(E(this,Un),"network is not available yet","NETWORK_ERROR"),E(this,Un)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&oe(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(E(this,Un))return E(this,Un)}else return r;return E(this,Fr)?await E(this,Fr):this.ready?(O(this,Fr,(async()=>{try{const n=Gi.from(oe(await this.send("eth_chainId",[])));return O(this,Fr,null),n}catch(n){throw O(this,Fr,null),n}})()),await E(this,Fr)):(O(this,Fr,(async()=>{const n={id:$d(this,Ku)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],O(this,Fr,null)}catch(s){throw O(this,Fr,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return Gi.from(oe(i.result));throw this.getRpcError(n,i)})()),await E(this,Fr))}_start(){E(this,di)==null||E(this,di).resolve==null||(E(this,di).resolve(),O(this,di,null),(async()=>{for(;E(this,Un)==null&&!this.destroyed;)try{O(this,Un,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",it("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await rY(1e3)}J(this,Gh,Vw).call(this)})())}async _waitUntilReady(){if(E(this,di)!=null)return await E(this,di).promise}_getSubscriber(r){return r.type==="pending"?new eY(this):r.type==="event"?this._getOption("polling")?new Nj(this,r.filter):new ZQ(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new L4("orphan"):super._getSubscriber(r)}get ready(){return E(this,di)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=pi(oe(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=re(r[i]))}),r.accessList&&(n.accessList=lc(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(i=>i.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(i=>{const s=U6(i);return{address:s.address,nonce:pi(s.nonce),chainId:pi(s.chainId),yParity:pi(s.signature.yParity),r:pi(s.signature.r),s:pi(s.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[xc(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[xc(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[xc(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[xc(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(xc):r.filter.address=xc(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const c=s.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return it("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:s}});if(c.match(/nonce/i)&&c.match(/too low/i))return it("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=zw(s),u=vh.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return u.info={error:s,payload:r},u}const a=JSON.stringify(sY(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return it("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=r.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return it("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return it("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return it("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:s}});if(a.match(/only replay-protected/i))return it("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:s}}})}let l=!!a.match(/the method .* does not exist/i);return l||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(l=!0),l?it("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:s,payload:r}}):it("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(it("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=$d(this,Ku)._++,s=new Promise((a,l)=>{E(this,bs).push({resolve:a,reject:l,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return J(this,Gh,Vw).call(this),s}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const s=await n;if(r>=s.length)throw new Error("no such account");return new wv(this,s[r])}const{accounts:i}=await Sr({network:this.getNetwork(),accounts:n});r=Be(r);for(const s of i)if(Be(s)===r)return new wv(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new wv(this,n))}destroy(){E(this,Vi)&&(clearTimeout(E(this,Vi)),O(this,Vi,null));for(const{payload:r,reject:n}of E(this,bs))n(it("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));O(this,bs,[]),super.destroy()}}Cl=new WeakMap,Ku=new WeakMap,bs=new WeakMap,Vi=new WeakMap,di=new WeakMap,Un=new WeakMap,Fr=new WeakMap,Gh=new WeakSet,Vw=function(){if(E(this,Vi))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");O(this,Vi,setTimeout(()=>{O(this,Vi,null);const n=E(this,bs);for(O(this,bs,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==E(this,Cl).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(a=>a.payload)).length>E(this,Cl).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const a=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:l,reject:c,payload:u}of i){if(this.destroyed){c(it("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=a.filter(f=>f.id===u.id)[0];if(d==null){const f=it("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",f),c(f);continue}if("error"in d){c(this.getRpcError(u,d));continue}l(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:l}of i)l(a)}})()}},r))};var Ua;class iY extends nY{constructor(r,n){super(r,n);z(this,Ua);let i=this._getOption("pollingInterval");i==null&&(i=B4.pollingInterval),O(this,Ua,i)}_getSubscriber(r){const n=super._getSubscriber(r);return oC(n)&&(n.pollingInterval=E(this,Ua)),n}get pollingInterval(){return E(this,Ua)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");O(this,Ua,r),this._forEachSubscriber(n=>{oC(n)&&(n.pollingInterval=E(this,Ua))})}}Ua=new WeakMap;function zw(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Xe(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=zw(t[e]);if(r)return r}return null}if(typeof t=="string")try{return zw(JSON.parse(t))}catch{}return null}function Hw(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)Hw(t[r],e);if(typeof t=="string")try{return Hw(JSON.parse(t),e)}catch{}}}function sY(t){const e=[];return Hw(t,e),e}var Qu,Yu;const Qo=class Qo extends iY{constructor(r,n,i){const s=Object.assign({},i??{},{batchMaxCount:1});_(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,s);z(this,Qu);z(this,Yu);O(this,Yu,null),i&&i.providerInfo&&O(this,Yu,i.providerInfo),O(this,Qu,async(a,l)=>{const c={method:a,params:l};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const d=new Error(u.message);throw d.code=u.code,d.data=u.data,d.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return E(this,Yu)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){_(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await E(this,Qu).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await E(this,Qu).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new Qo(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const i=r.anyProvider;if(i&&n.ethereum)return new Qo(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const s=r.timeout?r.timeout:300;return s===0?null:await new Promise((a,l)=>{let c=[];const u=h=>{c.push(h.detail),i&&d()},d=()=>{if(clearTimeout(f),c.length)if(r&&r.filter){const h=r.filter(c.map(m=>Object.assign({},m.info)));if(h==null)a(null);else if(h instanceof Qo)a(h);else{let m=null;if(h.uuid&&(m=c.filter(x=>h.uuid===x.info.uuid)[0]),m){const{provider:g,info:x}=m;a(new Qo(g,void 0,{providerInfo:x}))}else l(it("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:m}=c[0];a(new Qo(h,void 0,{providerInfo:m}))}else a(null);n.removeEventListener("eip6963:announceProvider",u)},f=setTimeout(()=>{d()},s);n.addEventListener("eip6963:announceProvider",u),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};Qu=new WeakMap,Yu=new WeakMap;let at=Qo;class aY{constructor(){this.errorHistory=[],this.retryAttempts=new Map,this.maxRetryAttempts=3,this.retryDelay=1e3}handleError(e,r={},n={}){try{const{showToast:i=!0,logError:s=!0,showRetry:a=!1,retryAction:l=null,component:c="unknown",operation:u="unknown"}=n,d=this.normalizeError(e),f=ne.getCurrentUser(),h=(f==null?void 0:f.accountType)||"guest",m={...r,userRole:h,component:c,operation:u,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};s&&this.logError(d,m);const g=this.getRoleSpecificMessage(d,h,m);return i&&this.showErrorToast(g,{showRetry:a,retryAction:l,error:d,context:m}),{error:d,message:g,context:m}}catch(i){return console.error("Error in error handler:",i),Y.error("An unexpected error occurred. Please try again."),{error:e,message:"An unexpected error occurred",context:{}}}}normalizeError(e){return typeof e=="string"?{message:e,code:"GENERIC_ERROR",type:"user_error"}:e instanceof Error?{message:e.message,code:e.code||"UNKNOWN_ERROR",type:this.categorizeError(e),stack:e.stack,name:e.name}:e&&typeof e=="object"?{message:e.message||"Unknown error",code:e.code||"UNKNOWN_ERROR",type:e.type||"unknown",...e}:{message:"An unknown error occurred",code:"UNKNOWN_ERROR",type:"unknown"}}categorizeError(e){const r=e.message.toLowerCase();return r.includes("network")||r.includes("fetch")||r.includes("connection")?"network_error":r.includes("authentication")||r.includes("unauthorized")||r.includes("login")?"auth_error":r.includes("permission")||r.includes("access denied")||r.includes("forbidden")?"permission_error":r.includes("validation")||r.includes("invalid")||r.includes("required")?"validation_error":r.includes("transaction")||r.includes("gas")||r.includes("contract")||r.includes("wallet")?"blockchain_error":r.includes("file")||r.includes("upload")||r.includes("ipfs")?"upload_error":"user_error"}getRoleSpecificMessage(e,r,n){const i=this.getBaseErrorMessage(e),s=this.getRoleSpecificGuidance(e,r,n);return{title:this.getErrorTitle(e),message:i,guidance:s,severity:this.getErrorSeverity(e),actionable:this.isErrorActionable(e,r)}}getBaseErrorMessage(e){return{USER_NOT_AUTHENTICATED:"Please log in to continue",SESSION_EXPIRED:"Your session has expired. Please log in again",INVALID_CREDENTIALS:"Invalid email or password",INSUFFICIENT_PERMISSIONS:"You do not have permission to perform this action",VERIFIER_REQUIRED:"This action requires verifier privileges",ACCESS_DENIED:"Access denied",FILE_TOO_LARGE:"File is too large. Maximum size is 10MB",INVALID_FILE_TYPE:"Invalid file type. Please upload PDF, DOC, DOCX, TXT, JPG, or PNG files",UPLOAD_FAILED:"File upload failed. Please try again",IPFS_ERROR:"Failed to store file on IPFS network",DOCUMENT_NOT_FOUND:"Document not found",DOCUMENT_ALREADY_ATTESTED:"Document has already been attested",DOCUMENT_ALREADY_MINTED:"Document has already been minted",INVALID_DOCUMENT_STATUS:"Document is not in the correct status for this operation",WALLET_NOT_CONNECTED:"Please connect your wallet to continue",TRANSACTION_FAILED:"Transaction failed. Please try again",INSUFFICIENT_FUNDS:"Insufficient funds to complete the transaction",USER_REJECTED_TRANSACTION:"Transaction was rejected",NETWORK_ERROR:"Network connection error. Please check your internet connection",CONTRACT_NOT_DEPLOYED:"Smart contract not deployed. Please check configuration",VALIDATION_ERROR:"Please check your input and try again",REQUIRED_FIELD_MISSING:"Please fill in all required fields",INVALID_INPUT:"Invalid input provided",GENERIC_ERROR:"An error occurred. Please try again",UNKNOWN_ERROR:"An unexpected error occurred"}[e.code]||e.message||"An unexpected error occurred"}getRoleSpecificGuidance(e,r,n){const{operation:i,component:s}=n,a={individual:{upload_error:"As an individual user, you can upload documents for verification. Make sure your file meets the requirements and try again.",permission_error:"Individual users can upload documents but cannot perform verifications or minting. Contact a verifier if you need assistance.",auth_error:"Please ensure you are logged in with your individual account.",blockchain_error:"Connect your wallet to interact with the blockchain. Individual users can view their documents and credit balance."},business:{upload_error:"As a business user, you can upload project documents for verification. Ensure your documentation is complete and meets the requirements.",permission_error:"Business users can upload documents but cannot perform verifications or minting. Work with authorized verifiers for document processing.",auth_error:"Please ensure you are logged in with your business account.",blockchain_error:"Connect your business wallet to track your documents and credits."},verifier:{upload_error:"As a verifier, you typically review documents rather than upload them. Use the Verifier Dashboard to manage document reviews.",permission_error:"Verifiers have access to document review, attestation, and minting functions. Make sure you are using the correct interface.",auth_error:"Please ensure you are logged in with your verifier account.",blockchain_error:"Verifiers need wallet access for attestations and minting. Ensure your wallet is connected and you have sufficient gas fees.",attestation_error:"Check that the document is in pending status and all required fields are completed before attesting.",minting_error:"Ensure the document has been properly attested before attempting to mint credits."},guest:{auth_error:"Please create an account or log in to access this feature.",permission_error:"You need to be logged in to perform this action. Please create an account or sign in."}},l=a[r]||a.guest;return e.type&&l[e.type]?l[e.type]:i==="document_upload"&&l.upload_error?l.upload_error:i==="document_attestation"&&l.attestation_error?l.attestation_error:i==="credit_minting"&&l.minting_error?l.minting_error:this.getDefaultGuidance(e,r)}getDefaultGuidance(e,r){return e.type==="network_error"?"Check your internet connection and try again. If the problem persists, the service may be temporarily unavailable.":e.type==="validation_error"?"Please review the form fields and ensure all required information is provided correctly.":r==="guest"?"Please create an account or log in to access this feature.":"If this problem continues, please contact support for assistance."}getErrorTitle(e){return{auth_error:"Authentication Required",permission_error:"Access Denied",upload_error:"Upload Failed",blockchain_error:"Blockchain Error",network_error:"Connection Error",validation_error:"Invalid Input",user_error:"Action Failed"}[e.type]||"Error"}getErrorSeverity(e){return{auth_error:"high",permission_error:"medium",blockchain_error:"high",network_error:"medium",validation_error:"low",upload_error:"medium"}[e.type]||"medium"}isErrorActionable(e,r){return e.type==="validation_error"||e.type==="auth_error"?!0:e.type==="permission_error"?r==="guest":e.type==="upload_error"?!0:e.type!=="network_error"}showErrorToast(e,r={}){const{showRetry:n=!1,retryAction:i=null,error:s,context:a}=r,l={duration:this.getToastDuration(e.severity),style:this.getToastStyle(e.severity),position:"top-right"};let c=e.message;e.guidance&&(c+=`

💡 ${e.guidance}`);const u=Y.error(c,l);n&&i&&e.actionable&&setTimeout(()=>{Y.error(`${c}

💡 Click this message to try again`,{...l,duration:1e4,onClick:()=>{this.handleRetry(i,s,a)}}),Y.dismiss(u)},100)}getToastDuration(e){return{low:4e3,medium:6e3,high:8e3}[e]||5e3}getToastStyle(e){const r={low:{background:"#FEF3C7",color:"#92400E",border:"1px solid #F59E0B"},medium:{background:"#FEE2E2",color:"#991B1B",border:"1px solid #EF4444"},high:{background:"#DC2626",color:"#FFFFFF",border:"1px solid #B91C1C"}};return r[e]||r.medium}async handleRetry(e,r,n){const i=`${n.component}-${n.operation}`,s=this.retryAttempts.get(i)||0;if(s>=this.maxRetryAttempts){Y.error("Maximum retry attempts reached. Please refresh the page or contact support.");return}this.retryAttempts.set(i,s+1);const a=this.retryDelay*Math.pow(2,s);Y.loading(`Retrying... (Attempt ${s+1}/${this.maxRetryAttempts})`,{duration:a});try{await new Promise(l=>setTimeout(l,a)),await e(),this.retryAttempts.delete(i),Y.success("Operation completed successfully!")}catch(l){this.handleError(l,{...n,isRetry:!0,retryAttempt:s+1},{showRetry:s+1<this.maxRetryAttempts,retryAction:e})}}handleDocumentUploadError(e,r,n={}){const i={...n,operation:"document_upload",component:"DocumentUpload"},s=this.handleError(e,i,{showToast:!0,showRetry:!0,retryAction:n.retryAction});return console.error(`📄 Document upload failed for ${r}:`,{error:s.error,context:i,userRole:r}),s}handleBlockchainError(e,r,n={}){var a,l,c,u;const i={...n,operation:r,component:"BlockchainService",type:"blockchain_error"};let s={...e};return(a=e.message)!=null&&a.includes("user rejected")?(s.code="USER_REJECTED_TRANSACTION",s.type="user_action"):(l=e.message)!=null&&l.includes("insufficient funds")?(s.code="INSUFFICIENT_FUNDS",s.type="blockchain_error"):(c=e.message)!=null&&c.includes("gas")?(s.code="GAS_ERROR",s.type="blockchain_error"):(u=e.message)!=null&&u.includes("network")&&(s.code="NETWORK_ERROR",s.type="network_error"),this.handleError(s,i,{showToast:!0,showRetry:r!=="user_rejected",retryAction:n.retryAction})}handleIPFSError(e,r={}){const n={...r,operation:"ipfs_upload",component:"IPFSService",type:"upload_error"};return this.handleError(e,n,{showToast:!0,showRetry:!0,retryAction:r.retryAction})}handlePermissionError(e,r,n={}){const i={message:`You do not have permission to ${e}`,code:"INSUFFICIENT_PERMISSIONS",type:"permission_error"},s={...n,operation:e,component:"PermissionCheck",attemptedAction:e};return this.handleError(i,s,{showToast:!0,showRetry:!1})}logError(e,r){const n={error:e,context:r,timestamp:new Date().toISOString(),sessionId:this.getSessionId()};this.errorHistory.push(n),this.errorHistory.length>50&&this.errorHistory.shift();try{const i=JSON.parse(localStorage.getItem("cblock_error_logs")||"[]");i.push(n),i.length>100&&i.splice(0,i.length-100),localStorage.setItem("cblock_error_logs",JSON.stringify(i))}catch(i){console.warn("Failed to store error log:",i)}console.error("🚨 Error logged:",n)}getSessionId(){let e=sessionStorage.getItem("cblock_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("cblock_session_id",e)),e}getErrorHistory(){return[...this.errorHistory]}clearErrorHistory(){this.errorHistory=[],this.retryAttempts.clear(),localStorage.removeItem("cblock_error_logs"),console.log("🗑️ Error history cleared")}getErrorStats(){const e={total:this.errorHistory.length,byType:{},byComponent:{},byRole:{},recentErrors:this.errorHistory.slice(-10)};return this.errorHistory.forEach(r=>{const{error:n,context:i}=r;e.byType[n.type]=(e.byType[n.type]||0)+1,e.byComponent[i.component]=(e.byComponent[i.component]||0)+1,e.byRole[i.userRole]=(e.byRole[i.userRole]||0)+1}),e}}const Cr=new aY;class oY{constructor(){this.defaultDuration=5e3,this.position="top-right"}success(e,r={}){const n=ne.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"success",i,r);return Y.success(s,{duration:r.duration||this.defaultDuration,position:r.position||this.position,style:{background:"#10B981",color:"white",fontWeight:"500",...r.style},icon:r.icon||"✅",...r})}error(e,r={}){const n=ne.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"error",i,r);return Y.error(s,{duration:r.duration||this.defaultDuration*1.5,position:r.position||this.position,style:{background:"#EF4444",color:"white",fontWeight:"500",...r.style},icon:r.icon||"❌",...r})}warning(e,r={}){const n=ne.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"warning",i,r);return Y.error(s,{duration:r.duration||this.defaultDuration,position:r.position||this.position,style:{background:"#F59E0B",color:"white",fontWeight:"500",...r.style},icon:r.icon||"⚠️",...r})}info(e,r={}){const n=ne.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"info",i,r);return Y.success(s,{duration:r.duration||this.defaultDuration,position:r.position||this.position,style:{background:"#3B82F6",color:"white",fontWeight:"500",...r.style},icon:r.icon||"ℹ️",...r})}loading(e,r={}){const n=ne.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"loading",i,r);return Y.loading(s,{position:r.position||this.position,style:{background:"#6B7280",color:"white",fontWeight:"500",...r.style},...r})}enhanceMessage(e,r,n,i={}){if(!i.roleSpecific)return e;this.getRoleContext(n);const s=this.getRoleGuidance(r,n,i.operation);return s?`${e}

💡 ${s}`:e}getRoleContext(e){const r={verifier:{name:"Verifier",icon:"🛡️",permissions:["review documents","attest documents","mint credits"]},business:{name:"Business User",icon:"🏢",permissions:["upload documents","track projects","view credits"]},individual:{name:"Individual User",icon:"👤",permissions:["upload documents","track submissions","view credits"]},guest:{name:"Guest",icon:"👋",permissions:["view public information","create account"]}};return r[e]||r.guest}getRoleGuidance(e,r,n){const s={success:{verifier:{document_upload:"Document uploaded successfully. It will appear in your verifier dashboard for review.",attestation:"Document attested successfully. You can now mint carbon credits for this project.",minting:"Carbon credits minted successfully. Credits have been allocated to the document uploader.",default:"Operation completed successfully in your verifier interface."},business:{document_upload:"Business document uploaded successfully. A verifier will review it for attestation.",credit_received:"Carbon credits have been allocated to your business account.",default:"Business operation completed successfully."},individual:{document_upload:"Document uploaded successfully. A verifier will review it for attestation.",credit_received:"Carbon credits have been allocated to your account.",default:"Operation completed successfully."},guest:{registration:"Account created successfully. You can now upload documents and track credits.",login:"Logged in successfully. Welcome to the carbon credit platform.",default:"Welcome! Create an account to access all features."}},error:{verifier:{permission_error:"Ensure you are using the verifier dashboard and have proper permissions.",blockchain_error:"Check your wallet connection and ensure you have sufficient gas fees.",default:"If this continues, check your verifier permissions and wallet connection."},business:{upload_error:"Check your document format and size. Business documents should include project details.",permission_error:"Business users can upload documents but cannot perform verifications.",default:"Ensure your business account is properly configured and try again."},individual:{upload_error:"Check your document format and size. Ensure all required project information is included.",permission_error:"Individual users can upload documents but cannot perform verifications.",default:"Check your account settings and document requirements."},guest:{auth_error:"Please create an account or log in to access this feature.",default:"Create an account to access the full carbon credit platform."}},warning:{verifier:{default:"Review the warning and ensure all verifier requirements are met."},business:{default:"Review the warning and ensure your business documentation is complete."},individual:{default:"Review the warning and ensure your document meets all requirements."},guest:{default:"Consider creating an account for full access to platform features."}}}[e]||{},a=s[r]||s.guest||{};return a[n]||a.default}documentUploadSuccess(e,r){const n={verifier:`Document "${e}" uploaded. It's now available in your verifier dashboard.`,business:`Business document "${e}" uploaded successfully and submitted for verification.`,individual:`Document "${e}" uploaded successfully and submitted for verification.`,guest:"Document uploaded. Please create an account to track its verification status."},i=n[r]||n.individual;return this.success(i,{icon:"📄",roleSpecific:!0,operation:"document_upload",duration:6e3})}documentUploadError(e,r){const n={verifier:"Document upload failed. Verifiers typically review documents rather than upload them.",business:"Business document upload failed. Please check your file format and project details.",individual:"Document upload failed. Please check your file format and project information.",guest:"Upload failed. Create an account to upload and track documents."},s=`${n[r]||n.individual}

Error: ${e}`;return this.error(s,{icon:"📄❌",roleSpecific:!0,operation:"upload_error",duration:8e3})}documentAttestationSuccess(e,r){const n={verifier:`Document "${e}" attested successfully. You can now mint carbon credits.`,business:`Your business document "${e}" has been attested and is ready for minting.`,individual:`Your document "${e}" has been attested and is ready for minting.`,guest:"Document attested. Create an account to track your document status."},i=n[r]||n.individual;return this.success(i,{icon:"✅",roleSpecific:!0,operation:"attestation",duration:7e3})}creditMintingSuccess(e,r,n){const i={verifier:`Successfully minted ${e} carbon credits for "${n}". Credits allocated to document uploader.`,business:`${e} carbon credits have been minted for your business project "${n}".`,individual:`${e} carbon credits have been minted for your project "${n}".`,guest:`${e} carbon credits minted. Create an account to track your credits.`},s=i[r]||i.individual;return this.success(s,{icon:"🪙",roleSpecific:!0,operation:"minting",duration:8e3})}permissionError(e,r){const n={verifier:`Verifier permission required for ${e}. Ensure you're using the correct interface.`,business:`Business users cannot ${e}. This action requires verifier privileges.`,individual:`Individual users cannot ${e}. This action requires verifier privileges.`,guest:`Please log in to ${e}. Create an account for full access.`},i=n[r]||n.guest;return this.error(i,{icon:"🚫",roleSpecific:!0,operation:"permission_error",duration:6e3})}transactionPending(e,r){const n={verifier:`Verifier ${e} transaction submitted. Please wait for blockchain confirmation.`,business:`Business ${e} transaction submitted. Please wait for confirmation.`,individual:`Your ${e} transaction submitted. Please wait for confirmation.`,guest:"Transaction submitted. Create an account to track transaction status."},i=n[r]||n.individual;return this.loading(i,{icon:"⛓️",id:`transaction-${e}`})}transactionSuccess(e,r,n){const i={verifier:`Verifier ${e} completed successfully on blockchain.`,business:`Business ${e} completed successfully.`,individual:`Your ${e} completed successfully.`,guest:`${e} completed. Create an account to track future transactions.`},s=i[r]||i.individual;return Y.dismiss(`transaction-${e}`),this.success(s,{icon:"⛓️✅",roleSpecific:!0,operation:"blockchain_success",duration:7e3})}transactionError(e,r,n){const i={verifier:`Verifier ${e} failed. Check your wallet connection and gas fees.`,business:`Business ${e} failed. Please try again.`,individual:`Your ${e} failed. Please try again.`,guest:`${e} failed. Create an account for better transaction support.`},a=`${i[n]||i.individual}

Error: ${r}`;return Y.dismiss(`transaction-${e}`),this.error(a,{icon:"⛓️❌",roleSpecific:!0,operation:"blockchain_error",duration:8e3})}welcomeMessage(e,r){const n={verifier:`Welcome back, ${r}! You have verifier privileges to review documents and mint credits.`,business:`Welcome back, ${r}! Upload your business project documents for verification.`,individual:`Welcome back, ${r}! Upload your project documents to earn carbon credits.`,guest:"Welcome! Create an account to upload documents and earn carbon credits."},i=n[e]||n.guest;return this.info(i,{icon:"👋",roleSpecific:!0,operation:"login",duration:5e3})}custom(e,r={}){const n=ne.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest";return Y.custom(s=>o.jsx(lY,{toast:s,content:e,userRole:i,...r}),{duration:r.duration||this.defaultDuration,position:r.position||this.position,...r})}dismiss(e){return Y.dismiss(e)}dismissAll(){return Y.dismiss()}}function lY({toast:t,content:e,userRole:r,type:n="info",icon:i=null}){const s=f=>{const h={verifier:"from-indigo-500 to-purple-600",business:"from-blue-500 to-cyan-600",individual:"from-green-500 to-emerald-600",guest:"from-gray-500 to-gray-600"};return h[f]||h.guest},a=f=>({verifier:Yt,business:ac,individual:Ut,guest:Ut})[f]||Ut,l=f=>({success:$e,error:Il,warning:De,info:qn,loading:Re})[f]||qn,c=a(r),u=l(n),d=s(r);return o.jsxs(R.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5 ${t.visible?"animate-enter":"animate-leave"}`,children:[o.jsx("div",{className:`w-2 bg-gradient-to-b ${d} rounded-l-lg`}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center bg-gradient-to-r ${d}`,children:o.jsx(u,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"w-6 h-6 text-gray-400",children:o.jsx(c,{})})]}),o.jsxs("div",{className:"ml-3 flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:e}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1 capitalize",children:[r," Account"]})]}),o.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:o.jsxs("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>Y.dismiss(t.id),children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(Il,{className:"h-5 w-5"})]})})]})})]})}const Tt=new oY;class cY{constructor(){this.defaultConfig={maxRetries:3,baseDelay:1e3,maxDelay:1e4,backoffFactor:2,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","SERVER_ERROR","RATE_LIMITED","BLOCKCHAIN_CONGESTION"]}}async executeWithRetry(e,r={}){const n={...this.defaultConfig,...r};let i;for(let s=0;s<=n.maxRetries;s++)try{const a=await e();return s>0&&Y.success(`Operation succeeded after ${s} retries`),a}catch(a){if(i=a,!this.isRetryableError(a,n.retryableErrors))throw a;if(s===n.maxRetries)break;const c=Math.min(n.baseDelay*Math.pow(n.backoffFactor,s),n.maxDelay)+Math.random()*1e3;Y.loading(`Retrying operation... (${s+1}/${n.maxRetries})`,{duration:c}),await this.delay(c)}throw Cr.handleError(i,{context:"retry_service",maxRetriesExceeded:!0,totalAttempts:n.maxRetries+1}),i}isRetryableError(e,r){return r.includes(e.type)?!0:e.status?[408,429,500,502,503,504].includes(e.status):e.code?["NETWORK_ERROR","TIMEOUT","SERVER_ERROR","REPLACEMENT_UNDERPRICED","NONCE_EXPIRED"].includes(e.code):[/network error/i,/timeout/i,/rate limit/i,/congestion/i,/temporary/i].some(i=>i.test(e.message||""))}delay(e){return new Promise(r=>setTimeout(r,e))}async retryBlockchainTransaction(e,r={}){const n={...this.defaultConfig,maxRetries:5,gasMultiplier:1.1,...r};let i=r.initialGasPrice;const s=async()=>{try{return await e(i)}catch(a){throw this.isGasRelatedError(a)&&(i=i?Math.floor(i*n.gasMultiplier):void 0),a}};return this.executeWithRetry(s,n)}isGasRelatedError(e){return[/gas/i,/underpriced/i,/insufficient funds/i,/out of gas/i].some(n=>n.test(e.message||""))}async executeWithCircuitBreaker(e,r,n={}){const i={failureThreshold:5,resetTimeout:6e4,...n};this.circuitStates||(this.circuitStates=new Map);const s=this.circuitStates.get(e)||{failures:0,lastFailure:null,state:"CLOSED"};if(s.state==="OPEN"){if(Date.now()-s.lastFailure<i.resetTimeout)throw new Error(`Circuit breaker is OPEN for ${e}`);s.state="HALF_OPEN"}try{const a=await this.executeWithRetry(r,n);return s.failures=0,s.state="CLOSED",this.circuitStates.set(e,s),a}catch(a){throw s.failures++,s.lastFailure=Date.now(),s.failures>=i.failureThreshold&&(s.state="OPEN",Y.error(`Circuit breaker opened for ${e}`)),this.circuitStates.set(e,s),a}}}const jh=new cY,lC=[{inputs:[{internalType:"address",name:"_verifierRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"verifier",type:"address"}],name:"MintedWithAttestation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"ATTESTATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"attestations",outputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"verifier",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithAttestation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"verifierRegistry",outputs:[{internalType:"contract IVerifierRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"}],za=[{inputs:[{internalType:"address",name:"_carbon",type:"address"},{internalType:"address",name:"_cert",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Bought",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"Listed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certId",type:"uint256"}],name:"Retired",type:"event"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"buy",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"carbon",outputs:[{internalType:"contract CarbonCredit",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cert",outputs:[{internalType:"contract RetirementCertificate",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"feesAccrued",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"pricePerUnit",type:"uint256"}],name:"list",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"pricePerUnit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextListingId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"}],name:"retire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"}],Ww=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"metadataURI",type:"string"}],name:"mintCertificate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],V0=[{inputs:[{internalType:"address",name:"_governanceExecutor",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"verifier",type:"address"}],name:"VerifierAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"verifier",type:"address"}],name:"VerifierRemoved",type:"event"},{inputs:[{internalType:"address",name:"verifier",type:"address"}],name:"addVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"governanceExecutor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isVerifier",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"verifier",type:"address"}],name:"removeVerifier",outputs:[],stateMutability:"nonpayable",type:"function"}],cC=[{inputs:[{internalType:"address",name:"_verifierRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"DocumentAlreadyAttested",type:"error"},{inputs:[],name:"DocumentNotFound",type:"error"},{inputs:[],name:"EmptyCID",type:"error"},{inputs:[],name:"EmptyProjectName",type:"error"},{inputs:[],name:"NotVerifier",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"documentId",type:"uint256"},{indexed:!0,internalType:"address",name:"verifier",type:"address"},{indexed:!1,internalType:"uint256",name:"attestedAt",type:"uint256"}],name:"DocumentAttested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"documentId",type:"uint256"},{indexed:!0,internalType:"address",name:"uploader",type:"address"},{indexed:!1,internalType:"string",name:"cid",type:"string"},{indexed:!1,internalType:"string",name:"projectName",type:"string"}],name:"DocumentRegistered",type:"event"},{inputs:[{internalType:"uint256",name:"documentId",type:"uint256"}],name:"attestDocument",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"documents",outputs:[{internalType:"string",name:"cid",type:"string"},{internalType:"address",name:"uploader",type:"address"},{internalType:"string",name:"projectName",type:"string"},{internalType:"string",name:"projectType",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"estimatedCredits",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isAttested",type:"bool"},{internalType:"address",name:"verifier",type:"address"},{internalType:"uint256",name:"attestedAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllDocuments",outputs:[{components:[{internalType:"string",name:"cid",type:"string"},{internalType:"address",name:"uploader",type:"address"},{internalType:"string",name:"projectName",type:"string"},{internalType:"string",name:"projectType",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"estimatedCredits",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isAttested",type:"bool"},{internalType:"address",name:"verifier",type:"address"},{internalType:"uint256",name:"attestedAt",type:"uint256"}],internalType:"struct DocumentRegistry.Document[]",name:"allDocs",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"documentId",type:"uint256"}],name:"getDocument",outputs:[{components:[{internalType:"string",name:"cid",type:"string"},{internalType:"address",name:"uploader",type:"address"},{internalType:"string",name:"projectName",type:"string"},{internalType:"string",name:"projectType",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"estimatedCredits",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isAttested",type:"bool"},{internalType:"address",name:"verifier",type:"address"},{internalType:"uint256",name:"attestedAt",type:"uint256"}],internalType:"struct DocumentRegistry.Document",name:"doc",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"attested",type:"bool"}],name:"getDocumentsByStatus",outputs:[{components:[{internalType:"string",name:"cid",type:"string"},{internalType:"address",name:"uploader",type:"address"},{internalType:"string",name:"projectName",type:"string"},{internalType:"string",name:"projectType",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"estimatedCredits",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isAttested",type:"bool"},{internalType:"address",name:"verifier",type:"address"},{internalType:"uint256",name:"attestedAt",type:"uint256"}],internalType:"struct DocumentRegistry.Document[]",name:"filteredDocs",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalDocuments",outputs:[{internalType:"uint256",name:"count",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserDocuments",outputs:[{internalType:"uint256[]",name:"userDocs",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserDocumentsWithDetails",outputs:[{components:[{internalType:"string",name:"cid",type:"string"},{internalType:"address",name:"uploader",type:"address"},{internalType:"string",name:"projectName",type:"string"},{internalType:"string",name:"projectType",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"estimatedCredits",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isAttested",type:"bool"},{internalType:"address",name:"verifier",type:"address"},{internalType:"uint256",name:"attestedAt",type:"uint256"}],internalType:"struct DocumentRegistry.Document[]",name:"userDocs",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextDocumentId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"cid",type:"string"},{internalType:"string",name:"projectName",type:"string"},{internalType:"string",name:"projectType",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"location",type:"string"},{internalType:"uint256",name:"estimatedCredits",type:"uint256"}],name:"registerDocument",outputs:[{internalType:"uint256",name:"documentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userDocuments",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"verifierRegistry",outputs:[{internalType:"contract VerifierRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"}];class uY{constructor(){this.provider=null,this.signer=null,this.contracts={},this.isInitialized=!1}async initialize(){try{if(!window.ethereum)throw new Error("Please install MetaMask to use this application");this.provider=new at(window.ethereum);const e=await this.provider.getNetwork(),r=BigInt("11155111");e.chainId!==r&&await this.switchToSepoliaNetwork(),await this.initializeContracts(),this.isInitialized=!0,console.log("Blockchain service initialized successfully")}catch(e){throw console.error("Failed to initialize blockchain service:",e),e}}async switchToSepoliaNetwork(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0xaa36a7"}]})}catch(e){if(e.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0xaa36a7",chainName:"Sepolia Test Network",nativeCurrency:{name:"SepoliaETH",symbol:"ETH",decimals:18},rpcUrls:["https://eth-sepolia.g.alchemy.com/v2/vwQ5RS0603U_kfZB5C_fw"],blockExplorerUrls:["https://sepolia.etherscan.io/"]}]});else throw e}}async initializeContracts(){const e={carbon:"0xe74f9e14F5858a92eD59ECF21866afc42101a45E",marketplace:"0x076d107Ca3757C37e63cC894F2F75E068B975A97",retirementCert:"0x898c8C590223d697d0226B1F68D4abCC04a66e6F",verifierRegistry:"0xD009D4EA4B9f546261433a75A32353a60d750200",documentRegistry:"0xd6B6223a9E59cd960bb0e6E31360B56D8536A90e"};if(!Object.values(e).some(n=>n&&n!=="0x0000000000000000000000000000000000000000")){console.warn("Smart contract addresses not configured. Please deploy contracts and update .env file.");return}try{e.carbon&&e.carbon!=="0x0000000000000000000000000000000000000000"&&(this.contracts.carbon=new Ce(e.carbon,lC,this.provider)),e.marketplace&&e.marketplace!=="0x0000000000000000000000000000000000000000"&&(this.contracts.marketplace=new Ce(e.marketplace,za,this.provider)),e.retirementCert&&e.retirementCert!=="0x0000000000000000000000000000000000000000"&&(this.contracts.retirementCert=new Ce(e.retirementCert,Ww,this.provider)),e.verifierRegistry&&e.verifierRegistry!=="0x0000000000000000000000000000000000000000"&&(this.contracts.verifierRegistry=new Ce(e.verifierRegistry,V0,this.provider)),e.documentRegistry&&e.documentRegistry!=="0x0000000000000000000000000000000000000000"&&(this.contracts.documentRegistry=new Ce(e.documentRegistry,cC,this.provider))}catch(n){console.error("Error initializing contracts:",n)}}async connectWallet(){try{if(this.isInitialized||await this.initialize(),(await window.ethereum.request({method:"eth_requestAccounts"})).length===0)throw new Error("No accounts found");this.signer=await this.provider.getSigner();const r=await this.signer.getAddress();return await this.initializeContractsWithSigner(),{address:r,provider:this.provider,signer:this.signer}}catch(e){throw console.error("Failed to connect wallet:",e),e}}async getCurrentAddress(){try{return this.signer?await this.signer.getAddress():(await this.connectWallet()).address}catch(e){throw console.error("Failed to get current address:",e),new Error("Unable to get wallet address. Please connect your wallet.")}}async initializeContractsWithSigner(){if(!this.signer)return;const e={carbon:"0xe74f9e14F5858a92eD59ECF21866afc42101a45E",marketplace:"0x076d107Ca3757C37e63cC894F2F75E068B975A97",retirementCert:"0x898c8C590223d697d0226B1F68D4abCC04a66e6F",verifierRegistry:"0xD009D4EA4B9f546261433a75A32353a60d750200",documentRegistry:"0xd6B6223a9E59cd960bb0e6E31360B56D8536A90e"};try{e.carbon&&e.carbon!=="0x0000000000000000000000000000000000000000"&&(this.contracts.carbonSigner=new Ce(e.carbon,lC,this.signer)),e.marketplace&&e.marketplace!=="0x0000000000000000000000000000000000000000"&&(this.contracts.marketplaceSigner=new Ce(e.marketplace,za,this.signer)),e.retirementCert&&e.retirementCert!=="0x0000000000000000000000000000000000000000"&&(this.contracts.retirementCertSigner=new Ce(e.retirementCert,Ww,this.signer)),e.verifierRegistry&&e.verifierRegistry!=="0x0000000000000000000000000000000000000000"&&(this.contracts.verifierRegistrySigner=new Ce(e.verifierRegistry,V0,this.signer)),e.documentRegistry&&e.documentRegistry!=="0x0000000000000000000000000000000000000000"&&(this.contracts.documentRegistrySigner=new Ce(e.documentRegistry,cC,this.signer))}catch(r){console.error("Error initializing contracts with signer:",r)}}async getTokenBalance(e,r){try{if(!this.contracts.carbon)throw new Error("Carbon contract not initialized");const n=await this.contracts.carbon.balanceOf(e,r);return Number(n.toString())}catch(n){return console.error("Error getting token balance:",n),0}}async getUserTokens(e){try{if(!this.contracts.carbon)return[];const r=await this.contracts.carbon.nextTokenId(),n=[];for(let i=1;i<Number(r);i++){const s=await this.getTokenBalance(e,i);if(s>0){const a=await this.contracts.carbon.uri(i);n.push({tokenId:i,balance:s,uri:a,metadata:null})}}return n}catch(r){return console.error("Error getting user tokens:",r),[]}}async mintCarbonCredits(e){try{if(this.signer||(console.log("🔗 Signer not available, connecting wallet..."),await this.connectWallet()),!this.contracts.carbonSigner)throw new Error("Carbon contract with signer not initialized. Please connect your wallet.");const{recipient:r,gsProjectId:n,gsSerial:i,vintage:s,amount:a,quantity:l=a,ipfsCid:c,ipfsHash:u=c,nonce:d,signature:f}=e;console.log("🪙 Minting carbon credits:",{recipient:r,gsProjectId:n,gsSerial:i,ipfsHash:u||c,quantity:(l||a).toString()});const h=Tt.transactionPending("credit minting","verifier");try{const m=await jh.retryBlockchainTransaction(g=>this.contracts.carbonSigner.mintWithAttestation(n,i,u||c,BigInt(l||a),r,f,g?{gasPrice:g}:{}),{maxRetries:3,initialGasPrice:null});return console.log("⛓️ Minting transaction submitted:",m.hash),Tt.transactionSuccess("credit minting","verifier",m.hash),{hash:m.hash,transaction:m}}catch(m){throw Tt.transactionError("credit minting",m.message,"verifier"),Cr.handleBlockchainError(m,"credit_minting",{recipient:r,gsProjectId:n,quantity:l.toString(),retryAction:()=>this.mintCarbonCredits(e)})}}catch(r){console.error("Error minting carbon credits:",{message:r.message,code:r.code,reason:r.reason,data:r.data,stack:r.stack});let n=r.message;r.code==="CALL_EXCEPTION"?n="Contract call failed. Please check if the contract is deployed and your wallet is connected.":r.code==="INSUFFICIENT_FUNDS"?n="Insufficient funds for transaction. Please add more ETH to your wallet.":r.code==="USER_REJECTED"?n="Transaction was rejected by user.":r.message.includes("signer")&&(n="Wallet not connected. Please connect your wallet and try again.");const i=new Error(n);throw i.originalError=r,i}}async mintCarbonCreditsWithDocumentTracking(e,r,n=null){try{console.log("🪙 Minting carbon credits with document tracking:",{documentId:r,recipient:e.recipient,amount:e.amount||e.quantity});const i=await this.mintCarbonCredits(e),s=await i.transaction.wait();let a=null;try{for(const c of s.logs)try{const u=this.contracts.carbon.interface.parseLog(c);if(u.name==="TransferSingle"&&u.args.to===e.recipient){a=Number(u.args.id);break}}catch{continue}}catch(c){console.warn("Could not extract token ID from events:",c)}const l={...i,receipt:s,tokenId:a,documentId:r,recipient:e.recipient,amount:e.quantity};if(n)try{const{default:c}=await ij(async()=>{const{default:d}=await Promise.resolve().then(()=>tfe);return{default:d}},void 0);console.log("💰 Processing automatic credit allocation...");const u=await c.processAutomaticAllocation(l,n);l.allocation=u,console.log("✅ Automatic credit allocation completed successfully")}catch(c){console.error("⚠️ Credit allocation failed, but minting was successful:",c),l.allocationError=c.message}return l}catch(i){console.error("Error minting carbon credits with document tracking:",{message:i.message,code:i.code,reason:i.reason,data:i.data,documentId:r,recipient:e.recipient});let s=i.message;i.message&&i.message.includes("signer")?s="Wallet not connected. Please connect your wallet and try again.":i.message&&i.message.includes("Contract call failed")&&(s="Contract interaction failed. Please check your network connection and try again.");const a=new Error(s);throw a.originalError=i,a}}async getMarketplaceListings(){try{if(!this.contracts.marketplace)return[];const e=await this.contracts.marketplace.nextListingId(),r=[],n=Number(e);for(let i=1;i<=n;i++)try{const s=await this.contracts.marketplace.listings(i);Number(s.amount)>0&&r.push({id:i,seller:s.seller,tokenId:Number(s.tokenId),amount:Number(s.amount),pricePerToken:Number(uh(s.pricePerUnit)),active:!0})}catch{continue}return r}catch(e){return console.error("Error getting marketplace listings:",e),[]}}async listCarbonCredits(e,r,n){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");await(await this.contracts.carbonSigner.setApprovalForAll("0x076d107Ca3757C37e63cC894F2F75E068B975A97",!0)).wait();const s=await this.contracts.marketplaceSigner.list(e,r,fw(n.toString()));return{hash:s.hash,transaction:s}}catch(i){throw console.error("Error listing carbon credits:",i),i}}async buyCarbonCredits(e,r){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");const n=await this.contracts.marketplace.listings(e),i=BigInt(n.pricePerUnit)*BigInt(r);console.log("🛒 Buying tokens:",{listingId:e,amount:r,pricePerUnit:n.pricePerUnit.toString(),totalCost:i.toString()});const s=await this.contracts.marketplaceSigner.buy(e,r,{value:i,gasLimit:5e5});return{hash:s.hash,transaction:s}}catch(n){throw console.error("Error buying carbon credits:",n),n}}async retireCarbonCredits(e,r,n){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");const{beneficiary:i,retirementMessage:s,ipfsHash:a}=n,l=await this.contracts.marketplaceSigner.retire(e,r,i||"",s||"",a||"");return{hash:l.hash,transaction:l}}catch(i){throw console.error("Error retiring carbon credits:",i),i}}async getRetirementCertificates(e){try{if(!this.contracts.retirementCert)return[];const r=await this.contracts.retirementCert.balanceOf(e),n=[];for(let i=0;i<Number(r);i++)try{const s=await this.contracts.retirementCert.tokenOfOwnerByIndex(e,i),a=await this.contracts.retirementCert.tokenURI(s);n.push({tokenId:Number(s),uri:a})}catch{continue}return n}catch(r){return console.error("Error getting retirement certificates:",r),[]}}isConfigured(){return["0xe74f9e14F5858a92eD59ECF21866afc42101a45E","0x076d107Ca3757C37e63cC894F2F75E068B975A97"].some(r=>r&&r!=="0x0000000000000000000000000000000000000000")}async getNetwork(){return this.provider?await this.provider.getNetwork():null}formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""}async takeDownListing(e){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");const r=await this.contracts.marketplace.listings(e),n=Number(r.amount),i=BigInt(r.pricePerUnit)*BigInt(n);console.log("🗑️ Taking down listing:",{listingId:e,fullAmount:n,pricePerUnit:r.pricePerUnit.toString(),totalCost:i.toString()});const s=await this.contracts.marketplaceSigner.buy(e,n,{value:i,gasLimit:5e5});return{hash:s.hash,transaction:s}}catch(r){throw console.error("Error taking down listing:",r),r}}async waitForTransaction(e,r=1){if(!this.provider)throw new Error("Provider not initialized");return await this.provider.waitForTransaction(e,r)}async registerDocument(e){try{if(!this.contracts.documentRegistrySigner){console.log("📝 DocumentRegistry signer not initialized, connecting wallet...");try{if(await this.getSigner(),!this.contracts.documentRegistrySigner)throw new Error("DocumentRegistry contract could not be initialized. Please check contract deployment and wallet connection.")}catch(f){throw new Error(`Wallet connection required for blockchain registration: ${f.message}`)}}const{cid:r,projectName:n,projectType:i,description:s,location:a,estimatedCredits:l}=e;if(!r||!n)throw new Error("CID and project name are required");console.log("📄 Registering document:",{cid:r,projectName:n,projectType:i||"",description:s||"",location:a||"",estimatedCredits:l||0});const c=await this.contracts.documentRegistrySigner.registerDocument(r,n,i||"",s||"",a||"",BigInt(l||0)),u=await c.wait();let d=null;for(const f of u.logs)try{const h=this.contracts.documentRegistry.interface.parseLog(f);if(h.name==="DocumentRegistered"){d=Number(h.args.documentId);break}}catch{continue}return{hash:c.hash,transaction:c,receipt:u,documentId:d}}catch(r){throw console.error("Error registering document:",r),r.message.includes("EmptyCID")?new Error("Document CID cannot be empty"):r.message.includes("EmptyProjectName")?new Error("Project name cannot be empty"):r.message.includes("not initialized")?r:new Error(`Failed to register document: ${r.message}`)}}async getAllDocuments(){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),[];console.log("📋 Fetching all documents from registry...");const r=(await this.contracts.documentRegistry.getAllDocuments()).map((n,i)=>({id:i+1,cid:n.cid,uploader:n.uploader,projectName:n.projectName,projectType:n.projectType,description:n.description,location:n.location,estimatedCredits:Number(n.estimatedCredits),timestamp:Number(n.timestamp),isAttested:n.isAttested,verifier:n.verifier,attestedAt:Number(n.attestedAt),uploadedAt:new Date(Number(n.timestamp)*1e3).toISOString(),attestedAtFormatted:n.attestedAt>0?new Date(Number(n.attestedAt)*1e3).toISOString():null}));return console.log(`📋 Retrieved ${r.length} documents`),r}catch(e){if(console.error("Error getting all documents:",e),e.message.includes("not initialized"))return[];throw new Error(`Failed to fetch documents: ${e.message}`)}}async getUserDocuments(e){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),[];if(!e)throw new Error("User address is required");console.log(`📋 Fetching documents for user: ${e}`);const n=(await this.contracts.documentRegistry.getUserDocumentsWithDetails(e)).map((i,s)=>({cid:i.cid,uploader:i.uploader,projectName:i.projectName,projectType:i.projectType,description:i.description,location:i.location,estimatedCredits:Number(i.estimatedCredits),timestamp:Number(i.timestamp),isAttested:i.isAttested,verifier:i.verifier,attestedAt:Number(i.attestedAt),uploadedAt:new Date(Number(i.timestamp)*1e3).toISOString(),attestedAtFormatted:i.attestedAt>0?new Date(Number(i.attestedAt)*1e3).toISOString():null}));return console.log(`📋 Retrieved ${n.length} documents for user`),n}catch(r){if(console.error("Error getting user documents:",r),r.message.includes("not initialized"))return[];throw new Error(`Failed to fetch user documents: ${r.message}`)}}async getDocumentsByStatus(e=!1){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),[];console.log(`📋 Fetching ${e?"attested":"unattested"} documents...`);const n=(await this.contracts.documentRegistry.getDocumentsByStatus(e)).map((i,s)=>({cid:i.cid,uploader:i.uploader,projectName:i.projectName,projectType:i.projectType,description:i.description,location:i.location,estimatedCredits:Number(i.estimatedCredits),timestamp:Number(i.timestamp),isAttested:i.isAttested,verifier:i.verifier,attestedAt:Number(i.attestedAt),uploadedAt:new Date(Number(i.timestamp)*1e3).toISOString(),attestedAtFormatted:i.attestedAt>0?new Date(Number(i.attestedAt)*1e3).toISOString():null}));return console.log(`📋 Retrieved ${n.length} ${e?"attested":"unattested"} documents`),n}catch(r){if(console.error("Error getting documents by status:",r),r.message.includes("not initialized"))return[];throw new Error(`Failed to fetch documents by status: ${r.message}`)}}async getSigner(){try{return this.signer||await this.connectWallet(),this.signer}catch(e){throw console.error("Error getting signer:",e),new Error("Failed to get wallet signer")}}async getNonce(e){try{if(!e)throw console.error("Error getting nonce: Address is required"),new Error("Address is required for nonce lookup");if(!this.contracts.carbon)throw new Error("Carbon contract not initialized");const r=await this.contracts.carbon.nonces(e);return Number(r)}catch(r){if(console.error("Error getting nonce:",r),r.message.includes("Address is required"))throw r;return 0}}getContractAddress(e){var n,i,s,a,l,c,u,d;return{carbonCredit:((n=this.contracts.carbon)==null?void 0:n.target)||((i=this.contracts.carbon)==null?void 0:i.address),documentRegistry:((s=this.contracts.documentRegistry)==null?void 0:s.target)||((a=this.contracts.documentRegistry)==null?void 0:a.address),verifierRegistry:((l=this.contracts.verifierRegistry)==null?void 0:l.target)||((c=this.contracts.verifierRegistry)==null?void 0:c.address),marketplace:((u=this.contracts.marketplace)==null?void 0:u.target)||((d=this.contracts.marketplace)==null?void 0:d.address)}[e]||null}async attestDocument(e){try{if(!this.contracts.documentRegistrySigner)throw new Error("DocumentRegistry contract with signer not initialized. Please ensure the contract is deployed and configured.");if(!e||e<=0)throw new Error("Valid document ID is required");console.log(`✅ Attesting document ID: ${e}`);const r=await this.contracts.documentRegistrySigner.attestDocument(e);return{hash:r.hash,transaction:r}}catch(r){throw console.error("Error attesting document:",r),r.message.includes("NotVerifier")?new Error("Only registered verifiers can attest documents"):r.message.includes("DocumentNotFound")?new Error("Document not found"):r.message.includes("DocumentAlreadyAttested")?new Error("Document has already been attested"):r.message.includes("not initialized")?r:new Error(`Failed to attest document: ${r.message}`)}}async getDocument(e){try{if(!this.contracts.documentRegistry)throw new Error("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured.");if(!e||e<=0)throw new Error("Valid document ID is required");console.log(`📄 Fetching document ID: ${e}`);const r=await this.contracts.documentRegistry.getDocument(e);return{id:e,cid:r.cid,uploader:r.uploader,projectName:r.projectName,projectType:r.projectType,description:r.description,location:r.location,estimatedCredits:Number(r.estimatedCredits),timestamp:Number(r.timestamp),isAttested:r.isAttested,verifier:r.verifier,attestedAt:Number(r.attestedAt),uploadedAt:new Date(Number(r.timestamp)*1e3).toISOString(),attestedAtFormatted:r.attestedAt>0?new Date(Number(r.attestedAt)*1e3).toISOString():null}}catch(r){throw console.error("Error getting document:",r),r.message.includes("DocumentNotFound")?new Error("Document not found"):r.message.includes("not initialized")?r:new Error(`Failed to fetch document: ${r.message}`)}}async getTotalDocuments(){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),0;const e=await this.contracts.documentRegistry.getTotalDocuments();return Number(e)}catch(e){if(console.error("Error getting total documents:",e),e.message.includes("not initialized"))return 0;throw new Error(`Failed to get total documents: ${e.message}`)}}isDocumentRegistryAvailable(){return!!this.contracts.documentRegistry}}const ce=new uY,jv={individual:["upload_document","view_own_documents","view_credits"],business:["upload_document","view_own_documents","view_credits"],verifier:["view_all_documents","attest_document","mint_credits","view_verifier_dashboard"],admin:["manage_users","change_user_roles","view_audit_logs","manage_verifier_credentials","backup_restore_data","view_admin_dashboard","upload_document","view_own_documents","view_credits","view_all_documents","attest_document","mint_credits","view_verifier_dashboard"]},Nv=["individual","business","verifier","admin"];class dY{constructor(){this.isAuthenticated=!1,this.currentUser=null,this.users=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_users");if(e){const r=JSON.parse(e);this.users=new Map(r)}}catch(e){console.error("Failed to load users from storage:",e),this.users=new Map}}saveToStorage(){try{const e=Array.from(this.users.entries());localStorage.setItem("cblock_users",JSON.stringify(e))}catch(e){console.error("Failed to save users to storage:",e)}}hashPassword(e){let r=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);r=(r<<5)-r+i,r=r&r}return r.toString()}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}validatePassword(e){return e.length<6?{valid:!1,message:"Password must be at least 6 characters long"}:{valid:!0}}async register(e){const{firstName:r,lastName:n,email:i,password:s,confirmPassword:a,organization:l,accountType:c,walletAddress:u}=e;if(!r||!n||!i||!s)throw new Error("Please fill in all required fields");if(!this.validateEmail(i))throw new Error("Please enter a valid email address");if(s!==a)throw new Error("Passwords do not match");const d=this.validatePassword(s);if(!d.valid)throw new Error(d.message);const f=this.validateAccountType(c);if(!f.valid)throw new Error(f.message);if(this.users.has(i))throw new Error("An account with this email already exists");const h={id:Date.now().toString(),name:`${r} ${n}`,firstName:r,lastName:n,email:i,organization:l||"",accountType:f.accountType,walletAddress:u||"",passwordHash:this.hashPassword(s),createdAt:new Date().toISOString(),isVerified:!1,profile:{avatar:null,bio:"",location:"",website:""}};this.users.set(i,h),this.saveToStorage();const{passwordHash:m,...g}=h;return g}async login(e,r){if(!e||!r)throw new Error("Please enter both email and password");if(!this.validateEmail(e))throw new Error("Please enter a valid email address");const n=this.users.get(e);if(!n)throw new Error("Invalid email or password");const i=this.hashPassword(r);if(n.passwordHash!==i)throw new Error("Invalid email or password");n.lastLogin=new Date().toISOString(),this.users.set(e,n),this.saveToStorage(),this.currentUser=n,this.isAuthenticated=!0;const{passwordHash:s,...a}=n;return a}logout(){this.currentUser=null,this.isAuthenticated=!1,localStorage.removeItem("cblock_user_session")}getCurrentUser(){if(!this.currentUser)return null;const{passwordHash:e,...r}=this.currentUser;return r}isUserAuthenticated(){return this.isAuthenticated&&this.currentUser!==null}getUserRole(){return this.currentUser?this.currentUser.accountType||"individual":null}hasPermission(e){var n;const r=this.getUserRole();return r&&((n=jv[r])==null?void 0:n.includes(e))||!1}isVerifier(){return this.getUserRole()==="verifier"}isAdmin(){return this.getUserRole()==="admin"}validateAccountType(e){return e?Nv.includes(e)?{valid:!0,accountType:e}:{valid:!1,message:`Invalid account type. Must be one of: ${Nv.join(", ")}`}:{valid:!0,accountType:"individual"}}getAvailableAccountTypes(){return[...Nv]}getRolePermissions(e){return jv[e]||[]}getAllRolePermissions(){return{...jv}}async updateProfile(e){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");const r=this.users.get(this.currentUser.email);if(!r)throw new Error("User not found");if(e.accountType!==void 0){const a=this.validateAccountType(e.accountType);if(!a.valid)throw new Error(a.message);r.accountType=a.accountType}["firstName","lastName","organization","walletAddress"].forEach(a=>{e[a]!==void 0&&(r[a]=e[a])}),e.profile&&(r.profile={...r.profile,...e.profile}),r.updatedAt=new Date().toISOString(),(e.firstName||e.lastName)&&(r.name=`${r.firstName} ${r.lastName}`),this.users.set(r.email,r),this.saveToStorage(),this.currentUser=r;const{passwordHash:i,...s}=r;return s}async changePassword(e,r){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");const n=this.users.get(this.currentUser.email);if(!n)throw new Error("User not found");const i=this.hashPassword(e);if(n.passwordHash!==i)throw new Error("Current password is incorrect");const s=this.validatePassword(r);if(!s.valid)throw new Error(s.message);return n.passwordHash=this.hashPassword(r),n.updatedAt=new Date().toISOString(),this.users.set(n.email,n),this.saveToStorage(),{success:!0}}async connectWallet(){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");try{const e=await ce.connectWallet();return await this.updateProfile({walletAddress:e.address}),e}catch(e){throw console.error("Failed to connect wallet:",e),e}}async getUserStats(e){var r;if(!e&&((r=this.currentUser)!=null&&r.walletAddress)&&(e=this.currentUser.walletAddress),!e)return{totalTokens:0,totalValue:0,retiredTokens:0,certificatesCount:0};try{const n=await ce.getUserTokens(e),i=await ce.getRetirementCertificates(e),s=n.reduce((c,u)=>c+u.balance,0),a=s*35,l=Math.floor(s*.1);return{totalTokens:s,totalValue:a,retiredTokens:l,certificatesCount:i.length,tokens:n,certificates:i}}catch(n){return console.error("Error getting user stats:",n),{totalTokens:0,totalValue:0,retiredTokens:0,certificatesCount:0,tokens:[],certificates:[]}}}async resetPassword(e){if(!this.validateEmail(e))throw new Error("Please enter a valid email address");const r=this.users.get(e);if(!r)throw new Error("No account found with this email address");const n=Math.random().toString(36).slice(-8);return r.passwordHash=this.hashPassword(n),r.updatedAt=new Date().toISOString(),this.users.set(e,r),this.saveToStorage(),{success:!0,message:"Password reset successful",tempPassword:n}}getAllUsers(){return Array.from(this.users.values()).map(r=>{const{passwordHash:n,...i}=r;return i})}async deleteAccount(e){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");const r=this.users.get(this.currentUser.email);if(!r)throw new Error("User not found");const n=this.hashPassword(e);if(r.passwordHash!==n)throw new Error("Password is incorrect");return this.users.delete(this.currentUser.email),this.saveToStorage(),this.logout(),{success:!0}}hasConnectedWallet(){var e;return((e=this.currentUser)==null?void 0:e.walletAddress)&&this.currentUser.walletAddress!==""}initializeSession(){try{const e=localStorage.getItem("cblock_user_session");if(e){const r=JSON.parse(e),n=this.users.get(r.email);if(n)return this.currentUser=n,this.isAuthenticated=!0,this.getCurrentUser();{const i={id:r.id,name:r.name||`${r.firstName} ${r.lastName}`,firstName:r.firstName,lastName:r.lastName,email:r.email,organization:r.organization||"",accountType:r.accountType||"individual",walletAddress:r.walletAddress||"",passwordHash:"",createdAt:new Date().toISOString(),isVerified:!0,profile:{avatar:null,bio:"",location:"",website:""}};return this.users.set(r.email,i),this.currentUser=i,this.isAuthenticated=!0,this.saveToStorage(),this.getCurrentUser()}}}catch(e){console.error("Failed to initialize session:",e)}return null}saveSession(){if(this.currentUser){const e={email:this.currentUser.email,name:`${this.currentUser.firstName} ${this.currentUser.lastName}`,firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,organization:this.currentUser.organization,accountType:this.currentUser.accountType,walletAddress:this.currentUser.walletAddress,id:this.currentUser.id,timestamp:Date.now()};localStorage.setItem("cblock_user_session",JSON.stringify(e))}}}const ne=new dY,F4=p.createContext(),fY=()=>p.useContext(F4),hY=({children:t})=>{const[e,r]=p.useState([]);p.useEffect(()=>{const s=localStorage.getItem("notifications");if(s)try{r(JSON.parse(s))}catch{console.error("Failed to parse notifications from localStorage")}},[]),p.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=s=>{const a={id:Date.now().toString(),...s,timestamp:new Date().toISOString()};r(l=>[a,...l])},i=s=>{r(a=>a.filter(l=>l.id!==s))};return o.jsx(F4.Provider,{value:{notifications:e,addNotification:n,removeNotification:i},children:t})},Wp=({message:t="Access Denied",userRole:e=null,attemptedPage:r=null,requiredRoles:n=[],requiredPermissions:i=[],showLoginButton:s=!1,isRedirecting:a=!1,onLogin:l=null,onNavigate:c=null})=>{const u=()=>{l?l():window.location.reload()},d=()=>{c?c("dashboard"):window.history.back()},f=g=>({verifierDashboard:"Verifier Dashboard",mintCredits:"Upload Documents",mint:"Mint Credits",tokens:"My Tokens",portfolio:"Portfolio",market:"Marketplace",retire:"Retire Credits",analytics:"Analytics",settings:"Settings"})[g]||g,h=g=>({individual:"Individual User",business:"Business User",verifier:"Verifier"})[g]||g,m=g=>({upload_document:"Upload Documents",view_own_documents:"View Own Documents",view_credits:"View Credits",view_all_documents:"View All Documents",attest_document:"Attest Documents",mint_credits:"Mint Credits",view_verifier_dashboard:"Access Verifier Dashboard"})[g]||g;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-carbon-50 via-white to-primary-50 p-4",children:o.jsx(R.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-carbon-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:o.jsx(ad,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Access Restricted"}),o.jsx("p",{className:"text-red-100 text-sm",children:"Insufficient permissions"})]})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(R.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(De,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-carbon-600 text-sm leading-relaxed",children:r?`You don't have permission to access ${f(r)}.`:t}),a&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 p-3 bg-blue-50 rounded-lg",children:o.jsx("p",{className:"text-blue-700 text-sm",children:"Redirecting you to an appropriate page..."})})]}),e&&o.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-carbon-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Ut,{className:"w-4 h-4 text-carbon-500"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Your Role"})]}),o.jsx("p",{className:"text-sm text-carbon-600",children:h(e)})]}),n.length>0&&o.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Yt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Required Roles"})]}),o.jsx("div",{className:"space-y-1",children:n.map((g,x)=>o.jsxs("p",{className:"text-sm text-blue-600",children:["• ",h(g)]},x))})]}),i.length>0&&o.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-purple-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Yt,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Required Permissions"})]}),o.jsx("div",{className:"space-y-1",children:i.map((g,x)=>o.jsxs("p",{className:"text-sm text-purple-600",children:["• ",m(g)]},x))})]}),o.jsxs("div",{className:"space-y-3",children:[s&&o.jsxs(R.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[o.jsx("span",{children:"Login to Continue"}),o.jsx(lh,{className:"w-4 h-4"})]}),!a&&o.jsx(R.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s?.7:.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"w-full bg-carbon-100 hover:bg-carbon-200 text-carbon-700 font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Go to Dashboard"})]}),o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center",children:o.jsx("p",{className:"text-xs text-carbon-500",children:"Need help? Contact your administrator to request access."})})]})]})})})},Io=({allowedRoles:t=[],requiredPermissions:e=[],children:r,user:n=null,fallbackMessage:i=null,fallback:s=null,requireAuthentication:a=!0})=>{const l=n||ne.getCurrentUser();if(a&&!ne.isUserAuthenticated())return s||o.jsx(Wp,{message:i||"Please log in to access this content",showLoginButton:!0});if(t.length===0&&e.length===0)return r;if(t.length>0){const c=(l==null?void 0:l.accountType)||"individual";if(!t.includes(c))return s||o.jsx(Wp,{message:i||`Access denied. This content requires one of the following roles: ${t.join(", ")}`,userRole:c,requiredRoles:t})}if(e.length>0&&!e.every(u=>ne.hasPermission(u))){const u=(l==null?void 0:l.accountType)||"individual";return s||o.jsx(Wp,{message:i||"Access denied. You don't have the required permissions for this content.",userRole:u,requiredPermissions:e})}return o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:r})},kr={UPLOAD_DOCUMENT:"upload_document",VIEW_CREDITS:"view_credits",VIEW_ALL_DOCUMENTS:"view_all_documents",VIEW_VERIFIER_DASHBOARD:"view_verifier_dashboard",VIEW_ADMIN_DASHBOARD:"view_admin_dashboard"},ue={INDIVIDUAL:"individual",BUSINESS:"business",VERIFIER:"verifier",ADMIN:"admin"},mY={dashboard:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[]},tokens:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[kr.VIEW_CREDITS]},mint:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS],requiredPermissions:[kr.UPLOAD_DOCUMENT]},mintCredits:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS],requiredPermissions:[kr.UPLOAD_DOCUMENT]},verifierDashboard:{allowedRoles:[ue.VERIFIER],requiredPermissions:[kr.VIEW_VERIFIER_DASHBOARD,kr.VIEW_ALL_DOCUMENTS]},market:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[]},retire:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[kr.VIEW_CREDITS]},analytics:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[]},settings:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[]},portfolio:{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER,ue.ADMIN],requiredPermissions:[kr.VIEW_CREDITS]},admin:{allowedRoles:[ue.ADMIN],requiredPermissions:[kr.VIEW_ADMIN_DASHBOARD]}},pY=(t,e=null)=>{const r=e||ne.getCurrentUser(),n=mY[t];if(!n)return!0;if(!ne.isUserAuthenticated())return!1;const i=(r==null?void 0:r.accountType)||ue.INDIVIDUAL;return n.allowedRoles.length>0&&!n.allowedRoles.includes(i)?!1:n.requiredPermissions.length>0?n.requiredPermissions.every(s=>ne.hasPermission(s)):!0},gY=(t,e=null)=>ne.hasPermission(t),yY=(t,e=null)=>t.every(r=>gY(r,e)),U4=(t,e=null)=>{const r=e||ne.getCurrentUser();return((r==null?void 0:r.accountType)||ue.INDIVIDUAL)===t},xY=(t,e=null)=>t.some(r=>U4(r,e)),uc=(t=null)=>{const e=t||ne.getCurrentUser();return(e==null?void 0:e.accountType)||ue.INDIVIDUAL},vY=(t=null)=>{const e=uc(t);return ne.getRolePermissions(e)},Av=(t=null)=>U4(ue.VERIFIER,t),bY=(t=null)=>{switch(uc(t)){case ue.ADMIN:return"admin";case ue.VERIFIER:return"verifierDashboard";case ue.INDIVIDUAL:case ue.BUSINESS:return"dashboard";default:return"dashboard"}},wY=(t,e=null)=>t.filter(r=>!r.allowedRoles&&!r.requiredPermissions?!0:!(r.allowedRoles&&r.allowedRoles.length>0&&!xY(r.allowedRoles,e)||r.requiredPermissions&&r.requiredPermissions.length>0&&!yY(r.requiredPermissions,e))),Gw=t=>({[ue.INDIVIDUAL]:"Individual User",[ue.BUSINESS]:"Business User",[ue.VERIFIER]:"Verifier",[ue.ADMIN]:"Administrator"})[t]||t,$4=(t=null)=>{const e=t||ne.getCurrentUser(),r=uc(e),n=p.useCallback(f=>pY(f,e),[e]),i=p.useCallback((f,h,m=null)=>{n(f)?h(f):m?m(f,r):console.warn(`Access denied to page: ${f} for role: ${r}`)},[n,r]),s=p.useCallback(()=>bY(e),[e]),a=p.useCallback(f=>wY(f,e),[e]),l=p.useCallback((f,h)=>{if(r==="admin"&&(f==="mint"||f==="upload"))return h("admin"),!0;if(Av(e)&&(f==="mint"||f==="upload"))return h("verifierDashboard"),!0;if(!Av(e)&&f==="verifierDashboard"||r!=="admin"&&f==="admin")return h("dashboard"),!0;if(!n(f)){const m=s();return h(m),!0}return!1},[e,n,s,r]),c=p.useMemo(()=>a([{name:"Dashboard",href:"dashboard",icon:"HomeIcon",description:"Overview of your portfolio",allowedRoles:["individual","business","verifier"]},{name:"My Tokens",href:"tokens",icon:"WalletIcon",description:"View your carbon credits",allowedRoles:["individual","business","verifier"],requiredPermissions:["view_credits"]},{name:"Upload Documents",href:"upload",icon:"PlusCircleIcon",description:"Upload documents for verification",allowedRoles:["individual","business"],requiredPermissions:["upload_document"]},{name:"Verifier Dashboard",href:"verifierDashboard",icon:"ShieldCheckIcon",description:"Review and verify documents",allowedRoles:["verifier"],requiredPermissions:["view_verifier_dashboard"]},{name:"Marketplace",href:"market",icon:"ShoppingBagIcon",description:"Buy and sell credits",allowedRoles:["individual","business","verifier"]},{name:"Retire Credits",href:"retire",icon:"ArrowRightOnRectangleIcon",description:"Retire credits for impact",allowedRoles:["individual","business","verifier"],requiredPermissions:["view_credits"]},{name:"Analytics",href:"analytics",icon:"ChartBarIcon",description:"Market insights and trends",allowedRoles:["individual","business","verifier","admin"]},{name:"Admin Dashboard",href:"admin",icon:"ShieldCheckIcon",description:"Manage users and system settings",allowedRoles:["admin"],requiredPermissions:["view_admin_dashboard"]}]),[a]),u=p.useCallback(()=>{switch(r){case"admin":return{title:"Welcome to CBlock Admin Dashboard",description:"Manage users, roles, and system settings for the CBlock platform.",primaryAction:"Manage Users",primaryActionPage:"admin"};case"verifier":return{title:"Welcome to your Verifier Dashboard",description:"Review and verify documents submitted by users to mint carbon credits.",primaryAction:"View Documents",primaryActionPage:"verifierDashboard"};case"business":return{title:"Welcome to CBlock Business",description:"Upload your business documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"upload"};case"individual":default:return{title:"Welcome to CBlock",description:"Upload your environmental impact documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"upload"}}},[r]),d=p.useCallback(f=>!n(f),[n]);return{userRole:r,currentUser:e,checkPageAccess:n,canAccessPage:n,navigateWithAccessControl:i,getLandingPage:s,getFilteredNavigation:a,getRoleBasedNavigation:c,handleRoleBasedRedirect:l,shouldRedirectFromCurrentPage:d,getRoleWelcomeMessage:u,isVerifier:Av(e),isIndividual:r==="individual",isBusiness:r==="business",isAdmin:r==="admin"}};function jY({user:t,showPermissions:e=!1,compact:r=!1}){const n=uc(t),i=vY(t),s=Gw(n),a=()=>{switch(n){case"individual":return Ut;case"business":return ac;case"verifier":return Yt;default:return Ut}},l=()=>{switch(n){case"individual":return"text-blue-600 bg-blue-50 border-blue-200";case"business":return"text-purple-600 bg-purple-50 border-purple-200";case"verifier":return"text-green-600 bg-green-50 border-green-200";default:return"text-carbon-600 bg-carbon-50 border-carbon-200"}},c=a();return r?o.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${l()}`,title:`Role: ${s}`,children:[o.jsx(c,{className:"w-3 h-3 mr-1"}),s]}):o.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-3 rounded-lg border ${l()}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(c,{className:"w-5 h-5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Current Role"}),o.jsx("p",{className:"text-xs opacity-80",children:s})]}),e&&o.jsx("button",{className:"p-1 hover:bg-black/5 rounded transition-colors",title:"View permissions",children:o.jsx(qn,{className:"w-4 h-4"})})]}),e&&i.length>0&&o.jsxs(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 pt-3 border-t border-current/20",children:[o.jsx("h5",{className:"text-xs font-medium mb-2",children:"Permissions:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.map(u=>o.jsx("span",{className:"text-xs px-2 py-1 bg-black/10 rounded-full",children:u.replace(/_/g," ").toLowerCase()},u))})]})]})}function NY({user:t,className:e=""}){return o.jsx(jY,{user:t,compact:!0,className:e})}function AY({user:t,onNavigate:e}){const r=uc(t),i=(()=>{switch(r){case"verifier":return{title:"Welcome to your Verifier Dashboard",description:"Review and verify documents submitted by users to mint carbon credits.",primaryAction:"View Documents",primaryActionPage:"verifierDashboard",icon:Yt,gradient:"from-green-500 to-emerald-600"};case"business":return{title:"Welcome to CBlock Business",description:"Upload your business documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"mintCredits",icon:ac,gradient:"from-purple-500 to-indigo-600"};case"individual":default:return{title:"Welcome to CBlock",description:"Upload your environmental impact documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"mintCredits",icon:Ut,gradient:"from-blue-500 to-cyan-600"}}})(),s=i.icon;return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-carbon-200",children:[o.jsx("div",{className:`w-16 h-16 mx-auto mb-4 bg-gradient-to-r ${i.gradient} rounded-2xl flex items-center justify-center`,children:o.jsx(s,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-2",children:i.title}),o.jsx("p",{className:"text-carbon-600 mb-6 max-w-md mx-auto",children:i.description}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e&&e(i.primaryActionPage),className:`inline-flex items-center px-6 py-3 bg-gradient-to-r ${i.gradient} text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200`,children:[o.jsx(s,{className:"w-5 h-5 mr-2"}),i.primaryAction]})]})}function EY({user:t,onNavigate:e}){const r=uc(t),i=(()=>{switch(r){case"verifier":return[{title:"Review Documents",description:"View and verify submitted documents",icon:Yt,action:"verifierDashboard",color:"from-green-500 to-emerald-600"},{title:"Analytics",description:"View verification statistics",icon:pn,action:"analytics",color:"from-blue-500 to-indigo-600"},{title:"My Tokens",description:"View your carbon credits",icon:nv,action:"tokens",color:"from-purple-500 to-pink-600"}];case"business":return[{title:"Upload Documents",description:"Submit business documents for verification",icon:KS,action:"mintCredits",color:"from-purple-500 to-indigo-600"},{title:"Portfolio",description:"View your carbon credit portfolio",icon:pn,action:"portfolio",color:"from-blue-500 to-cyan-600"},{title:"Marketplace",description:"Buy and sell carbon credits",icon:nv,action:"market",color:"from-green-500 to-teal-600"}];case"individual":default:return[{title:"Upload Documents",description:"Submit your environmental impact documents",icon:KS,action:"mintCredits",color:"from-blue-500 to-cyan-600"},{title:"My Tokens",description:"View your earned carbon credits",icon:nv,action:"tokens",color:"from-green-500 to-emerald-600"},{title:"Portfolio",description:"Track your environmental impact",icon:pn,action:"portfolio",color:"from-purple-500 to-pink-600"}]}})();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-carbon-50 via-white to-primary-50 p-4 sm:p-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:o.jsx(AY,{user:t,onNavigate:e})}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900 mb-6 text-center",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((s,a)=>{const l=s.icon;return o.jsxs(R.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+a*.1},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>e&&e(s.action),className:"p-6 bg-white rounded-2xl shadow-lg border border-carbon-200 hover:shadow-xl transition-all duration-200 text-left group",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${s.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-200`,children:o.jsx(l,{className:"w-6 h-6 text-white"})}),o.jsx("h4",{className:"text-lg font-semibold text-carbon-900 mb-2 group-hover:text-primary-700 transition-colors",children:s.title}),o.jsx("p",{className:"text-carbon-600 text-sm mb-4",children:s.description}),o.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium group-hover:text-primary-700 transition-colors",children:["Get Started",o.jsx(lh,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]},s.action)})})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg border border-carbon-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-4",children:r==="verifier"?"Verifier Tips":"Getting Started Tips"}),o.jsx("div",{className:"space-y-3",children:r==="verifier"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Review documents carefully and verify all required information before attestation."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Use the dashboard filters to efficiently manage large volumes of documents."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Credits are automatically allocated to document uploaders after successful minting."})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Ensure your documents are clear and contain all required project information."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Credits will be automatically allocated to your account after verification."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Track your document status and credit balance in your portfolio."})]})]})})]})]})})}function SY({user:t,currentPage:e,onPageChange:r,children:n,showLandingPage:i=!1}){const[s,a]=p.useState(!1),[l,c]=p.useState(!1),{checkPageAccess:u,handleRoleBasedRedirect:d,getLandingPage:f,userRole:h}=$4(t);return p.useEffect(()=>{if(!t||!e)return;if(u(e))c(!1),a(!1);else{c(!0);const g=setTimeout(()=>{a(!0);const x=f();setTimeout(()=>{r(x),c(!1),a(!1)},1e3)},2e3);return()=>clearTimeout(g)}},[e,t,u,f,r]),p.useEffect(()=>{t&&e&&d(e,r)&&console.log(`User redirected from ${e} due to role restrictions`)},[e,t,d,r]),i?o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(EY,{user:t,onNavigate:r})},"landing-page"):l?o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(Wp,{userRole:h,attemptedPage:e,isRedirecting:s,onNavigate:r})},"access-denied"):o.jsx(Ft,{mode:"wait",children:o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n},e)})}class Ii extends Sd.Component{constructor(r){super(r);F(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});F(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const i=ne.getCurrentUser(),s=(i==null?void 0:i.accountType)||"guest",a={component:this.props.componentName||"Unknown",userRole:s,errorBoundary:!0,props:this.props.context||{},componentStack:n.componentStack};Cr.handleError(r,a,{showToast:!1,logError:!0}),this.setState({error:r,errorInfo:n,hasError:!0})}render(){if(this.state.hasError){const r=ne.getCurrentUser(),n=(r==null?void 0:r.accountType)||"guest";return o.jsx(kY,{error:this.state.error,errorInfo:this.state.errorInfo,userRole:n,componentName:this.props.componentName,onRetry:this.handleRetry,onGoHome:this.handleGoHome,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3})}return this.props.children}}function kY({error:t,errorInfo:e,userRole:r,componentName:n,onRetry:i,onGoHome:s,retryCount:a,maxRetries:l}){const c=h=>({verifier:Yt,business:ac,individual:Ut,guest:Ut})[h]||Ut,d=((h,m)=>{const g={verifier:{title:"Verifier Dashboard Error",description:"There was an issue with the verifier interface. This may affect document review and attestation functions.",suggestions:["Try refreshing the page to reload the verifier dashboard","Check if your wallet is properly connected","Ensure you have the necessary verifier permissions","Contact system administrator if the issue persists"]},business:{title:"Business Account Error",description:"There was an issue with the business user interface. This may affect document uploads and project management.",suggestions:["Try refreshing the page to reload your business dashboard","Check your internet connection","Ensure your business account is properly configured","Try uploading documents again after refresh"]},individual:{title:"Individual Account Error",description:"There was an issue with the individual user interface. This may affect document uploads and credit tracking.",suggestions:["Try refreshing the page to reload your dashboard","Check your internet connection","Ensure your account is properly set up","Try uploading documents again after refresh"]},guest:{title:"Application Error",description:"There was an issue loading the application. Please try logging in or creating an account.",suggestions:["Try refreshing the page","Create an account or log in to access full features","Check your internet connection","Contact support if the issue continues"]}};return g[h]||g.guest})(r),f=c(r);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:o.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl border border-red-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:o.jsx(De,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:d.title}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx(f,{className:"w-4 h-4 text-white/80"}),o.jsxs("span",{className:"text-white/80 text-sm capitalize",children:[r," Account"]})]})]})]})}),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.description})}),o.jsxs("details",{className:"bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("summary",{className:"px-4 py-3 cursor-pointer text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Technical Details (Click to expand)"}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Component:"}),o.jsx("code",{className:"ml-2 text-xs bg-gray-100 px-2 py-1 rounded font-mono",children:n||"Unknown"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Error:"}),o.jsx("code",{className:"ml-2 text-xs bg-red-50 px-2 py-1 rounded font-mono text-red-700",children:(t==null?void 0:t.message)||"Unknown error"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Retry Count:"}),o.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[a," / ",l]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"What you can try:"}),o.jsx("ul",{className:"space-y-2",children:d.suggestions.map((h,m)=>o.jsxs("li",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("span",{className:"text-xs font-medium text-blue-600",children:m+1})}),o.jsx("span",{className:"text-gray-700 text-sm",children:h})]},m))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[a<l&&o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"flex-1 inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-lg",children:[o.jsx(Re,{className:"w-5 h-5"}),o.jsx("span",{children:"Try Again"})]}),o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex-1 inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-lg",children:[o.jsx(sd,{className:"w-5 h-5"}),o.jsx("span",{children:"Go to Home"})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5",children:"ℹ️"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Need more help?"}),o.jsxs("p",{className:"text-blue-700",children:["If this error continues to occur, please take a screenshot and contact our support team. Include your account type (",r,") and what you were trying to do when the error occurred."]})]})]})})]})})]})})}function CY({size:t="medium",message:e="Loading...",userRole:r=null,operation:n=null,showProgress:i=!1,progress:s=0}){const a={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"},c=r&&n?((u,d)=>{const f={verifier:{document_review:"Loading documents for verification...",attestation:"Processing document attestation...",minting:"Minting carbon credits...",dashboard:"Loading verifier dashboard...",default:"Loading verifier interface..."},business:{document_upload:"Uploading business project document...",dashboard:"Loading business dashboard...",portfolio:"Loading project portfolio...",default:"Loading business interface..."},individual:{document_upload:"Uploading project document...",dashboard:"Loading your dashboard...",portfolio:"Loading your documents...",default:"Loading your interface..."},guest:{login:"Signing you in...",registration:"Creating your account...",default:"Loading application..."}},h=f[u]||f.guest;return h[d]||h.default||e})(r,n):e;return o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center space-y-3",children:[o.jsx(R.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`${a[t]} text-primary-500`,children:o.jsx(Re,{})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:c}),i&&o.jsxs("div",{className:"mt-2 w-48",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[Math.round(s),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx(R.div,{className:"bg-primary-500 h-2 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3}})})]})]})]})}function PY({userRole:t="individual"}){const e=s=>({verifier:Yt,business:ac,individual:Ut,guest:Ut})[s]||Ut,r=s=>{const a={verifier:{title:"Loading Verifier Dashboard",items:["Fetching pending documents...","Loading attestation tools...","Checking verifier permissions...","Initializing minting interface..."]},business:{title:"Loading Business Dashboard",items:["Loading your projects...","Fetching document status...","Calculating credit estimates...","Preparing upload interface..."]},individual:{title:"Loading Your Dashboard",items:["Loading your documents...","Checking credit balance...","Fetching verification status...","Preparing project interface..."]},guest:{title:"Loading Application",items:["Initializing interface...","Loading authentication...","Preparing registration...","Setting up features..."]}};return a[s]||a.guest},n=e(t),i=r(t);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md w-full",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx(R.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto",children:o.jsx(n,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:i.title}),o.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[t," Account"]})]}),o.jsx("div",{className:"space-y-3",children:i.items.map((s,a)=>o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.2},className:"flex items-center space-x-3 text-left",children:[o.jsx(R.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear",delay:a*.1},className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full"}),o.jsx("span",{className:"text-sm text-gray-700",children:s})]},a))}),o.jsx("div",{className:"flex justify-center space-x-2",children:[0,1,2,3].map(s=>o.jsx(R.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{duration:1.2,repeat:1/0,delay:s*.15},className:"w-2 h-2 bg-blue-500 rounded-full"},s))})]})})})}function V4({show:t=!1,message:e="Loading...",userRole:r=null,operation:n=null,transparent:i=!1}){return o.jsx(Ft,{children:t&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center ${i?"bg-black/20":"bg-white/80"} backdrop-blur-sm`,children:o.jsx(CY,{size:"large",message:e,userRole:r,operation:n})})})}function TY({address:t,onConnect:e}){const[r,n]=p.useState(!1),[i,s]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(null);p.useEffect(()=>{t&&window.ethereum&&d()},[t]);const d=async()=>{try{const m=new at(window.ethereum),g=await m.getBalance(t),x=await m.getNetwork();s(uh(g)),l(x.name)}catch(m){console.error("Error fetching wallet info:",m)}},f=async()=>{if(!window.ethereum){u("MetaMask not found. Please install MetaMask.");return}n(!0),u(null);try{await window.ethereum.request({method:"eth_requestAccounts"});const x=await(await new at(window.ethereum).getSigner()).getAddress();e(x)}catch(m){console.error("Connection error:",m),u(m.message||"Failed to connect wallet")}finally{n(!1)}},h=m=>m?`${m.slice(0,6)}...${m.slice(-4)}`:"";return t?o.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-primary-50 rounded-xl p-4 border border-primary-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx($e,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"text-sm font-semibold text-primary-900",children:"Connected"}),a&&o.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-primary-200 text-primary-800 rounded-full",children:a})]}),o.jsx("p",{className:"text-xs text-primary-700 font-mono",children:h(t)}),i&&o.jsxs("p",{className:"text-xs text-primary-600",children:[parseFloat(i).toFixed(4)," ETH"]})]})]})}):o.jsxs("div",{className:"space-y-3",children:[c&&o.jsxs(R.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center space-x-2 text-red-600 text-sm bg-red-50 rounded-lg p-3",children:[o.jsx(De,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:c})]}),o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:r,className:"w-full flex items-center justify-center space-x-2 bg-primary-600 text-white rounded-xl py-3 px-4 font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[o.jsx(St,{className:"w-5 h-5"}),o.jsx("span",{children:r?"Connecting...":"Connect Wallet"})]}),o.jsx("p",{className:"text-xs text-carbon-500 text-center",children:"Connect your MetaMask wallet to get started"})]})}function OY({user:t,onClick:e}){const{notifications:r}=fY();if(!t||t.accountType!=="verifier")return null;const n=r.length;return o.jsxs("button",{onClick:e,className:"relative p-2 rounded-lg hover:bg-carbon-100 transition-colors",children:[o.jsx(sz,{className:"w-6 h-6 text-carbon-600"}),n>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n>9?"9+":n})]})}function IY({items:t=[],onNavigate:e,className:r=""}){return!t||t.length===0?null:o.jsx(R.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`flex items-center space-x-2 text-sm ${r}`,"aria-label":"Breadcrumb",children:o.jsx("ol",{className:"flex items-center space-x-2",children:t.map((n,i)=>{const s=i===t.length-1,a=i===0;return o.jsxs("li",{className:"flex items-center",children:[i>0&&o.jsx(GI,{className:"w-4 h-4 text-carbon-400 mx-2"}),s?o.jsxs("span",{className:"text-carbon-900 font-medium flex items-center",children:[a&&n.icon==="home"&&o.jsx(sd,{className:"w-4 h-4 mr-1"}),n.label]}):o.jsxs("button",{onClick:()=>e&&e(n.href),className:"text-carbon-600 hover:text-carbon-900 transition-colors flex items-center hover:underline",children:[a&&n.icon==="home"&&o.jsx(sd,{className:"w-4 h-4 mr-1"}),n.label]})]},n.href||i)})})})}const DY=(t,e)=>(()=>{const n=[{label:"Dashboard",href:"dashboard",icon:"home"}];switch(t){case"verifierDashboard":return[...n,{label:"Verifier Dashboard",href:"verifierDashboard"}];case"mintCredits":return e==="verifier"?[...n,{label:"Verifier Dashboard",href:"verifierDashboard"},{label:"Upload Documents",href:"mintCredits"}]:[...n,{label:"Upload Documents",href:"mintCredits"}];case"tokens":return[...n,{label:"My Tokens",href:"tokens"}];case"portfolio":return[...n,{label:"Portfolio",href:"portfolio"}];case"market":return[...n,{label:"Marketplace",href:"market"}];case"retire":return[...n,{label:"Retire Credits",href:"retire"}];case"analytics":return[...n,{label:"Analytics",href:"analytics"}];case"settings":return[...n,{label:"Settings",href:"settings"}];default:return n}})(),z4={HomeIcon:sd,PlusCircleIcon:ks,ShoppingBagIcon:Ei,ArrowRightOnRectangleIcon:WI,WalletIcon:St,ChartBarIcon:pn,ShieldCheckIcon:Yt};function RY({children:t,currentPage:e,onPageChange:r,walletAddress:n,onConnectWallet:i,user:s,onLogout:a}){var w,y;const[l,c]=p.useState(!1),{getRoleBasedNavigation:u,navigateWithAccessControl:d,handleRoleBasedRedirect:f,userRole:h}=$4(s),m=DY(e,h),g=u;p.useEffect(()=>{s&&e&&f(e,r)&&console.log(`User redirected from ${e} due to role restrictions`)},[e,s,f,r]);const x=v=>{d(v,r,(b,j)=>{console.warn(`Access denied to ${b} for role ${j}`)})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-carbon-50 via-white to-primary-50",children:[o.jsx(Ft,{mode:"wait",children:l&&o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden",children:[o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-carbon-900/80 backdrop-blur-sm",onClick:()=>c(!1)},"mobile-sidebar-backdrop"),o.jsxs(R.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-72 bg-white shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-carbon-200",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"🌱"})}),o.jsx("h1",{className:"text-xl font-bold gradient-text",children:"CBlock"})]}),o.jsx("button",{onClick:()=>c(!1),className:"p-2 rounded-lg hover:bg-carbon-100 transition-colors",children:o.jsx(nj,{className:"w-6 h-6 text-carbon-600"})})]}),o.jsx(MY,{navigation:g,currentPage:e,onPageChange:r,handleNavigation:x,onClose:()=>c(!1)})]},"mobile-sidebar-content")]},"mobile-sidebar")}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:w-72 lg:flex lg:flex-col",children:o.jsxs("div",{className:"flex flex-col flex-1 bg-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center px-6 py-6 border-b border-carbon-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"🌱"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"CBlock"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Carbon Marketplace"})]})]}),o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:g.map(v=>{const b=e===v.href;return o.jsxs(R.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>x(v.href),className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 group ${b?"bg-primary-50 text-primary-700 ring-1 ring-primary-200":"text-carbon-700 hover:bg-carbon-50 hover:text-carbon-900"}`,children:[Sd.createElement(z4[v.icon]||sd,{className:`w-6 h-6 mr-3 transition-colors ${b?"text-primary-600":"text-carbon-500 group-hover:text-carbon-700"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",children:v.name}),o.jsx("div",{className:"text-xs opacity-70",children:v.description})]})]},v.name)})}),o.jsxs("div",{className:"p-4 border-t border-carbon-200 space-y-3",children:[s&&o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-carbon-50 rounded-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:((w=s.name)==null?void 0:w.charAt(0).toUpperCase())||((y=s.email)==null?void 0:y.charAt(0).toUpperCase())})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-carbon-900 truncate",children:s.name||"User"}),o.jsx("p",{className:"text-xs text-carbon-600 truncate",children:s.email}),o.jsx(NY,{user:s})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>r("settings"),className:"p-1.5 text-carbon-400 hover:text-carbon-600 transition-colors",title:"Settings",children:o.jsx(Az,{className:"w-4 h-4"})}),o.jsx("button",{onClick:a,className:"p-1.5 text-carbon-400 hover:text-carbon-600 transition-colors",title:"Logout",children:o.jsx(WI,{className:"w-4 h-4"})})]})]}),o.jsx(TY,{address:n,onConnect:i})]})]})}),o.jsxs("div",{className:"lg:pl-72",children:[o.jsxs("div",{className:"sticky top-0 z-30 flex items-center justify-between px-4 py-3 bg-white/80 backdrop-blur-sm border-b border-carbon-200 lg:hidden",children:[o.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-lg hover:bg-carbon-100 transition-colors",children:o.jsx(nz,{className:"w-6 h-6 text-carbon-600"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:"🌱"})}),o.jsx("h1",{className:"text-lg font-bold gradient-text",children:"CBlock"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(OY,{user:s,onClick:()=>r("mint")}),o.jsx("div",{className:"w-2"})," "]})]}),o.jsxs("main",{className:"flex-1",children:[m.length>1&&o.jsx("div",{className:"bg-white border-b border-carbon-200 px-4 py-3 lg:px-8",children:o.jsx(IY,{items:m,onNavigate:x,className:"max-w-7xl mx-auto"})}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"min-h-screen",children:t},e)]})]})]})}function MY({navigation:t,currentPage:e,onPageChange:r,onClose:n,handleNavigation:i}){return o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:t.map(s=>{const a=e===s.href;return o.jsxs(R.button,{whileTap:{scale:.98},onClick:()=>{i(s.href),n()},className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${a?"bg-primary-50 text-primary-700 ring-1 ring-primary-200":"text-carbon-700 hover:bg-carbon-50 hover:text-carbon-900"}`,children:[Sd.createElement(z4[s.icon]||sd,{className:`w-6 h-6 mr-3 transition-colors ${a?"text-primary-600":"text-carbon-500"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",children:s.name}),o.jsx("div",{className:"text-xs opacity-70",children:s.description})]})]},s.name)})})}function LY({onShowAuth:t}){const e=[{icon:Yt,title:"Verified Credits",description:"All carbon credits are verified by accredited organizations with blockchain transparency"},{icon:ch,title:"Global Impact",description:"Connect with environmental projects worldwide and track your climate impact"},{icon:gn,title:"Secure Trading",description:"Trade carbon credits securely with smart contracts and instant settlements"},{icon:pn,title:"Real-time Analytics",description:"Monitor market trends, price movements, and your portfolio performance"}],r=[{number:"10M+",label:"CO₂ Tons Offset"},{number:"500+",label:"Verified Projects"},{number:"50K+",label:"Active Users"},{number:"99.9%",label:"Uptime"}],[n,i]=p.useState("hero");return p.useEffect(()=>{const s=()=>{const a=["hero","features","testimonials","pricing","cta"],l=window.scrollY+100;a.forEach(c=>{const u=document.getElementById(c);if(u){const{offsetTop:d,offsetHeight:f}=u;l>=d&&l<d+f&&i(c)}})};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-cyan-50 overflow-hidden",children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-6 bg-white/80 backdrop-blur-md border-b border-primary-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"🌱"})}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"CBlock"})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"hidden md:flex items-center space-x-8",children:[o.jsx("a",{href:"#features",className:"text-carbon-600 hover:text-primary-600 transition-colors",children:"Features"}),o.jsx("a",{href:"#testimonials",className:"text-carbon-600 hover:text-primary-600 transition-colors",children:"Testimonials"}),o.jsx("a",{href:"#pricing",className:"text-carbon-600 hover:text-primary-600 transition-colors",children:"Pricing"}),o.jsx("button",{onClick:()=>t("login"),className:"text-carbon-700 hover:text-primary-600 transition-colors font-medium",children:"Sign In"}),o.jsx("button",{onClick:()=>t("signup"),className:"btn-primary",children:"Get Started"})]})]})}),o.jsxs("section",{id:"hero",className:"relative pt-20",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-gradient-to-br from-primary-400/20 to-cyan-400/20 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-tr from-cyan-400/20 to-primary-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),o.jsx("div",{className:"absolute top-20 left-10 opacity-20",children:o.jsx(R.div,{animate:{y:[-10,10,-10],rotate:[0,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"text-6xl",children:"🌍"})}),o.jsx("div",{className:"absolute top-40 right-20 opacity-30",children:o.jsx(R.div,{animate:{y:[10,-10,10],rotate:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"text-4xl",children:"♻️"})}),o.jsx("div",{className:"absolute bottom-40 left-1/4 opacity-25",children:o.jsx(R.div,{animate:{y:[-15,15,-15],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2},className:"text-5xl",children:"🌿"})})]}),o.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-32",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{className:"text-center lg:text-left",children:[o.jsxs(R.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsx(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1},className:"inline-flex items-center px-4 py-2 mb-6 bg-gradient-to-r from-primary-500/10 to-cyan-500/10 border border-primary-200 rounded-full text-primary-700 text-sm font-medium",children:"🚀 Powered by Ethereum & IPFS"}),o.jsxs("h1",{className:"text-6xl lg:text-7xl font-bold text-carbon-900 leading-tight mb-6",children:["The Future of",o.jsx("span",{className:"gradient-text block",children:"Carbon Trading"})]}),o.jsx("p",{className:"text-xl lg:text-2xl text-carbon-600 mb-8 max-w-2xl leading-relaxed",children:"Trade verified carbon credits on the world's most transparent blockchain-powered marketplace. Make a real impact on climate change while building your sustainable portfolio."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center space-x-2 p-3 bg-white/50 rounded-lg backdrop-blur-sm",children:[o.jsx(wt,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Blockchain Verified"})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center space-x-2 p-3 bg-white/50 rounded-lg backdrop-blur-sm",children:[o.jsx(wt,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Zero Fees"})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex items-center space-x-2 p-3 bg-white/50 rounded-lg backdrop-blur-sm",children:[o.jsx(wt,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Global Impact"})]})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-12",children:[o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"btn-primary text-lg px-8 py-4 flex items-center justify-center group",children:["Start Trading",o.jsx(lh,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("/assets/CBlock.mp4","_blank"),className:"btn-secondary text-lg px-8 py-4 flex items-center justify-center group",children:[o.jsx(nH,{className:"w-5 h-5 mr-2"}),"Watch Demo"]})]}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((s,a)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-carbon-900",children:s.number}),o.jsx("div",{className:"text-sm text-carbon-600",children:s.label})]},a))})]}),o.jsx(R.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3},className:"relative",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm",children:"🌱"})}),o.jsx("span",{className:"font-semibold text-carbon-900",children:"Portfolio Overview"})]}),o.jsx("div",{className:"text-sm text-carbon-500",children:"Live"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-4 text-white",children:[o.jsx("div",{className:"text-2xl font-bold",children:"1,250"}),o.jsx("div",{className:"text-primary-100",children:"Credits Owned"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 to-cyan-600 rounded-lg p-4 text-white",children:[o.jsx("div",{className:"text-2xl font-bold",children:"$43,750"}),o.jsx("div",{className:"text-cyan-100",children:"Portfolio Value"})]})]}),o.jsx("div",{className:"h-20 bg-gradient-to-r from-primary-50 to-cyan-50 rounded-lg flex items-end justify-between p-3",children:[40,65,45,80,60,90,75].map((s,a)=>o.jsx("div",{className:"bg-gradient-to-t from-primary-500 to-cyan-500 rounded-sm w-4 transition-all duration-500 hover:scale-110",style:{height:`${s}%`}},a))})]}),o.jsx(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"absolute -top-6 -right-6 bg-white rounded-xl shadow-lg p-4 border border-primary-100",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Market Active"})]})}),o.jsx(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1},className:"absolute -bottom-6 -left-6 bg-white rounded-xl shadow-lg p-4 border border-cyan-100",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pH,{className:"w-4 h-4 text-cyan-500"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"2.4k Online"})]})})]})})]})})]}),o.jsxs("section",{id:"features",className:"py-24 bg-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-carbon-900 mb-4",children:"Why Choose CBlock?"}),o.jsx("p",{className:"text-xl text-carbon-600 max-w-3xl mx-auto",children:"Join thousands of organizations and individuals making a real difference in the fight against climate change."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((s,a)=>o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:a*.1,duration:.6},className:"text-center group",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx(s.icon,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-carbon-900 mb-3",children:s.title}),o.jsx("p",{className:"text-carbon-600",children:s.description})]},a))})]})]}),o.jsx("section",{id:"testimonials",className:"py-24 bg-gradient-to-br from-carbon-50 to-primary-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-carbon-900 mb-4",children:"Trusted by Climate Leaders"}),o.jsx("p",{className:"text-xl text-carbon-600 max-w-3xl mx-auto",children:"Join organizations making a measurable impact on global climate action."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{quote:"CBlock has revolutionized how we approach carbon offsetting. The transparency and verification process gives us complete confidence.",author:"Sarah Chen",role:"Sustainability Director",company:"TechCorp Global",avatar:"SC"},{quote:"The blockchain integration ensures every credit is authentic. We've offset 10,000+ tons through the platform with full traceability.",author:"Michael Rodriguez",role:"Environmental Manager",company:"Green Industries",avatar:"MR"},{quote:"Outstanding user experience and real impact. The marketplace makes carbon trading accessible and transparent for everyone.",author:"Dr. Emily Watson",role:"Climate Researcher",company:"Climate Institute",avatar:"EW"}].map((s,a)=>o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:a*.1,duration:.6},className:"bg-white p-6 rounded-2xl shadow-lg border border-carbon-200 hover:shadow-xl transition-shadow duration-300",children:[o.jsx("div",{className:"flex items-center mb-4",children:[1,2,3,4,5].map(l=>o.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l))}),o.jsxs("blockquote",{className:"text-carbon-700 mb-6 italic",children:['"',s.quote,'"']}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-white font-semibold",children:s.avatar})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-carbon-900",children:s.author}),o.jsx("div",{className:"text-sm text-carbon-600",children:s.role}),o.jsx("div",{className:"text-sm text-primary-600",children:s.company})]})]})]},a))})]})}),o.jsxs("section",{id:"pricing",className:"py-24 bg-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-carbon-900 mb-4",children:"Simple, Transparent Pricing"}),o.jsx("p",{className:"text-xl text-carbon-600 max-w-3xl mx-auto",children:"Choose the plan that fits your carbon trading needs. All plans include full access to our blockchain-powered marketplace."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.1,duration:.6},className:"bg-white border border-carbon-200 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 mb-2",children:"Explorer"}),o.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"Free"}),o.jsx("p",{className:"text-carbon-600",children:"Perfect for getting started"})]}),o.jsxs("ul",{className:"space-y-4 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Browse marketplace"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"View portfolio analytics"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Basic market insights"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Up to 10 transactions/month"})]})]}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"w-full btn-secondary",children:"Get Started Free"})]}),o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"bg-gradient-to-br from-primary-50 to-cyan-50 border-2 border-primary-200 rounded-2xl p-8 shadow-xl relative",children:[o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-gradient-to-r from-primary-500 to-cyan-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"Most Popular"})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 mb-2",children:"Professional"}),o.jsxs("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:["$29",o.jsx("span",{className:"text-lg text-carbon-600",children:"/month"})]}),o.jsx("p",{className:"text-carbon-600",children:"For active traders and organizations"})]}),o.jsxs("ul",{className:"space-y-4 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Unlimited transactions"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Advanced analytics & reporting"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Priority support"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"API access"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Custom integrations"})]})]}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"w-full btn-primary",children:"Start Pro Trial"})]}),o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"bg-white border border-carbon-200 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 mb-2",children:"Enterprise"}),o.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"Custom"}),o.jsx("p",{className:"text-carbon-600",children:"Tailored solutions for large organizations"})]}),o.jsxs("ul",{className:"space-y-4 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Everything in Professional"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Dedicated account manager"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Custom reporting & dashboards"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"White-label solutions"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"SLA guarantees"})]})]}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"w-full btn-secondary",children:"Contact Sales"})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mt-16 max-w-3xl mx-auto",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 text-center mb-8",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-carbon-900 mb-2",children:"Are there any hidden fees?"}),o.jsx("p",{className:"text-carbon-600",children:"No hidden fees. All pricing is transparent, and transaction fees are clearly displayed before any trade."})]}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-carbon-900 mb-2",children:"Can I change plans anytime?"}),o.jsx("p",{className:"text-carbon-600",children:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately."})]}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-carbon-900 mb-2",children:"Is there a free trial?"}),o.jsx("p",{className:"text-carbon-600",children:"Yes, all paid plans come with a 14-day free trial. No credit card required to start."})]})]})]})]})]}),o.jsxs("section",{id:"cta",className:"py-24 bg-gradient-to-r from-primary-600 to-cyan-600 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white/10 rounded-full blur-xl animate-pulse delay-1000"})]}),o.jsx("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:o.jsxs(R.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Ready to Make an Impact?"}),o.jsx("p",{className:"text-2xl text-primary-100 mb-12 leading-relaxed",children:"Join the carbon credit revolution and start trading verified environmental assets today."}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"50K+"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"Active Users"})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"10M+"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"CO₂ Offset"})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"500+"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"Projects"})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.5},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"99.9%"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"Uptime"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(R.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>t("signup"),className:"bg-white text-primary-600 px-10 py-5 rounded-xl font-bold text-lg hover:bg-primary-50 transition-all duration-300 flex items-center justify-center shadow-2xl",children:["Create Account",o.jsx(lh,{className:"w-5 h-5 ml-2"})]}),o.jsx(R.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>t("login"),className:"border-2 border-white text-white px-10 py-5 rounded-xl font-bold text-lg hover:bg-white hover:text-primary-600 transition-all duration-300 shadow-2xl",children:"Sign In"})]}),o.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 opacity-80",children:[o.jsxs("div",{className:"text-primary-100 text-sm flex items-center",children:[o.jsx(Yt,{className:"w-5 h-5 mr-2"}),"Enterprise Security"]}),o.jsxs("div",{className:"text-primary-100 text-sm flex items-center",children:[o.jsx(ch,{className:"w-5 h-5 mr-2"}),"Global Compliance"]}),o.jsxs("div",{className:"text-primary-100 text-sm flex items-center",children:[o.jsx(wt,{className:"w-5 h-5 mr-2"}),"ISO Certified"]})]})]})})]})]})}function _Y({onShowAuth:t,onLogin:e}){const[r,n]=p.useState({email:"",password:"",rememberMe:!1}),[i,s]=p.useState(!1),[a,l]=p.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const f=await ne.login(r.email,r.password);ne.saveSession(),X.success(`Welcome back, ${f.firstName}! Redirecting to dashboard...`),setTimeout(()=>{var h;e({email:f.email,name:`${f.firstName} ${f.lastName}`,firstName:f.firstName,lastName:f.lastName,organization:f.organization,accountType:f.accountType,walletAddress:f.walletAddress,avatar:((h=f.profile)==null?void 0:h.avatar)||null,id:f.id})},1e3)}catch(f){X.error(f.message||"Login failed. Please try again.")}finally{l(!1)}},u=d=>{const{name:f,value:h,type:m,checked:g}=d.target;n(x=>({...x,[f]:m==="checkbox"?g:h}))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-cyan-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[o.jsx(R.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"hidden lg:block",children:o.jsxs("div",{className:"max-w-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"🌱"})}),o.jsx("span",{className:"text-3xl font-bold gradient-text",children:"CBlock"})]}),o.jsxs("h1",{className:"text-4xl font-bold text-carbon-900 mb-6",children:["Welcome back to the future of",o.jsx("span",{className:"gradient-text block",children:"carbon trading"})]}),o.jsx("p",{className:"text-lg text-carbon-600 mb-8",children:"Continue your journey in sustainable investing and make a real impact on climate change."}),o.jsx("div",{className:"space-y-4",children:["Access your carbon credit portfolio","Monitor real-time market data","Trade with verified environmental projects","Track your climate impact"].map((d,f)=>o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+f*.1},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center",children:o.jsx(wt,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-carbon-700",children:d})]},f))})]})}),o.jsx(R.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-carbon-100",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-carbon-900",children:"Sign In"}),o.jsx("button",{onClick:()=>t("welcome"),className:"p-2 hover:bg-carbon-100 rounded-lg transition-colors",children:o.jsx(HI,{className:"w-5 h-5 text-carbon-600"})})]}),o.jsxs("p",{className:"text-carbon-600",children:["New to CBlock?"," ",o.jsx("button",{onClick:()=>t("signup"),className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Create an account"})]})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,className:"input-field pl-10",placeholder:"john@example.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:u,className:"input-field pl-10 pr-10",placeholder:"Enter your password",required:!0}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:i?o.jsx(k0,{className:"w-5 h-5"}):o.jsx(oo,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"rememberMe",checked:r.rememberMe,onChange:u,className:"w-4 h-4 text-primary-600 border-carbon-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"ml-2 text-sm text-carbon-700",children:"Remember me"})]}),o.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})]}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"w-full btn-primary py-3 text-lg relative",children:a?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing In..."]}):"Sign In"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-carbon-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-carbon-500",children:"Or continue with"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",className:"flex items-center justify-center px-4 py-3 border border-carbon-300 rounded-lg hover:bg-carbon-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})})]}),o.jsx("div",{className:"mt-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:o.jsxs("p",{className:"text-sm text-primary-700",children:[o.jsx("strong",{children:"Demo Mode:"})," Use any email and password to sign in."]})})]})})]})})}function BY({onShowAuth:t,onLogin:e}){var x,w;const[r,n]=p.useState({firstName:"",lastName:"",email:"",organization:"",accountType:"individual",password:"",confirmPassword:"",acceptTerms:!1,newsletter:!0,walletAddress:""}),[i,s]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=async()=>{try{const y=await ce.connectWallet();n(v=>({...v,walletAddress:y.address})),f(!0),X.success("🦊 Wallet connected successfully!")}catch(y){X.error(y.message||"Failed to connect wallet. Please try again.")}},m=async y=>{y.preventDefault(),u(!0);try{if(!r.acceptTerms){X.error("Please accept the terms and conditions"),u(!1);return}const v=await ne.register({firstName:r.firstName,lastName:r.lastName,email:r.email,password:r.password,confirmPassword:r.confirmPassword,organization:r.organization,accountType:r.accountType,walletAddress:r.walletAddress}),b=await ne.login(r.email,r.password);ne.saveSession(),X.success(`🎉 Account created successfully! Welcome to CBlock, ${v.firstName}!`),setTimeout(()=>{var j;e({email:b.email,name:`${b.firstName} ${b.lastName}`,firstName:b.firstName,lastName:b.lastName,organization:b.organization,accountType:b.accountType,walletAddress:b.walletAddress,avatar:((j=b.profile)==null?void 0:j.avatar)||null,id:b.id})},1e3)}catch(v){X.error(v.message||"Registration failed. Please try again.")}finally{u(!1)}},g=y=>{const{name:v,value:b,type:j,checked:A}=y.target;n(S=>({...S,[v]:j==="checkbox"?A:b}))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-cyan-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[o.jsx(R.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"hidden lg:block",children:o.jsxs("div",{className:"max-w-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"🌱"})}),o.jsx("span",{className:"text-3xl font-bold gradient-text",children:"CBlock"})]}),o.jsxs("h1",{className:"text-4xl font-bold text-carbon-900 mb-6",children:["Join the",o.jsx("span",{className:"gradient-text block",children:"carbon revolution"})]}),o.jsx("p",{className:"text-lg text-carbon-600 mb-8",children:"Create your account and start making a positive impact on climate change through verified carbon credit trading."}),o.jsx("div",{className:"space-y-4",children:["Trade verified carbon credits globally","Access real-time market analytics","Connect with environmental projects","Track your climate impact dashboard","Join a community of climate action leaders"].map((y,v)=>o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+v*.1},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center",children:o.jsx(wt,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-carbon-700",children:y})]},v))})]})}),o.jsx(R.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-carbon-100",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-carbon-900",children:"Create Account"}),o.jsx("button",{onClick:()=>t("welcome"),className:"p-2 hover:bg-carbon-100 rounded-lg transition-colors",children:o.jsx(HI,{className:"w-5 h-5 text-carbon-600"})})]}),o.jsxs("p",{className:"text-carbon-600",children:["Already have an account?"," ",o.jsx("button",{onClick:()=>t("login"),className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Sign in"})]})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-4",children:"Account Type"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{type:"individual",title:"Individual",description:"Personal offsetting",icon:"👤"},{type:"business",title:"Business",description:"Corporate sustainability",icon:"🏢"},{type:"verifier",title:"Verifier",description:"Gold Standard certified",icon:"✅"}].map(y=>o.jsxs("button",{type:"button",onClick:()=>n(v=>({...v,accountType:y.type})),className:`p-3 rounded-lg border-2 text-left transition-all duration-200 ${r.accountType===y.type?"border-primary-500 bg-primary-50 text-primary-700":"border-carbon-200 hover:border-primary-300 hover:bg-primary-50/50"}`,children:[o.jsx("div",{className:"text-xl mb-1",children:y.icon}),o.jsx("div",{className:"text-sm font-semibold text-carbon-900",children:y.title}),o.jsx("div",{className:"text-xs text-carbon-600",children:y.description})]},y.type))})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:g,className:"input-field pl-10",placeholder:"John",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Last Name"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:g,className:"input-field",placeholder:"Doe",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Lz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:g,className:"input-field pl-10",placeholder:"john@example.com",required:!0})]})]}),(r.accountType==="business"||r.accountType==="verifier")&&o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"organization",className:"block text-sm font-semibold text-carbon-700 mb-2",children:["Organization Name ",r.accountType==="verifier"?"(Required)":"(Optional)"]}),o.jsxs("div",{className:"relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"text",id:"organization",name:"organization",value:r.organization,onChange:g,className:"input-field pl-10",placeholder:"Your company or organization",required:r.accountType==="verifier"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:g,className:"input-field pl-10 pr-10",placeholder:"Create password",required:!0}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:i?o.jsx(k0,{className:"w-5 h-5"}):o.jsx(oo,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:"input-field pl-10 pr-10",placeholder:"Confirm password",required:!0}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:a?o.jsx(k0,{className:"w-5 h-5"}):o.jsx(oo,{className:"w-5 h-5"})})]})]})]}),o.jsxs("div",{className:"border-t border-carbon-200 pt-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"🦊 Connect Wallet"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Connect your Ethereum wallet to trade carbon credits on the blockchain."})]}),d?o.jsxs("div",{className:"flex items-center p-4 bg-green-50 border border-green-200 rounded-lg mb-4",children:[o.jsx(wt,{className:"w-6 h-6 text-green-600 mr-3"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-green-900",children:"Wallet Connected ✅"}),o.jsxs("div",{className:"text-sm text-green-700 font-mono",children:[(x=r.walletAddress)==null?void 0:x.slice(0,6),"...",(w=r.walletAddress)==null?void 0:w.slice(-4)]})]})]}):o.jsxs(R.button,{type:"button",onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn-secondary flex items-center justify-center py-3 mb-4",children:[o.jsx("div",{className:"w-6 h-6 mr-3",children:o.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full",children:[o.jsx("path",{fill:"#E17726",d:"M37.3 6.4L22.8 1.7c-.9-.3-1.8-.3-2.6 0L5.7 6.4c-1.4.5-2.3 1.8-2.3 3.3v20.6c0 1.5.9 2.8 2.3 3.3l14.5 4.7c.4.1.9.2 1.3.2s.9-.1 1.3-.2l14.5-4.7c1.4-.5 2.3-1.8 2.3-3.3V9.7c0-1.5-.9-2.8-2.3-3.3z"}),o.jsx("path",{fill:"#E27625",d:"M22.8 1.7L37.3 6.4c1.4.5 2.3 1.8 2.3 3.3v20.6c0 1.5-.9 2.8-2.3 3.3L22.8 38.3c-.4.1-.9.2-1.3.2V1.5c.5 0 .9.1 1.3.2z"})]})}),"Connect MetaMask Wallet"]}),o.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-white text-xs",children:"ℹ"})}),o.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Blockchain Features"})]}),o.jsxs("ul",{className:"text-sm text-primary-600 space-y-1",children:[o.jsx("li",{children:"• Trade verified carbon credits on Ethereum Sepolia testnet"}),o.jsx("li",{children:"• Generate immutable retirement certificates"}),o.jsx("li",{children:"• Access to exclusive marketplace features"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",name:"acceptTerms",checked:r.acceptTerms,onChange:g,className:"w-4 h-4 text-primary-600 border-carbon-300 rounded focus:ring-primary-500 mt-1",required:!0}),o.jsxs("span",{className:"text-sm text-carbon-700",children:["I agree to the"," ",o.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Privacy Policy"})]})]}),o.jsxs("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",name:"newsletter",checked:r.newsletter,onChange:g,className:"w-4 h-4 text-primary-600 border-carbon-300 rounded focus:ring-primary-500 mt-1"}),o.jsx("span",{className:"text-sm text-carbon-700",children:"Send me updates about new features and market insights"})]})]}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,className:"w-full btn-primary py-3 text-lg relative",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Account..."]}):"Create Account"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-carbon-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-carbon-500",children:"Or sign up with"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",className:"flex items-center justify-center px-4 py-3 border border-carbon-300 rounded-lg hover:bg-carbon-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})})]}),o.jsx("div",{className:"mt-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:o.jsxs("p",{className:"text-sm text-primary-700",children:[o.jsx("strong",{children:"Demo Mode:"})," Fill in the form with any information to create a demo account."]})})]})})]})})}function H4(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=H4(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=H4(t))&&(n&&(n+=" "),n+=e);return n}var by={},W4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(W4);var Aj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Aj);var Ej={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(Ej);var wy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}t.toPath=e})(wy);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W4,r=Aj,n=Ej,i=wy;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}t.get=s})(by);var FY=by.get;const fo=rs(FY);var G4={exports:{}},Ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj=Symbol.for("react.transitional.element"),kj=Symbol.for("react.portal"),jy=Symbol.for("react.fragment"),Ny=Symbol.for("react.strict_mode"),Ay=Symbol.for("react.profiler"),Ey=Symbol.for("react.consumer"),Sy=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Ty=Symbol.for("react.memo"),Oy=Symbol.for("react.lazy"),UY=Symbol.for("react.view_transition"),$Y=Symbol.for("react.client.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Sj:switch(t=t.type,t){case jy:case Ay:case Ny:case Cy:case Py:case UY:return t;default:switch(t=t&&t.$$typeof,t){case Sy:case ky:case Oy:case Ty:return t;case Ey:return t;default:return e}}case kj:return e}}}Ke.ContextConsumer=Ey;Ke.ContextProvider=Sy;Ke.Element=Sj;Ke.ForwardRef=ky;Ke.Fragment=jy;Ke.Lazy=Oy;Ke.Memo=Ty;Ke.Portal=kj;Ke.Profiler=Ay;Ke.StrictMode=Ny;Ke.Suspense=Cy;Ke.SuspenseList=Py;Ke.isContextConsumer=function(t){return Zn(t)===Ey};Ke.isContextProvider=function(t){return Zn(t)===Sy};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sj};Ke.isForwardRef=function(t){return Zn(t)===ky};Ke.isFragment=function(t){return Zn(t)===jy};Ke.isLazy=function(t){return Zn(t)===Oy};Ke.isMemo=function(t){return Zn(t)===Ty};Ke.isPortal=function(t){return Zn(t)===kj};Ke.isProfiler=function(t){return Zn(t)===Ay};Ke.isStrictMode=function(t){return Zn(t)===Ny};Ke.isSuspense=function(t){return Zn(t)===Cy};Ke.isSuspenseList=function(t){return Zn(t)===Py};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jy||t===Ay||t===Ny||t===Cy||t===Py||typeof t=="object"&&t!==null&&(t.$$typeof===Oy||t.$$typeof===Ty||t.$$typeof===Sy||t.$$typeof===Ey||t.$$typeof===ky||t.$$typeof===$Y||t.getModuleId!==void 0)};Ke.typeOf=Zn;G4.exports=Ke;var VY=G4.exports,Jt=t=>t===0?0:t>0?1:-1,bn=t=>typeof t=="number"&&t!=+t,il=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ie=t=>(typeof t=="number"||t instanceof Number)&&!bn(t),es=t=>ie(t)||typeof t=="string",zY=0,Nh=t=>{var e=++zY;return"".concat(t||"").concat(e)},Mr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&typeof e!="string")return n;var s;if(il(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return bn(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},K4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},uC=(t,e)=>ie(t)&&ie(e)?r=>t+r*(e-t):()=>e;function gi(t,e,r){return ie(t)&&ie(e)?t+r*(e-t):e}function Q4(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):fo(n,e))===r)}var rt=t=>t===null||typeof t>"u",cm=t=>rt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),HY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Cj(t){if(typeof t!="string")return!1;var e=HY;return e.includes(t)}var WY=["viewBox","children"],dC=["points","pathLength"],Ev={svg:WY,polygon:dC,polyline:dC},Pj=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(p.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Cj(i)&&(n[i]=s=>r[i](r,s))}),n},GY=(t,e,r)=>n=>(t(e,r,n),null),Iy=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];Cj(i)&&typeof s=="function"&&(n||(n={}),n[i]=GY(s,e,r))}),n},KY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Y4(t){if(typeof t!="string")return!1;var e=KY;return e.includes(t)}function Zs(t){var e=Object.entries(t).filter(r=>{var[n]=r;return Y4(n)});return Object.fromEntries(e)}var fC=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",hC=null,Sv=null,q4=t=>{if(t===hC&&Array.isArray(Sv))return Sv;var e=[];return p.Children.forEach(t,r=>{rt(r)||(VY.isFragment(r)?e=e.concat(q4(r.props.children)):e.push(r))}),Sv=e,hC=t,e};function um(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>fC(i)):n=[fC(e)],q4(t).forEach(i=>{var s=fo(i,"type.displayName")||fo(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var J4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,QY=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(Ev==null?void 0:Ev[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),l=typeof t!="function"&&(!!n&&s.includes(e)||Y4(e)),c=!!r&&Cj(e);return a||l||c},ot=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;QY((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},YY=["children","width","height","viewBox","className","style","title","desc"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kw.apply(null,arguments)}function qY(t,e){if(t==null)return{};var r,n,i=JY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var X4=p.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=t,d=qY(t,YY),f=s||{width:n,height:i,x:0,y:0},h=_e("recharts-surface",a);return p.createElement("svg",Kw({},ot(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),XY=["children","className"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qw.apply(null,arguments)}function ZY(t,e){if(t==null)return{};var r,n,i=eq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var wr=p.forwardRef((t,e)=>{var{children:r,className:n}=t,i=ZY(t,XY),s=_e("recharts-layer",n);return p.createElement("g",Qw({className:s},ot(i,!0),{ref:e}),r)}),tq=p.createContext(null);function Ye(t){return function(){return t}}const Z4=Math.cos,z0=Math.sin,Ci=Math.sqrt,H0=Math.PI,Dy=2*H0,Yw=Math.PI,qw=2*Yw,Uo=1e-6,rq=qw-Uo;function eD(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function nq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return eD;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class iq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?eD:nq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-e,u=i-r,d=a-e,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Uo)if(!(Math.abs(f*c-u*d)>Uo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-a,g=i-l,x=c*c+u*u,w=m*m+g*g,y=Math.sqrt(x),v=Math.sqrt(h),b=s*Math.tan((Yw-Math.acos((x+h-w)/(2*y*v)))/2),j=b/v,A=b/y;Math.abs(j-1)>Uo&&this._append`L${e+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=e+A*c},${this._y1=r+A*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Uo||Math.abs(this._y1-d)>Uo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%qw+qw),h>rq?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Uo&&this._append`A${n},${n},0,${+(h>=Yw)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Tj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new iq(e)}function Oj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tD(t){this._context=t}tD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ry(t){return new tD(t)}function rD(t){return t[0]}function nD(t){return t[1]}function iD(t,e){var r=Ye(!0),n=null,i=Ry,s=null,a=Tj(l);t=typeof t=="function"?t:t===void 0?rD:Ye(t),e=typeof e=="function"?e:e===void 0?nD:Ye(e);function l(c){var u,d=(c=Oj(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ye(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ye(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ye(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function ip(t,e,r){var n=null,i=Ye(!0),s=null,a=Ry,l=null,c=Tj(u);t=typeof t=="function"?t:t===void 0?rD:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?nD:Ye(+r);function u(f){var h,m,g,x=(f=Oj(f)).length,w,y=!1,v,b=new Array(x),j=new Array(x);for(s==null&&(l=a(v=c())),h=0;h<=x;++h){if(!(h<x&&i(w=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}y&&(b[h]=+t(w,h,f),j[h]=+e(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return iD().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ye(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ye(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ye(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class sD{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function sq(t){return new sD(t,!0)}function aq(t){return new sD(t,!1)}const Ij={draw(t,e){const r=Ci(e/H0);t.moveTo(r,0),t.arc(0,0,r,0,Dy)}},oq={draw(t,e){const r=Ci(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},aD=Ci(1/3),lq=aD*2,cq={draw(t,e){const r=Ci(e/lq),n=r*aD;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},uq={draw(t,e){const r=Ci(e),n=-r/2;t.rect(n,n,r,r)}},dq=.8908130915292852,oD=z0(H0/10)/z0(7*H0/10),fq=z0(Dy/10)*oD,hq=-Z4(Dy/10)*oD,mq={draw(t,e){const r=Ci(e*dq),n=fq*r,i=hq*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Dy*s/5,l=Z4(a),c=z0(a);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},kv=Ci(3),pq={draw(t,e){const r=-Ci(e/(kv*3));t.moveTo(0,r*2),t.lineTo(-kv*r,-r),t.lineTo(kv*r,-r),t.closePath()}},On=-.5,In=Ci(3)/2,Jw=1/Ci(12),gq=(Jw/2+1)*3,yq={draw(t,e){const r=Ci(e/gq),n=r/2,i=r*Jw,s=n,a=r*Jw+r,l=-s,c=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(On*n-In*i,In*n+On*i),t.lineTo(On*s-In*a,In*s+On*a),t.lineTo(On*l-In*c,In*l+On*c),t.lineTo(On*n+In*i,On*i-In*n),t.lineTo(On*s+In*a,On*a-In*s),t.lineTo(On*l+In*c,On*c-In*l),t.closePath()}};function xq(t,e){let r=null,n=Tj(i);t=typeof t=="function"?t:Ye(t||Ij),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ye(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ye(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function W0(){}function G0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function lD(t){this._context=t}lD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:G0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:G0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vq(t){return new lD(t)}function cD(t){this._context=t}cD.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:G0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bq(t){return new cD(t)}function uD(t){this._context=t}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:G0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wq(t){return new uD(t)}function dD(t){this._context=t}dD.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jq(t){return new dD(t)}function mC(t){return t<0?-1:1}function pC(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(mC(s)+mC(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function gC(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Cv(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,a-l*r,s,a)}function K0(t){this._context=t}K0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cv(this,this._t0,gC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cv(this,gC(this,r=pC(this,t,e)),r);break;default:Cv(this,this._t0,r=pC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function fD(t){this._context=new hD(t)}(fD.prototype=Object.create(K0.prototype)).point=function(t,e){K0.prototype.point.call(this,e,t)};function hD(t){this._context=t}hD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Nq(t){return new K0(t)}function Aq(t){return new fD(t)}function mD(t){this._context=t}mD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=yC(t),i=yC(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yC(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Eq(t){return new mD(t)}function My(t,e){this._context=t,this._t=e}My.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Sq(t){return new My(t,.5)}function kq(t){return new My(t,0)}function Cq(t){return new My(t,1)}function gd(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,l=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xw(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Pq(t,e){return t[e]}function Tq(t){const e=[];return e.key=t,e}function Oq(){var t=Ye([]),e=Xw,r=gd,n=Pq;function i(s){var a=Array.from(t.apply(this,arguments),Tq),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Oj(e(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ye(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ye(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Xw:typeof s=="function"?s:Ye(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??gd,i):r},i}function Iq(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}gd(t,e)}}function Dq(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=t[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}gd(t,e)}}function Rq(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var x=t[e[g]],w=x[n][1]||0,y=x[n-1][1]||0;m+=w-y}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,gd(t,e)}}var Mq=["type","size","sizeType"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zw.apply(null,arguments)}function xC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xC(Object(r),!0).forEach(function(n){Lq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lq(t,e,r){return(e=_q(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _q(t){var e=Bq(t,"string");return typeof e=="symbol"?e:e+""}function Bq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fq(t,e){if(t==null)return{};var r,n,i=Uq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Uq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pD={symbolCircle:Ij,symbolCross:oq,symbolDiamond:cq,symbolSquare:uq,symbolStar:mq,symbolTriangle:pq,symbolWye:yq},$q=Math.PI/180,Vq=t=>{var e="symbol".concat(cm(t));return pD[e]||Ij},zq=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*$q;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Hq=(t,e)=>{pD["symbol".concat(cm(t))]=e},gD=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Fq(t,Mq),s=vC(vC({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var f=Vq(e),h=xq().type(f).size(zq(r,n,e));return h()},{className:l,cx:c,cy:u}=s,d=ot(s,!0);return c===+c&&u===+u&&r===+r?p.createElement("path",Zw({},d,{className:_e("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};gD.registerSymbol=Hq;var yD={},xD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(xD);var Dj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Dj);var vD={},Ly={},bD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(bD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bD;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Ly);var wD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(wD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ly,r=wD;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(vD);var jD={},ND={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=by;function r(n){return function(i){return e.get(i,n)}}t.property=r})(ND);var AD={},Pv={},Tv={},Rj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Rj);var Mj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Mj);var _y={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(_y);var bC;function Wq(){return bC||(bC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lj(),r=Rj,n=Mj,i=_y;function s(f,h,m){return typeof m!="function"?e.isMatch(f,h):a(f,h,function g(x,w,y,v,b,j){const A=m(x,w,y,v,b,j);return A!==void 0?!!A:a(x,w,g,j)},new Map)}function a(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,g);case"function":return Object.keys(h).length>0?a(f,{...h},m,g):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let w=0;w<x.length;w++){const y=x[w];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const y=f.get(x);if(m(y,w,x,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const y=h[w];let v=!1;for(let b=0;b<f.length;b++){if(x.has(b))continue;const j=f[b];let A=!1;if(m(j,y,w,f,h,g)&&(A=!0),A){x.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}t.isMatchWith=s,t.isSetMatch=d}(Tv)),Tv}var wC;function Lj(){return wC||(wC=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Wq();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(Pv)),Pv}var ED={},_j={},Bj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Bj);var By={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(By);var Fy={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",w="[object Uint8Array]",y="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",A="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",P="[object Float32Array]",I="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=h,t.arrayTag=d,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=x,t.dateTag=l,t.errorTag=g,t.float32ArrayTag=P,t.float64ArrayTag=I,t.functionTag=f,t.int16ArrayTag=S,t.int32ArrayTag=C,t.int8ArrayTag=A,t.mapTag=c,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=v,t.uint32ArrayTag=b,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=y})(Fy);var SD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(SD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bj,r=By,n=Fy,i=Mj,s=SD;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const x=g==null?void 0:g(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let y=0;y<d.length;y++)w[y]=l(d[y],y,h,m,g);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[y,v]of d)w.set(y,l(v,y,h,m,g));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const y of d)w.add(l(y,void 0,h,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let y=0;y<d.length;y++)w[y]=l(d[y],y,h,m,g);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,g),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,g),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,g),w}return d}function c(d,f,h=d,m,g){const x=[...Object.keys(f),...e.getSymbols(f)];for(let w=0;w<x.length;w++){const y=x[w],v=Object.getOwnPropertyDescriptor(d,y);(v==null||v.writable)&&(d[y]=l(f[y],y,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(_j);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_j;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(ED);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lj(),r=ED;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(AD);var kD={},CD={},PD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_j,r=Fy;function n(i,s){return e.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case r.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(PD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PD;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(CD);var TD={},Fj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(Fj);var OD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=By;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(OD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aj,r=Fj,n=OD,i=wy;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=s})(TD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lj(),r=Ej,n=CD,i=by,s=TD;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=a})(kD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dj,r=ND,n=AD,i=kD;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(jD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xD,r=Dj,n=vD,i=jD;function s(a,l=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(yD);var Gq=yD.uniqBy;const jC=rs(Gq);function Kq(t,e,r){return e===!0?jC(t,r):typeof e=="function"?jC(t,e):t}var ID={exports:{}},DD={},RD={exports:{}},MD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=p;function Qq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yq=typeof Object.is=="function"?Object.is:Qq,qq=yd.useState,Jq=yd.useEffect,Xq=yd.useLayoutEffect,Zq=yd.useDebugValue;function eJ(t,e){var r=e(),n=qq({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return Xq(function(){i.value=r,i.getSnapshot=e,Ov(i)&&s({inst:i})},[t,r,e]),Jq(function(){return Ov(i)&&s({inst:i}),t(function(){Ov(i)&&s({inst:i})})},[t]),Zq(r),r}function Ov(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yq(t,r)}catch{return!0}}function tJ(t,e){return e()}var rJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tJ:eJ;MD.useSyncExternalStore=yd.useSyncExternalStore!==void 0?yd.useSyncExternalStore:rJ;RD.exports=MD;var nJ=RD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=p,iJ=nJ;function sJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aJ=typeof Object.is=="function"?Object.is:sJ,oJ=iJ.useSyncExternalStore,lJ=Uy.useRef,cJ=Uy.useEffect,uJ=Uy.useMemo,dJ=Uy.useDebugValue;DD.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=lJ(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=uJ(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,aJ(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var l=oJ(t,s[0],s[1]);return cJ(function(){a.hasValue=!0,a.value=l},[l]),dJ(l),l};ID.exports=DD;var fJ=ID.exports,Uj=p.createContext(null),hJ=t=>t,kt=()=>{var t=p.useContext(Uj);return t?t.store.dispatch:hJ},Gp=()=>{},mJ=()=>Gp,pJ=(t,e)=>t===e;function fe(t){var e=p.useContext(Uj);return fJ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:mJ,e?e.store.getState:Gp,e?e.store.getState:Gp,e?t:Gp,pJ)}function gJ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yJ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function xJ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var NC=t=>Array.isArray(t)?t:[t];function vJ(t){const e=Array.isArray(t[0])?t[0]:t;return xJ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function bJ(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var wJ=class{constructor(t){this.value=t}deref(){return this.value}},jJ=typeof WeakRef<"u"?WeakRef:wJ,NJ=0,AC=1;function sp(){return{s:NJ,v:void 0,o:null,p:null}}function LD(t,e={}){let r=sp();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=sp(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=sp(),x.set(g,l)):l=w}}const u=l;let d;if(l.s===AC)d=l.v;else if(d=t.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new jJ(d):d}return u.s=AC,u.v=d,d}return a.clearCache=()=>{r=sp(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function AJ(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),gJ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=LD,argsMemoizeOptions:g=[]}=d,x=NC(h),w=NC(g),y=vJ(i),v=f(function(){return s++,u.apply(null,arguments)},...x),b=m(function(){a++;const A=bJ(y,arguments);return l=v.apply(null,A),l},...w);return Object.assign(b,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var $=AJ(LD),EJ=Object.assign((t,e=$)=>{yJ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>EJ}),_D={},BD={},FD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),l=e(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=r})(FD);var UD={},$j={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})($j);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$j,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(UD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FD,r=UD,n=wy;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let x=m;for(let w=0;w<g.length&&x!=null;++w)x=x[g[w]];return x},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let x=0;x<f.length;x++){const w=e.compareValues(m.criteria[x],g.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}t.orderBy=i})(BD);var $D={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}t.flatten=e})($D);var Vj={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fj,r=Ly,n=Rj,i=_y;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=s})(Vj);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BD,r=$D,n=Vj;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(_D);var SJ=_D.sortBy;const $y=rs(SJ);var VD=t=>t.legend.settings,kJ=t=>t.legend.size,CJ=t=>t.legend.payload;$([CJ,VD],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?$y(n,r):n});var ap=1;function PJ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ap||Math.abs(a.left-e.left)>ap||Math.abs(a.top-e.top)>ap||Math.abs(a.width-e.width)>ap)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function tr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var TJ=typeof Symbol=="function"&&Symbol.observable||"@@observable",EC=TJ,Iv=()=>Math.random().toString(36).substring(7).split("").join("."),OJ={INIT:`@@redux/INIT${Iv()}`,REPLACE:`@@redux/REPLACE${Iv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Iv()}`},Q0=OJ;function zj(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function zD(t,e,r){if(typeof t!="function")throw new Error(tr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(tr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(tr(1));return r(zD)(t,e)}let n=t,i=e,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,y)=>{a.set(y,w)}))}function d(){if(c)throw new Error(tr(3));return i}function f(w){if(typeof w!="function")throw new Error(tr(4));if(c)throw new Error(tr(5));let y=!0;u();const v=l++;return a.set(v,w),function(){if(y){if(c)throw new Error(tr(6));y=!1,u(),a.delete(v),s=null}}}function h(w){if(!zj(w))throw new Error(tr(7));if(typeof w.type>"u")throw new Error(tr(8));if(typeof w.type!="string")throw new Error(tr(17));if(c)throw new Error(tr(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(tr(10));n=w,h({type:Q0.REPLACE})}function g(){const w=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(tr(11));function v(){const j=y;j.next&&j.next(d())}return v(),{unsubscribe:w(v)}},[EC](){return this}}}return h({type:Q0.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[EC]:g}}function IJ(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Q0.INIT})>"u")throw new Error(tr(12));if(typeof r(void 0,{type:Q0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(tr(13))})}function HD(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{IJ(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(tr(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Y0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function DJ(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(tr(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(a));return s=Y0(...l)(i.dispatch),{...i,dispatch:s}}}function WD(t){return zj(t)&&"type"in t&&typeof t.type=="string"}var GD=Symbol.for("immer-nothing"),SC=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function vi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function ql(t){return!!t&&!!t[wn]}function Gs(t){var e;return t?KD(t)||Array.isArray(t)||!!t[SC]||!!((e=t.constructor)!=null&&e[SC])||zy(t)||Hy(t):!1}var RJ=Object.prototype.constructor.toString();function KD(t){if(!t||typeof t!="object")return!1;const e=xd(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===RJ}function q0(t,e){Vy(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function Vy(t){const e=t[wn];return e?e.type_:Array.isArray(t)?1:zy(t)?2:Hy(t)?3:0}function e1(t,e){return Vy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function QD(t,e,r){const n=Vy(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function MJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function zy(t){return t instanceof Map}function Hy(t){return t instanceof Set}function $o(t){return t.copy_||t.base_}function t1(t,e){if(zy(t))return new Map(t);if(Hy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=KD(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[wn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(xd(t),n)}else{const n=xd(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Hj(t,e=!1){return Wy(t)||ql(t)||!Gs(t)||(Vy(t)>1&&(t.set=t.add=t.clear=t.delete=LJ),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>Hj(n,!0))),t}function LJ(){vi(2)}function Wy(t){return Object.isFrozen(t)}var _J={};function Jl(t){const e=_J[t];return e||vi(0,t),e}var Ah;function YD(){return Ah}function BJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kC(t,e){e&&(Jl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function r1(t){n1(t),t.drafts_.forEach(FJ),t.drafts_=null}function n1(t){t===Ah&&(Ah=t.parent_)}function CC(t){return Ah=BJ(Ah,t)}function FJ(t){const e=t[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[wn].modified_&&(r1(e),vi(4)),Gs(t)&&(t=J0(e,t),e.parent_||X0(e,t)),e.patches_&&Jl("Patches").generateReplacementPatches_(r[wn].base_,t,e.patches_,e.inversePatches_)):t=J0(e,r,[]),r1(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==GD?t:void 0}function J0(t,e,r){if(Wy(e))return e;const n=e[wn];if(!n)return q0(e,(i,s)=>TC(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return X0(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),q0(s,(l,c)=>TC(t,n,i,l,c,r,a)),X0(t,i,!1),r&&t.patches_&&Jl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function TC(t,e,r,n,i,s,a){if(ql(i)){const l=s&&e&&e.type_!==3&&!e1(e.assigned_,n)?s.concat(n):void 0,c=J0(t,i,l);if(QD(r,n,c),ql(c))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Gs(i)&&!Wy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;J0(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&X0(t,i)}}function X0(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Hj(e,r)}function UJ(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:YD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Wj;r&&(i=[n],s=Eh);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var Wj={get(t,e){if(e===wn)return t;const r=$o(t);if(!e1(r,e))return $J(t,r,e);const n=r[e];return t.finalized_||!Gs(n)?n:n===Dv(t.base_,e)?(Rv(t),t.copy_[e]=s1(n,t)):n},has(t,e){return e in $o(t)},ownKeys(t){return Reflect.ownKeys($o(t))},set(t,e,r){const n=qD($o(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Dv($o(t),e),s=i==null?void 0:i[wn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(MJ(r,i)&&(r!==void 0||e1(t.base_,e)))return!0;Rv(t),i1(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Dv(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Rv(t),i1(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=$o(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){vi(11)},getPrototypeOf(t){return xd(t.base_)},setPrototypeOf(){vi(12)}},Eh={};q0(Wj,(t,e)=>{Eh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eh.deleteProperty=function(t,e){return Eh.set.call(this,t,e,void 0)};Eh.set=function(t,e,r){return Wj.set.call(this,t[0],e,r,t[0])};function Dv(t,e){const r=t[wn];return(r?$o(r):t)[e]}function $J(t,e,r){var i;const n=qD(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function qD(t,e){if(!(e in t))return;let r=xd(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=xd(r)}}function i1(t){t.modified_||(t.modified_=!0,t.parent_&&i1(t.parent_))}function Rv(t){t.copy_||(t.copy_=t1(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var VJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&vi(6),n!==void 0&&typeof n!="function"&&vi(7);let i;if(Gs(e)){const s=CC(this),a=s1(e,void 0);let l=!0;try{i=r(a),l=!1}finally{l?r1(s):n1(s)}return kC(s,n),PC(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===GD&&(i=void 0),this.autoFreeze_&&Hj(i,!0),n){const s=[],a=[];Jl("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else vi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let n,i;return[this.produce(e,r,(a,l)=>{n=a,i=l}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gs(t)||vi(8),ql(t)&&(t=Ls(t));const e=CC(this),r=s1(t,void 0);return r[wn].isManual_=!0,n1(e),r}finishDraft(t,e){const r=t&&t[wn];(!r||!r.isManual_)&&vi(9);const{scope_:n}=r;return kC(n,e),PC(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Jl("Patches").applyPatches_;return ql(t)?n(t,e):this.produce(t,i=>n(i,e))}};function s1(t,e){const r=zy(t)?Jl("MapSet").proxyMap_(t,e):Hy(t)?Jl("MapSet").proxySet_(t,e):UJ(t,e);return(e?e.scope_:YD()).drafts_.push(r),r}function Ls(t){return ql(t)||vi(10,t),JD(t)}function JD(t){if(!Gs(t)||Wy(t))return t;const e=t[wn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=t1(t,e.scope_.immer_.useStrictShallowCopy_)}else r=t1(t,!0);return q0(r,(n,i)=>{QD(r,n,JD(i))}),e&&(e.finalized_=!1),r}var jn=new VJ,XD=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function ZD(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var zJ=ZD(),HJ=ZD,WJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Y0:Y0.apply(null,arguments)};function Jn(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(yn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>WD(n)&&n.type===t,r}var eR=class jf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jf.prototype)}static get[Symbol.species](){return jf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new jf(...e[0].concat(this)):new jf(...e.concat(this))}};function OC(t){return Gs(t)?XD(t,()=>{}):t}function op(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function GJ(t){return typeof t=="boolean"}var KJ=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new eR;return r&&(GJ(r)?a.push(zJ):a.push(HJ(r.extraArgument))),a},QJ="RTK_autoBatch",IC=t=>e=>{setTimeout(e,t)},YJ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IC(10):t.type==="callback"?t.queueNotification:IC(t.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[QJ]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},qJ=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new eR(t);return n&&i.push(YJ(typeof n=="object"?n:void 0)),i};function JJ(t){const e=KJ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(zj(r))l=HD(r);else throw new Error(yn(1));let c;typeof n=="function"?c=n(e):c=e();let u=Y0;i&&(u=WJ({trace:!1,...typeof i=="object"&&i}));const d=DJ(...c),f=qJ(d);let h=typeof a=="function"?a(f):f();const m=u(...h);return zD(l,s,m)}function tR(t){const e={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(yn(28));if(l in e)throw new Error(yn(29));return e[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function XJ(t){return typeof t=="function"}function ZJ(t,e){let[r,n,i]=tR(e),s;if(XJ(t))s=()=>OC(t());else{const l=OC(t);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(ql(d)){const m=f(d,c);return m===void 0?d:m}else{if(Gs(d))return XD(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var eX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tX=(t=21)=>{let e="",r=t;for(;r--;)e+=eX[Math.random()*64|0];return e},rX=Symbol.for("rtk-slice-createasyncthunk");function nX(t,e){return`${t}/${e}`}function iX({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[rX];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(yn(11));const l=(typeof i.reducers=="function"?i.reducers(aX()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,A){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(yn(12));if(S in u.sliceCaseReducersByType)throw new Error(yn(13));return u.sliceCaseReducersByType[S]=A,d},addMatcher(j,A){return u.sliceMatchers.push({matcher:j,reducer:A}),d},exposeAction(j,A){return u.actionCreators[j]=A,d},exposeCaseReducer(j,A){return u.sliceCaseReducersByName[j]=A,d}};c.forEach(j=>{const A=l[j],S={reducerName:j,type:nX(s,j),createNotation:typeof i.reducers=="function"};lX(A)?uX(S,A,d,e):oX(S,A,d)});function f(){const[j={},A=[],S=void 0]=typeof i.extraReducers=="function"?tR(i.extraReducers):[i.extraReducers],C={...j,...u.sliceCaseReducersByType};return ZJ(i.initialState,N=>{for(let P in C)N.addCase(P,C[P]);for(let P of u.sliceMatchers)N.addMatcher(P.matcher,P.reducer);for(let P of A)N.addMatcher(P.matcher,P.reducer);S&&N.addDefaultCase(S)})}const h=j=>j,m=new Map,g=new WeakMap;let x;function w(j,A){return x||(x=f()),x(j,A)}function y(){return x||(x=f()),x.getInitialState()}function v(j,A=!1){function S(N){let P=N[j];return typeof P>"u"&&A&&(P=op(g,S,y)),P}function C(N=h){const P=op(m,A,()=>new WeakMap);return op(P,N,()=>{const I={};for(const[D,B]of Object.entries(i.selectors??{}))I[D]=sX(B,N,()=>op(g,N,y),A);return I})}return{reducerPath:j,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...v(a),injectInto(j,{reducerPath:A,...S}={}){const C=A??a;return j.inject({reducerPath:C,reducer:w},S),{...b,...v(C,!0)}}};return b}}function sX(t,e,r,n){function i(s,...a){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...a)}return i.unwrapped=t,i}var Sn=iX();function aX(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function oX({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!cX(n))throw new Error(yn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Jn(t,a):Jn(t))}function lX(t){return t._reducerDefinitionType==="asyncThunk"}function cX(t){return t._reducerDefinitionType==="reducerWithPrepare"}function uX({type:t,reducerName:e},r,n,i){if(!i)throw new Error(yn(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(t,s,d);n.exposeAction(e,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:a||lp,pending:l||lp,rejected:c||lp,settled:u||lp})}function lp(){}var dX="task",rR="listener",nR="completed",Gj="cancelled",fX=`task-${Gj}`,hX=`task-${nR}`,a1=`${rR}-${Gj}`,mX=`${rR}-${nR}`,Gy=class{constructor(t){F(this,"name","TaskAbortError");F(this,"message");this.code=t,this.message=`${dX} ${Gj} (reason: ${t})`}},Kj=(t,e)=>{if(typeof t!="function")throw new TypeError(yn(32))},Z0=()=>{},iR=(t,e=Z0)=>(t.catch(e),t),sR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ml=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Ll=t=>{if(t.aborted){const{reason:e}=t;throw new Gy(e)}};function aR(t,e){let r=Z0;return new Promise((n,i)=>{const s=()=>i(new Gy(t.reason));if(t.aborted){s();return}r=sR(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Z0})}var pX=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Gy?"cancelled":"rejected",error:r}}finally{e==null||e()}},eg=t=>e=>iR(aR(t,e).then(r=>(Ll(t),r))),oR=t=>{const e=eg(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:au}=Object,DC={},Ky="listenerMiddleware",gX=(t,e)=>{const r=n=>sR(t,()=>Ml(n,t.reason));return(n,i)=>{Kj(n);const s=new AbortController;r(s);const a=pX(async()=>{Ll(t),Ll(s.signal);const l=await n({pause:eg(s.signal),delay:oR(s.signal),signal:s.signal});return Ll(s.signal),l},()=>Ml(s,hX));return i!=null&&i.autoJoin&&e.push(a.catch(Z0)),{result:eg(t)(a),cancel(){Ml(s,fX)}}}},yX=(t,e)=>{const r=async(n,i)=>{Ll(e);let s=()=>{};const l=[new Promise((c,u)=>{let d=t({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await aR(e,Promise.race(l));return Ll(e),c}finally{s()}};return(n,i)=>iR(r(n,i))},lR=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Jn(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(yn(21));return Kj(s),{predicate:i,type:e,effect:s}},cR=au(t=>{const{type:e,predicate:r,effect:n}=lR(t);return{id:tX(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(yn(22))}}},{withTypes:()=>cR}),RC=(t,e)=>{const{type:r,effect:n,predicate:i}=lR(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},o1=t=>{t.pending.forEach(e=>{Ml(e,a1)})},xX=t=>()=>{t.forEach(o1),t.clear()},MC=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},uR=au(Jn(`${Ky}/add`),{withTypes:()=>uR}),vX=Jn(`${Ky}/removeAll`),dR=au(Jn(`${Ky}/remove`),{withTypes:()=>dR}),bX=(...t)=>{console.error(`${Ky}/error`,...t)},dm=(t={})=>{const e=new Map,{extra:r,onError:n=bX}=t;Kj(n);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&o1(d)}),s=d=>{const f=RC(e,d)??cR(d);return i(f)};au(s,{withTypes:()=>s});const a=d=>{const f=RC(e,d);return f&&(f.unsubscribe(),d.cancelActive&&o1(f)),!!f};au(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const g=new AbortController,x=yX(s,g.signal),w=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,au({},h,{getOriginalState:m,condition:(y,v)=>x(y,v).then(Boolean),take:x,delay:oR(g.signal),pause:eg(g.signal),extra:r,signal:g.signal,fork:gX(g.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,v,b)=>{y!==g&&(Ml(y,a1),b.delete(y))})},cancel:()=>{Ml(g,a1),d.pending.delete(g)},throwIfCancelled:()=>{Ll(g.signal)}})))}catch(y){y instanceof Gy||MC(n,y,{raisedBy:"effect"})}finally{await Promise.all(w),Ml(g,mX),d.pending.delete(g)}},c=xX(e);return{middleware:d=>f=>h=>{if(!WD(h))return f(h);if(uR.match(h))return s(h.payload);if(vX.match(h)){c();return}if(dR.match(h))return a(h.payload);let m=d.getState();const g=()=>{if(m===DC)throw new Error(yn(23));return m};let x;try{if(x=f(h),e.size>0){const w=d.getState(),y=Array.from(e.values());for(const v of y){let b=!1;try{b=v.predicate(h,w,m)}catch(j){b=!1,MC(n,j,{raisedBy:"predicate"})}b&&l(v,h,d,g)}}}finally{m=DC}return x},startListening:s,stopListening:a,clearListeners:c}};function yn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fR=Sn({name:"chartLayout",initialState:wX,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:jX,setLayout:NX,setChartSize:AX,setScale:EX}=fR.actions,SX=fR.reducer;function LC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _C(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(r),!0).forEach(function(n){kX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kX(t,e,r){return(e=CX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CX(t){var e=PX(t,"string");return typeof e=="symbol"?e:e+""}function PX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tg=Math.PI/180,TX=t=>t*180/Math.PI,Dt=(t,e,r,n)=>({x:t+Math.cos(-tg*n)*r,y:e+Math.sin(-tg*n)*r}),hR=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},OX=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},IX=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=OX({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:TX(c),angleInRadian:c}},DX=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},RX=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},MX=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=IX({x:r,y:n},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=DX(e),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?_C(_C({},e),{},{radius:i,angle:RX(d,e)}):null};function mR(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function BC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(r),!0).forEach(function(n){LX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LX(t,e,r){return(e=_X(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _X(t){var e=BX(t,"string");return typeof e=="symbol"?e:e+""}function BX(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function We(t,e,r){return rt(t)||rt(e)?r:es(e)?fo(t,e,r):typeof e=="function"?e(t):r}var FX=(t,e,r,n,i)=>{var s,a=-1,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Jt(d-u)!==Jt(f-d)){var m=[];if(Jt(f-d)===Jt(i[1]-i[0])){h=f;var g=d+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var x=f+i[1]-i[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>w[0]&&t<=w[1]||t>=m[0]&&t<=m[1]){({index:a}=r[c]);break}}else{var y=Math.min(u,f),v=Math.max(u,f);if(t>(y+d)/2&&t<=(v+d)/2){({index:a}=r[c]);break}}}else if(e){for(var b=0;b<l;b++)if(b===0&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b>0&&b<l-1&&t>(e[b].coordinate+e[b-1].coordinate)/2&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b===l-1&&t>(e[b].coordinate+e[b-1].coordinate)/2){({index:a}=e[b]);break}}return a},UX=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ie(t[s]))return Hn(Hn({},t),{},{[s]:t[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ie(t[a]))return Hn(Hn({},t),{},{[a]:t[a]+(i||0)})}return t},No=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",pR=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(r),a},gR=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=t;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(x=m==="angleAxis"&&s&&s.length>=2?Jt(s[0]-s[1])*2*x:x,f||h){var w=(f||h||[]).map((y,v)=>{var b=n?n.indexOf(y):y;return{coordinate:a(b)+x,value:y,offset:x,index:v}});return w.filter(y=>!bn(y.coordinate))}return c&&u?u.map((y,v)=>({coordinate:a(y)+x,value:y,index:v,offset:x})):a.ticks&&d!=null?a.ticks(d).map((y,v)=>({coordinate:a(y)+x,value:y,offset:x,index:v})):a.domain().map((y,v)=>({coordinate:a(y)+x,value:n?n[y]:y,index:v,offset:x}))},FC=1e-4,$X=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-FC,s=Math.max(n[0],n[1])+FC,a=t(e[0]),l=t(e[r-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[r-1]])}},VX=(t,e)=>{if(!e||e.length!==2||!ie(e[0])||!ie(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ie(t[0])||t[0]<r)&&(i[0]=r),(!ie(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},zX=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var l=bn(t[a][r][1])?t[a][r][0]:t[a][r][1];l>=0?(t[a][r][0]=i,t[a][r][1]=i+l,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+l,s=t[a][r][1])}},HX=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=bn(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},WX={sign:zX,expand:Iq,none:gd,silhouette:Dq,wiggle:Rq,positive:HX},GX=(t,e,r)=>{var n=WX[r],i=Oq().keys(e).value((s,a)=>+We(s,a,0)).order(Xw).offset(n);return i(t)};function KX(t){return t==null?void 0:String(t)}function UC(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rt(i[e.dataKey])){var l=Q4(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=We(i,rt(a)?e.dataKey:a);return rt(c)?null:e.scale(c)}var $C=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var l=We(s,e.dataKey,e.scale.domain()[a]);return rt(l)?null:e.scale(l)-i/2+n},QX=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},YX=t=>{var e=t.flat(2).filter(ie);return[Math.min(...e),Math.max(...e)]},qX=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],JX=(t,e,r)=>{if(t!=null)return qX(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=mR(u,e,r),f=YX(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},VC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sh=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=$y(e,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function HC(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Hn(Hn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Od(t,e){if(t)return String(t);if(typeof e=="string")return e}function XX(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?MX({x:t,y:e},n):null}var ZX=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Hn(Hn(Hn({},n),Dt(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return Hn(Hn(Hn({},n),Dt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},eZ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ea=t=>t.layout.width,ta=t=>t.layout.height,tZ=t=>t.layout.scale,yR=t=>t.layout.margin,Qj=$(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Yj=$(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),xR="data-recharts-item-index",vR="data-recharts-item-data-key",Qy=60;function WC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(r),!0).forEach(function(n){rZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rZ(t,e,r){return(e=nZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nZ(t){var e=iZ(t,"string");return typeof e=="symbol"?e:e+""}function iZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sZ=t=>t.brush.height,$t=$([ea,ta,yR,sZ,Qj,Yj,VD,kJ],(t,e,r,n,i,s,a,l)=>{var c=s.reduce((g,x)=>{var{orientation:w}=x;if(!x.mirror&&!x.hide){var y=typeof x.width=="number"?x.width:Qy;return ua(ua({},g),{},{[w]:g[w]+y})}return g},{left:r.left||0,right:r.right||0}),u=i.reduce((g,x)=>{var{orientation:w}=x;return!x.mirror&&!x.hide?ua(ua({},g),{},{[w]:fo(g,"".concat(w))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=ua(ua({},u),c),f=d.bottom;d.bottom+=n,d=UX(d,a,l);var h=t-d.left-d.right,m=e-d.top-d.bottom;return ua(ua({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),aZ=$($t,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bR=$(ea,ta,(t,e)=>({x:0,y:0,width:t,height:e})),oZ=p.createContext(null),Xr=()=>p.useContext(oZ)!=null,Yy=t=>t.brush,qy=$([Yy,$t,yR],(t,e,r)=>({height:t.height,x:ie(t.x)?t.x:e.left,y:ie(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:ie(t.width)?t.width:e.width})),qj=()=>{var t,e=Xr(),r=fe(aZ),n=fe(qy),i=(t=fe(Yy))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},lZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},wR=()=>{var t;return(t=fe($t))!==null&&t!==void 0?t:lZ},jR=()=>fe(ea),NR=()=>fe(ta),Te=t=>t.layout.layoutType,Jy=()=>fe(Te),cZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},AR=Sn({name:"legend",initialState:cZ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Ls(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:Ufe,setLegendSettings:$fe,addLegendPayload:ER,removeLegendPayload:SR}=AR.actions,uZ=AR.reducer;function l1(){return l1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l1.apply(null,arguments)}function GC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GC(Object(r),!0).forEach(function(n){dZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dZ(t,e,r){return(e=fZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fZ(t){var e=hZ(t,"string");return typeof e=="symbol"?e:e+""}function hZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mZ(t){return Array.isArray(t)&&es(t[0])&&es(t[1])?t.join(" ~ "):t}var pZ=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=t,m=()=>{if(s&&s.length){var A={padding:0,margin:0},S=(l?$y(s,l):s).map((C,N)=>{if(C.type==="none")return null;var P=C.formatter||a||mZ,{value:I,name:D}=C,B=I,V=D;if(P){var Q=P(I,D,C,N,s);if(Array.isArray(Q))[B,V]=Q;else if(Q!=null)B=Q;else return null}var T=Mv({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:T},es(V)?p.createElement("span",{className:"recharts-tooltip-item-name"},V):null,es(V)?p.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,p.createElement("span",{className:"recharts-tooltip-item-value"},B),p.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:A},S)}return null},g=Mv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Mv({margin:0},i),w=!rt(d),y=w?d:"",v=_e("recharts-default-tooltip",c),b=_e("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(y=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",l1({className:v,style:g},j),p.createElement("p",{className:b,style:x},p.isValidElement(y)?y:"".concat(y)),m())},tf="recharts-tooltip-wrapper",gZ={visibility:"hidden"};function yZ(t){var{coordinate:e,translateX:r,translateY:n}=t;return _e(tf,{["".concat(tf,"-right")]:ie(r)&&e&&ie(e.x)&&r>=e.x,["".concat(tf,"-left")]:ie(r)&&e&&ie(e.x)&&r<e.x,["".concat(tf,"-bottom")]:ie(n)&&e&&ie(e.y)&&n>=e.y,["".concat(tf,"-top")]:ie(n)&&e&&ie(e.y)&&n<e.y})}function KC(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=t;if(s&&ie(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(e[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function xZ(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function vZ(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,u,d,f;return a.height>0&&a.width>0&&r?(d=KC({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=KC({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=xZ({translateX:d,translateY:f,useTranslate3d:l})):u=gZ,{cssProperties:u,cssClasses:yZ({translateX:d,translateY:f,coordinate:r})}}function QC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QC(Object(r),!0).forEach(function(n){c1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c1(t,e,r){return(e=bZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bZ(t){var e=wZ(t,"string");return typeof e=="symbol"?e:e+""}function wZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class jZ extends p.PureComponent{constructor(){super(...arguments),c1(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),c1(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:w,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=vZ({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=y?{}:cp(cp({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),A=cp(cp({},j),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:A,ref:w},s)}}var NZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),dc={isSsr:NZ()},kR=()=>fe(t=>t.rootProps.accessibilityLayer);function Nn(t){return Number.isFinite(t)}function vd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u1.apply(null,arguments)}function YC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(r),!0).forEach(function(n){AZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AZ(t,e,r){return(e=EZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EZ(t){var e=SZ(t,"string");return typeof e=="symbol"?e:e+""}function SZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JC={curveBasisClosed:bq,curveBasisOpen:wq,curveBasis:vq,curveBumpX:sq,curveBumpY:aq,curveLinearClosed:jq,curveLinear:Ry,curveMonotoneX:Nq,curveMonotoneY:Aq,curveNatural:Eq,curveStep:Sq,curveStepAfter:Cq,curveStepBefore:kq},up=t=>Nn(t.x)&&Nn(t.y),rf=t=>t.x,nf=t=>t.y,kZ=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(cm(t));return(r==="curveMonotone"||r==="curveBump")&&e?JC["".concat(r).concat(e==="vertical"?"Y":"X")]:JC[r]||Ry},CZ=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=kZ(e,i),l=s?r.filter(up):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>up(f)):n,d=l.map((f,h)=>qC(qC({},f),{},{base:u[h]}));return i==="vertical"?c=ip().y(nf).x1(rf).x0(f=>f.base.x):c=ip().x(rf).y1(nf).y0(f=>f.base.y),c.defined(up).curve(a),c(d)}return i==="vertical"&&ie(n)?c=ip().y(nf).x1(rf).x0(n):ie(n)?c=ip().x(rf).y1(nf).y0(n):c=iD().x(rf).y(nf),c.defined(up).curve(a),c(l)},Jj=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?CZ(t):n;return p.createElement("path",u1({},Zs(t),Pj(t),{className:_e("recharts-curve",e),d:s===null?void 0:s,ref:i}))},PZ=["x","y","top","left","width","height","className"];function d1(){return d1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d1.apply(null,arguments)}function XC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(r),!0).forEach(function(n){OZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OZ(t,e,r){return(e=IZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RZ(t,e){if(t==null)return{};var r,n,i=MZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var LZ=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),_Z=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=RZ(t,PZ),u=TZ({x:e,y:r,top:n,left:i,width:s,height:a},c);return!ie(e)||!ie(r)||!ie(s)||!ie(a)||!ie(n)||!ie(i)?null:p.createElement("path",d1({},ot(u,!0),{className:_e("recharts-cross",l),d:LZ(e,r,s,a,n,i)}))};function BZ(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function ZC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(r),!0).forEach(function(n){UZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UZ(t,e,r){return(e=$Z(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Z(t){var e=VZ(t,"string");return typeof e=="symbol"?e:e+""}function VZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e){var r=FZ({},t),n=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var CR={},PR={},TR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(TR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=TR,r=Bj,n=By,i=Fy,s=_y;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,g,x){const w=x(u,d,f,h,m,g);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,g,x)}return c(u,d,g,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),g=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const y=u.valueOf(),v=d.valueOf();return s.eq(y,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const x=f.get(u),w=f.get(d);if(x!=null&&w!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[y,v]of u.entries())if(!d.has(y)||!l(v,d.get(y),y,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<y.length;b++){const j=y[b],A=v.findIndex(S=>l(j,S,void 0,u,d,f,h));if(A===-1)return!1;v.splice(A,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!l(u[y],d[y],y,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const A=v[j],S=u[A];if(!Object.hasOwn(d,A))return!1;const C=d[A];if(!l(S,C,A,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}t.isEqualWith=a})(PR);var OR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(OR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PR,r=OR;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(CR);var zZ=CR.isEqual;const HZ=rs(zZ);var rg=1e-4,IR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],DR=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),e5=(t,e)=>r=>{var n=IR(t,e);return DR(n,r)},WZ=(t,e)=>r=>{var n=IR(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return DR(i,r)},t5=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,r,i]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([e,n,r,i]=a);var u=e5(e,r),d=e5(n,i),f=WZ(e,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,w=x,y=0;y<8;++y){var v=u(w)-x,b=f(w);if(Math.abs(v-x)<rg||b<rg)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},GZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<rg&&Math.abs(f)<rg?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},RR=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return t5(t);case"spring":return GZ();default:if(t.split("(")[0]==="cubic-bezier")return t5(t)}return typeof t=="function"?t:null};function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){KZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KZ(t,e,r){return(e=QZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QZ(t){var e=YZ(t,"string");return typeof e=="symbol"?e:e+""}function YZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qZ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),JZ=(t,e,r)=>t.map(n=>"".concat(qZ(n)," ").concat(e,"ms ").concat(r)).join(","),XZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),kh=(t,e)=>Object.keys(e).reduce((r,n)=>n5(n5({},r),{},{[n]:t(n,e[n])}),{});function i5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(r),!0).forEach(function(n){ZZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZZ(t,e,r){return(e=eee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eee(t){var e=tee(t,"string");return typeof e=="symbol"?e:e+""}function tee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ng=(t,e,r)=>t+(e-t)*r,f1=t=>{var{from:e,to:r}=t;return e!==r},MR=(t,e,r)=>{var n=kh((i,s)=>{if(f1(s)){var[a,l]=t(s.from,s.to,s.velocity);return nr(nr({},s),{},{from:a,velocity:l})}return s},e);return r<1?kh((i,s)=>f1(s)?nr(nr({},s),{},{velocity:ng(s.velocity,n[i].velocity,r),from:ng(s.from,n[i].from,r)}):s,e):MR(t,n,r-1)};function ree(t,e,r,n,i,s){var a,l=n.reduce((h,m)=>nr(nr({},h),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>kh((h,m)=>m.from,l),u=()=>!Object.values(l).filter(f1).length,d=null,f=h=>{a||(a=h);var m=h-a,g=m/r.dt;l=MR(r,l,g),i(nr(nr(nr({},t),e),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function nee(t,e,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>nr(nr({},f),{},{[h]:[t[h],e[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=kh((x,w)=>ng(...w,r(h)),c);if(s(nr(nr(nr({},t),e),m)),h<1)l=a.setTimeout(d);else{var g=kh((x,w)=>ng(...w,r(1)),c);s(nr(nr(nr({},t),e),g))}};return()=>(l=a.setTimeout(d),()=>{l()})}const LR=(t,e,r,n,i,s)=>{var a=XZ(t,e);return r.isStepper===!0?ree(t,e,r,a,i,s):nee(t,e,r,n,a,i,s)};function iee(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,u),c);return}s(c),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class see{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function aee(){return iee(new see)}var oee=p.createContext(aee);function _R(t,e){var r=p.useContext(oee);return p.useMemo(()=>e??r(t),[t,e,r])}var lee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h1.apply(null,arguments)}function cee(t,e){if(t==null)return{};var r,n,i=uee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function s5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(r),!0).forEach(function(n){sl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sl(t,e,r){return(e=dee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dee(t){var e=fee(t,"string");return typeof e=="symbol"?e:e+""}function fee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xj extends p.PureComponent{constructor(e,r){super(e,r),sl(this,"mounted",!1),sl(this,"manager",void 0),sl(this,"stopJSAnimation",null),sl(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(HZ(e.to,a)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:e.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(da(da({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=e,u=LR(r,n,RR(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(e);return}var d=i?{[i]:s}:s,f=JZ(Object.keys(d),n,a);this.manager.start([l,r,da(da({},d),{},{transition:f}),n,c])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:g}=e,x=cee(e,lee),w=p.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!l||w===0||i<=0)return r;var v=b=>{var{style:j={},className:A}=b.props,S=p.cloneElement(b,da(da({},x),{},{style:da(da({},j),y),className:A}));return S};return w===1?v(p.Children.only(r)):p.createElement("div",null,p.Children.map(r,b=>v(b)))}}sl(Xj,"displayName","Animate");sl(Xj,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function ig(t){var e,r=_R((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return p.createElement(Xj,h1({},t,{animationManager:r}))}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sg.apply(null,arguments)}var a5=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(e)),u+="L ".concat(t+r-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+a*d[1])),u+="L ".concat(t+r,",").concat(e+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-l*d[2],",").concat(e+n)),u+="L ".concat(t+l*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(e+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(e+a*m,`
            L `).concat(t+r,",").concat(e+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(e+n,`
            L `).concat(t+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+n-a*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},hee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BR=t=>{var e=kn(t,hee),r=p.useRef(null),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=e;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=_e("recharts-rectangle",d);return x?p.createElement(ig,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:x},y=>{var{width:v,height:b,x:j,y:A}=y;return p.createElement(ig,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:f},p.createElement("path",sg({},ot(e,!0),{className:w,d:a5(j,A,v,b,u),ref:r})))}):p.createElement("path",sg({},ot(e,!0),{className:w,d:a5(s,a,l,c,u)}))};function FR(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=Dt(e,r,n,i),l=Dt(e,r,n,s);return{points:[a,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(null,arguments)}var mee=(t,e)=>{var r=Jt(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},dp=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,u=l*(a?1:-1)+n,d=Math.asin(l/u)/tg,f=c?i:i+s*d,h=Dt(e,r,u,f),m=Dt(e,r,n,f),g=c?i-s*d:i,x=Dt(e,r,u*Math.cos(d*tg),g);return{center:h,circleTangency:m,lineTangency:x,theta:d}},UR=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,l=mee(s,a),c=s+l,u=Dt(e,r,i,s),d=Dt(e,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Dt(e,r,n,s),m=Dt(e,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(r," Z");return f},pee=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=t,d=Jt(u-c),{circleTangency:f,lineTangency:h,theta:m}=dp({cx:e,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:w}=dp({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(y<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):UR({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:A}=dp({cx:e,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:C,theta:N}=dp({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(c-u):Math.abs(c-u)-A-N;if(P<0&&s===0)return"".concat(v,"L").concat(e,",").concat(r,"Z");v+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(e,",").concat(r,"Z");return v},gee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$R=t=>{var e=kn(t,gee),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(s<i||u===d)return null;var h=_e("recharts-sector",f),m=s-i,g=Mr(a,m,0,!0),x;return g>0&&Math.abs(u-d)<360?x=pee({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=UR({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),p.createElement("path",m1({},ot(e,!0),{className:h,d:x}))};function yee(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=e,h=Dt(l,c,u,f),m=Dt(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return FR(e);return[{x:n,y:i},{x:s,y:a}]}var VR={},zR={},HR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$j;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(HR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HR;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(zR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vj,r=zR;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}t.range=n})(VR);var xee=VR.range;const WR=rs(xee);function eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zj(t){let e,r,n;t.length!==2?(e=eo,r=(l,c)=>eo(t(l),c),n=(l,c)=>t(l)-c):(e=t===eo||t===vee?t:bee,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function bee(){return 0}function GR(t){return t===null?NaN:+t}function*wee(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const jee=Zj(eo),fm=jee.right;Zj(GR).center;class o5 extends Map{constructor(e,r=Eee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(l5(this,e))}has(e){return super.has(l5(this,e))}set(e,r){return super.set(Nee(this,e),r)}delete(e){return super.delete(Aee(this,e))}}function l5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Nee({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Aee({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Eee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function See(t=eo){if(t===eo)return KR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function KR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kee=Math.sqrt(50),Cee=Math.sqrt(10),Pee=Math.sqrt(2);function ag(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=kee?10:s>=Cee?5:s>=Pee?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?ag(t,e,r*2):[l,c,u]}function p1(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?ag(e,t,r):ag(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function g1(t,e,r){return e=+e,t=+t,r=+r,ag(t,e,r)[2]}function y1(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?g1(e,t,r):g1(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function c5(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function u5(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QR(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?KR:See(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/c+h)),g=Math.min(n,Math.floor(e+(c-u)*f/c+h));QR(t,e,m,g,i)}const s=t[e];let a=r,l=n;for(sf(t,r,e),i(t[n],s)>0&&sf(t,r,n);a<l;){for(sf(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?sf(t,r,l):(++l,sf(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function sf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Tee(t,e,r){if(t=Float64Array.from(wee(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return u5(t);if(e>=1)return c5(t);var n,i=(n-1)*e,s=Math.floor(i),a=c5(QR(t,s).subarray(0,s+1)),l=u5(t.subarray(s+1));return a+(l-a)*(i-s)}}function Oee(t,e,r=GR){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function Iee(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ra(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const x1=Symbol("implicit");function eN(){var t=new o5,e=[],r=[],n=x1;function i(s){let a=t.get(s);if(a===void 0){if(n!==x1)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new o5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return eN(e,r).unknown(n)},ei.apply(i,arguments),i}function tN(){var t=eN().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<n,g=m?i:n,x=m?n:i;s=(x-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(x-g-s*(h-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var w=Iee(h).map(function(y){return g+s*y});return r(m?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return tN(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ei.apply(f(),arguments)}function YR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return YR(e())},t}function Dee(){return YR(tN.apply(null,arguments).paddingInner(1))}function rN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function qR(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function hm(){}var Ch=.7,og=1/Ch,ou="\\s*([+-]?\\d+)\\s*",Ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ree=/^#([0-9a-f]{3,8})$/,Mee=new RegExp(`^rgb\\(${ou},${ou},${ou}\\)$`),Lee=new RegExp(`^rgb\\(${Xi},${Xi},${Xi}\\)$`),_ee=new RegExp(`^rgba\\(${ou},${ou},${ou},${Ph}\\)$`),Bee=new RegExp(`^rgba\\(${Xi},${Xi},${Xi},${Ph}\\)$`),Fee=new RegExp(`^hsl\\(${Ph},${Xi},${Xi}\\)$`),Uee=new RegExp(`^hsla\\(${Ph},${Xi},${Xi},${Ph}\\)$`),d5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rN(hm,Th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:f5,formatHex:f5,formatHex8:$ee,formatHsl:Vee,formatRgb:h5,toString:h5});function f5(){return this.rgb().formatHex()}function $ee(){return this.rgb().formatHex8()}function Vee(){return JR(this).formatHsl()}function h5(){return this.rgb().formatRgb()}function Th(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Ree.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?m5(e):r===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?fp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?fp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Mee.exec(t))?new Wr(e[1],e[2],e[3],1):(e=Lee.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_ee.exec(t))?fp(e[1],e[2],e[3],e[4]):(e=Bee.exec(t))?fp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Fee.exec(t))?y5(e[1],e[2]/100,e[3]/100,1):(e=Uee.exec(t))?y5(e[1],e[2]/100,e[3]/100,e[4]):d5.hasOwnProperty(t)?m5(d5[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function m5(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function fp(t,e,r,n){return n<=0&&(t=e=r=NaN),new Wr(t,e,r,n)}function zee(t){return t instanceof hm||(t=Th(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function v1(t,e,r,n){return arguments.length===1?zee(t):new Wr(t,e,r,n??1)}function Wr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}rN(Wr,v1,qR(hm,{brighter(t){return t=t==null?og:Math.pow(og,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ch:Math.pow(Ch,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(_l(this.r),_l(this.g),_l(this.b),lg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p5,formatHex:p5,formatHex8:Hee,formatRgb:g5,toString:g5}));function p5(){return`#${al(this.r)}${al(this.g)}${al(this.b)}`}function Hee(){return`#${al(this.r)}${al(this.g)}${al(this.b)}${al((isNaN(this.opacity)?1:this.opacity)*255)}`}function g5(){const t=lg(this.opacity);return`${t===1?"rgb(":"rgba("}${_l(this.r)}, ${_l(this.g)}, ${_l(this.b)}${t===1?")":`, ${t})`}`}function lg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _l(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function al(t){return t=_l(t),(t<16?"0":"")+t.toString(16)}function y5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new bi(t,e,r,n)}function JR(t){if(t instanceof bi)return new bi(t.h,t.s,t.l,t.opacity);if(t instanceof hm||(t=Th(t)),!t)return new bi;if(t instanceof bi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-e)/l+2:a=(e-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new bi(a,l,c,t.opacity)}function Wee(t,e,r,n){return arguments.length===1?JR(t):new bi(t,e,r,n??1)}function bi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}rN(bi,Wee,qR(hm,{brighter(t){return t=t==null?og:Math.pow(og,t),new bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ch:Math.pow(Ch,t),new bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Wr(Lv(t>=240?t-240:t+120,i,n),Lv(t,i,n),Lv(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new bi(x5(this.h),hp(this.s),hp(this.l),lg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lg(this.opacity);return`${t===1?"hsl(":"hsla("}${x5(this.h)}, ${hp(this.s)*100}%, ${hp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function x5(t){return t=(t||0)%360,t<0?t+360:t}function hp(t){return Math.max(0,Math.min(1,t||0))}function Lv(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const nN=t=>()=>t;function Gee(t,e){return function(r){return t+r*e}}function Kee(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Qee(t){return(t=+t)==1?XR:function(e,r){return r-e?Kee(e,r,t):nN(isNaN(e)?r:e)}}function XR(t,e){var r=e-t;return r?Gee(t,r):nN(isNaN(t)?e:t)}const v5=function t(e){var r=Qee(e);function n(i,s){var a=r((i=v1(i)).r,(s=v1(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=XR(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Yee(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function qee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Jee(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Id(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function Xee(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function cg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Zee(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Id(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var b1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_v=new RegExp(b1.source,"g");function ete(t){return function(){return t}}function tte(t){return function(e){return t(e)+""}}function rte(t,e){var r=b1.lastIndex=_v.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(n=b1.exec(t))&&(i=_v.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:cg(n,i)})),r=_v.lastIndex;return r<e.length&&(s=e.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?tte(c[0].x):ete(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Id(t,e){var r=typeof e,n;return e==null||r==="boolean"?nN(e):(r==="number"?cg:r==="string"?(n=Th(e))?(e=n,v5):rte:e instanceof Th?v5:e instanceof Date?Xee:qee(e)?Yee:Array.isArray(e)?Jee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Zee:cg)(t,e)}function iN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function nte(t,e){e===void 0&&(e=t,t=Id);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function ite(t){return function(){return t}}function ug(t){return+t}var b5=[0,1];function Dr(t){return t}function w1(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:ite(isNaN(e)?NaN:.5)}function ste(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ate(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=w1(i,n),s=r(a,s)):(n=w1(n,i),s=r(s,a)),function(l){return s(n(l))}}function ote(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=w1(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(l){var c=fm(t,l,1,n)-1;return s[c](i[c](l))}}function mm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xy(){var t=b5,e=b5,r=Id,n,i,s,a=Dr,l,c,u;function d(){var h=Math.min(t.length,e.length);return a!==Dr&&(a=ste(t[0],t[h-1])),l=h>2?ote:ate,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(n),e,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(e,t.map(n),cg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ug),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=iN,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Dr,d()):a!==Dr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function sN(){return Xy()(Dr,Dr)}function lte(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function bd(t){return t=dg(Math.abs(t)),t?t[1]:NaN}function cte(t,e){return function(r,n){for(var i=r.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function ute(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Oh(t){if(!(e=dte.exec(t)))throw new Error("invalid format: "+t);var e;return new aN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Oh.prototype=aN.prototype;function aN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}aN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fte(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var ZR;function hte(t,e){var r=dg(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(ZR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+dg(t,Math.max(0,e+s-1))[0]}function w5(t,e){var r=dg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const j5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lte,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w5(t*100,e),r:w5,s:hte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function N5(t){return t}var A5=Array.prototype.map,E5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function mte(t){var e=t.grouping===void 0||t.thousands===void 0?N5:cte(A5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?N5:ute(A5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Oh(f);var h=f.fill,m=f.align,g=f.sign,x=f.symbol,w=f.zero,y=f.width,v=f.comma,b=f.precision,j=f.trim,A=f.type;A==="n"?(v=!0,A="g"):j5[A]||(b===void 0&&(b=12),j=!0,A="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",C=x==="$"?n:/[%p]/.test(A)?a:"",N=j5[A],P=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(D){var B=S,V=C,Q,T,M;if(A==="c")V=N(D)+V,D="";else{D=+D;var U=D<0||1/D<0;if(D=isNaN(D)?c:N(Math.abs(D),b),j&&(D=fte(D)),U&&+D==0&&g!=="+"&&(U=!1),B=(U?g==="("?g:l:g==="-"||g==="("?"":g)+B,V=(A==="s"?E5[8+ZR/3]:"")+V+(U&&g==="("?")":""),P){for(Q=-1,T=D.length;++Q<T;)if(M=D.charCodeAt(Q),48>M||M>57){V=(M===46?i+D.slice(Q+1):D.slice(Q))+V,D=D.slice(0,Q);break}}}v&&!w&&(D=e(D,1/0));var k=B.length+D.length+V.length,L=k<y?new Array(y-k+1).join(h):"";switch(v&&w&&(D=e(L+D,L.length?y-V.length:1/0),L=""),m){case"<":D=B+D+V+L;break;case"=":D=B+L+D+V;break;case"^":D=L.slice(0,k=L.length>>1)+B+D+V+L.slice(k);break;default:D=L+B+D+V;break}return s(D)}return I.toString=function(){return f+""},I}function d(f,h){var m=u((f=Oh(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(bd(h)/3)))*3,x=Math.pow(10,-g),w=E5[8+g/3];return function(y){return m(x*y)+w}}return{format:u,formatPrefix:d}}var mp,oN,eM;pte({thousands:",",grouping:[3],currency:["$",""]});function pte(t){return mp=mte(t),oN=mp.format,eM=mp.formatPrefix,mp}function gte(t){return Math.max(0,-bd(Math.abs(t)))}function yte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bd(e)/3)))*3-bd(Math.abs(t)))}function xte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bd(e)-bd(t))+1}function tM(t,e,r,n){var i=y1(t,e,r),s;switch(n=Oh(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=yte(i,a))&&(n.precision=s),eM(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=xte(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gte(i))&&(n.precision=s-(n.type==="%")*2);break}}return oN(n)}function Ao(t){var e=t.domain;return t.ticks=function(r){var n=e();return p1(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return tM(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=g1(a,l,r),u===c)return n[i]=a,n[s]=l,e(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function rM(){var t=sN();return t.copy=function(){return mm(t,rM())},ei.apply(t,arguments),Ao(t)}function nM(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ug),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return nM(t).unknown(e)},t=arguments.length?Array.from(t,ug):[0,1],Ao(r)}function iM(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function S5(t){return Math.log(t)}function k5(t){return Math.exp(t)}function vte(t){return-Math.log(-t)}function bte(t){return-Math.exp(-t)}function wte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jte(t){return t===10?wte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Nte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C5(t){return(e,r)=>-t(-e,r)}function lN(t){const e=t(S5,k5),r=e.domain;let n=10,i,s;function a(){return i=Nte(n),s=jte(n),r()[0]<0?(i=C5(i),s=C5(s),t(vte,bte)):t(S5,k5),e}return e.base=function(l){return arguments.length?(n=+l,a()):n},e.domain=function(l){return arguments.length?(r(l),a()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,x;const w=l==null?10:+l;let y=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<w&&(y=p1(u,d,w))}else y=p1(h,m,Math.min(m-h,w)).map(s);return f?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Oh(c)).precision==null&&(c.trim=!0),c=oN(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(iM(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function sM(){const t=lN(Xy()).domain([1,10]);return t.copy=()=>mm(t,sM()).base(t.base()),ei.apply(t,arguments),t}function P5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function T5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function cN(t){var e=1,r=t(P5(e),T5(e));return r.constant=function(n){return arguments.length?t(P5(e=+n),T5(e)):e},Ao(r)}function aM(){var t=cN(Xy());return t.copy=function(){return mm(t,aM()).constant(t.constant())},ei.apply(t,arguments)}function O5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ate(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ete(t){return t<0?-t*t:t*t}function uN(t){var e=t(Dr,Dr),r=1;function n(){return r===1?t(Dr,Dr):r===.5?t(Ate,Ete):t(O5(r),O5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ao(e)}function dN(){var t=uN(Xy());return t.copy=function(){return mm(t,dN()).exponent(t.exponent())},ei.apply(t,arguments),t}function Ste(){return dN.apply(null,arguments).exponent(.5)}function I5(t){return Math.sign(t)*t*t}function kte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function oM(){var t=sN(),e=[0,1],r=!1,n;function i(s){var a=kte(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(I5(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ug)).map(I5)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return oM(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ei.apply(i,arguments),Ao(i)}function lM(){var t=[],e=[],r=[],n;function i(){var a=0,l=Math.max(1,e.length);for(r=new Array(l-1);++a<l;)r[a-1]=Oee(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:e[fm(r,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(eo),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return lM().domain(t).range(e).unknown(n)},ei.apply(s,arguments)}function cM(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[fm(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return cM().domain([t,e]).range(i).unknown(s)},ei.apply(Ao(a),arguments)}function uM(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[fm(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return uM().domain(t).range(e).unknown(r)},ei.apply(i,arguments)}const Bv=new Date,Fv=new Date;function Vt(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>Vt(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Bv.setTime(+s),Fv.setTime(+a),t(Bv),t(Fv),Math.floor(r(Bv,Fv))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const fg=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):fg);fg.range;const Ps=1e3,Gn=Ps*60,Ts=Gn*60,Ks=Ts*24,fN=Ks*7,D5=Ks*30,Uv=Ks*365,ol=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ps)},(t,e)=>(e-t)/Ps,t=>t.getUTCSeconds());ol.range;const hN=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getMinutes());hN.range;const mN=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Gn)},(t,e)=>(e-t)/Gn,t=>t.getUTCMinutes());mN.range;const pN=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ps-t.getMinutes()*Gn)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());pN.range;const gN=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());gN.range;const pm=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/Ks,t=>t.getDate()-1);pm.range;const Zy=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>t.getUTCDate()-1);Zy.range;const dM=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ks,t=>Math.floor(t/Ks));dM.range;function fc(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/fN)}const ex=fc(0),hg=fc(1),Cte=fc(2),Pte=fc(3),wd=fc(4),Tte=fc(5),Ote=fc(6);ex.range;hg.range;Cte.range;Pte.range;wd.range;Tte.range;Ote.range;function hc(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/fN)}const tx=hc(0),mg=hc(1),Ite=hc(2),Dte=hc(3),jd=hc(4),Rte=hc(5),Mte=hc(6);tx.range;mg.range;Ite.range;Dte.range;jd.range;Rte.range;Mte.range;const yN=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());yN.range;const xN=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xN.range;const Qs=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Qs.range;const Ys=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ys.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ys.range;function fM(t,e,r,n,i,s){const a=[[ol,1,Ps],[ol,5,5*Ps],[ol,15,15*Ps],[ol,30,30*Ps],[s,1,Gn],[s,5,5*Gn],[s,15,15*Gn],[s,30,30*Gn],[i,1,Ts],[i,3,3*Ts],[i,6,6*Ts],[i,12,12*Ts],[n,1,Ks],[n,2,2*Ks],[r,1,fN],[e,1,D5],[e,3,3*D5],[t,1,Uv]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Zj(([,,w])=>w).right(a,h);if(m===a.length)return t.every(y1(u/Uv,d/Uv,f));if(m===0)return fg.every(Math.max(y1(u,d,f),1));const[g,x]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(x)}return[l,c]}const[Lte,_te]=fM(Ys,xN,tx,dM,gN,mN),[Bte,Fte]=fM(Qs,yN,ex,pm,pN,hN);function $v(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Vv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function af(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Ute(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=of(i),d=lf(i),f=of(s),h=lf(s),m=of(a),g=lf(a),x=of(l),w=lf(l),y=of(c),v=lf(c),b={a:U,A:k,b:L,B:H,c:null,d:F5,e:F5,f:cre,g:vre,G:wre,H:are,I:ore,j:lre,L:hM,m:ure,M:dre,p:W,q:G,Q:V5,s:z5,S:fre,u:hre,U:mre,V:pre,w:gre,W:yre,x:null,X:null,y:xre,Y:bre,Z:jre,"%":$5},j={a:me,A:ve,b:de,B:we,c:null,d:U5,e:U5,f:Sre,g:Lre,G:Bre,H:Nre,I:Are,j:Ere,L:pM,m:kre,M:Cre,p:Le,q:ut,Q:V5,s:z5,S:Pre,u:Tre,U:Ore,V:Ire,w:Dre,W:Rre,x:null,X:null,y:Mre,Y:_re,Z:Fre,"%":$5},A={a:I,A:D,b:B,B:V,c:Q,d:_5,e:_5,f:rre,g:L5,G:M5,H:B5,I:B5,j:Xte,L:tre,m:Jte,M:Zte,p:P,q:qte,Q:ire,s:sre,S:ere,u:Wte,U:Gte,V:Kte,w:Hte,W:Qte,x:T,X:M,y:L5,Y:M5,Z:Yte,"%":nre};b.x=S(r,b),b.X=S(n,b),b.c=S(e,b),j.x=S(r,j),j.X=S(n,j),j.c=S(e,j);function S(te,pe){return function(be){var q=[],ee=-1,he=0,Qe=te.length,nt,Cn,Sm;for(be instanceof Date||(be=new Date(+be));++ee<Qe;)te.charCodeAt(ee)===37&&(q.push(te.slice(he,ee)),(Cn=R5[nt=te.charAt(++ee)])!=null?nt=te.charAt(++ee):Cn=nt==="e"?" ":"0",(Sm=pe[nt])&&(nt=Sm(be,Cn)),q.push(nt),he=ee+1);return q.push(te.slice(he,ee)),q.join("")}}function C(te,pe){return function(be){var q=af(1900,void 0,1),ee=N(q,te,be+="",0),he,Qe;if(ee!=be.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(pe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(he=Vv(af(q.y,0,1)),Qe=he.getUTCDay(),he=Qe>4||Qe===0?mg.ceil(he):mg(he),he=Zy.offset(he,(q.V-1)*7),q.y=he.getUTCFullYear(),q.m=he.getUTCMonth(),q.d=he.getUTCDate()+(q.w+6)%7):(he=$v(af(q.y,0,1)),Qe=he.getDay(),he=Qe>4||Qe===0?hg.ceil(he):hg(he),he=pm.offset(he,(q.V-1)*7),q.y=he.getFullYear(),q.m=he.getMonth(),q.d=he.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Qe="Z"in q?Vv(af(q.y,0,1)).getUTCDay():$v(af(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Qe+5)%7:q.w+q.U*7-(Qe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Vv(q)):$v(q)}}function N(te,pe,be,q){for(var ee=0,he=pe.length,Qe=be.length,nt,Cn;ee<he;){if(q>=Qe)return-1;if(nt=pe.charCodeAt(ee++),nt===37){if(nt=pe.charAt(ee++),Cn=A[nt in R5?pe.charAt(ee++):nt],!Cn||(q=Cn(te,be,q))<0)return-1}else if(nt!=be.charCodeAt(q++))return-1}return q}function P(te,pe,be){var q=u.exec(pe.slice(be));return q?(te.p=d.get(q[0].toLowerCase()),be+q[0].length):-1}function I(te,pe,be){var q=m.exec(pe.slice(be));return q?(te.w=g.get(q[0].toLowerCase()),be+q[0].length):-1}function D(te,pe,be){var q=f.exec(pe.slice(be));return q?(te.w=h.get(q[0].toLowerCase()),be+q[0].length):-1}function B(te,pe,be){var q=y.exec(pe.slice(be));return q?(te.m=v.get(q[0].toLowerCase()),be+q[0].length):-1}function V(te,pe,be){var q=x.exec(pe.slice(be));return q?(te.m=w.get(q[0].toLowerCase()),be+q[0].length):-1}function Q(te,pe,be){return N(te,e,pe,be)}function T(te,pe,be){return N(te,r,pe,be)}function M(te,pe,be){return N(te,n,pe,be)}function U(te){return a[te.getDay()]}function k(te){return s[te.getDay()]}function L(te){return c[te.getMonth()]}function H(te){return l[te.getMonth()]}function W(te){return i[+(te.getHours()>=12)]}function G(te){return 1+~~(te.getMonth()/3)}function me(te){return a[te.getUTCDay()]}function ve(te){return s[te.getUTCDay()]}function de(te){return c[te.getUTCMonth()]}function we(te){return l[te.getUTCMonth()]}function Le(te){return i[+(te.getUTCHours()>=12)]}function ut(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var pe=S(te+="",b);return pe.toString=function(){return te},pe},parse:function(te){var pe=C(te+="",!1);return pe.toString=function(){return te},pe},utcFormat:function(te){var pe=S(te+="",j);return pe.toString=function(){return te},pe},utcParse:function(te){var pe=C(te+="",!0);return pe.toString=function(){return te},pe}}}var R5={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,$te=/^%/,Vte=/[\\^$*+?|[\]().{}]/g;function Me(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function zte(t){return t.replace(Vte,"\\$&")}function of(t){return new RegExp("^(?:"+t.map(zte).join("|")+")","i")}function lf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Hte(t,e,r){var n=Zt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Wte(t,e,r){var n=Zt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Gte(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Kte(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Qte(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function M5(t,e,r){var n=Zt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function L5(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yte(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qte(t,e,r){var n=Zt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Jte(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _5(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Xte(t,e,r){var n=Zt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function B5(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Zte(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ere(t,e,r){var n=Zt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function tre(t,e,r){var n=Zt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function rre(t,e,r){var n=Zt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nre(t,e,r){var n=$te.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function ire(t,e,r){var n=Zt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function sre(t,e,r){var n=Zt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function F5(t,e){return Me(t.getDate(),e,2)}function are(t,e){return Me(t.getHours(),e,2)}function ore(t,e){return Me(t.getHours()%12||12,e,2)}function lre(t,e){return Me(1+pm.count(Qs(t),t),e,3)}function hM(t,e){return Me(t.getMilliseconds(),e,3)}function cre(t,e){return hM(t,e)+"000"}function ure(t,e){return Me(t.getMonth()+1,e,2)}function dre(t,e){return Me(t.getMinutes(),e,2)}function fre(t,e){return Me(t.getSeconds(),e,2)}function hre(t){var e=t.getDay();return e===0?7:e}function mre(t,e){return Me(ex.count(Qs(t)-1,t),e,2)}function mM(t){var e=t.getDay();return e>=4||e===0?wd(t):wd.ceil(t)}function pre(t,e){return t=mM(t),Me(wd.count(Qs(t),t)+(Qs(t).getDay()===4),e,2)}function gre(t){return t.getDay()}function yre(t,e){return Me(hg.count(Qs(t)-1,t),e,2)}function xre(t,e){return Me(t.getFullYear()%100,e,2)}function vre(t,e){return t=mM(t),Me(t.getFullYear()%100,e,2)}function bre(t,e){return Me(t.getFullYear()%1e4,e,4)}function wre(t,e){var r=t.getDay();return t=r>=4||r===0?wd(t):wd.ceil(t),Me(t.getFullYear()%1e4,e,4)}function jre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Me(e/60|0,"0",2)+Me(e%60,"0",2)}function U5(t,e){return Me(t.getUTCDate(),e,2)}function Nre(t,e){return Me(t.getUTCHours(),e,2)}function Are(t,e){return Me(t.getUTCHours()%12||12,e,2)}function Ere(t,e){return Me(1+Zy.count(Ys(t),t),e,3)}function pM(t,e){return Me(t.getUTCMilliseconds(),e,3)}function Sre(t,e){return pM(t,e)+"000"}function kre(t,e){return Me(t.getUTCMonth()+1,e,2)}function Cre(t,e){return Me(t.getUTCMinutes(),e,2)}function Pre(t,e){return Me(t.getUTCSeconds(),e,2)}function Tre(t){var e=t.getUTCDay();return e===0?7:e}function Ore(t,e){return Me(tx.count(Ys(t)-1,t),e,2)}function gM(t){var e=t.getUTCDay();return e>=4||e===0?jd(t):jd.ceil(t)}function Ire(t,e){return t=gM(t),Me(jd.count(Ys(t),t)+(Ys(t).getUTCDay()===4),e,2)}function Dre(t){return t.getUTCDay()}function Rre(t,e){return Me(mg.count(Ys(t)-1,t),e,2)}function Mre(t,e){return Me(t.getUTCFullYear()%100,e,2)}function Lre(t,e){return t=gM(t),Me(t.getUTCFullYear()%100,e,2)}function _re(t,e){return Me(t.getUTCFullYear()%1e4,e,4)}function Bre(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jd(t):jd.ceil(t),Me(t.getUTCFullYear()%1e4,e,4)}function Fre(){return"+0000"}function $5(){return"%"}function V5(t){return+t}function z5(t){return Math.floor(+t/1e3)}var vc,yM,xM;Ure({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ure(t){return vc=Ute(t),yM=vc.format,vc.parse,xM=vc.utcFormat,vc.utcParse,vc}function $re(t){return new Date(t)}function Vre(t){return t instanceof Date?+t:+new Date(+t)}function vN(t,e,r,n,i,s,a,l,c,u){var d=sN(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function A(S){return(c(S)<S?m:l(S)<S?g:a(S)<S?x:s(S)<S?w:n(S)<S?i(S)<S?y:v:r(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Vre)):h().map($re)},d.ticks=function(S){var C=h();return t(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?A:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=e(C[0],C[C.length-1],S??10)),S?h(iM(C,S)):d},d.copy=function(){return mm(d,vN(t,e,r,n,i,s,a,l,c,u))},d}function zre(){return ei.apply(vN(Bte,Fte,Qs,yN,ex,pm,pN,hN,ol,yM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Hre(){return ei.apply(vN(Lte,_te,Ys,xN,tx,Zy,gN,mN,ol,xM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rx(){var t=0,e=1,r,n,i,s,a=Dr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(Id),u.rangeRound=d(iN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Eo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vM(){var t=Ao(rx()(Dr));return t.copy=function(){return Eo(t,vM())},ra.apply(t,arguments)}function bM(){var t=lN(rx()).domain([1,10]);return t.copy=function(){return Eo(t,bM()).base(t.base())},ra.apply(t,arguments)}function wM(){var t=cN(rx());return t.copy=function(){return Eo(t,wM()).constant(t.constant())},ra.apply(t,arguments)}function bN(){var t=uN(rx());return t.copy=function(){return Eo(t,bN()).exponent(t.exponent())},ra.apply(t,arguments)}function Wre(){return bN.apply(null,arguments).exponent(.5)}function jM(){var t=[],e=Dr;function r(n){if(n!=null&&!isNaN(n=+n))return e((fm(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(eo),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Tee(t,s/n))},r.copy=function(){return jM(e).domain(t)},ra.apply(r,arguments)}function nx(){var t=0,e=.5,r=1,n=1,i,s,a,l,c,u=Dr,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),s=d(e=+e),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[t,e,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(w){var y,v,b;return arguments.length?([y,v,b]=w,u=nte(x,[y,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Id),m.rangeRound=g(iN),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(t),s=x(e),a=x(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function NM(){var t=Ao(nx()(Dr));return t.copy=function(){return Eo(t,NM())},ra.apply(t,arguments)}function AM(){var t=lN(nx()).domain([.1,1,10]);return t.copy=function(){return Eo(t,AM()).base(t.base())},ra.apply(t,arguments)}function EM(){var t=cN(nx());return t.copy=function(){return Eo(t,EM()).constant(t.constant())},ra.apply(t,arguments)}function wN(){var t=uN(nx());return t.copy=function(){return Eo(t,wN()).exponent(t.exponent())},ra.apply(t,arguments)}function Gre(){return wN.apply(null,arguments).exponent(.5)}const Nf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tN,scaleDiverging:NM,scaleDivergingLog:AM,scaleDivergingPow:wN,scaleDivergingSqrt:Gre,scaleDivergingSymlog:EM,scaleIdentity:nM,scaleImplicit:x1,scaleLinear:rM,scaleLog:sM,scaleOrdinal:eN,scalePoint:Dee,scalePow:dN,scaleQuantile:lM,scaleQuantize:cM,scaleRadial:oM,scaleSequential:vM,scaleSequentialLog:bM,scaleSequentialPow:bN,scaleSequentialQuantile:jM,scaleSequentialSqrt:Wre,scaleSequentialSymlog:wM,scaleSqrt:Ste,scaleSymlog:aM,scaleThreshold:uM,scaleTime:zre,scaleUtc:Hre,tickFormat:tM},Symbol.toStringTag,{value:"Module"}));var So=t=>t.chartData,jN=$([So],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),ix=(t,e,r,n)=>n?jN(t):So(t);function Nd(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Nn(e)&&Nn(r))return!0}return!1}function H5(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Kre(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Nn(r))i=r;else if(typeof r=="function")return;if(Nn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Nd(a))return a}}function Qre(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Nd(n))return H5(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(ie(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&VC.test(i)){var c=VC.exec(i);if(c==null||e==null)a=void 0;else{var u=+c[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(ie(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&zC.test(s)){var d=zC.exec(s);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[1]+f}}else l=e==null?void 0:e[1];var h=[a,l];if(Nd(h))return e==null?h:H5(h,e,r)}}}var Dd=1e9,Yre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AN,lt=!0,Xn="[DecimalError] ",Bl=Xn+"Invalid argument: ",NN=Xn+"Exponent out of range: ",Rd=Math.floor,Vo=Math.pow,qre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dn,Gt=1e7,et=7,SM=9007199254740991,pg=Rd(SM/et),le={};le.absoluteValue=le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};le.comparedTo=le.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};le.decimalPlaces=le.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};le.dividedBy=le.div=function(t){return _s(this,new this.constructor(t))};le.dividedToIntegerBy=le.idiv=function(t){var e=this,r=e.constructor;return Ge(_s(e,new r(t),0,1),r.precision)};le.equals=le.eq=function(t){return!this.cmp(t)};le.exponent=function(){return Rt(this)};le.greaterThan=le.gt=function(t){return this.cmp(t)>0};le.greaterThanOrEqualTo=le.gte=function(t){return this.cmp(t)>=0};le.isInteger=le.isint=function(){return this.e>this.d.length-2};le.isNegative=le.isneg=function(){return this.s<0};le.isPositive=le.ispos=function(){return this.s>0};le.isZero=function(){return this.s===0};le.lessThan=le.lt=function(t){return this.cmp(t)<0};le.lessThanOrEqualTo=le.lte=function(t){return this.cmp(t)<1};le.logarithm=le.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(dn))throw Error(Xn+"NaN");if(r.s<1)throw Error(Xn+(r.s?"NaN":"-Infinity"));return r.eq(dn)?new n(0):(lt=!1,e=_s(Ih(r,s),Ih(t,s),s),lt=!0,Ge(e,i))};le.minus=le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PM(e,t):kM(e,(t.s=-t.s,t))};le.modulo=le.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Xn+"NaN");return r.s?(lt=!1,e=_s(r,t,0,1).times(t),lt=!0,r.minus(e)):Ge(new n(r),i)};le.naturalExponential=le.exp=function(){return CM(this)};le.naturalLogarithm=le.ln=function(){return Ih(this)};le.negated=le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};le.plus=le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kM(e,t):PM(e,(t.s=-t.s,t))};le.precision=le.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bl+t);if(e=Rt(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};le.squareRoot=le.sqrt=function(){var t,e,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Xn+"NaN")}for(t=Rt(l),lt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ki(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Rd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(_s(l,s,a+2)).times(.5),Ki(s.d).slice(0,a)===(e=Ki(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ge(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;a+=4}return lt=!0,Ge(n,r)};le.times=le.mul=function(t){var e,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+e,s[i--]=l%Gt|0,e=l/Gt|0;s[i]=(s[i]+e)%Gt|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,lt?Ge(t,f.precision):t};le.toDecimalPlaces=le.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ts(t,0,Dd),e===void 0?e=n.rounding:ts(e,0,8),Ge(r,t+Rt(r)+1,e))};le.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Xl(n,!0):(ts(t,0,Dd),e===void 0?e=i.rounding:ts(e,0,8),n=Ge(new i(n),t+1,e),r=Xl(n,!0,t+1)),r};le.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Xl(i):(ts(t,0,Dd),e===void 0?e=s.rounding:ts(e,0,8),n=Ge(new s(i),t+Rt(i)+1,e),r=Xl(n.abs(),!1,t+Rt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};le.toInteger=le.toint=function(){var t=this,e=t.constructor;return Ge(new e(t),Rt(t)+1,e.rounding)};le.toNumber=function(){return+this};le.toPower=le.pow=function(t){var e,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(dn);if(l=new c(l),!l.s){if(t.s<1)throw Error(Xn+"Infinity");return l}if(l.eq(dn))return l;if(n=c.precision,t.eq(dn))return Ge(l,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=l.s,a){if((r=d<0?-d:d)<=SM){for(i=new c(dn),e=Math.ceil(n/et+4),lt=!1;r%2&&(i=i.times(l),G5(i.d,e)),r=Rd(r/2),r!==0;)l=l.times(l),G5(l.d,e);return lt=!0,t.s<0?new c(dn).div(i):Ge(i,n)}}else if(s<0)throw Error(Xn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,lt=!1,i=t.times(Ih(l,n+u)),lt=!0,i=CM(i),i.s=s,i};le.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Rt(i),n=Xl(i,r<=s.toExpNeg||r>=s.toExpPos)):(ts(t,1,Dd),e===void 0?e=s.rounding:ts(e,0,8),i=Ge(new s(i),t,e),r=Rt(i),n=Xl(i,t<=r||r<=s.toExpNeg,t)),n};le.toSignificantDigits=le.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ts(t,1,Dd),e===void 0?e=n.rounding:ts(e,0,8)),Ge(new n(r),t,e)};le.toString=le.valueOf=le.val=le.toJSON=le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rt(t),r=t.constructor;return Xl(t,e<=r.toExpNeg||e>=r.toExpPos)};function kM(t,e){var r,n,i,s,a,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),lt?Ge(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/et),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Gt|0,c[s]%=Gt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,lt?Ge(e,f):e}function ts(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Bl+t)}function Ki(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=et-n.length,r&&(s+=xa(r)),s+=n;a=t[e],n=a+"",r=et-n.length,r&&(s+=xa(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var _s=function(){function t(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%Gt|0,a=s/Gt|0;return a&&n.unshift(a),n}function e(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Gt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,g,x,w,y,v,b,j,A,S,C,N,P=n.constructor,I=n.s==i.s?1:-1,D=n.d,B=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(Xn+"Division by zero");for(c=n.e-i.e,C=B.length,A=D.length,m=new P(I),g=m.d=[],u=0;B[u]==(D[u]||0);)++u;if(B[u]>(D[u]||0)&&--c,s==null?v=s=P.precision:a?v=s+(Rt(n)-Rt(i))+1:v=s,v<0)return new P(0);if(v=v/et+2|0,u=0,C==1)for(d=0,B=B[0],v++;(u<A||d)&&v--;u++)b=d*Gt+(D[u]||0),g[u]=b/B|0,d=b%B|0;else{for(d=Gt/(B[0]+1)|0,d>1&&(B=t(B,d),D=t(D,d),C=B.length,A=D.length),j=C,x=D.slice(0,C),w=x.length;w<C;)x[w++]=0;N=B.slice(),N.unshift(0),S=B[0],B[1]>=Gt/2&&++S;do d=0,l=e(B,x,C,w),l<0?(y=x[0],C!=w&&(y=y*Gt+(x[1]||0)),d=y/S|0,d>1?(d>=Gt&&(d=Gt-1),f=t(B,d),h=f.length,w=x.length,l=e(f,x,h,w),l==1&&(d--,r(f,C<h?N:B,h))):(d==0&&(l=d=1),f=B.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=e(B,x,C,w),l<1&&(d++,r(x,C<w?N:B,w))),w=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[w++]=D[j]||0:(x=[D[j]],w=1);while((j++<A||x[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Ge(m,a?s+Rt(m)+1:s)}}();function CM(t,e){var r,n,i,s,a,l,c=0,u=0,d=t.constructor,f=d.precision;if(Rt(t)>16)throw Error(NN+Rt(t));if(!t.s)return new d(dn);for(lt=!1,l=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(Vo(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(dn),d.precision=l;;){if(i=Ge(i.times(t),l),r=r.times(++c),a=s.plus(_s(i,r,l)),Ki(a.d).slice(0,l)===Ki(s.d).slice(0,l)){for(;u--;)s=Ge(s.times(s),l);return d.precision=f,e==null?(lt=!0,Ge(s,f)):s}s=a}}function Rt(t){for(var e=t.e*et,r=t.d[0];r>=10;r/=10)e++;return e}function zv(t,e,r){if(e>t.LN10.sd())throw lt=!0,r&&(t.precision=r),Error(Xn+"LN10 precision limit exceeded");return Ge(new t(t.LN10),e)}function xa(t){for(var e="";t--;)e+="0";return e}function Ih(t,e){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=t,g=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Xn+(m.s?"NaN":"-Infinity"));if(m.eq(dn))return new x(0);if(e==null?(lt=!1,u=w):u=e,m.eq(10))return e==null&&(lt=!0),zv(x,u);if(u+=h,x.precision=u,r=Ki(g),n=r.charAt(0),s=Rt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Ki(m.d),n=r.charAt(0),f++;s=Rt(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=zv(x,u+2,w).times(s+""),m=Ih(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,e==null?(lt=!0,Ge(m,w)):m;for(l=a=m=_s(m.minus(dn),m.plus(dn),u),d=Ge(m.times(m),u),i=3;;){if(a=Ge(a.times(d),u),c=l.plus(_s(a,new x(i),u)),Ki(c.d).slice(0,u)===Ki(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(zv(x,u+2,w).times(s+""))),l=_s(l,new x(f),u),x.precision=w,e==null?(lt=!0,Ge(l,w)):l;l=c,i+=2}}function W5(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Rd(r/et),t.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=et;n<i;)t.d.push(+e.slice(n,n+=et));e=e.slice(n),n=et-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),lt&&(t.e>pg||t.e<-pg))throw Error(NN+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ge(t,e,r){var n,i,s,a,l,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=et,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/et),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=et,i=n-et+a}if(r!==void 0&&(s=Vo(10,a-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Vo(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=Rt(t),f.length=1,e=e-s-1,f[0]=Vo(10,(et-e%et)%et),t.e=Rd(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Vo(10,et-n),f[d]=i>0?(u/Vo(10,a-i)%Vo(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Gt&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Gt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(lt&&(t.e>pg||t.e<-pg))throw Error(NN+Rt(t));return t}function PM(t,e){var r,n,i,s,a,l,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),lt?Ge(e,m):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/et),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Gt-1;--c[s],c[i]+=Gt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,lt?Ge(e,m):e):new h(0)}function Xl(t,e,r){var n,i=Rt(t),s=Ki(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+xa(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+xa(-i-1)+s,r&&(n=r-a)>0&&(s+=xa(n))):i>=a?(s+=xa(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+xa(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=xa(n))),t.s<0?"-"+s:s}function G5(t,e){if(t.length>e)return t.length=e,!0}function TM(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bl+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return W5(a,s.toString())}else if(typeof s!="string")throw Error(Bl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,qre.test(s))W5(a,s);else throw Error(Bl+s)}if(i.prototype=le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=TM,i.config=i.set=Jre,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Jre(t){if(!t||typeof t!="object")throw Error(Xn+"Object expected");var e,r,n,i=["precision",1,Dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Rd(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Bl+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bl+r+": "+n);return this}var AN=TM(Yre);dn=new AN(1);const Ue=AN;var Xre=t=>t,OM={},IM=t=>t===OM,K5=t=>function e(){return arguments.length===0||arguments.length===1&&IM(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},DM=(t,e)=>t===1?e:K5(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==OM).length;return s>=t?e(...n):DM(t-s,K5(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>IM(d)?l.shift():d);return e(...u,...l)}))}),sx=t=>DM(t.length,t),j1=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Zre=sx((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),ene=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Xre;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},N1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),RM=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,l)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,r=t(...i)),r}};function MM(t){var e;return t===0?e=1:e=Math.floor(new Ue(t).abs().log(10).toNumber())+1,e}function LM(t,e,r){for(var n=new Ue(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}sx((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});sx((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});sx((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var _M=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},BM=(t,e,r)=>{if(t.lte(0))return new Ue(0);var n=MM(t.toNumber()),i=new Ue(10).pow(n),s=t.div(i),a=n!==1?.05:.1,l=new Ue(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return e?new Ue(c.toNumber()):new Ue(Math.ceil(c.toNumber()))},tne=(t,e,r)=>{var n=new Ue(1),i=new Ue(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Ue(10).pow(MM(t)-1),i=new Ue(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Ue(Math.floor(t)))}else t===0?i=new Ue(Math.floor((e-1)/2)):r||(i=new Ue(Math.floor(t)));var a=Math.floor((e-1)/2),l=ene(Zre(c=>i.add(new Ue(c-a).mul(n)).toNumber()),j1);return l(0,e)},FM=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new Ue(0),tickMin:new Ue(0),tickMax:new Ue(0)};var a=BM(new Ue(r).sub(e).div(n-1),i,s),l;e<=0&&r>=0?l=new Ue(0):(l=new Ue(e).add(r).div(2),l=l.sub(new Ue(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),u=Math.ceil(new Ue(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?FM(e,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new Ue(c).mul(a)),tickMax:l.add(new Ue(u).mul(a))})};function rne(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=_M([e,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...j1(0,n-1).map(()=>1/0)]:[...j1(0,n-1).map(()=>-1/0),l];return e>r?N1(c):c}if(a===l)return tne(a,n,i);var{step:u,tickMin:d,tickMax:f}=FM(a,l,s,i,0),h=LM(d,f.add(new Ue(.1).mul(u)),u);return e>r?N1(h):h}function nne(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=_M([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(e,2),c=BM(new Ue(a).sub(s).div(l-1),i,0),u=[...LM(new Ue(s),new Ue(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?N1(u):u}var ine=RM(rne),sne=RM(nne),UM=t=>t.rootProps.maxBarSize,ane=t=>t.rootProps.barGap,$M=t=>t.rootProps.barCategoryGap,one=t=>t.rootProps.barSize,gm=t=>t.rootProps.stackOffset,EN=t=>t.options.chartName,SN=t=>t.rootProps.syncId,VM=t=>t.rootProps.syncMethod,kN=t=>t.options.eventEmitter,js={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ax=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},lne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:js.reversed,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:js.type,unit:void 0},cne={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:cn.type,unit:void 0},une={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:js.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},dne={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:"category",unit:void 0},CN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?une:lne,PN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?dne:cne,ox=t=>t.polarOptions,TN=$([ea,ta,$t],hR),zM=$([ox,TN],(t,e)=>{if(t!=null)return Mr(t.innerRadius,e,0)}),HM=$([ox,TN],(t,e)=>{if(t!=null)return Mr(t.outerRadius,e,e*.8)}),fne=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},WM=$([ox],fne);$([CN,WM],ax);var GM=$([TN,zM,HM],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});$([PN,GM],ax);var KM=$([Te,ox,zM,HM,ea,ta],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=e;return{cx:Mr(a,i,i/2),cy:Mr(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ct=(t,e)=>e,ym=(t,e,r)=>r;function ON(t){return t==null?void 0:t.id}var zt=t=>{var e=Te(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Md=t=>t.tooltip.settings.axisId,Ht=t=>{var e=zt(t),r=Md(t);return xm(t,e,r)};function QM(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=ON(a);c.forEach((d,f)=>{var h=i==null?f:String(We(d,i,null)),m=We(d,a.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:m}),s.set(h,g)})}}),Array.from(s.values())}function lx(t){return t.stackId!=null&&t.dataKey!=null}function Q5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(r),!0).forEach(function(n){hne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hne(t,e,r){return(e=mne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A1=[0,"auto"],en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},na=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??en},tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:A1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qy},ko=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??tn},gne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},IN=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??gne},Ct=(t,e,r)=>{switch(e){case"xAxis":return na(t,r);case"yAxis":return ko(t,r);case"zAxis":return IN(t,r);case"angleAxis":return CN(t,r);case"radiusAxis":return PN(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},yne=(t,e,r)=>{switch(e){case"xAxis":return na(t,r);case"yAxis":return ko(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},xm=(t,e,r)=>{switch(e){case"xAxis":return na(t,r);case"yAxis":return ko(t,r);case"angleAxis":return CN(t,r);case"radiusAxis":return PN(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},YM=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function DN(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var cx=t=>t.graphicalItems.cartesianItems,xne=$([ct,ym],DN),RN=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),vm=$([cx,Ct,xne],RN),qM=$([vm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(lx)),JM=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),XM=$([vm],JM),MN=t=>t.map(e=>e.data).filter(Boolean).flat(1),vne=$([vm],MN),LN=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},_N=$([vne,ix],LN),BN=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:We(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:We(i,n)}))):t.map(n=>({value:n})),ux=$([_N,Ct,vm],BN);function ZM(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function mc(t){return t.filter(e=>es(e)||e instanceof Date).map(Number).filter(e=>bn(e)===!1)}function bne(t,e,r){return!r||typeof e!="number"||bn(e)?[]:r.length?mc(r.flatMap(n=>{var i=We(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Nn(s)||!Nn(a)))return[e-s,e+a]})):[]}var wne=$([qM,ix,Ht],QM),eL=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(ON);return[a,{stackedData:GX(t,c,r),graphicalItems:l}]}))},E1=$([wne,qM,gm],eL),tL=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=JX(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},jne=$([E1,So,ct],tL),rL=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>ZM(i,f)),d=We(s,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:bne(s,d,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:We(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),dx=t=>t.errorBars,nL=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>ZM(r,n));$([XM,dx,ct],nL);var Nne=$([_N,Ct,XM,dx,ct],rL);function Ane(t){var{value:e}=t;if(es(e)||e instanceof Date)return e}var Y5=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=mc(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ene=(t,e,r)=>{var n=t.map(Ane).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&K4(n))?WR(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},FN=t=>{var e;if(t==null||!("domain"in t))return A1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=mc(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:A1},yg=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},iL=t=>t.referenceElements.dots,Ld=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Sne=$([iL,ct,ym],Ld),sL=t=>t.referenceElements.areas,kne=$([sL,ct,ym],Ld),aL=t=>t.referenceElements.lines,Cne=$([aL,ct,ym],Ld),oL=(t,e)=>{var r=mc(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pne=$(Sne,ct,oL),lL=(t,e)=>{var r=mc(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Tne=$([kne,ct],lL),cL=(t,e)=>{var r=mc(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},One=$(Cne,ct,cL),Ine=$(Pne,One,Tne,(t,e,r)=>yg(t,r,e)),uL=$([Ct],FN),UN=(t,e,r,n,i,s,a)=>{var l=Kre(e,t.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?yg(r,i,Y5(n)):yg(i,Y5(n));return Qre(e,u,t.allowDataOverflow)},Dne=$([Ct,uL,jne,Nne,Ine,Te,ct],UN),Rne=[0,1],$N=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,u=No(e,s);return u&&l==null?WR(0,r.length):c==="category"?Ene(n,t,u):i==="expand"?Rne:a}},VN=$([Ct,Te,_N,ux,gm,ct,Dne],$N),dL=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(cm(s));return l in Nf?l:"point"}}},_d=$([Ct,Te,YM,EN,ct],dL);function Mne(t){if(t!=null){if(t in Nf)return Nf[t]();var e="scale".concat(cm(t));if(e in Nf)return Nf[e]()}}function zN(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Mne(e);if(i!=null){var s=i.domain(r).range(n);return $X(s),s}}}var HN=(t,e,r)=>{var n=FN(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Nd(t))return ine(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Nd(t))return sne(t,e.tickCount,e.allowDecimals)}},WN=$([VN,xm,_d],HN),GN=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Nd(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},Lne=$([Ct,VN,WN,ct],GN),_ne=$(ux,Ct,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(mc(t.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),fL=$(_ne,Te,$M,$t,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!Nn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Mr(r,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),Bne=(t,e)=>{var r=na(t,e);return r==null||typeof r.padding!="string"?0:fL(t,"xAxis",e,r.padding)},Fne=(t,e)=>{var r=ko(t,e);return r==null||typeof r.padding!="string"?0:fL(t,"yAxis",e,r.padding)},Une=$(na,Bne,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),$ne=$(ko,Fne,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Vne=$([$t,Une,qy,Yy,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),zne=$([$t,Te,$ne,qy,Yy,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),bm=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Vne(t,r,n);case"yAxis":return zne(t,r,n);case"zAxis":return(i=IN(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return WM(t);case"radiusAxis":return GM(t,r);default:return}},hL=$([Ct,bm],ax),Bd=$([Ct,_d,Lne,hL],zN);$([vm,dx,ct],nL);function mL(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var fx=(t,e)=>e,hx=(t,e,r)=>r,Hne=$(Qj,fx,hx,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(mL)),Wne=$(Yj,fx,hx,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(mL)),pL=(t,e)=>({width:t.width,height:e.height}),Gne=(t,e)=>{var r=typeof e.width=="number"?e.width:Qy;return{width:r,height:t.height}},gL=$($t,na,pL),Kne=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Qne=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},Yne=$(ta,$t,Hne,fx,hx,(t,e,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=pL(e,l);a==null&&(a=Kne(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),qne=$(ea,$t,Wne,fx,hx,(t,e,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=Gne(e,l);a==null&&(a=Qne(e,n,t));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),Jne=(t,e)=>{var r=$t(t),n=na(t,e);if(n!=null){var i=Yne(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Xne=(t,e)=>{var r=$t(t),n=ko(t,e);if(n!=null){var i=qne(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},yL=$($t,ko,(t,e)=>{var r=typeof e.width=="number"?e.width:Qy;return{width:r,height:t.height}}),q5=(t,e,r)=>{switch(e){case"xAxis":return gL(t,r).width;case"yAxis":return yL(t,r).height;default:return}},xL=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=No(t,n),c=e.map(u=>u.value);if(a&&l&&s==="category"&&i&&K4(c))return c}},KN=$([Te,ux,Ct,ct],xL),vL=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=No(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},QN=$([Te,ux,xm,ct],vL),J5=$([Te,yne,_d,Bd,KN,QN,bm,WN,ct],(t,e,r,n,i,s,a,l,c)=>{if(e==null)return null;var u=No(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),Zne=(t,e,r,n,i,s,a,l,c)=>{if(!(e==null||n==null)){var u=No(t,c),{type:d,ticks:f,tickCount:h}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?Jt(s[0]-s[1])*2*g:g;var x=f||i;if(x){var w=x.map((y,v)=>{var b=a?a.indexOf(y):y;return{index:v,coordinate:n(b)+g,value:y,offset:g}});return w.filter(y=>!bn(y.coordinate))}return u&&l?l.map((y,v)=>({coordinate:n(y)+g,value:y,index:v,offset:g})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+g,value:y,offset:g})):n.domain().map((y,v)=>({coordinate:n(y)+g,value:a?a[y]:y,index:v,offset:g}))}},bL=$([Te,xm,_d,Bd,WN,bm,KN,QN,ct],Zne),eie=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=No(t,a),{tickCount:c}=e,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Jt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},ho=$([Te,xm,Bd,bm,KN,QN,ct],eie),mo=$(Ct,Bd,(t,e)=>{if(!(t==null||e==null))return gg(gg({},t),{},{scale:e})}),tie=$([Ct,_d,VN,hL],zN);$((t,e,r)=>IN(t,r),tie,(t,e)=>{if(!(t==null||e==null))return gg(gg({},t),{},{scale:e})});var rie=$([Te,Qj,Yj],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wL=t=>t.options.defaultTooltipEventType,jL=t=>t.options.validateTooltipEventTypes;function NL(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function YN(t,e){var r=wL(t),n=jL(t);return NL(e,r,n)}function nie(t){return fe(e=>YN(e,t))}var AL=(t,e)=>{var r,n=Number(e);if(!(bn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},iie=t=>t.tooltip.settings,Na={active:!1,index:null,dataKey:void 0,coordinate:void 0},sie={itemInteraction:{click:Na,hover:Na},axisInteraction:{click:Na,hover:Na},keyboardInteraction:Na,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},EL=Sn({name:"tooltip",initialState:sie,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Ls(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:aie,removeTooltipEntrySettings:oie,setTooltipSettingsState:lie,setActiveMouseOverItemIndex:SL,mouseLeaveItem:cie,mouseLeaveChart:kL,setActiveClickItemIndex:uie,setMouseOverAxisIndex:CL,setMouseClickAxisIndex:die,setSyncInteraction:S1,setKeyboardInteraction:k1}=EL.actions,fie=EL.reducer;function X5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(r),!0).forEach(function(n){hie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hie(t,e,r){return(e=mie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mie(t){var e=pie(t,"string");return typeof e=="symbol"?e:e+""}function pie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gie(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function yie(t){return t.index!=null}var PL=(t,e,r,n)=>{if(e==null)return Na;var i=gie(t,e,r);if(i==null)return Na;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(yie(i)){if(s)return pp(pp({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return pp(pp({},Na),{},{coordinate:i.coordinate})},qN=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!Nn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},TL=(t,e,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},OL=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},wm=t=>t.options.tooltipPayloadSearcher,Fd=t=>t.tooltip;function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){xie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xie(t,e,r){return(e=vie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vie(t){var e=bie(t,"string");return typeof e=="symbol"?e:e+""}function bie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t,e){return t??e}var IL=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return t.reduce((h,m)=>{var g,{dataDefinedOnItem:x,settings:w}=m,y=wie(x,l),v=Array.isArray(y)?mR(y,u,d):y,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,A;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?A=Q4(v,n.dataKey,i):A=s(v,e,c,j),Array.isArray(A))A.forEach(C=>{var N=eP(eP({},w),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(HC({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:We(C.payload,C.dataKey),name:C.name}))});else{var S;h.push(HC({tooltipEntrySettings:w,dataKey:b,payload:A,value:We(A,b),name:(S=We(A,j))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},JN=$([Ht,Te,YM,EN,zt],dL),jie=$([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Nie=$([zt,Md],DN),jm=$([jie,Ht,Nie],RN),Aie=$([jm],t=>t.filter(lx)),Eie=$([jm],MN),Ud=$([Eie,So],LN),Sie=$([Aie,So,Ht],QM),XN=$([Ud,Ht,jm],BN),kie=$([Ht],FN),Cie=$([jm],t=>t.filter(lx)),Pie=$([Sie,Cie,gm],eL),Tie=$([Pie,So,zt],tL),Oie=$([jm],JM),Iie=$([Ud,Ht,Oie,dx,zt],rL),Die=$([iL,zt,Md],Ld),Rie=$([Die,zt],oL),Mie=$([sL,zt,Md],Ld),Lie=$([Mie,zt],lL),_ie=$([aL,zt,Md],Ld),Bie=$([_ie,zt],cL),Fie=$([Rie,Bie,Lie],yg),Uie=$([Ht,kie,Tie,Iie,Fie,Te,zt],UN),DL=$([Ht,Te,Ud,XN,gm,zt,Uie],$N),$ie=$([DL,Ht,JN],HN),Vie=$([Ht,DL,$ie,zt],GN),RL=t=>{var e=zt(t),r=Md(t),n=!1;return bm(t,e,r,n)},ML=$([Ht,RL],ax),LL=$([Ht,JN,Vie,ML],zN),zie=$([Te,XN,Ht,zt],xL),Hie=$([Te,XN,Ht,zt],vL),Wie=(t,e,r,n,i,s,a,l)=>{if(e){var{type:c}=e,u=No(t,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Jt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},ia=$([Te,Ht,JN,LL,RL,zie,Hie,zt],Wie),ZN=$([wL,jL,iie],(t,e,r)=>NL(r.shared,t,e)),_L=t=>t.tooltip.settings.trigger,eA=t=>t.tooltip.settings.defaultIndex,mx=$([Fd,ZN,_L,eA],PL),po=$([mx,Ud],qN),BL=$([ia,po],AL),FL=$([mx],t=>{if(t)return t.dataKey}),UL=$([Fd,ZN,_L,eA],OL),Gie=$([ea,ta,Te,$t,ia,eA,UL,wm],TL),Kie=$([mx,Gie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Qie=$([mx],t=>t.active),Yie=$([UL,po,So,Ht,BL,wm,ZN],IL),qie=$([Yie],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function tP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tP(Object(r),!0).forEach(function(n){Jie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jie(t,e,r){return(e=Xie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xie(t){var e=Zie(t,"string");return typeof e=="symbol"?e:e+""}function Zie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ese=()=>fe(Ht),tse=()=>{var t=ese(),e=fe(ia),r=fe(LL);return Sh(rP(rP({},t),{},{scale:r}),e)},rse=()=>fe(EN),tA=(t,e)=>e,$L=(t,e,r)=>r,rA=(t,e,r,n)=>n,nse=$(ia,t=>$y(t,e=>e.coordinate)),nA=$([Fd,tA,$L,rA],PL),VL=$([nA,Ud],qN),ise=(t,e,r)=>{if(e!=null){var n=Fd(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},zL=$([Fd,tA,$L,rA],OL),xg=$([ea,ta,Te,$t,ia,rA,zL,wm],TL),sse=$([nA,xg],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),HL=$(ia,VL,AL),ase=$([zL,VL,So,Ht,HL,wm,tA],IL),ose=$([nA],t=>({isActive:t.active,activeIndex:t.index})),lse=(t,e,r,n,i,s,a,l)=>{if(!(!t||!e||!n||!i||!s)){var c=XX(t.chartX,t.chartY,e,r,l);if(c){var u=eZ(c,e),d=FX(u,a,s,n,i),f=ZX(e,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(null,arguments)}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(n){cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cse(t,e,r){return(e=use(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function use(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fse(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=t,d=e,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=_Z;else if(u==="BarChart")m=BZ(a,d,i,s),g=BR;else if(a==="radial"){var{cx:x,cy:w,radius:y,startAngle:v,endAngle:b}=FR(d);m={cx:x,cy:w,startAngle:v,endAngle:b,innerRadius:y,outerRadius:y},g=$R}else m={points:yee(a,d,i)},g=Jj;var j=typeof l=="object"&&"className"in l?l.className:void 0,A=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},i),m),ot(l,!1)),{},{payload:f,payloadIndex:h,className:_e("recharts-tooltip-cursor",j)});return p.isValidElement(l)?p.cloneElement(l,A):p.createElement(g,A)}function hse(t){var e=tse(),r=wR(),n=Jy(),i=rse();return p.createElement(fse,C1({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var WL=p.createContext(null),mse=()=>p.useContext(WL),GL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],y=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,g),!0}for(b=1,v=new Array(y-1);b<y;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,A;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),y){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(A=1,v=new Array(y-1);A<y;A++)v[A-1]=arguments[A];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var x=0,w=[],y=g.length;x<y;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&w.push(g[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(GL);var pse=GL.exports;const gse=rs(pse);var Dh=new gse,P1="recharts.syncEvent.tooltip",iP="recharts.syncEvent.brush";function iA(t,e){if(e){var r=Number.parseInt(e,10);if(!bn(r))return t==null?void 0:t[r]}}var yse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KL=Sn({name:"options",initialState:yse,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xse=KL.reducer,{createEventEmitter:vse}=KL.actions;function bse(t){return t.tooltip.syncInteraction}var wse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QL=Sn({name:"chartData",initialState:wse,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:sP,setDataStartEndIndexes:jse,setComputedData:Vfe}=QL.actions,Nse=QL.reducer,YL=()=>{};function Ase(){var t=fe(SN),e=fe(kN),r=kt(),n=fe(VM),i=fe(ia),s=Jy(),a=qj(),l=fe(c=>c.rootProps.className);p.useEffect(()=>{if(t==null)return YL;var c=(u,d,f)=>{if(e!==f&&t===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(i,m);h=i[g]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||a==null){r(S1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y}=x,v=Math.min(w,a.x+a.width),b=Math.min(y,a.y+a.height),j={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},A=S1({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(A)}}};return Dh.on(P1,c),()=>{Dh.off(P1,c)}},[l,r,e,t,n,i,s,a])}function Ese(){var t=fe(SN),e=fe(kN),r=kt();p.useEffect(()=>{if(t==null)return YL;var n=(i,s,a)=>{e!==a&&t===i&&r(jse(s))};return Dh.on(iP,n),()=>{Dh.off(iP,n)}},[r,e,t])}function Sse(){var t=kt();p.useEffect(()=>{t(vse())},[t]),Ase(),Ese()}function kse(t,e,r,n,i,s){var a=fe(h=>ise(h,t,e)),l=fe(kN),c=fe(SN),u=fe(VM),d=fe(bse),f=d==null?void 0:d.active;p.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=S1({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});Dh.emit(P1,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){Cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cse(t,e,r){return(e=Pse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pse(t){var e=Tse(t,"string");return typeof e=="symbol"?e:e+""}function Tse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ose(t){return t.dataKey}function Ise(t,e){return p.isValidElement(t)?p.cloneElement(t,e):typeof t=="function"?p.createElement(t,e):p.createElement(pZ,e)}var lP=[],Dse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!dc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vc(t){var e=kn(t,Dse),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:w,trigger:y,defaultIndex:v,portal:b,axisId:j}=e,A=kt(),S=typeof v=="number"?String(v):v;p.useEffect(()=>{A(lie({shared:w,trigger:y,axisId:j,active:r,defaultIndex:S}))},[A,w,y,j,r,S]);var C=qj(),N=kR(),P=nie(w),{activeIndex:I,isActive:D}=fe(de=>ose(de,P,y,S)),B=fe(de=>ase(de,P,y,S)),V=fe(de=>HL(de,P,y,S)),Q=fe(de=>sse(de,P,y,S)),T=B,M=mse(),U=r??D,[k,L]=PJ([T,U]),H=P==="axis"?V:void 0;kse(P,y,Q,H,I,U);var W=b??M;if(W==null)return null;var G=T??lP;U||(G=lP),l&&G.length&&(G=Kq(T.filter(de=>de.value!=null&&(de.hide!==!0||e.includeHidden)),d,Ose));var me=G.length>0,ve=p.createElement(jZ,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:U,coordinate:Q,hasPayload:me,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:C,wrapperStyle:g,lastBoundingBox:k,innerRef:L,hasPortalFromProps:!!b},Ise(a,oP(oP({},e),{},{payload:G,label:H,active:U,coordinate:Q,accessibilityLayer:N})));return p.createElement(p.Fragment,null,g3.createPortal(ve,W),U&&p.createElement(hse,{cursor:x,tooltipEventType:P,coordinate:Q,payload:T,index:I}))}var qL={},JL={},XL={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),a=void 0,l=null},w=()=>{d()},y=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return y.schedule=m,y.cancel=x,y.flush=w,i==null||i.addEventListener("abort",x,{once:!0}),y}t.debounce=e})(XL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XL;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=e.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}t.debounce=r})(JL);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JL;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:l})}t.throttle=r})(qL);var Rse=qL.throttle;const Mse=rs(Rse);var Ff=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){Lse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lse(t,e,r){return(e=_se(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _se(t){var e=Bse(t,"string");return typeof e=="symbol"?e:e+""}function Bse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zc=p.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=t,x=p.useRef(null),w=p.useRef();w.current=m,p.useImperativeHandle(e,()=>x.current);var[y,v]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((A,S)=>{v(C=>{var N=Math.round(A),P=Math.round(S);return C.containerWidth===N&&C.containerHeight===P?C:{containerWidth:N,containerHeight:P}})},[]);p.useEffect(()=>{var A=P=>{var I,{width:D,height:B}=P[0].contentRect;b(D,B),(I=w.current)===null||I===void 0||I.call(w,D,B)};d>0&&(A=Mse(A,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(A),{width:C,height:N}=x.current.getBoundingClientRect();return b(C,N),S.observe(x.current),()=>{S.disconnect()}},[b,d]);var j=p.useMemo(()=>{var{containerWidth:A,containerHeight:S}=y;if(A<0||S<0)return null;Ff(il(i)||il(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Ff(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=il(i)?A:i,N=il(s)?S:s;return r&&r>0&&(C?N=C/r:N&&(C=N*r),c&&N>c&&(N=c)),Ff(C>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,N,i,s,a,l,r),p.Children.map(u,P=>p.cloneElement(P,{width:C,height:N,style:Hv({width:C,height:N},P.props.style)}))},[r,u,s,c,l,a,y,i]);return p.createElement("div",{id:f?"".concat(f):void 0,className:_e("recharts-responsive-container",h),style:Hv(Hv({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:x},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Nm=t=>null;Nm.displayName="Cell";function Fse(t,e,r){return(e=Use(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Use(t){var e=$se(t,"string");return typeof e=="symbol"?e:e+""}function $se(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Vse{constructor(e){Fse(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){Hse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hse(t,e,r){return(e=Wse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kse={cacheSize:2e3,enableCache:!0},ZL=zse({},Kse),dP=new Vse(ZL.cacheSize),Qse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fP="recharts_measurement_span";function Yse(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var hP=(t,e)=>{try{var r=document.getElementById(fP);r||(r=document.createElement("span"),r.setAttribute("id",fP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Qse,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Uf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||dc.isSsr)return{width:0,height:0};if(!ZL.enableCache)return hP(e,r);var n=Yse(e,r),i=dP.get(n);if(i)return i;var s=hP(e,r);return dP.set(n,s),s},mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,e_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Xse=Object.keys(e_),Hc="NaN";function Zse(t,e){return t*e_[e]}class Ur{static parse(e){var r,[,n,i]=(r=Jse.exec(e))!==null&&r!==void 0?r:[];return new Ur(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,bn(e)&&(this.unit=""),r!==""&&!qse.test(r)&&(this.num=NaN,this.unit=""),Xse.includes(r)&&(this.num=Zse(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ur(NaN,""):new Ur(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bn(this.num)}}function t_(t){if(t.includes(Hc))return Hc;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=mP.exec(e))!==null&&r!==void 0?r:[],a=Ur.parse(n??""),l=Ur.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Hc;e=e.replace(mP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,h]=(u=pP.exec(e))!==null&&u!==void 0?u:[],m=Ur.parse(d??""),g=Ur.parse(h??""),x=f==="+"?m.add(g):m.subtract(g);if(x.isNaN())return Hc;e=e.replace(pP,x.toString())}return e}var gP=/\(([^()]*)\)/;function eae(t){for(var e=t,r;(r=gP.exec(e))!=null;){var[,n]=r;e=e.replace(gP,t_(n))}return e}function tae(t){var e=t.replace(/\s+/g,"");return e=eae(e),e=t_(e),e}function rae(t){try{return tae(t)}catch{return Hc}}function Wv(t){var e=rae(t.slice(5,-1));return e===Hc?"":e}var nae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iae=["dx","dy","angle","className","breakAll"];function T1(){return T1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T1.apply(null,arguments)}function yP(t,e){if(t==null)return{};var r,n,i=sae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var r_=/[ \f\n\r\t\v\u2028\u2029]+/,n_=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];rt(e)||(r?i=e.toString().split(""):i=e.toString().split(r_));var s=i.map(l=>({word:l,width:Uf(l,n).width})),a=r?0:Uf(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},aae=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,u=ie(s),d=a,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((B,V)=>{var{word:Q,width:T}=V,M=B[B.length-1];if(M&&(n==null||i||M.width+T+r<Number(n)))M.words.push(Q),M.width+=T+r;else{var U={words:[Q],width:T};B.push(U)}return B},[])},h=f(e),m=I=>I.reduce((D,B)=>D.width>B.width?D:B);if(!u||i)return h;var g=h.length>s||m(h).width>Number(n);if(!g)return h;for(var x="…",w=I=>{var D=d.slice(0,I),B=n_({breakAll:c,style:l,children:D+x}).wordsWithComputedWidth,V=f(B),Q=V.length>s||m(V).width>Number(n);return[Q,V]},y=0,v=d.length-1,b=0,j;y<=v&&b<=d.length-1;){var A=Math.floor((y+v)/2),S=A-1,[C,N]=w(S),[P]=w(A);if(!C&&!P&&(y=A+1),C&&P&&(v=A-1),!C&&P){j=N;break}b++}return j||h},xP=t=>{var e=rt(t)?[]:t.toString().split(r_);return[{words:e}]},oae=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!dc.isSsr){var l,c,u=n_({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return xP(n);return aae({breakAll:s,children:n,maxLines:a,style:i},l,c,e,r)}return xP(n)},vP="#808080",px=p.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=vP}=t,d=yP(t,nae),f=p.useMemo(()=>oae({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:g,className:x,breakAll:w}=d,y=yP(d,iae);if(!es(r)||!es(n))return null;var v=r+(ie(h)?h:0),b=n+(ie(m)?m:0),j;switch(c){case"start":j=Wv("calc(".concat(s,")"));break;case"middle":j=Wv("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=Wv("calc(".concat(f.length-1," * -").concat(i,")"));break}var A=[];if(a){var S=f[0].width,{width:C}=d;A.push("scale(".concat(ie(C)?C/S:1,")"))}return g&&A.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),A.length&&(y.transform=A.join(" ")),p.createElement("text",T1({},ot(y,!0),{ref:e,x:v,y:b,className:_e("recharts-text",x),textAnchor:l,fill:u.includes("url")?vP:u}),f.map((N,P)=>{var I=N.words.join(w?"":" ");return p.createElement("tspan",{x:v,dy:P===0?j:i,key:"".concat(I,"-").concat(P)},I)}))});px.displayName="Text";var lae=["offset"],cae=["labelRef"];function bP(t,e){if(t==null)return{};var r,n,i=uae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function wP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wP(Object(r),!0).forEach(function(n){dae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dae(t,e,r){return(e=fae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ns.apply(null,arguments)}var mae=t=>{var{value:e,formatter:r}=t,n=rt(t.children)?e:t.children;return typeof r=="function"?r(n):n},sA=t=>t!=null&&typeof t=="function",pae=(t,e)=>{var r=Jt(e-t),n=Math.min(Math.abs(e-t),360);return r*n},gae=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,g=(u+d)/2,x=pae(f,h),w=x>=0?1:-1,y,v;i==="insideStart"?(y=f+w*s,v=m):i==="insideEnd"?(y=h-w*s,v=!m):i==="end"&&(y=h+w*s,v=m),v=x<=0?v:!v;var b=Dt(l,c,g,y),j=Dt(l,c,g,y+(v?1:-1)*359),A="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=rt(t.id)?Nh("recharts-radial-line-"):t.id;return p.createElement("text",Ns({},r,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",a)}),p.createElement("defs",null,p.createElement("path",{id:S,d:A})),p.createElement("textPath",{xlinkHref:"#".concat(S)},e))},yae=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Dt(n,i,a+e,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:g}=Dt(n,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},xae=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:l,height:c}=e,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,g=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var y={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return gt(gt({},y),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return gt(gt({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"};return gt(gt({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return gt(gt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var A=r?{width:l,height:c}:{};return i==="insideLeft"?gt({x:s+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},A):i==="insideRight"?gt({x:s+l-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"},A):i==="insideTop"?gt({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},A):i==="insideBottom"?gt({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},A):i==="insideTopLeft"?gt({x:s+g,y:a+d,textAnchor:w,verticalAnchor:h},A):i==="insideTopRight"?gt({x:s+l-g,y:a+d,textAnchor:x,verticalAnchor:h},A):i==="insideBottomLeft"?gt({x:s+g,y:a+c-d,textAnchor:w,verticalAnchor:f},A):i==="insideBottomRight"?gt({x:s+l-g,y:a+c-d,textAnchor:x,verticalAnchor:f},A):i&&typeof i=="object"&&(ie(i.x)||il(i.x))&&(ie(i.y)||il(i.y))?gt({x:s+Mr(i.x,l),y:a+Mr(i.y,c),textAnchor:"end",verticalAnchor:"end"},A):gt({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},vae=t=>"cx"in t&&ie(t.cx);function un(t){var{offset:e=5}=t,r=bP(t,lae),n=gt({offset:e},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=fe(KM),m=qj(),g=s==="center"?m:h??m,x=i||g;if(!x||rt(a)&&rt(l)&&!p.isValidElement(c)&&typeof c!="function")return null;var w=gt(gt({},n),{},{viewBox:x});if(p.isValidElement(c)){var{labelRef:y}=w,v=bP(w,cae);return p.cloneElement(c,v)}var b;if(typeof c=="function"){if(b=p.createElement(c,w),p.isValidElement(b))return b}else b=mae(n);var j=vae(x),A=ot(n,!0);if(j&&(s==="insideStart"||s==="insideEnd"||s==="end"))return gae(n,b,A,x);var S=j?yae(x,n.offset,n.position):xae(n,x);return p.createElement(px,Ns({ref:f,className:_e("recharts-label",u)},A,S,{breakAll:d}),b)}un.displayName="Label";var i_=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:g,height:x,clockWise:w,labelViewBox:y}=t;if(y)return y;if(ie(g)&&ie(x)){if(ie(d)&&ie(f))return{x:d,y:f,width:g,height:x};if(ie(h)&&ie(m))return{x:h,y:m,width:g,height:x}}if(ie(d)&&ie(f))return{x:d,y:f,width:0,height:0};if(ie(e)&&ie(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(t.viewBox)return t.viewBox},bae=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?p.createElement(un,Ns({key:"label-implicit"},n)):es(t)?p.createElement(un,Ns({key:"label-implicit",value:t},n)):p.isValidElement(t)?t.type===un?p.cloneElement(t,gt({key:"label-implicit"},n)):p.createElement(un,Ns({key:"label-implicit",content:t},n)):sA(t)?p.createElement(un,Ns({key:"label-implicit",content:t},n)):t&&typeof t=="object"?p.createElement(un,Ns({},t,{key:"label-implicit"},n)):null},wae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=i_(e),l=um(i,un).map((u,d)=>p.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=bae(e.label,r||a,s);return[c,...l]};un.parseViewBox=i_;un.renderCallByParent=wae;var s_={},a_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(a_);var o_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(o_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a_,r=o_,n=Ly;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(s_);var jae=s_.last;const Nae=rs(jae);var Aae=["valueAccessor"],Eae=["data","dataKey","clockWise","id","textBreakAll"];function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(null,arguments)}function jP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jP(Object(r),!0).forEach(function(n){Sae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sae(t,e,r){return(e=kae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kae(t){var e=Cae(t,"string");return typeof e=="symbol"?e:e+""}function Cae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AP(t,e){if(t==null)return{};var r,n,i=Pae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Pae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Tae=t=>Array.isArray(t.value)?Nae(t.value):t.value;function to(t){var{valueAccessor:e=Tae}=t,r=AP(t,Aae),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=AP(r,Eae);return!n||!n.length?null:p.createElement(wr,{className:"recharts-label-list"},n.map((u,d)=>{var f=rt(i)?e(u,d):We(u&&u.payload,i),h=rt(a)?{}:{id:"".concat(a,"-").concat(d)};return p.createElement(un,vg({},ot(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:un.parseViewBox(rt(s)?u:NP(NP({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}to.displayName="LabelList";function Oae(t,e){return t?t===!0?p.createElement(to,{key:"labelList-implicit",data:e}):p.isValidElement(t)||sA(t)?p.createElement(to,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?p.createElement(to,vg({data:e},t,{key:"labelList-implicit"})):null:null}function Iae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=um(n,to).map((a,l)=>p.cloneElement(a,{data:e,key:"labelList-".concat(l)}));if(!r)return i;var s=Oae(t.label,e);return[s,...i]}to.renderCallByParent=Iae;function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O1.apply(null,arguments)}var l_=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=_e("recharts-dot",i);return e===+e&&r===+r&&n===+n?p.createElement("circle",O1({},Zs(t),Pj(t),{className:s,cx:e,cy:r,r:n})):null},c_=t=>t.graphicalItems.polarItems,Dae=$([ct,ym],DN),aA=$([c_,Ct,Dae],RN),Rae=$([aA],MN),oA=$([Rae,jN],LN),Mae=$([oA,Ct,aA],BN),Lae=$([oA,Ct,aA],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=We(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:We(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),EP=()=>{},_ae=$([Ct,uL,EP,Lae,EP,Te,ct],UN),u_=$([Ct,Te,oA,Mae,gm,ct,_ae],$N),Bae=$([u_,Ct,_d],HN);$([Ct,u_,Bae,ct],GN);var Fae={radiusAxis:{},angleAxis:{}},d_=Sn({name:"polarAxis",initialState:Fae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:zfe,removeRadiusAxis:Hfe,addAngleAxis:Wfe,removeAngleAxis:Gfe}=d_.actions,Uae=d_.reducer;function SP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(r),!0).forEach(function(n){$ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ae(t,e,r){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hae=(t,e)=>e,lA=$([c_,Hae],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),Wae=[],cA=(t,e,r)=>(r==null?void 0:r.length)===0?Wae:r,f_=$([jN,lA,cA],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>kP(kP({},e.presentationProps),s.props))),i!=null)return i}}),Gae=$([f_,lA,cA],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=We(n,e.nameKey,e.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:Od(a,e.dataKey),color:l,payload:n,type:e.legendType}})}),Kae=$([f_,lA,cA,$t],(t,e,r,n)=>{if(!(e==null||t==null))return Boe({offset:n,pieSettings:e,displayedData:t,cells:r})}),h_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(h_);var Qae=h_.isPlainObject;const Yae=rs(Qae);function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bg.apply(null,arguments)}var CP=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},qae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jae=t=>{var e=kn(t,qae),r=p.useRef(),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=e;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var x=_e("recharts-trapezoid",d);return g?p.createElement(ig,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:g},w=>{var{upperWidth:y,lowerWidth:v,height:b,x:j,y:A}=w;return p.createElement(ig,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},p.createElement("path",bg({},ot(e,!0),{className:x,d:CP(j,A,y,v,b),ref:r})))}):p.createElement("g",null,p.createElement("path",bg({},ot(e,!0),{className:x,d:CP(s,a,l,c,u)})))},Xae=["option","shapeType","propTransformer","activeClassName","isActive"];function Zae(t,e){if(t==null)return{};var r,n,i=eoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eoe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(n){toe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function toe(t,e,r){return(e=roe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function roe(t){var e=noe(t,"string");return typeof e=="symbol"?e:e+""}function noe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ioe(t,e){return wg(wg({},e),t)}function soe(t,e){return t==="symbols"}function TP(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return p.createElement(BR,r);case"trapezoid":return p.createElement(Jae,r);case"sector":return p.createElement($R,r);case"symbols":if(soe(e))return p.createElement(gD,r);break;default:return null}}function aoe(t){return p.isValidElement(t)?t.props:t}function m_(t){var{option:e,shapeType:r,propTransformer:n=ioe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=Zae(t,Xae),l;if(p.isValidElement(e))l=p.cloneElement(e,wg(wg({},a),aoe(e)));else if(typeof e=="function")l=e(a);else if(Yae(e)&&typeof e!="boolean"){var c=n(e,a);l=p.createElement(TP,{shapeType:r,elementProps:c})}else{var u=a;l=p.createElement(TP,{shapeType:r,elementProps:u})}return s?p.createElement(wr,{className:i},l):l}var uA=(t,e)=>{var r=kt();return(n,i)=>s=>{t==null||t(n,i,s),r(SL({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},dA=t=>{var e=kt();return(r,n)=>i=>{t==null||t(r,n,i),e(cie())}},fA=(t,e)=>{var r=kt();return(n,i)=>s=>{t==null||t(n,i,s),r(uie({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function hA(t){var{fn:e,args:r}=t,n=kt(),i=Xr();return p.useEffect(()=>{if(!i){var s=e(r);return n(aie(s)),()=>{n(oie(s))}}},[e,r,n,i]),null}var p_=()=>{};function g_(t){var{legendPayload:e}=t,r=kt(),n=Xr();return p.useEffect(()=>n?p_:(r(ER(e)),()=>{r(SR(e))}),[r,n,e]),null}function ooe(t){var{legendPayload:e}=t,r=kt(),n=fe(Te);return p.useEffect(()=>n!=="centric"&&n!=="radial"?p_:(r(ER(e)),()=>{r(SR(e))}),[r,n,e]),null}function mA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(Nh(e)),n=p.useRef(t);return n.current!==t&&(r.current=Nh(e),n.current=t),r.current}var Gv,loe=()=>{var[t]=p.useState(()=>Nh("uid-"));return t},coe=(Gv=PB.useId)!==null&&Gv!==void 0?Gv:loe;function uoe(t,e){var r=coe();return e||(t?"".concat(t,"-").concat(r):r)}var doe=p.createContext(void 0),pA=t=>{var{id:e,type:r,children:n}=t,i=uoe("recharts-".concat(r),e);return p.createElement(doe.Provider,{value:i},n(i))},foe={cartesianItems:[],polarItems:[]},y_=Sn({name:"graphicalItems",initialState:foe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Ls(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Ls(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Ls(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:hoe,replaceCartesianGraphicalItem:moe,removeCartesianGraphicalItem:poe,addPolarGraphicalItem:goe,removePolarGraphicalItem:yoe}=y_.actions,xoe=y_.reducer;function x_(t){var e=kt(),r=p.useRef(null);return p.useEffect(()=>{r.current===null?e(hoe(t)):r.current!==t&&e(moe({prev:r.current,next:t})),r.current=t},[e,t]),p.useEffect(()=>()=>{r.current&&(e(poe(r.current)),r.current=null)},[e]),null}function voe(t){var e=kt();return p.useEffect(()=>(e(goe(t)),()=>{e(yoe(t))}),[e,t]),null}function boe(){}var woe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},OP={t:0},Kv={t:1};function gA(t){var e=kn(t,woe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=_R("JavascriptAnimate",e.animationManager),[f,h]=p.useState(r?OP:Kv),m=p.useRef(null);return p.useEffect(()=>{r||h(Kv)},[r]),p.useEffect(()=>{if(!r||!n)return boe;var g=LR(OP,Kv,RR(s),i,h,d.getTimeoutController()),x=()=>{m.current=g()};return d.start([c,a,x,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var joe=["onMouseEnter","onClick","onMouseLeave"],Noe=["id"],Aoe=["id"];function yA(t,e){if(t==null)return{};var r,n,i=Eoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Eoe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function IP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(r),!0).forEach(function(n){Soe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Soe(t,e,r){return(e=koe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function koe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qs.apply(null,arguments)}function Poe(t){var e=p.useMemo(()=>um(t.children,Nm),[t.children]),r=fe(n=>Gae(n,t.id,e));return r==null?null:p.createElement(ooe,{legendPayload:r})}function Toe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Od(l,e),hide:c,type:u,color:a,unit:""}}}var Ooe=(t,e)=>t>e?"start":t<e?"end":"middle",Ioe=(t,e,r)=>typeof e=="function"?e(t):Mr(e,r,r*.8),Doe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,l=hR(s,a),c=i+Mr(t.cx,s,s/2),u=n+Mr(t.cy,a,a/2),d=Mr(t.innerRadius,l,0),f=Ioe(r,t.outerRadius,l),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Roe=(t,e)=>{var r=Jt(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Moe=(t,e)=>{if(p.isValidElement(t))return p.cloneElement(t,e);if(typeof t=="function")return t(e);var r=_e("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return p.createElement(Jj,qs({},e,{type:"linear",className:r}))},Loe=(t,e,r)=>{if(p.isValidElement(t))return p.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),p.isValidElement(n)))return n;var i=_e("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return p.createElement(px,qs({},e,{alignmentBaseline:"middle",className:i}),n)};function _oe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var l=Zs(r),c=ot(i,!1),u=ot(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,x=Dt(h.cx,h.cy,h.outerRadius+d,g),w=vt(vt(vt(vt({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:Ooe(x.x,h.cx)},x),y=vt(vt(vt(vt({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Dt(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return p.createElement(wr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&Moe(s,y),Loe(i,w,We(h,a)))});return p.createElement(wr,{className:"recharts-pie-labels"},f)}function v_(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=fe(po),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=yA(i,joe),f=uA(l,i.dataKey),h=dA(u),m=fA(c,i.dataKey);return e==null?null:p.createElement(p.Fragment,null,e.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&e.length!==1)return null;var w=r&&String(x)===a,y=a?n:null,v=w?r:y,b=vt(vt({},g),{},{stroke:g.stroke,tabIndex:-1,[xR]:x,[vR]:i.dataKey});return p.createElement(wr,qs({tabIndex:-1,className:"recharts-pie-sector"},Iy(d,g,x),{onMouseEnter:f(g,x),onMouseLeave:h(g,x),onClick:m(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),p.createElement(m_,qs({option:v,isActive:w,shapeType:"sector"},b)))}),p.createElement(_oe,{sectors:e,props:i,showLabels:s}))}function Boe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Roe(l,c),g=Math.abs(m),x=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(S=>We(S,u,0)!==0).length,y=(g>=360?w:w-1)*x,v=g-w*h-y,b=n.reduce((S,C)=>{var N=We(C,u,0);return S+(ie(N)?N:0)},0),j;if(b>0){var A;j=n.map((S,C)=>{var N=We(S,u,0),P=We(S,d,C),I=Doe(r,s,S),D=(ie(N)?N:0)/b,B,V=vt(vt({},S),i&&i[C]&&i[C].props);C?B=A.endAngle+Jt(m)*x*(N!==0?1:0):B=l;var Q=B+Jt(m)*((N!==0?h:0)+D*v),T=(B+Q)/2,M=(I.innerRadius+I.outerRadius)/2,U=[{name:P,value:N,payload:V,dataKey:u,type:f}],k=Dt(I.cx,I.cy,M,T);return A=vt(vt(vt(vt({},r.presentationProps),{},{percent:D,cornerRadius:a,name:P,tooltipPayload:U,midAngle:T,middleRadius:M,tooltipPosition:k},V),I),{},{value:We(S,u),startAngle:B,endAngle:Q,payload:V,paddingAngle:Jt(m)*x}),A})}return j}function Foe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,h=mA(e,"recharts-pie-"),m=r.current,[g,x]=p.useState(!0),w=p.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),y=p.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return p.createElement(gA,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:y,onAnimationEnd:w,key:h},v=>{var b=[],j=n&&n[0],A=j.startAngle;return n.forEach((S,C)=>{var N=m&&m[C],P=C>0?fo(S,"paddingAngle",0):0;if(N){var I=uC(N.endAngle-N.startAngle,S.endAngle-S.startAngle),D=vt(vt({},S),{},{startAngle:A+P,endAngle:A+I(v)+P});b.push(D),A=D.endAngle}else{var{endAngle:B,startAngle:V}=S,Q=uC(0,B-V),T=Q(v),M=vt(vt({},S),{},{startAngle:A+P,endAngle:A+T+P});b.push(M),A=M.endAngle}}),r.current=b,p.createElement(wr,null,p.createElement(v_,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:e,showLabels:!g}))})}function Uoe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=p.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?p.createElement(Foe,{props:t,previousSectorsRef:s}):p.createElement(v_,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function $oe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=_e("recharts-pie",r);return e?null:p.createElement(wr,{tabIndex:n,className:i},p.createElement(Uoe,t))}var Voe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!dc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function zoe(t){var{id:e}=t,r=yA(t,Noe),n=p.useMemo(()=>um(t.children,Nm),[t.children]),i=fe(s=>Kae(s,e,n));return p.createElement(p.Fragment,null,p.createElement(hA,{fn:Toe,args:vt(vt({},t),{},{sectors:i})}),p.createElement($oe,qs({},r,{sectors:i})))}function b_(t){var e=kn(t,Voe),{id:r}=e,n=yA(e,Aoe),i=Zs(n);return p.createElement(pA,{id:r,type:"pie"},s=>p.createElement(p.Fragment,null,p.createElement(voe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),p.createElement(Poe,qs({},n,{id:s})),p.createElement(zoe,qs({},n,{id:s})),n.children))}b_.displayName="Pie";var Hoe=$([$t],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Woe=$([Hoe,ea,ta],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),xA=()=>fe(Woe),Goe=()=>fe(qie);function DP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DP(Object(r),!0).forEach(function(n){Koe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Koe(t,e,r){return(e=Qoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qoe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qoe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=RP(RP({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ot(i,!1)),Pj(i)),l;return p.isValidElement(i)?l=p.cloneElement(i,a):typeof i=="function"?l=i(a):l=p.createElement(l_,a),p.createElement(wr,{className:"recharts-active-dot"},l)};function Joe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=fe(po),a=Goe();if(e==null||a==null)return null;var l=e.find(c=>a.includes(c.payload));return rt(l)?null:qoe({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var Xoe="Invariant failed";function Zoe(t,e){throw new Error(Xoe)}var ele=["x","y"];function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I1.apply(null,arguments)}function MP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(r),!0).forEach(function(n){tle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tle(t,e,r){return(e=rle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ile(t,e){if(t==null)return{};var r,n,i=sle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ale(t,e){var{x:r,y:n}=t,i=ile(t,ele),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return cf(cf(cf(cf(cf({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function w_(t){return p.createElement(m_,I1({shapeType:"rectangle",propTransformer:ale,activeClassName:"recharts-active-bar"},t))}var ole=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ie(e))return e;var s=ie(n)||rt(n);return s?e(n,i):(s||Zoe(),r)}},lle={},j_=Sn({name:"errorBars",initialState:lle,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Kfe,removeErrorBar:Qfe}=j_.actions,cle=j_.reducer,ule=["children"];function dle(t,e){if(t==null)return{};var r,n,i=fle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},mle=p.createContext(hle);function N_(t){var{children:e}=t,r=dle(t,ule);return p.createElement(mle.Provider,{value:r},e)}function vA(t,e){var r,n,i=fe(u=>na(u,t)),s=fe(u=>ko(u,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:en.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:tn.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function A_(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=xA(),{needClipX:s,needClipY:a,needClip:l}=vA(e,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var ple=["onMouseEnter","onMouseLeave","onClick"],gle=["value","background","tooltipPosition"],yle=["id"],xle=["onMouseEnter","onClick","onMouseLeave"];function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ad.apply(null,arguments)}function LP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(r),!0).forEach(function(n){vle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vle(t,e,r){return(e=ble(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ble(t){var e=wle(t,"string");return typeof e=="symbol"?e:e+""}function wle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jg(t,e){if(t==null)return{};var r,n,i=jle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nle=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Od(r,e),payload:t}]};function Ale(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Od(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function Ele(t){var e=fe(po),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=jg(s,ple),d=uA(a,n),f=dA(l),h=fA(c,n);if(!i||r==null)return null;var m=ot(i,!1);return p.createElement(p.Fragment,null,r.map((g,x)=>{var{value:w,background:y,tooltipPosition:v}=g,b=jg(g,gle);if(!y)return null;var j=d(g,x),A=f(g,x),S=h(g,x),C=yr(yr(yr(yr(yr({option:i,isActive:String(x)===e},b),{},{fill:"#eee"},y),m),Iy(u,g,x)),{},{onMouseEnter:j,onMouseLeave:A,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return p.createElement(w_,Ad({key:"background-bar-".concat(x)},C))}))}function E_(t){var{data:e,props:r,showLabels:n}=t,i=Zs(r),{id:s}=i,a=jg(i,yle),{shape:l,dataKey:c,activeBar:u}=r,d=fe(po),f=fe(FL),{onMouseEnter:h,onClick:m,onMouseLeave:g}=r,x=jg(r,xle),w=uA(h,c),y=dA(g),v=fA(m,c);return e?p.createElement(p.Fragment,null,e.map((b,j)=>{var A=u&&String(j)===d&&(f==null||c===f),S=A?u:l,C=yr(yr(yr({},a),b),{},{isActive:A,option:S,index:j,dataKey:c});return p.createElement(wr,Ad({className:"recharts-bar-rectangle"},Iy(x,b,j),{onMouseEnter:w(b,j),onMouseLeave:y(b,j),onClick:v(b,j),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(j)}),p.createElement(w_,C))}),n&&to.renderCallByParent(r,e)):null}function Sle(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=r.current,h=mA(e,"recharts-bar-"),[m,g]=p.useState(!1),x=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),w=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(gA,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:w,key:h},y=>{var v=y===1?n:n==null?void 0:n.map((b,j)=>{var A=f&&f[j];if(A)return yr(yr({},b),{},{x:gi(A.x,b.x,y),y:gi(A.y,b.y,y),width:gi(A.width,b.width,y),height:gi(A.height,b.height,y)});if(i==="horizontal"){var S=gi(0,b.height,y);return yr(yr({},b),{},{y:b.y+b.height-S,height:S})}var C=gi(0,b.width,y);return yr(yr({},b),{},{width:C})});return y>0&&(r.current=v??null),v==null?null:p.createElement(wr,null,p.createElement(E_,{props:e,data:v,showLabels:!m}))})}function kle(t){var{data:e,isAnimationActive:r}=t,n=p.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?p.createElement(Sle,{previousRectanglesRef:n,props:t}):p.createElement(E_,{props:t,data:e,showLabels:!0})}var S_=0,Cle=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:We(t,e)}};class Ple extends p.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(e)return null;var d=_e("recharts-bar",i),f=u;return p.createElement(wr,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(A_,{clipPathId:f,xAxisId:s,yAxisId:a})),p.createElement(wr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Ele,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(kle,this.props)),this.props.children)}}var Tle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!dc.isSsr,legendType:"rect",minPointSize:S_,xAxisId:0,yAxisId:0};function Ole(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:f}=vA(e,r),h=Jy(),m=Xr(),g=um(t.children,Nm),x=fe(v=>ice(v,e,r,m,t.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var w,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?w=0:w=h==="vertical"?y.height/2:y.width/2,p.createElement(N_,{xAxisId:e,yAxisId:r,data:x,dataPointFormatter:Cle,errorBarOffset:w},p.createElement(Ple,Ad({},t,{layout:h,needClip:f,data:x,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Ile(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=t,g=e==="horizontal"?l:a,x=d?g.scale.domain():null,w=QX({numericAxis:g});return f.map((y,v)=>{var b,j,A,S,C,N;d?b=VX(d[v],x):(b=We(y,r),Array.isArray(b)||(b=[w,b]));var P=ole(n,S_)(b[1],v);if(e==="horizontal"){var I,[D,B]=[l.scale(b[0]),l.scale(b[1])];j=$C({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:y,index:v}),A=(I=B??D)!==null&&I!==void 0?I:void 0,S=i.size;var V=D-B;if(C=bn(V)?0:V,N={x:j,y:h.top,width:S,height:h.height},Math.abs(P)>0&&Math.abs(C)<Math.abs(P)){var Q=Jt(C||P)*(Math.abs(P)-Math.abs(C));A-=Q,C+=Q}}else{var[T,M]=[a.scale(b[0]),a.scale(b[1])];if(j=T,A=$C({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:y,index:v}),S=M-T,C=i.size,N={x:h.left,y:A,width:h.width,height:C},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var U=Jt(S||P)*(Math.abs(P)-Math.abs(S));S+=U}}if(j==null||A==null||S==null||C==null)return null;var k=yr(yr({},y),{},{x:j,y:A,width:S,height:C,value:d?b:b[1],payload:y,background:N,tooltipPosition:{x:j+S/2,y:A+C/2}},m&&m[v]&&m[v].props);return k}).filter(Boolean)}function Ng(t){var e=kn(t,Tle),r=Xr();return p.createElement(pA,{id:e.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(g_,{legendPayload:Nle(e)}),p.createElement(hA,{fn:Ale,args:e}),p.createElement(x_,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:KX(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),p.createElement(Ole,Ad({},e,{id:n}))))}Ng.displayName="Bar";function _P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_P(Object(r),!0).forEach(function(n){Dle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dle(t,e,r){return(e=Rle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rle(t){var e=Mle(t,"string");return typeof e=="symbol"?e:e+""}function Mle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lle=(t,e)=>e,_le=(t,e,r)=>r,Ble=(t,e,r,n)=>n,Fle=(t,e,r,n,i)=>i,Am=$([cx,Fle],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Ule=$([Am],t=>t==null?void 0:t.maxBarSize),$le=(t,e,r,n,i,s)=>s,BP=(t,e,r)=>{var n=r??t;if(!rt(n))return Mr(n,e,0)},Vle=$([Te,cx,Lle,_le,Ble],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),zle=(t,e,r,n)=>{var i=Te(t);return i==="horizontal"?E1(t,"yAxis",r,n):E1(t,"xAxis",e,n)},Hle=(t,e,r)=>{var n=Te(t);return n==="horizontal"?q5(t,"xAxis",e):q5(t,"yAxis",r)},Wle=(t,e,r)=>{var n={},i=t.filter(lx),s=t.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=BP(e,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=BP(e,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},Gle=$([Vle,one,Hle],Wle),Kle=(t,e,r,n,i)=>{var s,a,l=Am(t,e,r,n,i);if(l!=null){var c=Te(t),u=UM(t),{maxBarSize:d}=l,f=rt(d)?u:d,h,m;return c==="horizontal"?(h=mo(t,"xAxis",e,n),m=ho(t,"xAxis",e,n)):(h=mo(t,"yAxis",r,n),m=ho(t,"yAxis",r,n)),(s=(a=Sh(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},k_=(t,e,r,n)=>{var i=Te(t),s,a;return i==="horizontal"?(s=mo(t,"xAxis",e,n),a=ho(t,"xAxis",e,n)):(s=mo(t,"yAxis",r,n),a=ho(t,"yAxis",r,n)),Sh(s,a)};function Qle(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=Mr(t,r,0,!0),l,c=[];if(Nn(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,v)=>y+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((y,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},A=[...y,j];return m=A[A.length-1].position,A},c)}else{var g=Mr(e,r,0,!0);r-2*g-(s-1)*a<=0&&(a=0);var x=(r-2*g-(s-1)*a)/s;x>1&&(x>>=0);var w=Nn(i)?Math.min(x,i):x;l=n.reduce((y,v,b)=>[...y,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(x+a)*b+(x-w)/2,size:w}}],c)}return l}}var Yle=(t,e,r,n,i,s,a)=>{var l=rt(a)?e:a,c=Qle(r,n,i!==s?i:s,t,l);return i!==s&&c!=null&&(c=c.map(u=>yp(yp({},u),{},{position:yp(yp({},u.position),{},{offset:u.position.offset-i/2})}))),c},qle=$([Gle,UM,ane,$M,Kle,k_,Ule],Yle),Jle=(t,e,r,n)=>mo(t,"xAxis",e,n),Xle=(t,e,r,n)=>mo(t,"yAxis",r,n),Zle=(t,e,r,n)=>ho(t,"xAxis",e,n),ece=(t,e,r,n)=>ho(t,"yAxis",r,n),tce=$([qle,Am],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),rce=(t,e)=>{var r=ON(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},nce=$([zle,Am],rce),ice=$([$t,Jle,Xle,Zle,ece,tce,Te,ix,k_,nce,Am,$le],(t,e,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||c==null)){var{data:x}=d,w;if(x!=null&&x.length>0?w=x:w=h==null?void 0:h.slice(m,g+1),w!=null)return Ile({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:t,cells:f})}}),C_=t=>{var{chartData:e}=t,r=kt(),n=Xr();return p.useEffect(()=>n?()=>{}:(r(sP(e)),()=>{r(sP(void 0))}),[e,r,n]),null},FP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},P_=Sn({name:"brush",initialState:FP,reducers:{setBrushSettings(t,e){return e.payload==null?FP:e.payload}}}),{setBrushSettings:Yfe}=P_.actions,sce=P_.reducer;function ace(t,e,r){return(e=oce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oce(t){var e=lce(t,"string");return typeof e=="symbol"?e:e+""}function lce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bA{static create(e){return new bA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}ace(bA,"EPS",1e-4);function cce(t){return(t%180+180)%180}var uce=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cce(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},dce={dots:[],areas:[],lines:[]},T_=Sn({name:"referenceElements",initialState:dce,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Ls(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Ls(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Ls(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:qfe,removeDot:Jfe,addArea:Xfe,removeArea:Zfe,addLine:ehe,removeLine:the}=T_.actions,fce=T_.reducer,hce=p.createContext(void 0),mce=t=>{var{children:e}=t,[r]=p.useState("".concat(Nh("recharts"),"-clip")),n=xA();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return p.createElement(hce.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function Qv(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function O_(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function pce(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return uce(n,r)}function gce(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function Ag(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function yce(t,e){return O_(t,e+1)}function xce(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=e,c=0,u=1,d=a,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:O_(n,u)};var x=c,w,y=()=>(w===void 0&&(w=r(g,x)),w),v=g.coordinate,b=c===0||Ag(t,v,y,d,l);b||(c=0,d=a,u+=1),b&&(d=v+t*(y()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function UP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UP(Object(r),!0).forEach(function(n){vce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vce(t,e,r){return(e=bce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bce(t){var e=wce(t,"string");return typeof e=="symbol"?e:e+""}function wce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jce(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,u=function(h){var m=s[h],g,x=()=>(g===void 0&&(g=r(m,h)),g);if(h===a-1){var w=t*(m.coordinate+t*x()/2-c);s[h]=m=pr(pr({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else s[h]=m=pr(pr({},m),{},{tickCoord:m.coordinate});var y=Ag(t,m.tickCoord,x,l,c);y&&(c=m.tickCoord-t*(x()/2+i),s[h]=pr(pr({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function Nce(t,e,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=e;if(s){var d=n[l-1],f=r(d,l-1),h=t*(d.coordinate+t*f/2-u);a[l-1]=d=pr(pr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Ag(t,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-t*(f/2+i),a[l-1]=pr(pr({},d),{},{isShow:!0}))}for(var g=s?l-1:l,x=function(v){var b=a[v],j,A=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=t*(b.coordinate-t*A()/2-c);a[v]=b=pr(pr({},b),{},{tickCoord:S<0?b.coordinate-S*t:b.coordinate})}else a[v]=b=pr(pr({},b),{},{tickCoord:b.coordinate});var C=Ag(t,b.tickCoord,A,c,u);C&&(c=b.tickCoord+t*(A()/2+i),a[v]=pr(pr({},b),{},{isShow:!0}))},w=0;w<g;w++)x(w);return a}function wA(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(ie(c)||dc.isSsr){var h;return(h=yce(i,ie(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Uf(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var A=typeof u=="function"?u(b.value,j):b.value;return g==="width"?pce(Uf(A,{fontSize:e,letterSpacing:r}),x,f):Uf(A,{fontSize:e,letterSpacing:r})[g]},y=i.length>=2?Jt(i[1].coordinate-i[0].coordinate):1,v=gce(s,y,g);return c==="equidistantPreserveStart"?xce(y,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=Nce(y,v,w,i,a,c==="preserveStartEnd"):m=jce(y,v,w,i,a),m.filter(b=>b.isShow))}var Ace=["viewBox"],Ece=["viewBox"];function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wc.apply(null,arguments)}function $P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(r),!0).forEach(function(n){jA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VP(t,e){if(t==null)return{};var r,n,i=Sce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jA(t,e,r){return(e=kce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kce(t){var e=Cce(t,"string");return typeof e=="symbol"?e:e+""}function Cce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Co extends p.Component{constructor(e){super(e),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=VP(e,Ace),s=this.props,{viewBox:a}=s,l=VP(s,Ece);return!Qv(n,a)||!Qv(i,l)||!Qv(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,g,x,w=c?-1:1,y=e.tickSize||l,v=ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=f=e.coordinate,m=n+ +!c*s,h=m-w*y,x=h-w*u,g=v;break;case"left":h=m=e.coordinate,f=r+ +!c*i,d=f-w*y,g=d-w*u,x=v;break;case"right":h=m=e.coordinate,f=r+ +c*i,d=f+w*y,g=d+w*u,x=v;break;default:d=f=e.coordinate,m=n+ +c*s,h=m+w*y,x=h+w*u,g=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=Mt(Mt(Mt({},ot(this.props,!1)),ot(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=Mt(Mt({},c),{},{x1:e,y1:r+u*i,x2:e+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=Mt(Mt({},c),{},{x1:e+d*n,y1:r,x2:e+d*n,y2:r+i})}return p.createElement("line",Wc({},c,{className:_e("recharts-cartesian-axis-line",fo(l,"className"))}))}static renderTickItem(e,r,n){var i,s=_e(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(e))i=p.cloneElement(e,Mt(Mt({},r),{},{className:s}));else if(typeof e=="function")i=e(Mt(Mt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=_e(a,e.className)),i=p.createElement(px,Wc({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=wA(Mt(Mt({},this.props),{},{ticks:n}),e,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Zs(this.props),g=ot(a,!1),x=Mt(Mt({},m),{},{fill:"none"},ot(i,!1)),w=d.map((y,v)=>{var{line:b,tick:j}=this.getTickLineCoord(y),A=Mt(Mt(Mt(Mt({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),j),{},{index:v,payload:y,visibleTicksCount:d.length,tickFormatter:l,padding:u});return p.createElement(wr,Wc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},Iy(this.props,y,v)),i&&p.createElement("line",Wc({},x,b,{className:_e("recharts-cartesian-axis-tick-line",fo(i,"className"))})),a&&Co.renderTickItem(a,A,"".concat(typeof l=="function"?l(y.value,v):y.value).concat(c||"")))});return w.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:p.createElement(wr,{className:_e("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),un.renderCallByParent(this.props))}}jA(Co,"displayName","CartesianAxis");jA(Co,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Pce=["x1","y1","x2","y2","key"],Tce=["offset"],Oce=["xAxisId","yAxisId"],Ice=["xAxisId","yAxisId"];function zP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zP(Object(r),!0).forEach(function(n){Dce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dce(t,e,r){return(e=Rce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rce(t){var e=Mce(t,"string");return typeof e=="symbol"?e:e+""}function Mce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ll.apply(null,arguments)}function Eg(t,e){if(t==null)return{};var r,n,i=Lce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Lce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var _ce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=t;return p.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function I_(t,e){var r;if(p.isValidElement(t))r=p.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=e,c=Eg(e,Pce),u=Zs(c),{offset:d}=u,f=Eg(u,Tce);r=p.createElement("line",ll({},f,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function Bce(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Eg(t,Oce),c=i.map((u,d)=>{var f=xr(xr({},l),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return I_(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Fce(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Eg(t,Ice),c=i.map((u,d)=>{var f=xr(xr({},l),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return I_(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Uce(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%e.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $ce(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Vce=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return pR(wA(xr(xr(xr({},Co.defaultProps),r),{},{ticks:gR(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},zce=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return pR(wA(xr(xr(xr({},Co.defaultProps),r),{},{ticks:gR(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},Hce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function lu(t){var e=jR(),r=NR(),n=wR(),i=xr(xr({},kn(t,Hce)),{},{x:ie(t.x)?t.x:n.left,y:ie(t.y)?t.y:n.top,width:ie(t.width)?t.width:n.width,height:ie(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,g=Xr(),x=fe(P=>J5(P,"xAxis",s,g)),w=fe(P=>J5(P,"yAxis",a,g));if(!ie(u)||u<=0||!ie(d)||d<=0||!ie(l)||l!==+l||!ie(c)||c!==+c)return null;var y=i.verticalCoordinatesGenerator||Vce,v=i.horizontalCoordinatesGenerator||zce,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof v=="function"){var A=h&&h.length,S=v({yAxis:w?xr(xr({},w),{},{ticks:A?h:w.ticks}):void 0,width:e,height:r,offset:n},A?!0:f);Ff(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof y=="function"){var C=m&&m.length,N=y({xAxis:x?xr(xr({},x),{},{ticks:C?m:x.ticks}):void 0,width:e,height:r,offset:n},C?!0:f);Ff(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(_ce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),p.createElement(Uce,ll({},i,{horizontalPoints:b})),p.createElement($ce,ll({},i,{verticalPoints:j})),p.createElement(Bce,ll({},i,{offset:n,horizontalPoints:b,xAxis:x,yAxis:w})),p.createElement(Fce,ll({},i,{offset:n,verticalPoints:j,xAxis:x,yAxis:w})))}lu.displayName="CartesianGrid";var D_=(t,e,r,n)=>mo(t,"xAxis",e,n),R_=(t,e,r,n)=>ho(t,"xAxis",e,n),M_=(t,e,r,n)=>mo(t,"yAxis",r,n),L_=(t,e,r,n)=>ho(t,"yAxis",r,n),Wce=$([Te,D_,M_,R_,L_],(t,e,r,n,i)=>No(t,"xAxis")?Sh(e,n,!1):Sh(r,i,!1)),Gce=(t,e,r,n,i)=>i;function Kce(t){return t.type==="line"}var Qce=$([cx,Gce],(t,e)=>t.filter(Kce).find(r=>r.id===e)),Yce=$([Te,D_,M_,R_,L_,Qce,Wce,ix],(t,e,r,n,i,s,a,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return gue({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:m})}}),qce=["id"],Jce=["type","layout","connectNulls","needClip"],Xce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function HP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(r),!0).forEach(function(n){Zce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zce(t,e,r){return(e=eue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eue(t){var e=tue(t,"string");return typeof e=="symbol"?e:e+""}function tue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NA(t,e){if(t==null)return{};var r,n,i=rue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(null,arguments)}var nue=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Od(r,e),payload:t}]};function iue(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Od(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var __=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function sue(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var aue=(t,e,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return __(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,a]:[a];return[...sue(r,i),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function oue(t,e){var r;if(p.isValidElement(t))r=p.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=_e("recharts-line-dot",typeof t!="boolean"?t.className:"");r=p.createElement(l_,Zl({},e,{className:n}))}return r}function lue(t,e){return t==null?!1:e?!0:t.length===1}function cue(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!lue(r,i))return null;var{id:l}=n,c=NA(n,qce),u=J4(i),d=Zs(c),f=ot(i,!0),h=r.map((g,x)=>{var w=yi(yi(yi({key:"dot-".concat(x),r:3},d),f),{},{index:x,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return oue(i,w)}),m={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return p.createElement(wr,Zl({className:"recharts-line-dots",key:"dots"},m),h)}function D1(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:l,layout:c,connectNulls:u,needClip:d}=s,f=NA(s,Jce),h=yi(yi({},ot(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:n,type:l,layout:c,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(Jj,Zl({},h,{pathRef:r})),p.createElement(cue,{points:n,clipPathId:e,props:s}),a&&to.renderCallByParent(s,n))}function uue(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function due(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:g,onAnimationEnd:x,onAnimationStart:w}=r,y=i.current,v=mA(r,"recharts-line-"),[b,j]=p.useState(!1),A=p.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),S=p.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),C=uue(n.current),N=s.current;return p.createElement(gA,{begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:A,onAnimationStart:S,key:v},P=>{var I=gi(N,C+N,P),D=Math.min(I,C),B;if(l){var V="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));B=aue(D,C,V)}else B=__(C,D);if(y){var Q=y.length/a.length,T=P===1?a:a.map((M,U)=>{var k=Math.floor(U*Q);if(y[k]){var L=y[k];return yi(yi({},M),{},{x:gi(L.x,M.x,P),y:gi(L.y,M.y,P)})}return h?yi(yi({},M),{},{x:gi(m*2,M.x,P),y:gi(g/2,M.y,P)}):yi(yi({},M),{},{x:M.x,y:M.y})});return i.current=T,p.createElement(D1,{props:r,points:T,clipPathId:e,pathRef:n,showLabels:!b,strokeDasharray:B})}return P>0&&C>0&&(i.current=a,s.current=D),p.createElement(D1,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!b,strokeDasharray:B})})}function fue(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=p.useRef(null),a=p.useRef(0),l=p.useRef(null),c=s.current;return i&&n&&n.length&&c!==n?p.createElement(due,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:l}):p.createElement(D1,{props:r,points:n,clipPathId:e,pathRef:l,showLabels:!0})}var hue=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:We(t.payload,e)});class mue extends p.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var g=_e("recharts-line",s),x=h,{r:w=3,strokeWidth:y=2}=(e=ot(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},v=J4(n),b=w*2+y;return p.createElement(p.Fragment,null,p.createElement(wr,{className:g},m&&p.createElement("defs",null,p.createElement(A_,{clipPathId:x,xAxisId:a,yAxisId:l}),!v&&p.createElement("clipPath",{id:"clipPath-dots-".concat(x)},p.createElement("rect",{x:u-b/2,y:c-b/2,width:d+b,height:f+b}))),p.createElement(fue,{props:this.props,clipPathId:x}),p.createElement(N_,{xAxisId:a,yAxisId:l,data:i,dataPointFormatter:hue,errorBarOffset:0},this.props.children)),p.createElement(Joe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var B_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!dc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function pue(t){var e=kn(t,B_),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:g,id:x}=e,w=NA(e,Xce),{needClip:y}=vA(m,g),v=xA(),b=Jy(),j=Xr(),A=fe(I=>Yce(I,m,g,j,x));if(b!=="horizontal"&&b!=="vertical"||A==null||v==null)return null;var{height:S,width:C,x:N,y:P}=v;return p.createElement(mue,Zl({},w,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:g,points:A,layout:b,height:S,width:C,left:N,top:P,needClip:y}))}function gue(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((u,d)=>{var f=We(u,a);if(e==="horizontal"){var h=UC({axis:r,ticks:i,bandSize:l,entry:u,index:d}),m=rt(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var g=rt(f)?null:r.scale(f),x=UC({axis:n,ticks:s,bandSize:l,entry:u,index:d});return g==null||x==null?null:{x:g,y:x,value:f,payload:u}}).filter(Boolean)}function AA(t){var e=kn(t,B_),r=Xr();return p.createElement(pA,{id:e.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(g_,{legendPayload:nue(e)}),p.createElement(hA,{fn:iue,args:e}),p.createElement(x_,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),p.createElement(pue,Zl({},e,{id:n}))))}AA.displayName="Line";function WP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(r),!0).forEach(function(n){yue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yue(t,e,r){return(e=xue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xue(t){var e=vue(t,"string");return typeof e=="symbol"?e:e+""}function vue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bue={xAxis:{},yAxis:{},zAxis:{}},F_=Sn({name:"cartesianAxis",initialState:bue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=GP(GP({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:wue,removeXAxis:jue,addYAxis:Nue,removeYAxis:Aue,addZAxis:rhe,removeZAxis:nhe,updateYAxisWidth:Eue}=F_.actions,Sue=F_.reducer,kue=["children"],Cue=["dangerouslySetInnerHTML","ticks"];function U_(t,e,r){return(e=Pue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Tue(t,"string");return typeof e=="symbol"?e:e+""}function Tue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R1(){return R1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R1.apply(null,arguments)}function $_(t,e){if(t==null)return{};var r,n,i=Oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Oue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Iue(t){var e=kt(),r=p.useMemo(()=>{var{children:s}=t,a=$_(t,kue);return a},[t]),n=fe(s=>na(s,r.id)),i=r===n;return p.useEffect(()=>(e(wue(r)),()=>{e(jue(r))}),[r,e]),i?t.children:null}var Due=t=>{var{xAxisId:e,className:r}=t,n=fe(bR),i=Xr(),s="xAxis",a=fe(m=>Bd(m,s,e,i)),l=fe(m=>bL(m,s,e,i)),c=fe(m=>gL(m,e)),u=fe(m=>Jne(m,e));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=t,h=$_(t,Cue);return p.createElement(Co,R1({},h,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:_e("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},Rue=t=>{var e,r,n,i,s;return p.createElement(Iue,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},p.createElement(Due,t))};class Fl extends p.Component{render(){return p.createElement(Rue,this.props)}}U_(Fl,"displayName","XAxis");U_(Fl,"defaultProps",{allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,height:en.height,hide:!1,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tickCount:en.tickCount,type:en.type,xAxisId:0});var Mue=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},Lue=["dangerouslySetInnerHTML","ticks"];function V_(t,e,r){return(e=_ue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ue(t){var e=Bue(t,"string");return typeof e=="symbol"?e:e+""}function Bue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M1.apply(null,arguments)}function Fue(t,e){if(t==null)return{};var r,n,i=Uue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Uue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $ue(t){var e=kt();return p.useEffect(()=>(e(Nue(t)),()=>{e(Aue(t))}),[t,e]),null}var Vue=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=p.useRef(null),l=p.useRef(null),c=fe(bR),u=Xr(),d=kt(),f="yAxis",h=fe(b=>Bd(b,f,r,u)),m=fe(b=>yL(b,r)),g=fe(b=>Xne(b,r)),x=fe(b=>bL(b,f,r,u));if(p.useLayoutEffect(()=>{var b;if(!(i!=="auto"||!m||sA(s)||p.isValidElement(s))){var j=a.current,A=j==null||(b=j.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:S,tickMargin:C}=j.props,N=Mue({ticks:A,label:l.current,labelGapWithTick:5,tickSize:S,tickMargin:C});Math.round(m.width)!==Math.round(N)&&d(Eue({id:r,width:N}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||g==null)return null;var{dangerouslySetInnerHTML:w,ticks:y}=t,v=Fue(t,Lue);return p.createElement(Co,M1({},v,{ref:a,labelRef:l,scale:h,x:g.x,y:g.y,width:m.width,height:m.height,className:_e("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},zue=t=>{var e,r,n,i,s;return p.createElement(p.Fragment,null,p.createElement($ue,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),p.createElement(Vue,t))},Hue={allowDataOverflow:tn.allowDataOverflow,allowDecimals:tn.allowDecimals,allowDuplicatedCategory:tn.allowDuplicatedCategory,hide:!1,mirror:tn.mirror,orientation:tn.orientation,padding:tn.padding,reversed:tn.reversed,scale:tn.scale,tickCount:tn.tickCount,type:tn.type,width:tn.width,yAxisId:0};class Ul extends p.Component{render(){return p.createElement(zue,this.props)}}V_(Ul,"displayName","YAxis");V_(Ul,"defaultProps",Hue);var Wue={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=p;function Gue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kue=typeof Object.is=="function"?Object.is:Gue,Que=Em.useSyncExternalStore,Yue=Em.useRef,que=Em.useEffect,Jue=Em.useMemo,Xue=Em.useDebugValue;Wue.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Yue(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Jue(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,Kue(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var l=Que(t,s[0],s[1]);return que(function(){a.hasValue=!0,a.value=l},[l]),Xue(l),l};function Zue(t){t()}function ede(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Zue(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var KP={notify(){},get:()=>[]};function tde(t,e){let r,n=KP,i=0,s=!1;function a(x){d();const w=n.subscribe(x);let y=!1;return()=>{y||(y=!0,w(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,r||(r=t.subscribe(c),n=ede())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=KP)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var rde=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nde=rde(),ide=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sde=ide(),ade=()=>nde||sde?p.useLayoutEffect:p.useEffect,ode=ade(),Yv=Symbol.for("react-redux-context"),qv=typeof globalThis<"u"?globalThis:{};function lde(){if(!p.createContext)return{};const t=qv[Yv]??(qv[Yv]=new Map);let e=t.get(p.createContext);return e||(e=p.createContext(null),t.set(p.createContext,e)),e}var cde=lde();function ude(t){const{children:e,context:r,serverState:n,store:i}=t,s=p.useMemo(()=>{const c=tde(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=p.useMemo(()=>i.getState(),[i]);ode(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||cde;return p.createElement(l.Provider,{value:s},e)}var dde=ude,fde=(t,e)=>e,EA=$([fde,Te,KM,zt,ML,ia,nse,$t],lse),SA=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},z_=Jn("mouseClick"),H_=dm();H_.startListening({actionCreator:z_,effect:(t,e)=>{var r=t.payload,n=EA(e.getState(),SA(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(die({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var L1=Jn("mouseMove"),W_=dm();W_.startListening({actionCreator:L1,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=YN(n,n.tooltip.settings.shared),s=EA(n,SA(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(CL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(kL()))}});function hde(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var QP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},G_=Sn({name:"rootProps",initialState:QP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:QP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),mde=G_.reducer,{updateOptions:pde}=G_.actions,K_=Sn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:gde}=K_.actions,yde=K_.reducer,Q_=Jn("keyDown"),Y_=Jn("focus"),kA=dm();kA.startListening({actionCreator:Q_,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(qN(i,Ud(r))),l=ia(r);if(s==="Enter"){var c=xg(r,"axis","hover",String(i.index));e.dispatch(k1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=rie(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=xg(r,"axis","hover",String(h));e.dispatch(k1({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});kA.startListening({actionCreator:Y_,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=xg(r,"axis","hover",String(s));e.dispatch(k1({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Dn=Jn("externalEvent"),q_=dm();q_.startListening({actionCreator:Dn,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Kie(r),activeDataKey:FL(r),activeIndex:po(r),activeLabel:BL(r),activeTooltipIndex:po(r),isTooltipActive:Qie(r)};t.payload.handler(n,t.payload.reactEvent)}}});var xde=$([Fd],t=>t.tooltipItemPayloads),vde=$([xde,wm,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),J_=Jn("touchMove"),X_=dm();X_.startListening({actionCreator:J_,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=YN(n,n.tooltip.settings.shared);if(i==="axis"){var s=EA(n,SA({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(CL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(xR),d=(a=c.getAttribute(vR))!==null&&a!==void 0?a:void 0,f=vde(e.getState(),u,d);e.dispatch(SL({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var bde=HD({brush:sce,cartesianAxis:Sue,chartData:Nse,errorBars:cle,graphicalItems:xoe,layout:SX,legend:uZ,options:xse,polarAxis:Uae,polarOptions:yde,referenceElements:fce,rootProps:mde,tooltip:fie}),wde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return JJ({reducer:bde,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([H_.middleware,W_.middleware,kA.middleware,q_.middleware,X_.middleware]),devTools:{serialize:{replacer:hde},name:"recharts-".concat(r)}})};function Z_(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Xr(),s=p.useRef(null);if(i)return r;s.current==null&&(s.current=wde(e,n));var a=Uj;return p.createElement(dde,{context:a,store:s.current},r)}function eB(t){var{layout:e,width:r,height:n,margin:i}=t,s=kt(),a=Xr();return p.useEffect(()=>{a||(s(NX(e)),s(AX({width:r,height:n})),s(jX(i)))},[s,a,e,r,n,i]),null}function tB(t){var e=kt();return p.useEffect(()=>{e(pde(t))},[e,t]),null}var jde=["children"];function Nde(t,e){if(t==null)return{};var r,n,i=Ade(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ade(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sg.apply(null,arguments)}var Ede={width:"100%",height:"100%"},Sde=p.forwardRef((t,e)=>{var r=jR(),n=NR(),i=kR();if(!vd(r)||!vd(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,p.createElement(X4,Sg({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Ede,ref:e}),s)}),kde=t=>{var{children:e}=t,r=fe(qy);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return p.createElement(X4,{width:n,height:i,x:a,y:s},e)},YP=p.forwardRef((t,e)=>{var{children:r}=t,n=Nde(t,jde),i=Xr();return i?p.createElement(kde,null,r):p.createElement(Sde,Sg({ref:e},n),r)});function Cde(){var t=kt(),[e,r]=p.useState(null),n=fe(tZ);return p.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Nn(s)&&s!==n&&t(EX(s))}},[e,t,n]),r}function qP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(r),!0).forEach(function(n){Tde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tde(t,e,r){return(e=Ode(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ode(t){var e=Ide(t,"string");return typeof e=="symbol"?e:e+""}function Ide(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dde=p.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:w,width:y}=t,v=kt(),[b,j]=p.useState(null),[A,S]=p.useState(null);Sse();var C=Cde(),N=p.useCallback(G=>{C(G),typeof e=="function"&&e(G),j(G),S(G)},[C,e,j,S]),P=p.useCallback(G=>{v(z_(G)),v(Dn({handler:s,reactEvent:G}))},[v,s]),I=p.useCallback(G=>{v(L1(G)),v(Dn({handler:u,reactEvent:G}))},[v,u]),D=p.useCallback(G=>{v(kL()),v(Dn({handler:d,reactEvent:G}))},[v,d]),B=p.useCallback(G=>{v(L1(G)),v(Dn({handler:f,reactEvent:G}))},[v,f]),V=p.useCallback(()=>{v(Y_())},[v]),Q=p.useCallback(G=>{v(Q_(G.key))},[v]),T=p.useCallback(G=>{v(Dn({handler:a,reactEvent:G}))},[v,a]),M=p.useCallback(G=>{v(Dn({handler:l,reactEvent:G}))},[v,l]),U=p.useCallback(G=>{v(Dn({handler:c,reactEvent:G}))},[v,c]),k=p.useCallback(G=>{v(Dn({handler:h,reactEvent:G}))},[v,h]),L=p.useCallback(G=>{v(Dn({handler:x,reactEvent:G}))},[v,x]),H=p.useCallback(G=>{v(J_(G)),v(Dn({handler:g,reactEvent:G}))},[v,g]),W=p.useCallback(G=>{v(Dn({handler:m,reactEvent:G}))},[v,m]);return p.createElement(WL.Provider,{value:b},p.createElement(tq.Provider,{value:A},p.createElement("div",{className:_e("recharts-wrapper",n),style:Pde({position:"relative",cursor:"default",width:y,height:i},w),onClick:P,onContextMenu:T,onDoubleClick:M,onFocus:V,onKeyDown:Q,onMouseDown:U,onMouseEnter:I,onMouseLeave:D,onMouseMove:B,onMouseUp:k,onTouchEnd:W,onTouchMove:H,onTouchStart:L,ref:N},r)))}),Rde=["children","className","width","height","style","compact","title","desc"];function Mde(t,e){if(t==null)return{};var r,n,i=Lde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Lde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rB=p.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=t,d=Mde(t,Rde),f=Zs(d);return l?p.createElement(YP,{otherAttributes:f,title:c,desc:u},r):p.createElement(Dde,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},p.createElement(YP,{otherAttributes:f,title:c,desc:u,ref:e},p.createElement(mce,null,r)))}),_de=["width","height"];function _1(){return _1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_1.apply(null,arguments)}function Bde(t,e){if(t==null)return{};var r,n,i=Fde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Fde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Ude={top:5,right:5,bottom:5,left:5},$de={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ude,reverseStackOrder:!1,syncMethod:"index"},nB=p.forwardRef(function(e,r){var n,i=kn(e.categoricalChartProps,$de),{width:s,height:a}=i,l=Bde(i,_de);if(!vd(s)||!vd(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(Z_,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},p.createElement(C_,{chartData:h.data}),p.createElement(eB,{width:s,height:a,layout:i.layout,margin:i.margin}),p.createElement(tB,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),p.createElement(rB,_1({},l,{width:s,height:a,ref:r})))}),Vde=["axis"],iB=p.forwardRef((t,e)=>p.createElement(nB,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vde,tooltipPayloadSearcher:iA,categoricalChartProps:t,ref:e})),zde=["axis","item"],B1=p.forwardRef((t,e)=>p.createElement(nB,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zde,tooltipPayloadSearcher:iA,categoricalChartProps:t,ref:e}));function Hde(t){var e=kt();return p.useEffect(()=>{e(gde(t))},[e,t]),null}var Wde=["width","height","layout"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F1.apply(null,arguments)}function Gde(t,e){if(t==null)return{};var r,n,i=Kde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Kde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Qde={top:5,right:5,bottom:5,left:5},Yde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Qde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},qde=p.forwardRef(function(e,r){var n,i=kn(e.categoricalChartProps,Yde),{width:s,height:a,layout:l}=i,c=Gde(i,Wde);if(!vd(s)||!vd(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(Z_,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},p.createElement(C_,{chartData:i.data}),p.createElement(eB,{width:s,height:a,layout:l,margin:i.margin}),p.createElement(tB,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),p.createElement(Hde,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),p.createElement(rB,F1({width:s,height:a},c,{ref:r})))}),Jde=["item"],Xde={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zde=p.forwardRef((t,e)=>{var r=kn(t,Xde);return p.createElement(qde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jde,tooltipPayloadSearcher:iA,categoricalChartProps:r,ref:e})});class efe{constructor(){this.allocations=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_credit_allocations");if(e){const r=JSON.parse(e);this.allocations=new Map(r)}}catch(e){console.error("Failed to load credit allocations from storage:",e),this.allocations=new Map}}saveToStorage(){try{const e=Array.from(this.allocations.entries());localStorage.setItem("cblock_credit_allocations",JSON.stringify(e))}catch(e){console.error("Failed to save credit allocations to storage:",e)}}async processAutomaticAllocation(e,r){var n,i;try{console.log("💰 Processing automatic credit allocation:",{documentId:r.id,recipient:e.recipient,amount:e.amount,transactionHash:e.hash});const s=`alloc_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,a={id:s,documentId:r.id||r.cid,documentName:r.projectName||r.filename,recipientAddress:e.recipient,recipientName:r.uploaderName||"Unknown",recipientEmail:r.uploaderEmail||null,amount:e.amount,tokenId:e.tokenId,transactionHash:e.hash,blockchainReceipt:e.receipt,status:"completed",allocatedAt:new Date().toISOString(),allocatedBy:(n=ne.getCurrentUser())==null?void 0:n.walletAddress,verifierName:(i=ne.getCurrentUser())==null?void 0:i.name,notificationSent:!1,notificationAttempts:0,lastNotificationAttempt:null,retryCount:0,lastRetryAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.allocations.set(s,a),this.saveToStorage(),await this.sendAllocationNotification(a),console.log("✅ Credit allocation processed successfully:",{allocationId:s,recipient:a.recipientAddress,amount:a.amount}),{success:!0,allocation:a,message:`Successfully allocated ${a.amount} credits to ${this.formatAddress(a.recipientAddress)}`}}catch(s){console.error("❌ Failed to process automatic allocation:",s);const a=`failed_alloc_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,l={id:a,documentId:r.id||r.cid,documentName:r.projectName||r.filename,recipientAddress:e.recipient,amount:e.amount,transactionHash:e.hash,status:"failed",error:s.message,createdAt:new Date().toISOString(),retryCount:0,needsRetry:!0};throw this.allocations.set(a,l),this.saveToStorage(),new Error(`Credit allocation failed: ${s.message}`)}}async sendAllocationNotification(e){try{console.log("📧 Sending allocation notification:",{allocationId:e.id,recipient:e.recipientAddress,amount:e.amount}),e.notificationAttempts+=1,e.lastNotificationAttempt=new Date().toISOString();const{default:r}=await ij(async()=>{const{default:n}=await import("./notificationService-Bh_uE8NP.js");return{default:n}},[]);return await r.showCreditAllocationNotification(e,{showToast:!0,showBrowserNotification:!0,priority:"normal"}),e.notificationSent=!0,e.updatedAt=new Date().toISOString(),this.allocations.set(e.id,e),this.saveToStorage(),console.log("✅ Notification sent successfully"),!0}catch(r){return console.error("❌ Failed to send notification:",r),e.notificationError=r.message,e.updatedAt=new Date().toISOString(),this.allocations.set(e.id,e),this.saveToStorage(),!1}}async getUserAllocations(e){try{if(!e){const n=ne.getCurrentUser();if(!(n!=null&&n.walletAddress))return[];e=n.walletAddress}console.log("📋 Fetching allocations for user:",e);const r=Array.from(this.allocations.values()).filter(n=>{var i;return n.recipientAddress===e||n.recipientEmail&&n.recipientEmail===((i=ne.getCurrentUser())==null?void 0:i.email)}).sort((n,i)=>new Date(i.createdAt)-new Date(n.createdAt));return console.log(`📋 Found ${r.length} allocations for user`),r}catch(r){return console.error("❌ Failed to get user allocations:",r),[]}}async getUserTotalAllocatedCredits(e){try{return(await this.getUserAllocations(e)).filter(i=>i.status==="completed").reduce((i,s)=>i+(s.amount||0),0)}catch(r){return console.error("❌ Failed to calculate total allocated credits:",r),0}}async getUserCurrentBalance(e){try{if(!e){const i=ne.getCurrentUser();if(!(i!=null&&i.walletAddress))return 0;e=i.walletAddress}return(await ce.getUserTokens(e)).reduce((i,s)=>i+s.balance,0)}catch(r){return console.error("❌ Failed to get user balance:",r),0}}async getUserBalanceInfo(e){try{const[r,n,i,s]=await Promise.all([this.getUserCurrentBalance(e),this.getUserTotalAllocatedCredits(e),this.getUserAllocations(e),ce.getUserTokens(e).catch(()=>[])]),a=i.slice(0,5),l=i.filter(c=>c.status==="pending"||c.status==="failed");return{currentBalance:r,totalAllocated:n,totalAllocations:i.length,recentAllocations:a,pendingAllocations:l,tokens:s,lastUpdated:new Date().toISOString()}}catch(r){return console.error("❌ Failed to get user balance info:",r),{currentBalance:0,totalAllocated:0,totalAllocations:0,recentAllocations:[],pendingAllocations:[],tokens:[],lastUpdated:new Date().toISOString(),error:r.message}}}async retryFailedAllocation(e){try{const r=this.allocations.get(e);if(!r)throw new Error("Allocation not found");if(r.status!=="failed")throw new Error("Only failed allocations can be retried");return console.log("🔄 Retrying failed allocation:",e),r.retryCount+=1,r.lastRetryAt=new Date().toISOString(),r.status="retrying",this.allocations.set(e,r),this.saveToStorage(),await this.sendAllocationNotification(r)?(r.status="completed",r.needsRetry=!1):(r.status="failed",r.needsRetry=!0),r.updatedAt=new Date().toISOString(),this.allocations.set(e,r),this.saveToStorage(),{success:r.status==="completed",allocation:r,message:r.status==="completed"?"Allocation retry successful":"Allocation retry failed"}}catch(r){throw console.error("❌ Failed to retry allocation:",r),new Error(`Retry failed: ${r.message}`)}}getFailedAllocations(){return Array.from(this.allocations.values()).filter(e=>e.status==="failed"&&e.needsRetry).sort((e,r)=>new Date(r.createdAt)-new Date(e.createdAt))}getAllocationStats(){const e=Array.from(this.allocations.values());return{total:e.length,completed:e.filter(r=>r.status==="completed").length,failed:e.filter(r=>r.status==="failed").length,pending:e.filter(r=>r.status==="pending").length,totalAmount:e.filter(r=>r.status==="completed").reduce((r,n)=>r+(n.amount||0),0),notificationsSent:e.filter(r=>r.notificationSent).length,needsRetry:e.filter(r=>r.needsRetry).length}}async requestNotificationPermission(){try{return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(console.warn("Notification permission denied"),!1):await Notification.requestPermission()==="granted":(console.warn("Browser does not support notifications"),!1)}catch(e){return console.error("Failed to request notification permission:",e),!1}}formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:"Unknown"}formatAmount(e){return e?new Intl.NumberFormat("en-US").format(e):"0"}clearAllAllocations(){this.allocations.clear(),localStorage.removeItem("cblock_credit_allocations"),console.log("🗑️ All allocation data cleared")}}const Rh=new efe,tfe=Object.freeze(Object.defineProperty({__proto__:null,default:Rh},Symbol.toStringTag,{value:"Module"}));function sB({className:t="",showDetails:e=!1}){const[r,n]=p.useState(null),[i,s]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(e),[d,f]=p.useState(!1),h=p.useCallback(async()=>{try{l(null);const y=ne.getCurrentUser();if(!(y!=null&&y.walletAddress)){n(null);return}console.log("💰 Loading user balance info...");const v=await Rh.getUserBalanceInfo(y.walletAddress);n(v)}catch(y){console.error("❌ Failed to load balance info:",y),l(y.message)}finally{s(!1),f(!1)}},[]),m=p.useCallback(async()=>{f(!0),await h()},[h]),g=p.useCallback(async y=>{try{console.log("🔄 Retrying allocation:",y),Y.loading("Retrying credit allocation...",{id:"retry-allocation"});const v=await Rh.retryFailedAllocation(y);Y.dismiss("retry-allocation"),v.success?(Y.success("Credit allocation retry successful!"),await h()):Y.error("Credit allocation retry failed")}catch(v){Y.dismiss("retry-allocation"),Y.error(`Retry failed: ${v.message}`)}},[h]);if(p.useEffect(()=>{h()},[h]),p.useEffect(()=>{const y=setInterval(()=>{!i&&!d&&h()},3e4);return()=>clearInterval(y)},[i,d,h]),!ne.getCurrentUser())return null;if(i)return o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-carbon-200 p-6 ${t}`,children:o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(Re,{className:"w-6 h-6 text-primary-500 animate-spin"}),o.jsx("span",{className:"ml-2 text-carbon-600",children:"Loading balance..."})]})});if(a)return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-red-200 p-6 ${t}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(De,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-red-700 font-medium",children:"Error loading balance"})]}),o.jsx("button",{onClick:m,className:"text-red-600 hover:text-red-700 underline text-sm",children:"Try again"})]}),o.jsx("p",{className:"text-red-600 text-sm mt-2",children:a})]});if(!r)return o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-carbon-200 p-6 ${t}`,children:o.jsxs("div",{className:"text-center py-4",children:[o.jsx(gn,{className:"w-8 h-8 text-carbon-400 mx-auto mb-2"}),o.jsx("p",{className:"text-carbon-600",children:"No balance information available"}),o.jsx("p",{className:"text-carbon-500 text-sm",children:"Connect your wallet to view credits"})]})});const w=y=>new Intl.NumberFormat("en-US").format(y||0);return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-carbon-200 ${t}`,children:[o.jsx("div",{className:"p-6 border-b border-carbon-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(gn,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Credit Balance"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Your carbon credit portfolio"})]})]}),o.jsx("button",{onClick:m,disabled:d,className:"p-2 text-carbon-400 hover:text-carbon-600 hover:bg-carbon-100 rounded-lg transition-colors disabled:opacity-50",children:o.jsx(Re,{className:`w-5 h-5 ${d?"animate-spin":""}`})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Current Balance"}),o.jsx("p",{className:"text-2xl font-bold text-green-700",children:w(r.currentBalance)}),o.jsx("p",{className:"text-xs text-green-600",children:"Credits available"})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Total Allocated"}),o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w(r.totalAllocated)}),o.jsx("p",{className:"text-xs text-blue-600",children:"Lifetime earnings"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsx("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"Allocations"}),o.jsx("p",{className:"text-2xl font-bold text-purple-700",children:r.totalAllocations}),o.jsx("p",{className:"text-xs text-purple-600",children:"Documents verified"})]})]}),r.pendingAllocations.length>0&&o.jsxs(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(oc,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("p",{className:"text-yellow-800 font-medium",children:[r.pendingAllocations.length," pending allocation",r.pendingAllocations.length!==1?"s":""]})]}),o.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Some credit allocations are still being processed or need retry."})]}),r.recentAllocations.length>0&&o.jsxs("div",{className:"border-t border-carbon-200 pt-4",children:[o.jsxs("button",{onClick:()=>u(!c),className:"flex items-center justify-between w-full text-left",children:[o.jsxs("span",{className:"text-sm font-medium text-carbon-900",children:["Recent Allocations (",r.recentAllocations.length,")"]}),c?o.jsx(xz,{className:"w-4 h-4 text-carbon-500"}):o.jsx(hz,{className:"w-4 h-4 text-carbon-500"})]}),o.jsx(Ft,{children:c&&o.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-3",children:r.recentAllocations.map(y=>o.jsx(rfe,{allocation:y,onRetry:g},y.id))})})]}),r.totalAllocations===0&&o.jsxs("div",{className:"text-center py-6 border-t border-carbon-200",children:[o.jsx(qn,{className:"w-8 h-8 text-carbon-400 mx-auto mb-2"}),o.jsx("p",{className:"text-carbon-600 font-medium",children:"No credit allocations yet"}),o.jsx("p",{className:"text-carbon-500 text-sm",children:"Upload documents for verification to start earning credits"})]})]})]})}function rfe({allocation:t,onRetry:e}){const r=a=>{switch(a){case"completed":return o.jsx($e,{className:"w-4 h-4 text-green-500"});case"failed":return o.jsx(De,{className:"w-4 h-4 text-red-500"});case"pending":case"retrying":return o.jsx(oc,{className:"w-4 h-4 text-yellow-500"});default:return o.jsx(qn,{className:"w-4 h-4 text-carbon-500"})}},n=a=>{switch(a){case"completed":return"text-green-700 bg-green-50 border-green-200";case"failed":return"text-red-700 bg-red-50 border-red-200";case"pending":case"retrying":return"text-yellow-700 bg-yellow-50 border-yellow-200";default:return"text-carbon-700 bg-carbon-50 border-carbon-200"}},i=a=>new Intl.NumberFormat("en-US").format(a||0),s=a=>{if(!a)return"Unknown";try{return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}};return o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-3 rounded-lg border ${n(t.status)}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[r(t.status),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:[i(t.amount)," credits"]}),o.jsx("p",{className:"text-xs opacity-75",children:t.documentName||"Unknown document"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs opacity-75",children:s(t.allocatedAt||t.createdAt)}),t.status==="failed"&&t.needsRetry&&o.jsx("button",{onClick:()=>e(t.id),className:"text-xs text-red-600 hover:text-red-700 underline mt-1",children:"Retry"})]})]}),t.transactionHash&&o.jsx("div",{className:"mt-2 pt-2 border-t border-current border-opacity-20",children:o.jsxs("p",{className:"text-xs opacity-75 font-mono",children:["Tx: ",t.transactionHash.slice(0,10),"...",t.transactionHash.slice(-6)]})})]})}class nfe{constructor(){this.pinataApiKey="2407b1b5044981a61c84",this.pinataSecretKey="64d93eed9212bcce2b761eb7b4b75bca67ed8908c0ac949707c89e3959f80f2a",this.pinataJWT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySW5mb3JtYXRpb24iOnsiaWQiOiJjNWEyNjYwOS00Y2ZhLTRkYzEtOTMzZC03NjE3MTRlY2Q0ZWQiLCJlbWFpbCI6InJzdmtiMjAwNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicGluX3BvbGljeSI6eyJyZWdpb25zIjpbeyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJGUkExIn0seyJkZXNpcmVkUmVwbGljYXRpb25Db3VudCI6MSwiaWQiOiJOWUMxIn1dLCJ2ZXJzaW9uIjoxfSwibWZhX2VuYWJsZWQiOmZhbHNlLCJzdGF0dXMiOiJBQ1RJVkUifSwiYXV0aGVudGljYXRpb25UeXBlIjoic2NvcGVkS2V5Iiwic2NvcGVkS2V5S2V5IjoiMjQwN2IxYjUwNDQ5ODFhNjFjODQiLCJzY29wZWRLZXlTZWNyZXQiOiI2NGQ5M2VlZDkyMTJiY2NlMmI3NjFlYjdiNGI3NWJjYTY3ZWQ4OTA4YzBhYzk0OTcwN2M4OWUzOTU5ZjgwZjJhIiwiZXhwIjoxNzkwNTcwODg1fQ.tbIj169AcgPl4P5exAnjXe7cYbaaGINm-QlPpDs-WvY",this.pinataApiUrl="https://api.pinata.cloud",this.pinataGatewayUrl="https://gateway.pinata.cloud/ipfs"}async uploadFile(e){if(console.log("🔄 Starting IPFS upload to Pinata...",{fileName:e.name,fileSize:e.size,fileType:e.type,hasApiKey:!!this.pinataApiKey,hasJWT:!!this.pinataJWT}),this.validateDocumentFile(e),this.pinataJWT)try{return await this.uploadWithJWT(e)}catch(r){console.warn("⚠️ JWT-based upload failed, trying API key method:",r.message)}if(this.pinataApiKey&&this.pinataSecretKey)try{return await this.uploadWithApiKey(e)}catch(r){console.warn("⚠️ API key-based upload failed:",r.message)}try{return console.log("⚠️ No Pinata credentials configured, using mock IPFS for development"),await this.uploadViaMockIPFS(e)}catch(r){throw console.error("❌ All upload methods failed:",r),new Error("IPFS upload failed: Please check your Pinata configuration. Ensure you have either VITE_PINATA_JWT or VITE_PINATA_API_KEY configured.")}}async uploadWithJWT(e){console.log("📤 Uploading to Pinata with JWT...");try{const r=new FormData;r.append("file",e);const n=JSON.stringify({name:e.name,keyvalues:{uploadedAt:new Date().toISOString(),fileType:e.type,fileSize:e.size.toString(),source:"carbon-credit-app"}});r.append("pinataMetadata",n);const i=JSON.stringify({cidVersion:1,customPinPolicy:{regions:[{id:"FRA1",desiredReplicationCount:1},{id:"NYC1",desiredReplicationCount:1}]}});r.append("pinataOptions",i);const s=await fetch(`${this.pinataApiUrl}/pinning/pinFileToIPFS`,{method:"POST",headers:{Authorization:`Bearer ${this.pinataJWT}`},body:r});if(s.ok){const a=await s.json();return console.log("✅ Pinata JWT upload successful:",a),{cid:a.IpfsHash,url:`${this.pinataGatewayUrl}/${a.IpfsHash}`,name:e.name,size:e.size,type:e.type,uploadedAt:new Date().toISOString(),gateway:"pinata",method:"JWT",pinSize:a.PinSize,timestamp:a.Timestamp}}else{const a=await s.text();throw console.error("Pinata JWT upload failed:",s.status,a),new Error(`Pinata JWT upload failed: ${s.status} ${s.statusText}`)}}catch(r){throw console.error("❌ Pinata JWT upload error:",r),r}}async uploadWithApiKey(e){console.log("📤 Uploading to Pinata with API Key...");try{const r=new FormData;r.append("file",e);const n=JSON.stringify({name:e.name,keyvalues:{uploadedAt:new Date().toISOString(),fileType:e.type,fileSize:e.size.toString(),source:"carbon-credit-app"}});r.append("pinataMetadata",n);const i=await fetch(`${this.pinataApiUrl}/pinning/pinFileToIPFS`,{method:"POST",headers:{pinata_api_key:this.pinataApiKey,pinata_secret_api_key:this.pinataSecretKey},body:r});if(i.ok){const s=await i.json();return console.log("✅ Pinata API Key upload successful:",s),{cid:s.IpfsHash,url:`${this.pinataGatewayUrl}/${s.IpfsHash}`,name:e.name,size:e.size,type:e.type,uploadedAt:new Date().toISOString(),gateway:"pinata",method:"API_KEY",pinSize:s.PinSize,timestamp:s.Timestamp}}else{const s=await i.text();throw console.error("Pinata API Key upload failed:",i.status,s),new Error(`Pinata API Key upload failed: ${i.status} ${i.statusText}`)}}catch(r){throw console.error("❌ Pinata API Key upload error:",r),r}}async testConnection(){console.log("🔍 Testing Pinata connection...");try{const e=await fetch(`${this.pinataApiUrl}/data/testAuthentication`,{method:"GET",headers:this.pinataJWT?{Authorization:`Bearer ${this.pinataJWT}`}:{pinata_api_key:this.pinataApiKey,pinata_secret_api_key:this.pinataSecretKey}});if(e.ok){const r=await e.json();return console.log("✅ Pinata connection successful:",r),{success:!0,message:r.message}}else{const r=await e.text();return console.error("❌ Pinata connection failed:",e.status,r),{success:!1,error:`Connection failed: ${e.status}`}}}catch(e){return console.error("❌ Pinata connection test error:",e),{success:!1,error:e.message}}}async uploadViaMockIPFS(e){console.log("🧪 Using mock IPFS upload for development");const r=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",r),a=`QmMock${Array.from(new Uint8Array(n)).map(c=>c.toString(16).padStart(2,"0")).join("").substring(0,40)}`,l=new FileReader;return new Promise((c,u)=>{l.onload=()=>{try{localStorage.setItem(`ipfs_mock_${a}`,l.result),console.log(`✅ Mock IPFS upload successful: ${a}`),c({cid:a,url:`mock://ipfs/${a}`,name:e.name,size:e.size,type:e.type,uploadedAt:new Date().toISOString(),gateway:"mock",method:"mock",isMock:!0})}catch(d){u(d)}},l.onerror=u,l.readAsDataURL(e)})}async getFile(e){console.log(`📥 Retrieving file from IPFS: ${e}`);const r=[`${this.pinataGatewayUrl}/${e}`,`https://ipfs.io/ipfs/${e}`,`https://cloudflare-ipfs.com/ipfs/${e}`,`https://dweb.link/ipfs/${e}`];for(const n of r)try{const i=await fetch(n);if(i.ok)return console.log(`✅ File retrieved from: ${n}`),{url:n,data:await i.blob(),gateway:n.includes("pinata")?"pinata":"public"}}catch(i){console.warn(`⚠️ Failed to retrieve from ${n}:`,i.message)}if(e.startsWith("QmMock")){const n=localStorage.getItem(`ipfs_mock_${e}`);if(n)return console.log(`✅ Retrieved mock file: ${e}`),{url:`mock://ipfs/${e}`,data:n,gateway:"mock"}}throw new Error(`Failed to retrieve file from IPFS: ${e}`)}async uploadJSON(e){try{console.log("📤 Uploading JSON metadata to Pinata...");const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=new File([r],"metadata.json",{type:"application/json"});return await this.uploadFile(n)}catch(r){console.error("❌ JSON upload error:",r);const n=`QmMockJson${Math.random().toString(36).slice(2,15)}`;return localStorage.setItem(`ipfs_mock_${n}`,JSON.stringify(e,null,2)),{cid:n,url:`mock://ipfs/${n}`,name:"metadata.json",size:JSON.stringify(e).length,type:"application/json",uploadedAt:new Date().toISOString(),gateway:"mock",method:"mock",isMock:!0}}}createCarbonCreditMetadata(e){const{projectName:r,projectDescription:n,methodology:i,vintage:s,quantity:a,gsProjectId:l,gsSerial:c,verifier:u,documentCid:d}=e;return{name:`Carbon Credit - ${r}`,description:n,image:`${this.pinataGatewayUrl}/bafkreiabvdjwclwujxgbqfpqzq5x3mdjmdx3qk3fqiepvyqm3bkm7rldlm`,attributes:[{trait_type:"Project ID",value:l},{trait_type:"Serial Number",value:c},{trait_type:"Vintage",value:s},{trait_type:"Quantity",value:a,display_type:"number"},{trait_type:"Methodology",value:i},{trait_type:"Verifier",value:u},{trait_type:"Standard",value:"Gold Standard"}],properties:{projectName:r,methodology:i,vintage:s,quantity:a,gsProjectId:l,gsSerial:c,verifier:u,documentCid:d,createdAt:new Date().toISOString(),standard:"Gold Standard",status:"active"}}}createRetirementCertificateMetadata(e){const{tokenId:r,amount:n,beneficiary:i,retirementMessage:s,retiredBy:a,carbonCreditData:l}=e;return{name:`Retirement Certificate - ${n} Credits`,description:`Certificate for retirement of ${n} carbon credits${i?` on behalf of ${i}`:""}`,image:`${this.pinataGatewayUrl}/bafkreiahvdjwclwujxgbqfpqzq5x3mdjmdx3qk3fqiepvyqm3bkm7rldlm`,attributes:[{trait_type:"Amount Retired",value:n,display_type:"number"},{trait_type:"Token ID",value:r,display_type:"number"},{trait_type:"Retired By",value:a},{trait_type:"Beneficiary",value:i||"Self"},{trait_type:"Retirement Date",value:new Date().toLocaleDateString()}],properties:{tokenId:r,amount:n,beneficiary:i,retirementMessage:s,retiredBy:a,retiredAt:new Date().toISOString(),carbonCreditData:l,certificateType:"Carbon Credit Retirement"}}}async fetchMetadata(e){try{let r=await fetch(`${this.pinataGatewayUrl}/${e}`);if(r.ok||(console.warn("⚠️ Pinata gateway failed, trying public gateway"),r=await fetch(`https://ipfs.io/ipfs/${e}`)),!r.ok)throw new Error(`Failed to fetch metadata: ${r.statusText}`);return await r.json()}catch(r){if(console.error("❌ Error fetching IPFS metadata:",r),e.startsWith("QmMock")){const n=localStorage.getItem(`ipfs_mock_${e}`);if(n)try{return JSON.parse(n)}catch(i){console.error("❌ Error parsing mock metadata:",i)}}return null}}getIPFSUrl(e){return`${this.pinataGatewayUrl}/${e}`}extractCID(e){const r=e.match(/\/ipfs\/([^\/\?]+)/);return r?r[1]:null}validateDocumentFile(e){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png"].includes(e.type))throw new Error("Invalid file type. Please upload PDF, DOC, DOCX, TXT, JPG, or PNG files.");if(e.size>10485760)throw new Error("File too large. Maximum size is 10MB.");return!0}isConfigured(){return!!(this.pinataJWT||this.pinataApiKey&&this.pinataSecretKey)}getUploadStatus(){if(!this.isConfigured())return{status:"error",message:"Pinata IPFS service not configured - Please set VITE_PINATA_JWT or VITE_PINATA_API_KEY + VITE_PINATA_SECRET_KEY"};const e=this.pinataJWT?"JWT":this.pinataApiKey&&this.pinataSecretKey?"API_KEY":"Mock";return{status:"ready",message:`Ready to upload files to IPFS via Pinata (using ${e})`,configType:e,hasJWT:!!this.pinataJWT,hasApiKey:!!(this.pinataApiKey&&this.pinataSecretKey),service:"Pinata"}}async testUpload(){try{const e=JSON.stringify({test:!0,timestamp:new Date().toISOString(),message:"IPFS upload test"}),r=new File([e],"test.json",{type:"application/json"});console.log("🧪 Testing IPFS upload...");const n=await this.uploadFile(r),i=await this.fetchMetadata(n.cid);if(i&&i.test===!0)return console.log("✅ IPFS upload test successful!"),{success:!0,cid:n.cid,url:n.url,message:"IPFS upload working correctly"};throw new Error("Upload succeeded but content verification failed")}catch(e){return console.error("❌ IPFS upload test failed:",e),{success:!1,error:e.message,message:"IPFS upload test failed"}}}getGatewayUrls(e){return[`${this.pinataGatewayUrl}/${e}`,`https://ipfs.io/ipfs/${e}`,`https://cloudflare-ipfs.com/ipfs/${e}`,`https://dweb.link/ipfs/${e}`,`https://gateway.ipfs.io/ipfs/${e}`]}async fetchFileWithFallback(e){const r=this.getGatewayUrls(e);for(const n of r)try{console.log(`🔄 Trying to fetch from: ${n}`);const i=await fetch(n,{method:"GET",headers:{Accept:"*/*"}});if(i.ok)return console.log(`✅ Successfully fetched from: ${n}`),{success:!0,url:n,response:i,blob:await i.blob()}}catch(i){console.warn(`⚠️ Failed to fetch from ${n}:`,i.message);continue}throw new Error(`Failed to fetch file from all IPFS gateways for CID: ${e}`)}async verifyCIDAccessibility(e){try{const r=await this.fetchFileWithFallback(e);return{accessible:!0,url:r.url,size:r.blob.size}}catch(r){return{accessible:!1,error:r.message}}}getAllowedFileTypes(){return["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png"]}getMaxFileSize(){return 10*1024*1024}getPinataInfo(){return{service:"Pinata",apiUrl:this.pinataApiUrl,gatewayUrl:this.pinataGatewayUrl,hasJWT:!!this.pinataJWT,hasApiKey:!!(this.pinataApiKey&&this.pinataSecretKey),configured:this.isConfigured()}}}const cu=new nfe,xe={PENDING:"pending",ATTESTED:"attested",MINTED:"minted",REJECTED:"rejected"},JP=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png","image/jpg"],XP=10*1024*1024;class ife{constructor(){this.documents=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_documents");if(e){const r=JSON.parse(e);this.documents=new Map(r),setTimeout(()=>{this.fixDocumentsMissingUploader()},1e3)}}catch(e){console.error("Failed to load documents from storage:",e),this.documents=new Map}}saveToStorage(){try{const e=Array.from(this.documents.entries());localStorage.setItem("cblock_documents",JSON.stringify(e))}catch(e){console.error("Failed to save documents to storage:",e)}}validateFile(e){if(!e)throw new Error("No file provided");if(!JP.includes(e.type))throw new Error("Invalid file type. Please upload PDF, DOC, DOCX, TXT, JPG, or PNG files.");if(e.size>XP)throw new Error("File too large. Maximum size is 10MB.");if(!e.name||e.name.trim()==="")throw new Error("File must have a valid name");return!0}validateMetadata(e){const{projectName:r,projectType:n,description:i,location:s,estimatedCredits:a}=e;if(!r||r.trim()==="")throw new Error("Project name is required");if(r.length>100)throw new Error("Project name must be 100 characters or less");if(n&&n.length>50)throw new Error("Project type must be 50 characters or less");if(i&&i.length>500)throw new Error("Description must be 500 characters or less");if(s&&s.length>100)throw new Error("Location must be 100 characters or less");if(a!==void 0){const l=Number(a);if(isNaN(l)||l<0||l>1e6)throw new Error("Estimated credits must be a number between 0 and 1,000,000")}return!0}async uploadDocument(e,r,n={}){var i;try{const s=ne.getCurrentUser();if(!s)throw new Error("User must be authenticated to upload documents");if(!ne.hasPermission("upload_document"))throw new Error("User does not have permission to upload documents");this.validateFile(e),this.validateMetadata(r),console.log("📤 Starting document upload process...",{fileName:e.name,fileSize:e.size,projectName:r.projectName,userRole:s.accountType});const a=Tt.loading("Uploading document to IPFS...",{roleSpecific:!0,operation:"document_upload"});let l;try{l=await jh.executeWithRetry(()=>cu.uploadFile(e),{maxRetries:3,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","IPFS_ERROR"]})}catch(m){throw Tt.dismiss(a),Cr.handleIPFSError(m,{fileName:e.name,fileSize:e.size,userRole:s.accountType,retryAction:()=>cu.uploadFile(e)}).error}if(console.log("📁 File uploaded to IPFS:",{cid:l.cid,url:l.url,isMock:l.isMock}),!l.cid)throw new Error("IPFS upload did not return a valid CID");const c={cid:l.cid,projectName:r.projectName,projectType:r.projectType||"",description:r.description||"",location:r.location||"",estimatedCredits:Number(r.estimatedCredits||0)};console.log("📋 Document data for blockchain registration:",{cid:c.cid,projectName:c.projectName,hasValidCid:!!c.cid,cidLength:(i=c.cid)==null?void 0:i.length}),Tt.dismiss(a);const u=Tt.loading("Registering document on blockchain...",{roleSpecific:!0,operation:"document_upload"});let d=null,f=null;try{d=await jh.executeWithRetry(()=>ce.registerDocument(c),{maxRetries:2,retryableErrors:["NETWORK_ERROR","BLOCKCHAIN_CONGESTION"]}),f=d.documentId,console.log("⛓️ Document registered on blockchain:",{documentId:f,transactionHash:d.hash})}catch(m){console.warn("⚠️ Blockchain registration failed, storing locally:",m.message),Cr.handleBlockchainError(m,"document_registration",{documentCid:l.cid,projectName:r.projectName,userRole:s.accountType,retryAction:()=>ce.registerDocument(c)}),f=`local_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}finally{Tt.dismiss(u)}const h={id:f,cid:l.cid,filename:e.name,fileSize:e.size,mimeType:e.type,uploadedBy:s.walletAddress||s.email,uploaderType:s.accountType,uploaderName:s.name,uploaderEmail:s.email,projectName:r.projectName,projectType:r.projectType||"",description:r.description||"",location:r.location||"",estimatedCredits:Number(r.estimatedCredits||0),status:xe.PENDING,ipfsUrl:l.url,isMockIPFS:l.isMock||!1,attestation:{verifierAddress:null,attestedAt:null,signature:null,gsProjectId:null,gsSerial:null},mintingResult:{tokenId:null,amount:null,transactionHash:null,mintedAt:null},blockchainRegistered:!!d,transactionHash:(d==null?void 0:d.hash)||null,blockchainDocumentId:(d==null?void 0:d.documentId)||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.documents.set(f,h),this.saveToStorage(),console.log("✅ Document upload completed successfully:",{documentId:f,status:h.status,blockchainRegistered:h.blockchainRegistered}),Tt.documentUploadSuccess(h.filename,s.accountType),{success:!0,documentId:f,document:h,ipfs:l,blockchain:d,message:d?"Document uploaded and registered on blockchain successfully":"Document uploaded to IPFS successfully (blockchain registration pending)"}}catch(s){console.error("❌ Document upload failed:",s);const a=ne.getCurrentUser(),l=Cr.handleDocumentUploadError(s,(a==null?void 0:a.accountType)||"guest",{fileName:e.name,fileSize:e.size,projectName:r.projectName,retryAction:()=>this.uploadDocument(e,r,n)});throw Tt.documentUploadError(l.message.message||s.message,(a==null?void 0:a.accountType)||"guest"),l.error}}async getDocumentsForVerifier(e={}){try{if(!ne.isVerifier())throw new Error("Only verifiers can access all documents");console.log("📋 Fetching documents for verifier dashboard...");let r=[];try{r=(await ce.getAllDocuments()).map(a=>{var c,u;let l=this.documents.get((c=a.id)==null?void 0:c.toString())||this.documents.get(a.cid)||this.documents.get(a.id);if(!l){for(const[d,f]of this.documents.entries())if(f.cid===a.cid||f.id===a.id||f.id===((u=a.id)==null?void 0:u.toString())){l=f;break}}return{...a,filename:(l==null?void 0:l.filename)||"Unknown",fileSize:(l==null?void 0:l.fileSize)||0,mimeType:(l==null?void 0:l.mimeType)||"application/octet-stream",uploaderName:(l==null?void 0:l.uploaderName)||"Unknown",uploaderEmail:(l==null?void 0:l.uploaderEmail)||"Unknown",ipfsUrl:(l==null?void 0:l.ipfsUrl)||`https://w3s.link/ipfs/${a.cid}`,isMockIPFS:(l==null?void 0:l.isMockIPFS)||!1,status:a.isAttested?xe.ATTESTED:xe.PENDING,uploadedBy:a.uploader||(l==null?void 0:l.uploadedBy),uploaderType:this.getUserTypeFromAddress(a.uploader),blockchainRegistered:!0,source:"blockchain"}}),console.log(`📋 Retrieved ${r.length} documents from blockchain`)}catch(s){console.warn("⚠️ Failed to fetch from blockchain, using local documents:",s.message),r=Array.from(this.documents.values()).map(a=>({...a,source:"local"}))}const n=Array.from(this.documents.values()).filter(s=>!s.blockchainRegistered).map(s=>({...s,source:"local_only"}));r=[...r,...n],e.status&&(r=r.filter(s=>s.status===e.status));const i=r.filter(s=>!s.uploadedBy);if(i.length>0&&console.warn(`⚠️ Found ${i.length} documents without uploadedBy field:`,i.map(s=>({id:s.id,cid:s.cid,source:s.source}))),e.uploaderType&&(r=r.filter(s=>s.uploaderType===e.uploaderType)),e.projectType&&(r=r.filter(s=>{var a;return(a=s.projectType)==null?void 0:a.toLowerCase().includes(e.projectType.toLowerCase())})),e.search){const s=e.search.toLowerCase();r=r.filter(a=>{var l,c,u;return((l=a.projectName)==null?void 0:l.toLowerCase().includes(s))||((c=a.description)==null?void 0:c.toLowerCase().includes(s))||((u=a.uploaderName)==null?void 0:u.toLowerCase().includes(s))})}return r.sort((s,a)=>{const l=new Date(s.uploadedAt||s.createdAt);return new Date(a.uploadedAt||a.createdAt)-l}),console.log(`📋 Returning ${r.length} documents after filtering`),r}catch(r){throw console.error("❌ Failed to get documents for verifier:",r),r.message.includes("Only verifiers")?r:new Error(`Failed to fetch documents: ${r.message}`)}}fixDocumentsMissingUploader(){let e=0;const r=ne.getCurrentUser();if(!r)return console.warn("Cannot fix documents: no current user"),e;for(const[n,i]of this.documents.entries())!i.uploadedBy&&i.uploaderEmail===r.email&&(i.uploadedBy=r.walletAddress||r.email,i.updatedAt=new Date().toISOString(),this.documents.set(n,i),e++,console.log(`🔧 Fixed document ${n}: added uploadedBy = ${i.uploadedBy}`));return e>0&&(this.saveToStorage(),console.log(`✅ Fixed ${e} documents missing uploadedBy field`)),e}async getUserDocuments(){try{const e=ne.getCurrentUser();if(!e)throw new Error("User must be authenticated to view documents");console.log("📋 Fetching documents for current user...");let r=[];if(e.walletAddress)try{r=(await ce.getUserDocuments(e.walletAddress)).map(l=>{const c=this.documents.get(l.cid);return{...l,filename:(c==null?void 0:c.filename)||"Unknown",fileSize:(c==null?void 0:c.fileSize)||0,mimeType:(c==null?void 0:c.mimeType)||"application/octet-stream",ipfsUrl:(c==null?void 0:c.ipfsUrl)||`https://w3s.link/ipfs/${l.cid}`,isMockIPFS:(c==null?void 0:c.isMockIPFS)||!1,status:l.isAttested?xe.ATTESTED:xe.PENDING,blockchainRegistered:!0,source:"blockchain"}})}catch(a){console.warn("⚠️ Failed to fetch user documents from blockchain:",a.message)}const n=Array.from(this.documents.values()).filter(a=>a.uploadedBy===e.walletAddress||a.uploadedBy===e.email||a.uploaderEmail===e.email).map(a=>({...a,source:a.blockchainRegistered?"blockchain":"local"})),s=[...r,...n].filter((a,l,c)=>l===c.findIndex(u=>u.cid===a.cid));return s.sort((a,l)=>{const c=new Date(a.uploadedAt||a.createdAt);return new Date(l.uploadedAt||l.createdAt)-c}),console.log(`📋 Retrieved ${s.length} documents for user`),s}catch(e){throw console.error("❌ Failed to get user documents:",e),new Error(`Failed to fetch your documents: ${e.message}`)}}async getDocument(e){try{if(!e)throw new Error("Document ID is required");console.log(`📄 Fetching document: ${e}`);let r=this.documents.get(e);if(!r)try{const n=await ce.getDocument(e);n&&(r={...n,filename:"Unknown",fileSize:0,mimeType:"application/octet-stream",uploaderName:"Unknown",uploaderEmail:"Unknown",ipfsUrl:`https://w3s.link/ipfs/${n.cid}`,isMockIPFS:!1,status:n.isAttested?xe.ATTESTED:xe.PENDING,uploaderType:this.getUserTypeFromAddress(n.uploader),blockchainRegistered:!0,source:"blockchain"})}catch(n){console.warn("⚠️ Failed to fetch document from blockchain:",n.message)}if(!r)throw new Error("Document not found");return r}catch(r){throw console.error("❌ Failed to get document:",r),new Error(`Failed to fetch document: ${r.message}`)}}async updateDocumentStatus(e,r,n={}){try{if(!e)throw new Error("Document ID is required");if(!Object.values(xe).includes(r))throw new Error("Invalid document status");console.log(`📝 Updating document ${e} status to: ${r}`);let i=this.documents.get(e),s=e;if(!i){const l=e.toString();i=this.documents.get(l),i&&(s=l)}if(!i){for(const[l,c]of this.documents.entries())if(c.cid===e||c.id===e){i=c,s=l;break}}i||(console.warn(`⚠️ Document not found in local storage: ${e}`),console.log("📋 Available documents:",Array.from(this.documents.keys())),i={id:e,cid:e,status:xe.PENDING,createdAt:new Date().toISOString(),uploadedBy:"unknown",filename:"Unknown Document",source:"blockchain"},s=e,console.log(`📝 Created minimal document record for: ${e}`));const a={...i,status:r,updatedAt:new Date().toISOString(),...n};return this.documents.set(s,a),this.saveToStorage(),console.log("✅ Document status updated successfully"),a}catch(i){throw console.error("❌ Failed to update document status:",i),new Error(`Failed to update document: ${i.message}`)}}async getDocumentStats(){try{if(!ne.getCurrentUser())return{total:0,pending:0,attested:0,minted:0,rejected:0};let r=[];return ne.isVerifier()?r=await this.getDocumentsForVerifier():r=await this.getUserDocuments(),{total:r.length,pending:r.filter(i=>i.status===xe.PENDING).length,attested:r.filter(i=>i.status===xe.ATTESTED).length,minted:r.filter(i=>i.status===xe.MINTED).length,rejected:r.filter(i=>i.status===xe.REJECTED).length}}catch(e){return console.error("❌ Failed to get document stats:",e),{total:0,pending:0,attested:0,minted:0,rejected:0}}}async attestDocument(e,r){try{if(!ne.isUserAuthenticated())throw new Error("Please log in to attest documents");if(!ne.isVerifier())throw new Error("Only verifiers can attest documents");if(!e)throw new Error("Document ID is required");if(!r)throw new Error("Attestation data is required");console.log(`🔍 Attesting document: ${e}`);const n=await this.getDocument(e);if(!n)throw new Error("Document not found");if(n.status===xe.ATTESTED)throw new Error("Document has already been attested");if(n.status===xe.MINTED)throw new Error("Document has already been minted");if(n.status===xe.REJECTED)throw new Error("Document has been rejected and cannot be attested");const s=ne.getCurrentUser().walletAddress;if(!s)throw new Error("Verifier wallet address not found");let a=null;try{n.blockchainRegistered&&n.blockchainDocumentId&&(a=await ce.attestDocument(n.blockchainDocumentId),console.log("⛓️ Document attested on blockchain:",a))}catch(u){console.warn("⚠️ Blockchain attestation failed:",u.message)}const l={verifierAddress:s,attestedAt:new Date().toISOString(),signature:r.signature,gsProjectId:r.gsProjectId,gsSerial:r.gsSerial,amount:r.amount,nonce:r.nonce,blockchainAttested:!!a,blockchainTransactionHash:(a==null?void 0:a.hash)||null},c=await this.updateDocumentStatus(e,xe.ATTESTED,{attestation:l});return console.log("✅ Document attestation completed successfully"),{success:!0,document:c,blockchain:a,message:a?"Document attested successfully on blockchain":"Document attested locally (blockchain attestation pending)"}}catch(n){throw console.error("❌ Document attestation failed:",n),n.message.includes("Only verifiers")||n.message.includes("already been attested")||n.message.includes("not found")?n:new Error(`Attestation failed: ${n.message}`)}}getUserTypeFromAddress(e){var i;const n=Array.from(((i=ne.users)==null?void 0:i.values())||[]).find(s=>s.walletAddress===e);return(n==null?void 0:n.accountType)||"individual"}getAllowedFileTypes(){return[...JP]}getMaxFileSize(){return XP}formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,i)).toFixed(2))+" "+n[i]}async updateDocumentMinting(e,r){try{if(!e)throw new Error("Document ID is required");if(!r)throw new Error("Minting data is required");console.log(`🪙 Updating document ${e} with minting data`);const n=this.documents.get(e);if(!n)throw new Error("Document not found");if(n.status===xe.MINTED)throw new Error("Document has already been minted");if(n.status!==xe.ATTESTED)throw new Error("Document must be attested before minting");const i=await this.updateDocumentStatus(e,xe.MINTED,{mintingResult:{transactionHash:r.transactionHash,mintedAt:r.mintedAt||new Date().toISOString(),mintedBy:r.mintedBy,amount:r.amount,recipient:r.recipient,tokenId:r.tokenId||null}});return console.log("✅ Document minting information updated successfully"),i}catch(n){throw console.error("❌ Failed to update document minting:",n),new Error(`Failed to update minting information: ${n.message}`)}}async canDocumentBeMinted(e){try{if(!e)throw new Error("Document ID is required");const r=await this.getDocument(e);return r?r.status===xe.MINTED?{canMint:!1,reason:"Document has already been minted"}:r.status!==xe.ATTESTED?{canMint:!1,reason:"Document must be attested before minting"}:!r.attestation||!r.attestation.signature?{canMint:!1,reason:"Document attestation data is incomplete"}:{canMint:!0,reason:"Document is eligible for minting"}:{canMint:!1,reason:"Document not found"}}catch(r){return console.error("❌ Failed to check minting eligibility:",r),{canMint:!1,reason:`Error checking eligibility: ${r.message}`}}}getServiceStatus(){const e=cu.getUploadStatus(),r=ce.isConfigured();return{ipfs:e,blockchain:{status:r?"ready":"warning",message:r?"Blockchain service configured":"Blockchain service not fully configured - documents will be stored locally"},overall:{status:e.status==="ready"?"ready":"warning",message:e.status==="ready"?"Document service ready":"Document service partially configured"}}}}const fn=new ife;function sfe({className:t="",onPageChange:e}){const[r,n]=p.useState(null),[i,s]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState("overview"),h=p.useCallback(async()=>{try{l(null);const y=ne.getCurrentUser();if(!(y!=null&&y.walletAddress)){n(null);return}console.log("📊 Loading user dashboard data...");const[v,b,j,A,S]=await Promise.all([Rh.getUserBalanceInfo(y.walletAddress),fn.getUserDocuments().catch(()=>[]),fn.getDocumentStats().catch(()=>({total:0,pending:0,attested:0,minted:0,rejected:0})),ce.getUserTokens(y.walletAddress).catch(()=>[]),Rh.getUserAllocations(y.walletAddress).catch(()=>[])]),C=m(b,S,A),N={user:y,balance:v,documents:b,documentStats:j,tokens:A,allocations:S,portfolio:C,lastUpdated:new Date().toISOString()};n(N),console.log("✅ Dashboard data loaded successfully")}catch(y){console.error("❌ Failed to load dashboard data:",y),l(y.message)}finally{s(!1),u(!1)}},[]),m=(y,v,b)=>{const j=y.length,A=y.filter(M=>M.status==="pending").length,S=y.filter(M=>M.status==="attested").length,C=y.filter(M=>M.status==="minted").length,N=y.filter(M=>M.status==="rejected").length,P=v.filter(M=>M.status==="completed").reduce((M,U)=>M+(U.amount||0),0),I=b.reduce((M,U)=>M+U.balance,0),D=j>0?(S+C)/j*100:0,B=C>0?P/C:0,V=new Date;V.setDate(V.getDate()-30);const Q=y.filter(M=>new Date(M.createdAt)>V).length,T=v.filter(M=>new Date(M.createdAt)>V).length;return{totalDocuments:j,pendingDocuments:A,attestedDocuments:S,mintedDocuments:C,rejectedDocuments:N,totalCreditsEarned:P,currentBalance:I,verificationRate:D,avgCreditsPerDocument:B,recentDocuments:Q,recentAllocations:T}},g=p.useCallback(async()=>{u(!0),await h()},[h]);if(p.useEffect(()=>{h()},[h]),p.useEffect(()=>{const y=setInterval(()=>{!i&&!c&&h()},6e4);return()=>clearInterval(y)},[i,c,h]),!ne.getCurrentUser())return o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-20",children:[o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(gn,{className:"w-10 h-10 text-primary-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-4",children:"Please Log In"}),o.jsx("p",{className:"text-carbon-600",children:"Log in to view your credit dashboard and document portfolio."})]})});if(i)return o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsxs("div",{className:"animate-pulse space-y-8",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((y,v)=>o.jsx("div",{className:"h-32 bg-carbon-100 rounded-lg"},v))}),o.jsx("div",{className:"h-96 bg-carbon-100 rounded-lg"})]})});if(a)return o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(De,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-red-700 font-medium",children:"Error loading dashboard"})]}),o.jsx("button",{onClick:g,className:"text-red-600 hover:text-red-700 underline text-sm",children:"Try again"})]}),o.jsx("p",{className:"text-red-600 text-sm mt-2",children:a})]})});if(!r)return o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-20",children:[o.jsx(qn,{className:"w-16 h-16 text-carbon-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl font-semibold text-carbon-900 mb-2",children:"No Data Available"}),o.jsx("p",{className:"text-carbon-600",children:"Connect your wallet and upload documents to start tracking your credits."})]})});const w=[{id:"overview",name:"Overview",icon:pn},{id:"documents",name:"Documents",icon:Ai},{id:"transactions",name:"Transactions",icon:gn},{id:"portfolio",name:"Portfolio",icon:tu}];return o.jsxs("div",{className:`p-8 max-w-7xl mx-auto space-y-8 ${t}`,children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"My Dashboard"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Track your carbon credits, documents, and verification progress"})]}),o.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[o.jsx("button",{onClick:g,disabled:c,className:"p-2 text-carbon-400 hover:text-carbon-600 hover:bg-carbon-100 rounded-lg transition-colors disabled:opacity-50","aria-label":"Refresh dashboard",children:o.jsx(Re,{className:`w-5 h-5 ${c?"animate-spin":""}`})}),o.jsxs("span",{className:"text-xs text-carbon-500",children:["Last updated: ",new Date(r.lastUpdated).toLocaleTimeString()]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsx(xp,{title:"Current Balance",value:r.balance.currentBalance,suffix:"Credits",icon:gn,color:"from-green-500 to-green-600",onClick:()=>f("transactions")}),o.jsx(xp,{title:"Total Documents",value:r.portfolio.totalDocuments,icon:Ai,color:"from-blue-500 to-blue-600",onClick:()=>f("documents")}),o.jsx(xp,{title:"Credits Earned",value:r.portfolio.totalCreditsEarned,suffix:"Total",icon:tu,color:"from-purple-500 to-purple-600",onClick:()=>f("portfolio")}),o.jsx(xp,{title:"Verification Rate",value:Math.round(r.portfolio.verificationRate),suffix:"%",icon:$e,color:"from-orange-500 to-orange-600",onClick:()=>f("portfolio")})]}),o.jsx(sB,{showDetails:!0}),o.jsx("div",{className:"border-b border-carbon-200",children:o.jsx("nav",{className:"flex space-x-8",role:"tablist",children:w.map(y=>{const v=y.icon;return o.jsxs("button",{onClick:()=>f(y.id),role:"tab","aria-selected":d===y.id,className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${d===y.id?"border-primary-500 text-primary-600":"border-transparent text-carbon-500 hover:text-carbon-700 hover:border-carbon-300"}`,children:[o.jsx(v,{className:"w-5 h-5"}),o.jsx("span",{children:y.name})]},y.id)})})}),o.jsx(Ft,{mode:"wait",children:o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[d==="overview"&&o.jsx(afe,{data:r,onPageChange:e}),d==="documents"&&o.jsx(ofe,{documents:r.documents,stats:r.documentStats,onPageChange:e}),d==="transactions"&&o.jsx(lfe,{allocations:r.allocations,balance:r.balance}),d==="portfolio"&&o.jsx(cfe,{portfolio:r.portfolio,documents:r.documents,tokens:r.tokens})]},d)})]})}function xp({title:t,value:e,suffix:r,icon:n,color:i,onClick:s}){const a=l=>typeof l=="number"?new Intl.NumberFormat("en-US").format(l):l||"0";return o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},onClick:s,className:`card cursor-pointer bg-gradient-to-br ${i} text-white`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/80 text-sm font-medium",children:t}),o.jsxs("p",{className:"text-2xl font-bold",children:[a(e),r&&o.jsx("span",{className:"text-lg ml-1",children:r})]})]}),o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx(n,{className:"w-6 h-6"})})]})})}function afe({data:t,onPageChange:e}){const r=t.documents.slice(0,3),n=t.allocations.slice(0,3);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Recent Documents"}),o.jsx("button",{onClick:()=>e==null?void 0:e("mint"),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Upload New"})]}),o.jsx("div",{className:"space-y-4",children:r.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ai,{className:"w-12 h-12 text-carbon-400 mx-auto mb-3"}),o.jsx("p",{className:"text-carbon-600",children:"No documents uploaded yet"}),o.jsx("button",{onClick:()=>e==null?void 0:e("mint"),className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2",children:"Upload your first document"})]}):r.map(i=>o.jsx(aB,{document:i},i.id))})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Recent Credits"}),o.jsx("button",{onClick:()=>e==null?void 0:e("tokens"),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View All"})]}),o.jsx("div",{className:"space-y-4",children:n.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gn,{className:"w-12 h-12 text-carbon-400 mx-auto mb-3"}),o.jsx("p",{className:"text-carbon-600",children:"No credit allocations yet"}),o.jsx("p",{className:"text-carbon-500 text-sm",children:"Credits will appear here when your documents are verified"})]}):n.map(i=>o.jsx(oB,{allocation:i},i.id))})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Quick Actions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx(Jv,{title:"Upload Document",description:"Submit a new document for verification",icon:Ai,onClick:()=>e==null?void 0:e("mint"),color:"bg-blue-50 text-blue-700 border-blue-200"}),o.jsx(Jv,{title:"View Tokens",description:"Check your carbon credit tokens",icon:gn,onClick:()=>e==null?void 0:e("tokens"),color:"bg-green-50 text-green-700 border-green-200"}),o.jsx(Jv,{title:"Marketplace",description:"Trade carbon credits",icon:pn,onClick:()=>e==null?void 0:e("market"),color:"bg-purple-50 text-purple-700 border-purple-200"})]})]})]})}function Jv({title:t,description:e,icon:r,onClick:n,color:i}){return o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,className:`p-4 rounded-lg border-2 text-left transition-colors ${i} hover:shadow-md`,children:[o.jsx(r,{className:"w-8 h-8 mb-3"}),o.jsx("h4",{className:"font-semibold mb-1",children:t}),o.jsx("p",{className:"text-sm opacity-75",children:e})]})}function aB({document:t}){const e=i=>{switch(i){case"minted":return o.jsx($e,{className:"w-4 h-4 text-green-500"});case"attested":return o.jsx($e,{className:"w-4 h-4 text-blue-500"});case"pending":return o.jsx(oc,{className:"w-4 h-4 text-yellow-500"});case"rejected":return o.jsx(De,{className:"w-4 h-4 text-red-500"});default:return o.jsx(Ai,{className:"w-4 h-4 text-carbon-500"})}},r=i=>{switch(i){case"minted":return"text-green-700 bg-green-50";case"attested":return"text-blue-700 bg-blue-50";case"pending":return"text-yellow-700 bg-yellow-50";case"rejected":return"text-red-700 bg-red-50";default:return"text-carbon-700 bg-carbon-50"}},n=i=>{try{return new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return"Unknown"}};return o.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-carbon-50 hover:bg-carbon-100 transition-colors",children:[e(t.status),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-carbon-900 truncate",children:t.projectName||t.filename}),o.jsxs("p",{className:"text-xs text-carbon-500",children:[n(t.createdAt)," • ",t.estimatedCredits||0," credits"]})]}),o.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r(t.status)}`,children:t.status})]})}function oB({allocation:t}){const e=n=>new Intl.NumberFormat("en-US").format(n||0),r=n=>{try{return new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}};return o.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-green-50 border border-green-200",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(gn,{className:"w-4 h-4 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium text-green-900",children:["+",e(t.amount)," credits allocated"]}),o.jsxs("p",{className:"text-xs text-green-700",children:[t.documentName," • ",r(t.allocatedAt||t.createdAt)]})]})]})}function ofe({documents:t,stats:e,onPageChange:r}){return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Your Documents"}),o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ai,{className:"w-16 h-16 text-carbon-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"No documents uploaded"}),o.jsx("p",{className:"text-carbon-600 mb-6",children:"Upload your first document to start earning carbon credits"}),o.jsx("button",{onClick:()=>r==null?void 0:r("mint"),className:"btn-primary",children:"Upload Document"})]}):t.map(n=>o.jsx(aB,{document:n},n.id))})]})})}function lfe({allocations:t,balance:e}){return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Credit Transactions"}),o.jsx("div",{className:"space-y-4",children:t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(gn,{className:"w-16 h-16 text-carbon-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"No transactions yet"}),o.jsx("p",{className:"text-carbon-600",children:"Credit allocations will appear here when your documents are verified and minted."})]}):t.map(r=>o.jsx(oB,{allocation:r},r.id))})]})})}function cfe({portfolio:t,documents:e,tokens:r}){return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Portfolio Overview"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t.totalDocuments}),o.jsx("p",{className:"text-sm text-blue-600",children:"Total Documents"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[Math.round(t.verificationRate),"%"]}),o.jsx("p",{className:"text-sm text-green-600",children:"Verification Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-700",children:new Intl.NumberFormat("en-US").format(t.totalCreditsEarned)}),o.jsx("p",{className:"text-sm text-purple-600",children:"Credits Earned"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("p",{className:"text-2xl font-bold text-orange-700",children:Math.round(t.avgCreditsPerDocument)}),o.jsx("p",{className:"text-sm text-orange-600",children:"Avg Credits/Doc"})]})]})]})})}const ZP=[{month:"Jan",price:25,volume:1200},{month:"Feb",price:28,volume:1400},{month:"Mar",price:32,volume:1600},{month:"Apr",price:30,volume:1300},{month:"May",price:35,volume:1800},{month:"Jun",price:38,volume:2e3}];function eT({walletAddress:t,onPageChange:e}){const[r,n]=p.useState({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),[i,s]=p.useState([]),[a,l]=p.useState(!0),c=ne.getCurrentUser(),u=(c==null?void 0:c.accountType)||"individual";if(u==="individual"||u==="business")return o.jsx(sfe,{onPageChange:e});p.useEffect(()=>{t?d():l(!1)},[t]);const d=async()=>{var h,m;try{if(l(!0),!t){l(!1);return}if(!ce.isConfigured()){console.warn("Smart contracts not configured"),n({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),s([]),l(!1);return}ce.isInitialized||await ce.initialize();const g=await ce.getUserTokens(t),x=await ce.getRetirementCertificates(t),w=await ce.getMarketplaceListings(),y=g.reduce((A,S)=>A+S.balance,0),v=y*35,b=w.filter(A=>A.seller.toLowerCase()===t.toLowerCase());n({totalTokens:y,totalValue:v,retiredTokens:x.length,marketListings:b.length});const j=[];g.length>0&&j.push({type:"mint",amount:((h=g[g.length-1])==null?void 0:h.balance)||0,time:"Recently",txHash:`0x${Math.random().toString(16).slice(2,10)}...`}),b.length>0&&j.push({type:"list",amount:((m=b[b.length-1])==null?void 0:m.amount)||0,time:"Recently",txHash:`0x${Math.random().toString(16).slice(2,10)}...`}),x.length>0&&j.push({type:"retire",amount:10,time:"Recently",txHash:`0x${Math.random().toString(16).slice(2,10)}...`}),s(j)}catch(g){console.error("Error loading dashboard data:",g),n({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),s([])}finally{l(!1)}},f=({title:h,value:m,change:g,icon:x,color:w,onClick:y})=>o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},onClick:y,className:`card cursor-pointer bg-gradient-to-br ${w} text-white`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/80 text-sm font-medium",children:h}),o.jsx("p",{className:"text-2xl font-bold",children:m}),g&&o.jsxs("p",{className:"text-white/90 text-xs",children:[o.jsxs("span",{className:"text-green-300",children:["↗ ",g,"%"]})," from last month"]})]}),o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx(x,{className:"w-6 h-6"})})]})});return t?a?o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64 mb-8"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((h,m)=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"h-24 bg-carbon-100 rounded"})},m))})]})}):o.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[!ce.isConfigured()&&o.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(De,{className:"w-5 h-5 text-yellow-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Smart contracts not configured"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Deploy contracts and update the .env file to enable blockchain features."})]})]})}),o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"Dashboard"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Welcome back to your carbon credit portfolio"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("mint"),className:"btn-primary",children:[o.jsx(ks,{className:"w-5 h-5 mr-2"}),"Mint Credits"]}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("market"),className:"btn-secondary",children:[o.jsx(oo,{className:"w-5 h-5 mr-2"}),"View Market"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(f,{title:"Total Credits",value:r.totalTokens.toLocaleString(),change:"12",icon:St,color:"from-blue-500 to-blue-600",onClick:()=>e("tokens")}),o.jsx(f,{title:"Portfolio Value",value:`$${r.totalValue.toLocaleString()}`,change:"8",icon:pn,color:"from-primary-500 to-primary-600",onClick:()=>e("tokens")}),o.jsx(f,{title:"Active Listings",value:r.marketListings.toLocaleString(),change:"15",icon:Ei,color:"from-purple-500 to-purple-600",onClick:()=>e("market")}),o.jsx(f,{title:"Retired Credits",value:r.retiredTokens.toLocaleString(),change:"25",icon:Ji,color:"from-red-500 to-red-600",onClick:()=>e("retire")})]}),o.jsx(sB,{className:"mb-8"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Price Trend"}),o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(tu,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"+12.5%"})]})]}),o.jsx(zc,{width:"100%",height:300,children:o.jsxs(iB,{data:ZP,children:[o.jsx(lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Fl,{dataKey:"month",stroke:"#64748b"}),o.jsx(Ul,{stroke:"#64748b"}),o.jsx(Vc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(AA,{type:"monotone",dataKey:"price",stroke:"#22c55e",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:4}})]})})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Trading Volume"}),o.jsx("span",{className:"text-sm text-carbon-600",children:"Credits/Month"})]}),o.jsx(zc,{width:"100%",height:300,children:o.jsxs(B1,{data:ZP,children:[o.jsx(lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Fl,{dataKey:"month",stroke:"#64748b"}),o.jsx(Ul,{stroke:"#64748b"}),o.jsx(Vc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(Ng,{dataKey:"volume",fill:"#22c55e",radius:[4,4,0,0]})]})})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Recent Activity"}),o.jsx("div",{className:"space-y-4",children:i.length===0?o.jsx("p",{className:"text-carbon-600 text-center py-8",children:"No recent activity"}):i.map((h,m)=>o.jsxs(R.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:m*.1},className:"flex items-center space-x-4 p-4 rounded-lg bg-carbon-50 hover:bg-carbon-100 transition-colors",children:[o.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${h.type==="mint"?"bg-green-100 text-green-600":h.type==="sell"?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"}`,children:[h.type==="mint"&&o.jsx(ks,{className:"w-5 h-5"}),h.type==="sell"&&o.jsx(Ei,{className:"w-5 h-5"}),h.type==="retire"&&o.jsx(Ji,{className:"w-5 h-5"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-carbon-900",children:[h.type==="mint"&&"Minted carbon credits",h.type==="sell"&&"Listed credits for sale",h.type==="retire"&&"Retired carbon credits"]}),o.jsxs("p",{className:"text-sm text-carbon-600",children:[h.amount," credits • ",h.time]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-xs text-carbon-500 font-mono",children:h.txHash})})]},m))})]})]}):o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-20",children:[o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(St,{className:"w-10 h-10 text-primary-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-4",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-carbon-600 mb-8 max-w-md mx-auto",children:"Connect your MetaMask wallet to view your dashboard, manage carbon credits, and track your environmental impact."}),o.jsx(R.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:o.jsxs("div",{className:"btn-primary",children:[o.jsx(St,{className:"w-5 h-5 mr-2"}),"Connect Wallet in Sidebar"]})})]})})}const Xv=[{month:"Jan",price:25,volume:1200,credits:450},{month:"Feb",price:28,volume:1400,credits:520},{month:"Mar",price:32,volume:1600,credits:680},{month:"Apr",price:30,volume:1300,credits:590},{month:"May",price:35,volume:1800,credits:750},{month:"Jun",price:38,volume:2e3,credits:820}],uf=["#22c55e","#3b82f6","#8b5cf6","#ef4444","#f59e0b"];function ufe({walletAddress:t}){const[e,r]=p.useState({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),[n,i]=p.useState({totalGlobalCredits:0,totalGlobalValue:0,totalActiveListings:0,totalRetiredCredits:0}),[s,a]=p.useState(!0);p.useEffect(()=>{l()},[t]);const l=async()=>{try{if(a(!0),t&&ce.isConfigured()){ce.isInitialized||await ce.initialize();const u=await ce.getUserTokens(t),d=await ce.getRetirementCertificates(t),f=await ce.getMarketplaceListings(),h=u.reduce((x,w)=>x+w.balance,0),m=h*35,g=f.filter(x=>x.seller.toLowerCase()===t.toLowerCase());r({totalTokens:h,totalValue:m,retiredTokens:d.length,marketListings:g.length})}i({totalGlobalCredits:125e3,totalGlobalValue:4375e3,totalActiveListings:450,totalRetiredCredits:89e3})}catch(u){console.error("Error loading analytics data:",u),r({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0})}finally{a(!1)}},c=({title:u,value:d,change:f,icon:h,color:m,subtitle:g})=>o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:`card cursor-pointer bg-gradient-to-br ${m} text-white`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/80 text-sm font-medium",children:u}),o.jsx("p",{className:"text-2xl font-bold",children:d}),f&&o.jsxs("p",{className:"text-white/90 text-xs flex items-center",children:[f>0?o.jsx(tu,{className:"w-3 h-3 mr-1"}):o.jsx(ez,{className:"w-3 h-3 mr-1"}),o.jsxs("span",{className:f>0?"text-green-300":"text-red-300",children:[f>0?"+":"",f,"% from last month"]})]}),g&&o.jsx("p",{className:"text-white/70 text-xs mt-1",children:g})]}),o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx(h,{className:"w-6 h-6"})})]})});return s?o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64 mb-8"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((u,d)=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"h-24 bg-carbon-100 rounded"})},d))})]})}):o.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Carbon Market Analytics"}),o.jsx("p",{className:"text-carbon-600 mt-2",children:"Comprehensive insights into carbon credit markets and your portfolio"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-carbon-900",children:"Your Portfolio"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(c,{title:"Total Credits",value:e.totalTokens.toLocaleString(),change:12,icon:St,color:"from-blue-500 to-blue-600",subtitle:"Carbon credits owned"}),o.jsx(c,{title:"Portfolio Value",value:`$${e.totalValue.toLocaleString()}`,change:8,icon:pn,color:"from-green-500 to-green-600",subtitle:"Estimated market value"}),o.jsx(c,{title:"Active Listings",value:e.marketListings.toLocaleString(),change:15,icon:Ei,color:"from-purple-500 to-purple-600",subtitle:"Credits listed for sale"}),o.jsx(c,{title:"Retired Credits",value:e.retiredTokens.toLocaleString(),change:25,icon:Ji,color:"from-red-500 to-red-600",subtitle:"Credits permanently retired"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-carbon-900",children:"Market Overview"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(c,{title:"Global Credits",value:n.totalGlobalCredits.toLocaleString(),change:18,icon:tu,color:"from-indigo-500 to-indigo-600",subtitle:"Total credits in circulation"}),o.jsx(c,{title:"Market Value",value:`$${(n.totalGlobalValue/1e6).toFixed(1)}M`,change:22,icon:pn,color:"from-teal-500 to-teal-600",subtitle:"Total market capitalization"}),o.jsx(c,{title:"Active Listings",value:n.totalActiveListings.toLocaleString(),change:-5,icon:Ei,color:"from-orange-500 to-orange-600",subtitle:"Credits available for trading"}),o.jsx(c,{title:"Retired Credits",value:n.totalRetiredCredits.toLocaleString(),change:30,icon:Ji,color:"from-pink-500 to-pink-600",subtitle:"Credits removed from circulation"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Carbon Credit Price Trend"}),o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(tu,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"+12.5%"})]})]}),o.jsx(zc,{width:"100%",height:300,children:o.jsxs(iB,{data:Xv,children:[o.jsx(lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Fl,{dataKey:"month",stroke:"#64748b"}),o.jsx(Ul,{stroke:"#64748b"}),o.jsx(Vc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(AA,{type:"monotone",dataKey:"price",stroke:"#22c55e",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:4}})]})})]}),o.jsxs(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Trading Volume"}),o.jsx("span",{className:"text-sm text-carbon-600",children:"Credits traded per month"})]}),o.jsx(zc,{width:"100%",height:300,children:o.jsxs(B1,{data:Xv,children:[o.jsx(lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Fl,{dataKey:"month",stroke:"#64748b"}),o.jsx(Ul,{stroke:"#64748b"}),o.jsx(Vc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(Ng,{dataKey:"volume",fill:"#22c55e",radius:[4,4,0,0]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Credit Status Distribution"}),o.jsx(zc,{width:"100%",height:300,children:o.jsxs(Zde,{children:[o.jsx(b_,{data:[{name:"Active",value:e.totalTokens,fill:uf[0]},{name:"Listed",value:e.marketListings*10,fill:uf[1]},{name:"Retired",value:e.retiredTokens*5,fill:uf[2]}],cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:d})=>`${u} ${(d*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Active",value:e.totalTokens},{name:"Listed",value:e.marketListings*10},{name:"Retired",value:e.retiredTokens*5}].map((u,d)=>o.jsx(Nm,{fill:uf[d%uf.length]},`cell-${d}`))}),o.jsx(Vc,{})]})})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Monthly Credit Growth"}),o.jsx(zc,{width:"100%",height:300,children:o.jsxs(B1,{data:Xv,children:[o.jsx(lu,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(Fl,{dataKey:"month",stroke:"#64748b"}),o.jsx(Ul,{stroke:"#64748b"}),o.jsx(Vc,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(Ng,{dataKey:"credits",fill:"#3b82f6",radius:[4,4,0,0]})]})})]})]})]})}function dfe({user:t,onLogout:e}){const[r,n]=p.useState(!1),[i,s]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(!1),d=async()=>{if(!i.trim()){X.error("Please enter your password to confirm");return}u(!0);try{await ne.deleteAccount(i),X.success("Account deleted successfully"),n(!1),setTimeout(()=>{e()},1e3)}catch(f){X.error(f.message||"Failed to delete account")}finally{u(!1)}};return o.jsxs("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(Ut,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"Account Settings"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Manage your account preferences and security"})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-carbon-900 mb-6",children:"Profile Information"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:[o.jsx(Ut,{className:"w-5 h-5 text-carbon-400 mr-3"}),o.jsx("span",{className:"text-carbon-900",children:(t==null?void 0:t.name)||"Not set"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Email Address"}),o.jsx("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:o.jsx("span",{className:"text-carbon-900",children:t==null?void 0:t.email})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Account Type"}),o.jsx("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:o.jsx("span",{className:"text-carbon-900 capitalize",children:(t==null?void 0:t.accountType)||"Individual"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Organization"}),o.jsx("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:o.jsx("span",{className:"text-carbon-900",children:(t==null?void 0:t.organization)||"Not set"})})]})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-carbon-900 mb-6",children:"Security Settings"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 bg-carbon-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ad,{className:"w-5 h-5 text-carbon-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-carbon-900",children:"Password"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Last updated recently"})]})]}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-secondary text-sm",children:"Change Password"})]})})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card border-red-200 bg-red-50/50",children:[o.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-6",children:"Danger Zone"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-red-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(De,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-900",children:"Delete Account"}),o.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all associated data"})]})]}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Delete Account"})]})})]}),r&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>n(!1),children:o.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:f=>f.stopPropagation(),className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(De,{className:"w-5 h-5 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Delete Account"})]}),o.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-carbon-100 rounded-lg transition-colors",children:o.jsx(nj,{className:"w-5 h-5 text-carbon-600"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-carbon-700 mb-4",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-red-700",children:o.jsx("strong",{children:"What will be deleted:"})}),o.jsxs("ul",{className:"text-sm text-red-700 mt-2 space-y-1",children:[o.jsx("li",{children:"• Your account and profile information"}),o.jsx("li",{children:"• All carbon credit transactions and history"}),o.jsx("li",{children:"• Retirement certificates and attestations"}),o.jsx("li",{children:"• Marketplace listings and offers"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"deletePassword",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Enter your password to confirm"}),o.jsxs("div",{className:"relative",children:[o.jsx(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:a?"text":"password",id:"deletePassword",value:i,onChange:f=>s(f.target.value),className:"input-field pl-10 pr-10",placeholder:"Enter your password",required:!0}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:a?o.jsx(k0,{className:"w-5 h-5"}):o.jsx(oo,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(!1),className:"flex-1 btn-secondary",disabled:c,children:"Cancel"}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:c||!i.trim(),className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete Account"})]})]})})]})}function CA({user:t,onNavigate:e}){const[r,n]=p.useState(null),[i,s]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(0),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[g,x]=p.useState("preparing"),w=p.useRef(null),[y,v]=p.useState({projectName:"",projectType:"renewable_energy",description:"",location:"",estimatedCredits:""}),[b,j]=p.useState({}),[A,S]=p.useState("guest"),[C,N]=p.useState(!1),[P,I]=p.useState(!1),[D,B]=p.useState(!1),[V,Q]=p.useState(null);p.useEffect(()=>{(()=>{const he=ne.getCurrentUser();S(uc(he)),T()})()},[]);const T=p.useCallback(async()=>{try{const ee=await ce.getCurrentAddress();N(!!ee)}catch{N(!1)}},[]),M=p.useCallback(async()=>{try{Y.loading("Connecting wallet...",{id:"wallet-connect"}),await ce.getSigner(),N(!0),Y.success("Wallet connected successfully!",{id:"wallet-connect"})}catch(ee){console.error("Wallet connection failed:",ee),Y.error(`Failed to connect wallet: ${ee.message}`,{id:"wallet-connect"})}},[]),U=fn.getAllowedFileTypes(),k=fn.getMaxFileSize(),L={"application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","text/plain":".txt","image/jpeg":".jpg","image/png":".png"},H=[{value:"renewable_energy",label:"Renewable Energy",icon:"⚡"},{value:"forest_conservation",label:"Forest Conservation",icon:"🌲"},{value:"carbon_capture",label:"Carbon Capture",icon:"🏭"},{value:"sustainable_agriculture",label:"Sustainable Agriculture",icon:"🌾"},{value:"waste_management",label:"Waste Management",icon:"♻️"},{value:"energy_efficiency",label:"Energy Efficiency",icon:"💡"},{value:"transportation",label:"Clean Transportation",icon:"🚗"},{value:"other",label:"Other",icon:"📋"}],W=ee=>ee?ee.size>k?{valid:!1,message:`File size must be less than ${me(k)}`}:U.includes(ee.type)?{valid:!0}:{valid:!1,message:"File type not supported. Please upload PDF, Word, text, or image files."}:{valid:!1,message:"Please select a file"},G=()=>{const ee={};return y.projectName.trim()||(ee.projectName="Project name is required"),y.projectType||(ee.projectType="Project type is required"),y.estimatedCredits&&(isNaN(y.estimatedCredits)||y.estimatedCredits<0)&&(ee.estimatedCredits="Estimated credits must be a positive number"),j(ee),Object.keys(ee).length===0},me=ee=>{if(ee===0)return"0 Bytes";const he=1024,Qe=["Bytes","KB","MB","GB"],nt=Math.floor(Math.log(ee)/Math.log(he));return parseFloat((ee/Math.pow(he,nt)).toFixed(2))+" "+Qe[nt]},ve=ee=>{if(ee){const he=W(ee);he.valid?(n(ee),m(!0),Y.success(`File selected: ${ee.name}`)):Y.error(he.message)}},de=ee=>{ee.preventDefault(),f(!0)},we=ee=>{ee.preventDefault(),f(!1)},Le=ee=>{ee.preventDefault(),f(!1);const he=ee.dataTransfer.files[0];ve(he)},ut=(ee,he)=>{v(Qe=>({...Qe,[ee]:he})),b[ee]&&j(Qe=>{const nt={...Qe};return delete nt[ee],nt})},te=p.useCallback(async()=>{if(!r){Y.error("Please select a file to upload");return}if(!y.projectName.trim()){Y.error("Project name is required");return}const ee=W(r);if(!ee.valid){Y.error(ee.message);return}if(!G()){Y.error("Please fix the validation errors before uploading");return}l(!0),x("preparing"),u(0),Q(null);try{console.log("🚀 Starting document upload process...",{fileName:r.name,fileSize:r.size,projectName:y.projectName,userRole:A});const he=async()=>{x("uploading"),u(25);const Cn=await fn.uploadDocument(r,y,{onProgress:Sm=>{u(25+Sm*.5)}});return x("completing"),u(100),Cn},Qe=await jh.executeWithRetry(he,{maxRetries:3,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","IPFS_ERROR","BLOCKCHAIN_CONGESTION"],onRetry:Cn=>{u(0),console.log(`🔄 Retry attempt ${Cn}: Upload failed, retrying...`),Y.loading(`Retrying upload (attempt ${Cn})...`,{id:"upload-retry"})}});s(Qe),I(!0);const nt=Qe.blockchainRegistered?"Document uploaded and registered on blockchain successfully!":"Document uploaded successfully! Blockchain registration will be attempted later.";Y.success(nt,{duration:5e3}),console.log("✅ Upload completed successfully:",Qe),setTimeout(()=>{pe()},2e3)}catch(he){console.error("❌ Upload failed:",he),Q(he),B(!0),he.message.includes("Wallet connection required")?Y.error("Connect your wallet to register documents on blockchain. Document stored locally.",{duration:7e3}):he.message.includes("IPFS")?Y.error("File upload failed. Please check your internet connection and try again."):he.message.includes("user rejected")?Y.error("Transaction was rejected. Document stored locally."):Y.error(`Upload failed: ${he.message}`),Cr.handleError(he,{operation:"document_upload",component:"Upload",userRole:A,fileName:r==null?void 0:r.name,projectName:y.projectName})}finally{l(!1),u(0),x("preparing")}},[r,y,A]),pe=p.useCallback(()=>{n(null),v({projectName:"",projectType:"renewable_energy",description:"",location:"",estimatedCredits:""}),j({}),m(!1),s(null),I(!1),B(!1),Q(null)},[]),be=()=>o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl p-6 text-white mb-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Document Upload for ",Gw(A),"s"]}),o.jsx("p",{className:"text-blue-100",children:A===ue.BUSINESS?"Upload your business documents for verification and carbon credit minting.":"Upload your environmental impact documents for verification and carbon credit minting."})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"bg-white/20 rounded-lg px-3 py-1 text-sm font-medium",children:Gw(A)})})]})}),q=()=>o.jsx("div",{className:`rounded-lg p-4 mb-6 ${C?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(St,{className:`w-5 h-5 ${C?"text-green-600":"text-yellow-600"}`}),o.jsxs("div",{children:[o.jsx("p",{className:`font-medium ${C?"text-green-900":"text-yellow-900"}`,children:C?"Wallet Connected":"Wallet Not Connected"}),o.jsx("p",{className:`text-sm ${C?"text-green-700":"text-yellow-700"}`,children:C?"Documents will be registered on blockchain":"Documents will be stored locally only"})]})]}),!C&&o.jsx("button",{onClick:M,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors",children:"Connect Wallet"})]})});return o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[be(),q(),o.jsx(Ft,{children:a&&o.jsx(V4,{show:!0,message:`${g==="uploading"?"Uploading to IPFS":g==="registering"?"Registering on blockchain":"Processing"}...`,userRole:A,operation:"document_upload",progress:c})}),o.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:h?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ai,{className:"w-8 h-8 text-blue-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-blue-900",children:r.name}),o.jsx("p",{className:"text-sm text-blue-700",children:me(r.size)})]}),o.jsx("button",{onClick:()=>{n(null),m(!1)},className:"ml-auto text-blue-600 hover:text-blue-800",children:o.jsx(nj,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name *"}),o.jsx("input",{type:"text",value:y.projectName,onChange:ee=>ut("projectName",ee.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${b.projectName?"border-red-300":"border-gray-300"}`,placeholder:"Enter your project name"}),b.projectName&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.projectName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Type *"}),o.jsx("select",{value:y.projectType,onChange:ee=>ut("projectType",ee.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${b.projectType?"border-red-300":"border-gray-300"}`,children:H.map(ee=>o.jsxs("option",{value:ee.value,children:[ee.icon," ",ee.label]},ee.value))}),b.projectType&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.projectType})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",value:y.location,onChange:ee=>ut("location",ee.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Project location"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:y.description,onChange:ee=>ut("description",ee.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe your project and its environmental impact"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Credits"}),o.jsx("input",{type:"number",value:y.estimatedCredits,onChange:ee=>ut("estimatedCredits",ee.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${b.estimatedCredits?"border-red-300":"border-gray-300"}`,placeholder:"Expected carbon credits",min:"0"}),b.estimatedCredits&&o.jsx("p",{className:"text-red-600 text-sm mt-1",children:b.estimatedCredits})]})]}),o.jsxs("div",{className:"flex space-x-4 pt-6",children:[o.jsx("button",{onClick:te,disabled:a,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:a?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Re,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Uploading..."})]}):o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(GS,{className:"w-5 h-5"}),o.jsx("span",{children:"Upload Document"})]})}),o.jsx("button",{onClick:()=>{n(null),m(!1)},disabled:a,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cancel"})]})]}):o.jsxs("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-all duration-200 cursor-pointer ${d?"border-blue-400 bg-blue-50":"border-gray-300 bg-gray-50 hover:border-blue-300 hover:bg-blue-50"}`,onDragOver:de,onDragLeave:we,onDrop:Le,onClick:()=>{var ee;return(ee=w.current)==null?void 0:ee.click()},children:[o.jsx("input",{ref:w,type:"file",className:"hidden",accept:Object.values(L).join(","),onChange:ee=>ve(ee.target.files[0])}),o.jsx(GS,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Upload Your Document"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop your file here, or click to browse"}),o.jsxs("div",{className:"text-sm text-gray-500",children:[o.jsx("p",{children:"Supported formats: PDF, Word, Text, Images"}),o.jsxs("p",{children:["Maximum size: ",me(k)]})]})]})}),o.jsx(Ft,{children:P&&i&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx($e,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Upload Successful!"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Your document has been uploaded successfully."}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Document ID:"}),o.jsx("span",{className:"font-mono text-gray-900",children:i.documentId})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsx("span",{className:`font-medium ${i.blockchainRegistered?"text-green-600":"text-yellow-600"}`,children:i.blockchainRegistered?"Blockchain Registered":"Locally Stored"})]})]})}),o.jsx("button",{onClick:()=>I(!1),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Continue"})]})})})}),o.jsx(Ft,{children:D&&V&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx(R.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl p-6 max-w-md w-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(De,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Upload Failed"}),o.jsx("p",{className:"text-gray-600 mb-4",children:V.message}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:()=>B(!1),className:"flex-1 bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors",children:"Close"}),o.jsx("button",{onClick:()=>{B(!1),te()},className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]})]})})})})]})}const ro=[{inputs:[{internalType:"address",name:"_verifierRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"verifier",type:"address"}],name:"MintedWithAttestation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"ATTESTATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"attestations",outputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"verifier",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithAttestation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"verifierRegistry",outputs:[{internalType:"contract IVerifierRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"}];function lB({onSigned:t,uploadedData:e,uploaderAddress:r}){const[n,i]=p.useState({gsProjectId:"",gsSerial:"",ipfsCid:"",amount:1,vintage:new Date().getFullYear(),recipient:""}),[s,a]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState({}),[f,h]=p.useState(!1),[m,g]=p.useState(!1),[x,w]=p.useState(!1);p.useEffect(()=>{e&&e.cid&&i(N=>({...N,ipfsCid:e.cid,recipient:r||e.uploaderAddress||""}))},[e,r]),p.useEffect(()=>{y()},[]),p.useEffect(()=>{l&&!n.recipient&&i(N=>({...N,recipient:l}))},[l,n.recipient]);const y=async()=>{if(window.ethereum)try{const N=await window.ethereum.request({method:"eth_accounts"});N.length>0&&(c(N[0]),h(!0),i(P=>({...P,recipient:N[0]})),await v(N[0]))}catch(N){console.error("Error checking wallet connection:",N)}},v=async N=>{if(N){w(!0);try{const P=new at(window.ethereum),I="0xD009D4EA4B9f546261433a75A32353a60d750200",D=["function isVerifier(address account) external view returns (bool)","function addVerifier(address verifier) external"],V=await new Ce(I,D,P).isVerifier(N);g(V),V?Y.success("✅ You are registered as a verifier!"):Y("You are not registered as a verifier. You can register yourself for testing.",{icon:"⚠️",style:{background:"#fff3cd",color:"#856404",border:"1px solid #ffeeba"}})}catch(P){console.error("Error checking verifier status:",P),Y.error("Could not check verifier status",{style:{background:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb"}})}finally{w(!1)}}},b=async()=>{if(!f){Y.error("Please connect your wallet first");return}w(!0);try{const P=await new at(window.ethereum).getSigner(),I="0xD009D4EA4B9f546261433a75A32353a60d750200",D=["function isVerifier(address account) external view returns (bool)","function addVerifier(address verifier) external"],B=new Ce(I,D,P);Y.loading("Registering as verifier...",{id:"registering"}),await(await B.addVerifier(l)).wait(),Y.dismiss("registering"),Y.success("🎉 Successfully registered as a verifier!"),g(!0)}catch(N){console.error("Error registering as verifier:",N),Y.dismiss("registering");let P="Failed to register as verifier: ";N.message.includes("user rejected")?P="Registration was cancelled by user.":N.message.includes("insufficient funds")?P="Insufficient funds for registration transaction.":P+=N.message||"Unknown error occurred",Y.error(P)}finally{w(!1)}},j=async()=>{if(!window.ethereum){Y.error("Please install MetaMask to continue");return}try{await window.ethereum.request({method:"eth_requestAccounts"});const N=await window.ethereum.request({method:"eth_accounts"});N.length>0&&(c(N[0]),h(!0),i(P=>({...P,recipient:N[0]})),Y.success("Wallet connected successfully!"),await v(N[0]))}catch(N){console.error("Wallet connection error:",N),Y.error("Failed to connect wallet")}},A=()=>{const N={};return n.gsProjectId.trim()?/^[A-Z]{2,3}-\d{3,6}$/i.test(n.gsProjectId.trim())||(N.gsProjectId='Project ID format should be like "GS-1234" or "VCS-12345"'):N.gsProjectId="Project ID is required",n.gsSerial.trim()?n.gsSerial.trim().length<5&&(N.gsSerial="Serial number should be at least 5 characters"):N.gsSerial="Serial number is required",n.ipfsCid.trim()||(N.ipfsCid="IPFS CID is required (upload a file first)"),!n.amount||n.amount<=0?N.amount="Amount must be greater than 0":n.amount%1!==0?N.amount="Amount must be a whole number (no decimals)":n.amount>1e6&&(N.amount="Amount seems too large (max: 1,000,000)"),(!n.vintage||n.vintage<2e3||n.vintage>new Date().getFullYear()+1)&&(N.vintage="Please enter a valid vintage year"),n.recipient.trim()?/^0x[a-fA-F0-9]{40}$/.test(n.recipient.trim())||(N.recipient="Please enter a valid Ethereum address"):N.recipient="Recipient address is required",f||(N.wallet="Please connect your wallet first"),d(N),Object.keys(N).length===0},S=N=>{const{name:P,value:I}=N.target;i(D=>({...D,[P]:I})),u[P]&&d(D=>{const B={...D};return delete B[P],B})};async function C(){if(!A()){Y.error("Please fix the validation errors before proceeding");return}a(!0);try{const N=new at(window.ethereum),P=await N.getSigner(),I=await P.getAddress(),D="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",B=new Ce(D,ro,P),T={name:"CarbonCredit",version:"1",chainId:(await N.getNetwork()).chainId,verifyingContract:D},M={Attestation:[{name:"gsProjectId",type:"string"},{name:"gsSerial",type:"string"},{name:"ipfsCid",type:"string"},{name:"amount",type:"uint256"},{name:"recipient",type:"address"},{name:"nonce",type:"uint256"}]},U=n.recipient.trim();let k;try{k=Number(await B.nonces(U))}catch(G){console.error("Error fetching nonce:",G),Y.error("Cannot connect to carbon contract. Make sure you are on the correct network.");return}const L=BigInt(Math.floor(Number(n.amount))),H={gsProjectId:n.gsProjectId.trim(),gsSerial:n.gsSerial.trim(),ipfsCid:n.ipfsCid.trim(),amount:L,recipient:U,nonce:k};Y.loading("Please sign the attestation in your wallet...",{id:"signing"});const W=await P.signTypedData(T,M,H);Y.dismiss("signing"),Y.success("🎉 Attestation signed successfully!"),t({signature:W,payload:{...H,quantity:Number(n.amount),vintage:n.vintage},signer:I,nonce:k})}catch(N){console.error("Signing error:",N),Y.dismiss("signing");let P="Error signing attestation: ";N.message.includes("user rejected")?P="Attestation signing was cancelled by user.":N.message.includes("insufficient funds")?P="Insufficient funds for transaction fees.":P+=N.message||"Unknown error occurred",Y.error(P)}finally{a(!1)}}return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(Yt,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Verifier Attestation"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Sign the carbon credit attestation using EIP-712"})]})]}),o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(qn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-purple-900",children:"About Verifier Attestation"}),o.jsx("p",{className:"text-purple-700 mt-1",children:"As a registered verifier, you're attesting to the validity of this carbon credit project. Your digital signature creates an immutable record on the blockchain using EIP-712 standard."})]})]})}),e&&o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(S0,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-green-900",children:"Document Uploaded"}),o.jsx("p",{className:"text-sm text-green-700",children:e.name}),o.jsxs("p",{className:"text-xs text-green-600 font-mono mt-1",children:["IPFS: ",e.cid]})]})]})}),f?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($e,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-900",children:"Wallet Connected"}),o.jsx("p",{className:"text-sm text-green-700 font-mono",children:l})]})]}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(l),disabled:x,className:"btn-secondary text-xs px-3 py-1.5 flex items-center space-x-1",children:[x?o.jsx(Re,{className:"w-3 h-3 animate-spin"}):o.jsx(Re,{className:"w-3 h-3"}),o.jsx("span",{children:"Refresh Status"})]})]})}),o.jsxs("div",{className:`border rounded-lg p-4 ${m?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${m?"bg-green-100":"bg-orange-100"}`,children:o.jsx(Yt,{className:`w-5 h-5 ${m?"text-green-600":"text-orange-600"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:`font-medium ${m?"text-green-900":"text-orange-900"}`,children:m?"Registered Verifier":"Not Registered"}),o.jsx("p",{className:`text-sm ${m?"text-green-700":"text-orange-700"}`,children:m?"You can sign attestations for carbon credits":"Register your wallet to become a verifier for testing"})]})]}),o.jsx("div",{className:"flex space-x-2",children:!m&&o.jsxs(o.Fragment,{children:[o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,disabled:x,className:"btn-primary text-sm px-4 py-2 flex items-center space-x-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Registering..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{className:"w-4 h-4"}),o.jsx("span",{children:"Register as Verifier"})]})}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y.loading("Activating demo verifier mode...",{id:"demo"}),setTimeout(()=>{Y.dismiss("demo"),Y.success("🎭 Demo Verifier Mode Activated!"),g(!0)},1500)},disabled:x,className:"btn-secondary text-sm px-3 py-2 flex items-center space-x-1.5",children:[o.jsx(mi,{className:"w-4 h-4"}),o.jsx("span",{children:"Demo Mode"})]})]})})]}),!m&&o.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(mi,{className:"w-4 h-4 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{className:"font-medium",children:"Quick Demo Option:"}),o.jsx("p",{children:'Use "Demo Mode" to simulate verifier registration without blockchain transactions. Perfect for testing the complete flow!'})]})]})})]})]}):o.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[o.jsx(St,{className:"w-12 h-12 text-yellow-600 mx-auto mb-3"}),o.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"Connect your wallet to sign the attestation as a registered verifier"}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,className:"btn-primary inline-flex items-center space-x-2",children:[o.jsx(St,{className:"w-5 h-5"}),o.jsx("span",{children:"Connect Wallet"})]}),u.wallet&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.wallet})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Qz,{className:"w-4 h-4 inline mr-2"}),"Project ID"]}),o.jsx("input",{type:"text",name:"gsProjectId",value:n.gsProjectId||"",onChange:S,placeholder:"GS-1234 or VCS-12345",className:`input-field ${u.gsProjectId?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.gsProjectId&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),u.gsProjectId]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Wz,{className:"w-4 h-4 inline mr-2"}),"Serial Number"]}),o.jsx("input",{type:"text",name:"gsSerial",value:n.gsSerial||"",onChange:S,placeholder:"ABC-123-456-789",className:`input-field ${u.gsSerial?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.gsSerial&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),u.gsSerial]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(S0,{className:"w-4 h-4 inline mr-2"}),"Vintage Year"]}),o.jsx("input",{type:"number",name:"vintage",value:n.vintage||"",onChange:S,placeholder:"2023",min:"2000",max:new Date().getFullYear()+1,className:`input-field ${u.vintage?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.vintage&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),u.vintage]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Cz,{className:"w-4 h-4 inline mr-2"}),"Credit Amount"]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",name:"amount",value:n.amount||"",onChange:S,placeholder:"100",min:"1",step:"1",className:`input-field pr-16 ${u.amount?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o.jsx("span",{className:"text-carbon-500 text-sm",children:"CO2e tons"})})]}),u.amount&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),u.amount]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(bz,{className:"w-4 h-4 inline mr-2"}),"IPFS Document CID"]}),o.jsx("input",{type:"text",name:"ipfsCid",value:n.ipfsCid||"",onChange:S,placeholder:"QmXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxX",readOnly:!!(e!=null&&e.cid),className:"input-field"}),u.ipfsCid&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),u.ipfsCid]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(St,{className:"w-4 h-4 inline mr-2"}),"Recipient Address (Project Owner)"]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",name:"recipient",value:n.recipient||"",onChange:S,placeholder:"0x742d35Cc6634C0532925a3b8D4C9db96590c6C87",readOnly:!!(r||e!=null&&e.uploaderAddress),className:`input-field ${r||e!=null&&e.uploaderAddress?"bg-green-50 border-green-300 text-green-800 cursor-not-allowed":""} ${u.recipient?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),(r||(e==null?void 0:e.uploaderAddress))&&o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:o.jsx($e,{className:"w-5 h-5 text-green-600"})})]}),u.recipient&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),u.recipient]}),r||e!=null&&e.uploaderAddress?o.jsxs("p",{className:"text-xs text-green-700 flex items-center",children:[o.jsx($e,{className:"w-3 h-3 mr-1"}),"Auto-filled from document uploader (",(e==null?void 0:e.uploaderName)||"Project Owner",")"]}):o.jsx("p",{className:"text-xs text-carbon-600",children:"The Ethereum address that will receive the carbon credits (usually the project owner)"})]}),!m&&!x&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(De,{className:"w-5 h-5 text-red-600"}),o.jsx("p",{className:"text-red-800 font-medium",children:"Access Restricted"})]}),o.jsx("p",{className:"text-red-700 mt-1",children:"Only registered verifiers can sign carbon credit attestations. Please register as a verifier or use demo mode to test the functionality."})]}),o.jsxs("div",{className:"flex space-x-4 pt-4",children:[o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:C,disabled:s||!f||!m,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:s?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Signing Attestation..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Yt,{className:"w-5 h-5"}),o.jsx("span",{children:"Sign Attestation"})]})}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{i({gsProjectId:"",gsSerial:"",ipfsCid:(e==null?void 0:e.cid)||"",amount:1,vintage:new Date().getFullYear(),recipient:l||r||""}),d({})},className:"btn-secondary px-6",disabled:s,children:"Reset Form"})]}),o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-carbon-50 border border-carbon-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-carbon-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-carbon-600 font-bold text-xs",children:"ℹ"})}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-carbon-900",children:"EIP-712 Structured Data Signing"}),o.jsx("p",{className:"text-carbon-700 mt-1",children:"This attestation uses the EIP-712 standard for secure, readable transaction signing. Your signature will be cryptographically linked to the project data above."})]})]})})]})}function cB({signedData:t}){const[e,r]=p.useState({gsProjectId:"",gsSerial:"",vintage:new Date().getFullYear(),quantity:1,ipfsHash:"",recipient:""}),[n,i]=p.useState(""),[s,a]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(""),[m,g]=p.useState({}),[x,w]=p.useState(!1);p.useEffect(()=>{if(t&&t.payload){const{gsProjectId:N,gsSerial:P,ipfsCid:I,quantity:D,vintage:B,recipient:V}=t.payload;r({gsProjectId:N||"",gsSerial:P||"",vintage:B||new Date().getFullYear(),quantity:D||1,ipfsHash:I||"",recipient:V||""}),i(t.signature||""),a(t.nonce!==void 0?t.nonce:"")}},[t]),p.useEffect(()=>{(async()=>{if(window.ethereum&&!e.recipient)try{const P=await window.ethereum.request({method:"eth_accounts"});P.length>0&&r(I=>({...I,recipient:P[0]}))}catch(P){console.error("Error getting current address:",P)}})()},[e.recipient]);const y=()=>{const N={};return e.gsProjectId.trim()||(N.gsProjectId="Project ID is required"),e.gsSerial.trim()||(N.gsSerial="Serial number is required"),(!e.vintage||e.vintage<2e3)&&(N.vintage="Valid vintage year is required"),(!e.quantity||e.quantity<=0)&&(N.quantity="Quantity must be greater than 0"),e.ipfsHash.trim()||(N.ipfsHash="IPFS hash is required"),e.recipient.trim()||(N.recipient="Recipient address is required"),n.trim()||(N.signature="Verifier signature is required"),e.recipient&&!wG(e.recipient)&&(N.recipient="Invalid Ethereum address format"),g(N),Object.keys(N).length===0},v=(N,P)=>{r(I=>({...I,[N]:P})),m[N]&&g(I=>({...I,[N]:""}))},b=()=>{const N="0x"+Array.from({length:130},()=>Math.floor(Math.random()*16).toString(16)).join("");i(N),X.success("🎭 Demo signature generated! Ready for demo minting."),g(P=>({...P,signature:""}))},j=async()=>{if(!y()){X.error("Please fix the validation errors before proceeding");return}c(!0),d("pending");try{X.loading("🎭 Demo Mode: Simulating carbon credit minting...",{id:"demo-mint"}),await new Promise(P=>setTimeout(P,3e3));const N="0x"+Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("");h(N),d("confirmed"),X.dismiss("demo-mint"),X.success(`🎉 Demo Mode: Carbon credits minted successfully!
${e.quantity} CO2e tons minted to ${e.recipient}`),setTimeout(()=>{window.confirm("Demo carbon credits minted successfully! Would you like to mint more credits?")&&S()},3e3)}catch(N){console.error("Demo mint error:",N),d("error"),X.dismiss("demo-mint"),X.error("Demo mint failed. Please try again.")}finally{c(!1)}},A=async()=>{if(!y()){X.error("Please fix the validation errors before proceeding");return}if(!window.ethereum){X.error("Please install MetaMask to mint carbon credits");return}c(!0),d(null);try{ce.isInitialized||await ce.initialize();const N=new at(window.ethereum),P=await N.getSigner(),I="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",D=new Ce(I,ro,P);console.log("🔍 Debug Info:"),console.log("- Signature:",n),console.log("- Form data:",e),console.log("- Signer address:",await P.getAddress());const B="0xD009D4EA4B9f546261433a75A32353a60d750200";if(B){const M=["function isVerifier(address account) external view returns (bool)"],U=new Ce(B,M,N),k=await P.getAddress(),L=await U.isVerifier(k);if(console.log("- Is signer a verifier?",L),!L){X.error("Current wallet is not registered as a verifier. Please switch to the verifier wallet or register this wallet as a verifier.");return}}const V=await D.nonces(e.recipient);if(console.log("- Current nonce for recipient:",V.toString()),console.log("- Expected nonce:",s),Number(V)!==s){X.error(`Nonce mismatch! Expected ${s}, but contract has ${V}. Please sign the attestation again.`);return}const Q=await D.mintWithAttestation(e.gsProjectId,e.gsSerial,e.ipfsHash,BigInt(e.quantity),e.recipient,n,{gasLimit:5e5});h(Q.hash),d("pending"),X.success(`Transaction submitted! Hash: ${Q.hash}`);const T=await Q.wait();d("confirmed"),X.success(`✅ Carbon credits minted successfully!
Block: ${T.blockNumber}`),setTimeout(()=>{window.confirm("Carbon credits minted successfully! Would you like to mint more credits?")&&S()},3e3)}catch(N){console.error("Minting error:",N),d("error");let P="Error minting carbon credits: ";N.message.includes("attestation not signed by registered verifier")?P="The signature is not from a registered verifier. Please ensure the attestation is signed by an authorized verifier.":N.message.includes("insufficient funds")?P="Insufficient funds for gas fees. Please ensure you have enough ETH in your wallet.":N.message.includes("user rejected")?P="Transaction was cancelled by user.":N.message.includes("no matching fragment")?P="Contract function signature mismatch. Please check the smart contract deployment.":P+=N.reason||N.message||"Unknown error occurred",X.error(P)}finally{c(!1)}},S=()=>{r({gsProjectId:"",gsSerial:"",vintage:new Date().getFullYear(),quantity:1,ipfsHash:"",recipient:""}),i(""),a(""),d(null),h(""),g({})},C=({label:N,field:P,type:I="text",placeholder:D,icon:B,...V})=>o.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[B&&o.jsx(B,{className:"w-4 h-4 inline mr-2"}),N]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:I,placeholder:D,value:e[P],onChange:Q=>v(P,Q.target.value),className:`input-field ${m[P]?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`,...V}),m[P]&&o.jsxs(R.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),m[P]]})]})]});return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(mi,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Mint Carbon Credits"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Create new carbon credits with verifier attestation"})]})]}),o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(qn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Attestation Required"}),o.jsxs("p",{className:"text-blue-700 mt-1",children:["All carbon credits must be verified by a registered verifier before minting.",!n&&" Please complete the attestation process first."]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(C,{label:"Project ID",field:"gsProjectId",placeholder:"GS-1234",icon:S0}),o.jsx(C,{label:"Serial Number",field:"gsSerial",placeholder:"ABC-123-456"}),o.jsx(C,{label:"Vintage Year",field:"vintage",type:"number",placeholder:"2023",min:"2000",max:new Date().getFullYear()+1}),o.jsx(C,{label:"Quantity (CO2e tons)",field:"quantity",type:"number",placeholder:"100",min:"1",step:"0.01"})]}),o.jsx(C,{label:"IPFS Document Hash",field:"ipfsHash",placeholder:"QmXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxX"}),o.jsx(C,{label:"Recipient Address",field:"recipient",placeholder:"0x742d35Cc6634C0532925a3b8D8095d8e9f3c1234"}),o.jsxs(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(S0,{className:"w-4 h-4 inline mr-2"}),"Verifier Signature"]}),o.jsx("textarea",{placeholder:"0x1234567890abcdef... (Generated from attestation process)",value:n,onChange:N=>i(N.target.value),rows:4,className:`input-field resize-none ${m.signature?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`,style:{fontFamily:"monospace",fontSize:"0.875rem"}}),m.signature&&o.jsxs(R.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),m.signature]}),!n&&o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(mi,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-700",children:[o.jsx("p",{className:"font-medium",children:"Need a Signature for Testing?"}),o.jsx("p",{children:"Generate a demo signature to test the complete minting flow without verifier registration."})]})]}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"btn-secondary text-xs px-3 py-1.5 flex items-center space-x-1.5",children:[o.jsx(mi,{className:"w-3 h-3"}),o.jsx("span",{children:"Generate Demo Signature"})]})]})})]}),o.jsx(Ft,{children:u&&o.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg border ${u==="pending"?"bg-yellow-50 border-yellow-200":u==="confirmed"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[u==="pending"&&o.jsx(Re,{className:"w-5 h-5 text-yellow-600 animate-spin"}),u==="confirmed"&&o.jsx($e,{className:"w-5 h-5 text-green-600"}),u==="error"&&o.jsx(De,{className:"w-5 h-5 text-red-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:`font-medium ${u==="pending"?"text-yellow-900":u==="confirmed"?"text-green-900":"text-red-900"}`,children:[u==="pending"&&"Transaction Pending...",u==="confirmed"&&"Carbon Credits Minted Successfully!",u==="error"&&"Transaction Failed"]}),f&&o.jsxs("p",{className:`text-sm mt-1 ${u==="pending"?"text-yellow-700":u==="confirmed"?"text-green-700":"text-red-700"}`,children:["Transaction Hash: ",o.jsx("code",{className:"font-mono text-xs",children:f})]})]})]})})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:A,disabled:l,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Minting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(mi,{className:"w-5 h-5"}),o.jsx("span",{children:"Mint Carbon Credits"})]})}),o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:l,className:"btn-secondary px-6 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(mi,{className:"w-4 h-4"}),o.jsx("span",{children:"Demo Mint"})]})]}),o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(mi,{className:"w-4 h-4 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{children:o.jsx("strong",{children:"Two Minting Options:"})}),o.jsxs("p",{children:["• ",o.jsx("strong",{children:"Mint Carbon Credits:"})," Real blockchain transaction (requires registered verifier signature)"]}),o.jsxs("p",{children:["• ",o.jsx("strong",{children:"Demo Mint:"})," Simulated transaction for testing the complete flow without blockchain costs"]})]})]})}),o.jsx("div",{className:"flex justify-center",children:o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"btn-secondary px-8",children:"Reset Form"})})]})]})}function ffe({onShow:t}){const[e,r]=p.useState(null),[n,i]=p.useState([]),[s,a]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f]=p.useState("0x076d107Ca3757C37e63cC894F2F75E068B975A97");p.useEffect(()=>{window.ethereum&&(window.ethereum.on("accountsChanged",()=>window.location.reload()),h())},[]);const h=async()=>{if(window.ethereum)try{const y=await window.ethereum.request({method:"eth_accounts"});y.length>0&&(r(y[0]),await g(y[0]))}catch(y){console.error("Error checking connection:",y)}};async function m(){if(!window.ethereum){X.error("MetaMask not found. Please install MetaMask.");return}a(!0);try{await window.ethereum.request({method:"eth_requestAccounts"});const b=await(await new at(window.ethereum).getSigner()).getAddress();r(b),X.success("Wallet connected successfully!"),await g(b)}catch(y){console.error("Connection error:",y),X.error("Failed to connect wallet")}finally{a(!1)}}async function g(y){const v="0xe74f9e14F5858a92eD59ECF21866afc42101a45E";a(!0);try{const j=await new at(window.ethereum).getSigner(),A=new Ce(v,ro,j),S=Number(await A.nextTokenId()),C=[];for(let N=1;N<S;N++)try{const P=await A.balanceOf(y,N);if(P&&P.toString()!=="0")try{const I=await A.attestations(N),D=await A.uri(N);C.push({tokenId:N,balance:P.toString(),gsProjectId:I.gsProjectId,gsSerial:I.gsSerial,ipfsCid:I.ipfsCid,verifier:I.verifier,uri:D})}catch{C.push({tokenId:N,balance:P.toString()})}}catch(P){console.error(`Error fetching token ${N}:`,P)}if(i(C),f){const N=await A.isApprovedForAll(y,f);c(N)}}catch(b){console.error("Error loading tokens:",b),X.error("Failed to load tokens")}finally{a(!1)}}async function x(){if(window.ethereum){d(!0);try{const v=await new at(window.ethereum).getSigner(),b="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",j=new Ce(b,ro,v);X.loading("Approving marketplace...",{id:"approve"}),await(await j.setApprovalForAll(f,!0)).wait(),c(!0),X.success("Marketplace approved successfully!",{id:"approve"})}catch(y){console.error("Approval error:",y),X.error("Failed to approve marketplace",{id:"approve"})}finally{d(!1)}}}const w=y=>y?`${y.slice(0,6)}...${y.slice(-4)}`:"";return e?o.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"My Carbon Credits"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Manage your carbon credit portfolio"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("mint"),className:"btn-primary",children:[o.jsx(ks,{className:"w-5 h-5 mr-2"}),"Mint Credits"]}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("market"),className:"btn-secondary",children:[o.jsx(Ei,{className:"w-5 h-5 mr-2"}),"Marketplace"]})]})]}),o.jsx(R.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-primary-50 rounded-xl p-4 border border-primary-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx($e,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-primary-900",children:"Wallet Connected"}),o.jsx("p",{className:"text-sm text-primary-700 font-mono",children:w(e)})]})]}),!l&&f&&o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,disabled:u,className:"btn-primary",children:[o.jsx(Yt,{className:"w-4 h-4 mr-2"}),u?"Approving...":"Approve Marketplace"]}),l&&o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx($e,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-semibold",children:"Marketplace Approved"})]})]})}),s&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((y,v)=>o.jsx("div",{className:"card animate-pulse",children:o.jsx("div",{className:"h-48 bg-carbon-100 rounded-lg"})},v))}),!s&&o.jsx(Ft,{children:n.length===0?o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx(ow,{className:"w-16 h-16 text-carbon-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-carbon-900 mb-2",children:"No tokens found"}),o.jsx("p",{className:"text-carbon-600 mb-6",children:"You haven't minted any carbon credits yet."}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("mint"),className:"btn-primary",children:[o.jsx(ks,{className:"w-5 h-5 mr-2"}),"Mint Your First Credits"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((y,v)=>o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"card hover:shadow-lg transition-all duration-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"🌱"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-carbon-900",children:["Token #",y.tokenId]}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Carbon Credit NFT"})]})]})}),o.jsx("div",{className:"bg-primary-50 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-primary-600",children:y.balance}),o.jsx("p",{className:"text-sm text-primary-700",children:"Credits Available"})]})}),y.gsProjectId&&o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"Project ID:"}),o.jsx("span",{className:"font-semibold text-carbon-900",children:y.gsProjectId})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"Serial:"}),o.jsx("span",{className:"font-semibold text-carbon-900",children:y.gsSerial})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"IPFS CID:"}),o.jsx("span",{className:"font-mono text-xs text-carbon-900 truncate max-w-24",children:y.ipfsCid})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"Verifier:"}),o.jsx("span",{className:"font-mono text-xs text-carbon-900",children:w(y.verifier)})]})]}),o.jsx("div",{className:"border-t border-carbon-200 pt-4",children:o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("market"),className:"w-full btn-secondary",children:[o.jsx(Ei,{className:"w-4 h-4 mr-2"}),"List for Sale"]})}),y.uri&&o.jsx("div",{className:"mt-3",children:o.jsxs("a",{href:y.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center text-xs text-carbon-600 hover:text-primary-600 transition-colors",children:[o.jsx(Jz,{className:"w-3 h-3 mr-1"}),"View Metadata"]})})]},y.tokenId))})})]}):o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-20",children:[o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(St,{className:"w-10 h-10 text-primary-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-4",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-carbon-600 mb-8 max-w-md mx-auto",children:"Connect your MetaMask wallet to view and manage your carbon credit tokens."}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"btn-primary",children:[o.jsx(St,{className:"w-5 h-5 mr-2"}),s?"Connecting...":"Connect Wallet"]})]})})}function hfe({onShow:t}){const[e,r]=p.useState(null),[n,i]=p.useState([]),[s,a]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState("browse"),[f,h]=p.useState(""),[m,g]=p.useState({tokenId:"",amount:1,pricePerToken:.01}),[x,w]=p.useState({}),[y,v]=p.useState(!1),[b,j]=p.useState({}),[A,S]=p.useState({});p.useEffect(()=>{if(N(),window.ethereum)return window.ethereum.on("accountsChanged",C),()=>window.ethereum.removeAllListeners("accountsChanged")},[]);const C=k=>{k.length>0?(r(k[0]),N()):(r(null),i([]),a([]))},N=async()=>{try{c(!0),await P(),await Promise.all([I(),D()])}catch(k){console.error("Error initializing marketplace:",k),X.error("Failed to initialize marketplace")}finally{c(!1)}},P=async()=>{if(!window.ethereum){X.error("Please install MetaMask to use the marketplace");return}try{const k=await ce.connectWallet();r(k.address),X.success("Wallet connected successfully!")}catch(k){console.error("Error connecting wallet:",k),X.error("Failed to connect wallet")}},I=async()=>{if(window.ethereum)try{const k=new at(window.ethereum),L="0x076d107Ca3757C37e63cC894F2F75E068B975A97",H=new Ce(L,za,k),W=await H.nextListingId(),G=[];console.log("📋 Fetching listings, nextListingId:",W.toString());const me=Number(W);for(let ve=1;ve<=me;ve++)try{const de=await H.listings(ve);if(console.log(`Listing ${ve}:`,{seller:de.seller,tokenId:Number(de.tokenId),amount:Number(de.amount),pricePerUnit:de.pricePerUnit.toString()}),Number(de.amount)>0){const we=Number(uh(de.pricePerUnit));G.push({id:ve,seller:de.seller,tokenId:Number(de.tokenId),amount:Number(de.amount),pricePerToken:we,totalValue:we*Number(de.amount),active:!0})}}catch(de){console.warn(`Error fetching listing ${ve}:`,de)}i(G)}catch(k){console.error("Error fetching listings:",k)}},D=async()=>{if(!e||!ce.isConfigured()){console.log("Cannot fetch tokens - wallet not connected or service not configured"),console.log("Wallet:",e),console.log("Service configured:",ce.isConfigured());return}try{console.log("🔍 Fetching tokens for wallet:",e),ce.isInitialized||(console.log("Initializing blockchain service..."),await ce.initialize());const k=await ce.getUserTokens(e);console.log("📋 Found tokens:",k),a(k),k.length===0&&X.info(`No tokens found for address ${e.slice(0,6)}...${e.slice(-4)}`)}catch(k){console.error("❌ Error fetching user tokens:",k),X.error("Failed to fetch your tokens: "+k.message)}},B=()=>{const k={};m.tokenId||(k.tokenId="Token ID is required"),(!m.amount||m.amount<=0)&&(k.amount="Amount must be greater than 0"),(!m.pricePerToken||m.pricePerToken<=0)&&(k.pricePerToken="Price must be greater than 0");const L=s.find(H=>H.tokenId===parseInt(m.tokenId));return L?L.balance<m.amount&&(k.amount=`You only have ${L.balance} tokens available`):k.tokenId="You do not own this token",w(k),Object.keys(k).length===0},V=async()=>{if(!B()){X.error("Please fix the form errors");return}if(!e){X.error("Please connect your wallet first"),await P();return}v(!0);try{ce.signer||await ce.connectWallet();const k=await ce.listCarbonCredits(parseInt(m.tokenId),m.amount,m.pricePerToken);X.success("Listing created successfully!"),g({tokenId:"",amount:1,pricePerToken:.01}),w({}),await Promise.all([I(),D()]),d("browse")}catch(k){console.error("Error creating listing:",k);let L="Failed to create listing: ";k.message.includes("insufficient funds")?L+="Insufficient funds for gas fees":k.message.includes("user rejected")?L="Transaction was cancelled by user":L+=k.reason||k.message||"Unknown error",X.error(L)}finally{v(!1)}},Q=async(k,L)=>{if(L<=0){X.error("Please enter a valid amount");return}if(!e){X.error("Please connect your wallet first"),await P();return}j(H=>({...H,[k]:{...H[k],loading:!0}}));try{ce.signer||await ce.connectWallet(),await ce.buyCarbonCredits(k,L),X.success(`Successfully purchased ${L} carbon credits!`),j(H=>({...H,[k]:{amount:1,loading:!1}})),await I()}catch(H){console.error("Error buying tokens:",H);let W="Failed to purchase tokens: ";H.message.includes("insufficient funds")?W+="Insufficient ETH balance":H.message.includes("user rejected")?W="Transaction was cancelled by user":W+=H.reason||H.message||"Unknown error",X.error(W)}finally{j(H=>({...H,[k]:{...H[k],loading:!1}}))}},T=async k=>{if(window.confirm("Are you sure you want to take down this listing? You will pay the full listing price to remove it from the marketplace.")){if(!e){X.error("Please connect your wallet first"),await P();return}S(L=>({...L,[k]:!0}));try{ce.signer||await ce.connectWallet(),await ce.takeDownListing(k),X.success("Listing taken down successfully!"),await I(),await D()}catch(L){console.error("Error taking down listing:",L);let H="Failed to take down listing: ";L.message.includes("insufficient funds")?H+="Insufficient ETH balance to buy back your listing":L.message.includes("user rejected")?H="Transaction was cancelled by user":H+=L.reason||L.message||"Unknown error",X.error(H)}finally{S(L=>({...L,[k]:!1}))}}},M=k=>`${k.slice(0,6)}...${k.slice(-4)}`,U=n.filter(k=>f===""||k.id.toString().includes(f)||k.tokenId.toString().includes(f)||k.seller.toLowerCase().includes(f.toLowerCase()));return l?o.jsx("div",{className:"p-8 max-w-6xl mx-auto",children:o.jsxs("div",{className:"animate-pulse space-y-8",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((k,L)=>o.jsx("div",{className:"card h-64 bg-carbon-100"},L))})]})}):o.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-carbon-900 flex items-center",children:[o.jsx(Ei,{className:"w-8 h-8 mr-3 text-primary-600"}),"Carbon Credit Marketplace"]}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Buy and sell verified carbon credits"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-4 sm:mt-0",children:[e&&o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 border border-white/20 shadow-sm",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),o.jsx("span",{className:"text-sm font-mono text-carbon-700",children:M(e)})]})}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("tokens"),className:"btn-secondary",children:"My Tokens"}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{I(),D(),X.info("Refreshing marketplace data...")},className:"btn-secondary px-3 py-2 text-sm",children:o.jsx(Re,{className:"w-4 h-4"})})]})]}),!ce.isConfigured()&&o.jsx(R.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(De,{className:"w-5 h-5 text-yellow-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Smart contracts not configured"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Deploy contracts and update .env to enable marketplace features."})]})]})}),o.jsx("div",{className:"flex space-x-1 bg-carbon-100 p-1 rounded-lg",children:[{key:"browse",label:"Browse Listings",icon:od},{key:"create",label:"Create Listing",icon:ks}].map(k=>o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(k.key),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium text-sm transition-colors ${u===k.key?"bg-white text-primary-600 shadow-sm":"text-carbon-600 hover:text-carbon-900"}`,children:[o.jsx(k.icon,{className:"w-4 h-4"}),o.jsx("span",{children:k.label})]},k.key))}),o.jsxs(Ft,{mode:"wait",children:[u==="browse"&&o.jsxs(R.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-carbon-400"}),o.jsx("input",{type:"text",placeholder:"Search by ID, token, or seller...",value:f,onChange:k=>h(k.target.value),className:"pl-10 input-primary"})]}),o.jsxs("div",{className:"text-sm text-carbon-600",children:[U.length," listing",U.length!==1?"s":""," available"]})]}),U.length===0?o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[o.jsx(Ei,{className:"w-16 h-16 text-carbon-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-carbon-900 mb-2",children:"No Listings Found"}),o.jsx("p",{className:"text-carbon-600 mb-6",children:f?"No listings match your search criteria.":"There are currently no active listings in the marketplace."}),!f&&o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d("create"),className:"btn-primary",children:[o.jsx(ks,{className:"w-5 h-5 mr-2"}),"Create First Listing"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map((k,L)=>{var H,W,G,me;return o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"card hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(rj,{className:"w-4 h-4 text-primary-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-carbon-900",children:["Listing #",k.id]}),o.jsxs("p",{className:"text-xs text-carbon-500",children:["Token ID: ",k.tokenId]})]})]}),k.seller.toLowerCase()===(e==null?void 0:e.toLowerCase())&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Your Listing"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center text-sm text-carbon-600",children:[o.jsx(Ut,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:["Seller: ",M(k.seller)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-carbon-500",children:"Available"}),o.jsxs("p",{className:"font-semibold text-carbon-900",children:[k.amount," credits"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-carbon-500",children:"Price"}),o.jsxs("p",{className:"font-semibold text-primary-600",children:[k.pricePerToken.toFixed(4)," ETH/credit"]})]})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("div",{className:"flex items-center space-x-2 mb-3",children:o.jsx("input",{type:"number",min:"1",max:k.amount,value:((H=b[k.id])==null?void 0:H.amount)||1,onChange:ve=>j(de=>({...de,[k.id]:{...de[k.id],amount:parseInt(ve.target.value)||1}})),className:"input-primary text-sm flex-1",placeholder:"Amount"})}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm text-carbon-600",children:"Total Cost:"}),o.jsxs("span",{className:"font-semibold text-carbon-900",children:[((((W=b[k.id])==null?void 0:W.amount)||1)*k.pricePerToken).toFixed(4)," ETH"]})]}),k.seller.toLowerCase()===(e==null?void 0:e.toLowerCase())?o.jsxs("div",{className:"space-y-2",children:[o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>T(k.id),disabled:A[k.id],className:"btn-danger w-full text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:A[k.id]?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Taking Down..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(hH,{className:"w-4 h-4"}),o.jsx("span",{children:"Take Down Listing"})]})}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-2",children:o.jsxs("p",{className:"text-xs text-amber-700",children:["⚠️ You'll pay ",k.totalValue.toFixed(4)," ETH to remove this listing"]})})]}):o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var ve;return Q(k.id,((ve=b[k.id])==null?void 0:ve.amount)||1)},disabled:(G=b[k.id])==null?void 0:G.loading,className:"btn-primary w-full text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:(me=b[k.id])!=null&&me.loading?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Buying..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gn,{className:"w-4 h-4"}),o.jsx("span",{children:"Buy Credits"})]})})]})]})},k.id)})})]},"browse"),u==="create"&&o.jsx(R.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"card space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(ks,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Create New Listing"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"List your carbon credits for sale on the marketplace"})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(qn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Marketplace Fee"}),o.jsx("p",{className:"text-blue-700 mt-1",children:"A small fee may be charged for marketplace transactions. You'll see the exact fee during transaction confirmation."})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700",children:"Token ID"}),o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[o.jsx(Re,{className:"w-3 h-3"}),o.jsx("span",{children:"Refresh Tokens"})]})]}),o.jsxs("select",{value:m.tokenId,onChange:k=>g(L=>({...L,tokenId:k.target.value})),className:`input-primary ${x.tokenId?"border-red-300":""}`,children:[o.jsx("option",{value:"",children:"Select a token to list"}),s.map(k=>o.jsxs("option",{value:k.tokenId,children:["Token #",k.tokenId," (Balance: ",k.balance,")"]},k.tokenId))]}),s.length===0&&e&&o.jsxs("p",{className:"text-sm text-amber-600 flex items-center",children:[o.jsx(qn,{className:"w-4 h-4 mr-1"}),"No tokens found for your wallet. Make sure you've minted some carbon credits first."]}),x.tokenId&&o.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),x.tokenId]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700",children:"Amount to Sell"}),o.jsx("input",{type:"number",min:"1",value:m.amount,onChange:k=>g(L=>({...L,amount:parseInt(k.target.value)||1})),className:`input-primary ${x.amount?"border-red-300":""}`,placeholder:"Number of credits to sell"}),x.amount&&o.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),x.amount]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700",children:"Price per Credit (ETH)"}),o.jsx("input",{type:"number",step:"0.0001",min:"0",value:m.pricePerToken,onChange:k=>g(L=>({...L,pricePerToken:parseFloat(k.target.value)||0})),className:`input-primary ${x.pricePerToken?"border-red-300":""}`,placeholder:"0.01"}),x.pricePerToken&&o.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[o.jsx(De,{className:"w-4 h-4 mr-1"}),x.pricePerToken]})]}),m.amount&&m.pricePerToken&&o.jsx("div",{className:"bg-carbon-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Total Value:"}),o.jsxs("span",{className:"text-lg font-bold text-primary-600",children:[(m.amount*m.pricePerToken).toFixed(4)," ETH"]})]})})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:V,disabled:y||!e||!ce.isConfigured(),className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:y?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Creating Listing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ks,{className:"w-5 h-5"}),o.jsx("span",{children:"Create Listing"})]})}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{g({tokenId:"",amount:1,pricePerToken:.01}),w({})},className:"btn-secondary px-6",children:"Reset"})]})]})},"create")]})]})}function mfe(){const[t,e]=p.useState(null),[r,n]=p.useState([]),[i,s]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState({}),[d,f]=p.useState({}),[h,m]=p.useState({}),[g,x]=p.useState({}),[w]=p.useState("0x076d107Ca3757C37e63cC894F2F75E068B975A97"),[y]=p.useState("0xe74f9e14F5858a92eD59ECF21866afc42101a45E");p.useEffect(()=>{window.ethereum&&(window.ethereum.on("accountsChanged",()=>window.location.reload()),v())},[]);const v=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0&&await b(!1)}catch(I){console.error("Error checking connection:",I)}};async function b(I=!0){if(!window.ethereum){X.error("Please install MetaMask to continue");return}l(!0);try{I&&await window.ethereum.request({method:"eth_requestAccounts"});const B=await new at(window.ethereum).getSigner(),V=await B.getAddress();e(V),await j(B,V),X.success("Wallet connected successfully!")}catch(D){console.error("Connection error:",D),X.error("Failed to connect wallet")}finally{l(!1)}}async function j(I,D){s(!0);try{const B=new Ce(y,ro,I),V=await B.nextTokenId(),Q=[],T={};console.log(`Loading tokens for address: ${D}`),console.log(`Next token ID: ${V}, checking tokens 1 to ${Number(V)-1}`);for(let M=1;M<Number(V);M++)try{const U=await B.balanceOf(D,M);if(console.log(`Token ${M}: balance = ${(U==null?void 0:U.toString())||"0"}`),U&&U.toString()!=="0"){console.log(`Found token ${M} with balance ${U.toString()}`);try{const k=await B.uri(M),L=await B.attestations(M);T[M]={uri:k,gsProjectId:L.gsProjectId,gsSerial:L.gsSerial,amount:L.amount.toString(),ipfsCid:L.ipfsCid}}catch(k){console.warn(`Could not load metadata for token ${M}:`,k)}Q.push({tokenId:M,balance:U.toString()}),m(k=>({...k,[M]:"1"}))}}catch(U){console.warn(`Error checking token ${M}:`,U)}console.log(`Found ${Q.length} tokens total:`,Q),n(Q),x(T)}catch(B){console.error("Error loading tokens:",B),X.error("Failed to load your tokens")}finally{s(!1)}}async function A(I,D){const B=c[I]||"",V="QmRetire"+Math.random().toString(36).substring(2,15),Q={tokenId:I,amount:D,note:B,timestamp:new Date().toISOString(),retiredBy:t};return console.log("Mock retirement metadata:",Q),`https://dweb.link/ipfs/${V}/retire-${I}.json`}async function S(I,D){if(!window.ethereum){X.error("Please connect your wallet first");return}f(B=>({...B,[I]:!0}));try{const V=await new at(window.ethereum).getSigner(),Q=new Ce(w,za,V),T=await A(I,D),M=BigInt(Math.floor(parseFloat(D))),U=await Q.retire(I,M,T);X.success(`Retirement transaction submitted! Hash: ${U.hash}`),await U.wait(),X.success("🎉 Carbon credits retired successfully! Certificate minted."),await j(V,t),u(k=>({...k,[I]:""}))}catch(B){console.error("Retirement error:",B);let V="Error retiring carbon credits: ";B.message.includes("insufficient funds")?V="Insufficient funds for gas fees. Please ensure you have enough ETH.":B.message.includes("user rejected")?V="Transaction was cancelled by user.":B.message.includes("insufficient balance")?V="Insufficient token balance for retirement.":V+=B.reason||B.message||"Unknown error occurred",X.error(V)}finally{f(B=>({...B,[I]:!1}))}}const C=(I,D)=>{u(B=>({...B,[I]:D}))},N=(I,D)=>{var Q;const B=parseInt(D),V=parseInt(((Q=r.find(T=>T.tokenId===I))==null?void 0:Q.balance)||"0");if(!(isNaN(B)||B<=0)){if(B>V){X.error(`Amount cannot exceed your balance of ${V} tokens`);return}m(T=>({...T,[I]:D}))}},P=({token:I})=>{const D=g[I.tokenId],B=d[I.tokenId],V=h[I.tokenId]||"1",Q=parseFloat(I.balance);return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(mi,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-carbon-900",children:["Carbon Credit #",I.tokenId]}),o.jsx("p",{className:"text-sm text-carbon-600",children:D?`${D.gsProjectId} • ${D.gsSerial}`:"Loading metadata..."})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold text-primary-600",children:I.balance}),o.jsx("p",{className:"text-xs text-carbon-500",children:"CO2e tons"})]})]}),D&&o.jsx("div",{className:"mb-4 p-3 bg-carbon-50 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-carbon-600",children:"Project:"}),o.jsx("span",{className:"ml-2 font-medium",children:D.gsProjectId})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-carbon-600",children:"Serial:"}),o.jsx("span",{className:"ml-2 font-medium",children:D.gsSerial})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-carbon-600",children:"Amount:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[D.amount," CO2e tons"]})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:[o.jsx(Ji,{className:"w-4 h-4 inline mr-1"}),"Amount to Retire (CO2e tons)"]}),o.jsx("input",{type:"number",min:"1",max:Q,step:"1",value:V,onChange:T=>N(I.tokenId,T.target.value),className:"input-field",placeholder:"Enter whole number of tokens"}),o.jsxs("p",{className:"text-xs text-carbon-500 mt-1",children:["Maximum: ",I.balance," tokens"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:[o.jsx(Ai,{className:"w-4 h-4 inline mr-1"}),"Retirement Note (Optional)"]}),o.jsx("textarea",{rows:3,value:c[I.tokenId]||"",onChange:T=>C(I.tokenId,T.target.value),placeholder:"Add a note about this retirement (e.g., offsetting company emissions for Q4 2024)",className:"input-field resize-none"})]}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>S(I.tokenId,V),disabled:B||!V||parseFloat(V)<=0,className:"btn-danger w-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:B?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Retiring..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ji,{className:"w-5 h-5"}),o.jsxs("span",{children:["Retire ",V," CO2e tons"]}),o.jsx(GV,{className:"w-4 h-4"})]})})]})]})};return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(Ji,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Retire Carbon Credits"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Permanently retire your carbon credits and receive certificates"})]})]})}),o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(qn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"What happens when you retire carbon credits?"}),o.jsx("p",{className:"text-blue-700 mt-1",children:"Retirement permanently removes carbon credits from circulation and generates a certificate of retirement. This is how you claim the environmental benefit and prevent double-counting."})]})]})}),t?o.jsxs("div",{children:[o.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx($e,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-primary-900",children:"Wallet Connected"}),o.jsx("p",{className:"text-sm text-primary-700",children:t})]})]})}),i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Re,{className:"w-8 h-8 text-primary-600 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-carbon-600",children:"Loading your carbon credits..."})]}):o.jsx(Ft,{children:r.length===0?o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[o.jsx(mi,{className:"w-16 h-16 text-carbon-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"No Carbon Credits Found"}),o.jsx("p",{className:"text-carbon-600 max-w-md mx-auto",children:"You don't have any carbon credits to retire yet. Visit the Mint page to create new credits or the Marketplace to purchase existing ones."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(I=>o.jsx(P,{token:I},I.tokenId))})})]}):o.jsxs(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[o.jsx(St,{className:"w-16 h-16 text-carbon-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-carbon-600 mb-6 max-w-md mx-auto",children:"Connect your wallet to view and retire your carbon credits"}),o.jsx(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(!0),disabled:a,className:"btn-primary inline-flex items-center space-x-2",children:a?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Connecting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(St,{className:"w-5 h-5"}),o.jsx("span",{children:"Connect Wallet"}),o.jsx(lh,{className:"w-4 h-4"})]})})]})]})}const uB=p.createContext(),tT=({children:t})=>{const[e,r]=p.useState([]),[n,i]=p.useState([]),s=p.useCallback(l=>{const c={...l,id:Date.now().toString(),createdAt:new Date().toISOString(),status:"minted",tokenId:`DCT-${Math.random().toString(36).substr(2,8).toUpperCase()}`,transactionHash:`0x${Math.random().toString(16).substr(2,64)}`};return r(u=>[c,...u]),i(u=>[{id:c.id,type:"mint",projectName:l.projectName,credits:l.credits,timestamp:new Date().toISOString()},...u]),c},[]),a={demoCredits:e,mintHistory:n,addDemoCredit:s,totalCredits:e.reduce((l,c)=>l+c.credits,0)};return o.jsx(uB.Provider,{value:a,children:t})},pfe=()=>{const t=p.useContext(uB);if(!t)throw new Error("useDemoCredits must be used within a DemoCreditsProvider");return t},gfe=[{id:"all",label:"All Projects",count:0},{id:"renewable-energy",label:"Renewable Energy",count:0},{id:"forest-conservation",label:"Forest Conservation",count:0},{id:"carbon-capture",label:"Carbon Capture",count:0},{id:"sustainable-transport",label:"Sustainable Transport",count:0},{id:"waste-management",label:"Waste Management",count:0},{id:"agricultural",label:"Sustainable Agriculture",count:0}],yfe=[{id:"newest",label:"Newest First"},{id:"oldest",label:"Oldest First"},{id:"credits-high",label:"Most Credits"},{id:"credits-low",label:"Least Credits"},{id:"value-high",label:"Highest Value"},{id:"value-low",label:"Lowest Value"}];function xfe({onNavigate:t}){var S,C;const{demoCredits:e,totalCredits:r,mintHistory:n}=pfe(),[i,s]=p.useState("all"),[a,l]=p.useState("newest"),[c,u]=p.useState(""),[d,f]=p.useState(null),[h,m]=p.useState("grid"),x=[...e.filter(N=>{const P=i==="all"||N.projectType===i,I=N.projectName.toLowerCase().includes(c.toLowerCase())||N.location.toLowerCase().includes(c.toLowerCase())||N.description.toLowerCase().includes(c.toLowerCase());return P&&I})].sort((N,P)=>{switch(a){case"newest":return new Date(P.createdAt)-new Date(N.createdAt);case"oldest":return new Date(N.createdAt)-new Date(P.createdAt);case"credits-high":return P.credits-N.credits;case"credits-low":return N.credits-P.credits;case"value-high":return P.credits*P.pricePerCredit-N.credits*N.pricePerCredit;case"value-low":return N.credits*N.pricePerCredit-P.credits*P.pricePerCredit;default:return 0}}),w=gfe.map(N=>({...N,count:N.id==="all"?e.length:e.filter(P=>P.projectType===N.id).length})),y=e.reduce((N,P)=>N+P.credits*P.pricePerCredit,0),v=r*2.3,b=r>0?y/r:0,j=N=>{Y.success("Carbon credits retired successfully!",{icon:"🌿",duration:3e3})},A=N=>{navigator.share?navigator.share({title:`Carbon Credit: ${N.projectName}`,text:`Check out this carbon credit project: ${N.projectName} in ${N.location}`,url:window.location.href}):(navigator.clipboard.writeText(`${N.projectName} - ${N.credits} carbon credits from ${N.location}`),Y.success("Project details copied to clipboard!"))};return e.length===0?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-400 to-blue-500 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(St,{className:"w-12 h-12 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Your Carbon Credits Portfolio"}),o.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"You haven't minted any carbon credits yet. Start creating projects to build your sustainable portfolio."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>t("mintCredits"),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold rounded-2xl hover:from-green-600 hover:to-blue-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(QS,{className:"w-6 h-6 mr-3"}),"Create Your First Project"]}),o.jsx("button",{onClick:()=>t("dashboard"),className:"inline-flex items-center px-8 py-4 border border-gray-300 text-gray-700 font-semibold rounded-2xl hover:bg-gray-50 transition-colors duration-200",children:"Back to Dashboard"})]})]})})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(St,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Your Portfolio"})]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Manage and track your carbon credit investments. Monitor your environmental impact and portfolio performance."})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(pn,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"Total Credits"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(gn,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",y.toLocaleString()]}),o.jsx("p",{className:"text-gray-600",children:"Portfolio Value"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:o.jsx(ch,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"CO₂ Tons Offset"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(rj,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",b.toFixed(2)]}),o.jsx("p",{className:"text-gray-600",children:"Avg. Price/Credit"})]})]})})]}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg mb-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:c,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("select",{value:i,onChange:N=>s(N.target.value),className:"px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:w.map(N=>o.jsxs("option",{value:N.id,children:[N.label," (",N.count,")"]},N.id))}),o.jsx("select",{value:a,onChange:N=>l(N.target.value),className:"px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:yfe.map(N=>o.jsx("option",{value:N.id,children:N.label},N.id))}),o.jsxs("button",{onClick:()=>t("mintCredits"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold rounded-xl hover:from-green-600 hover:to-blue-700 transition-all duration-200",children:[o.jsx(QS,{className:"w-5 h-5 mr-2"}),"Add Project"]})]})]})}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:x.map((N,P)=>{var I;return o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*P},className:"bg-white/80 backdrop-blur-sm rounded-2xl overflow-hidden border border-white/20 shadow-lg hover:shadow-2xl transition-all duration-300 group",children:[o.jsx("div",{className:`h-2 bg-gradient-to-r ${((I=N.template)==null?void 0:I.color)||"from-gray-400 to-gray-600"}`}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[N.template&&o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${N.template.color} rounded-xl flex items-center justify-center text-lg shadow-md`,children:N.template.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:N.projectName}),o.jsxs("p",{className:"text-gray-600 text-sm flex items-center",children:[o.jsx(tH,{className:"w-4 h-4 mr-1"}),N.location]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>f(N),className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors duration-200",children:o.jsx(oo,{className:"w-4 h-4 text-gray-600"})}),o.jsx("button",{onClick:()=>A(N),className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors duration-200",children:o.jsx(oH,{className:"w-4 h-4 text-gray-600"})})]})]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Credits:"}),o.jsx("span",{className:"font-semibold text-gray-900",children:N.credits.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Value:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:["$",(N.credits*N.pricePerCredit).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Price/Credit:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:["$",N.pricePerCredit]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"CO₂ Offset:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[(N.credits*2.3).toLocaleString()," tons"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-3 mb-4",children:o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-gray-600",children:"Token ID:"}),o.jsx("span",{className:"font-mono font-semibold",children:N.tokenId})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx($e,{className:"w-3 h-3 mr-1"}),"Active"]}),o.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[o.jsx(oc,{className:"w-3 h-3 mr-1"}),new Date(N.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"mt-4 flex space-x-2",children:[o.jsx("button",{onClick:()=>j(N.id),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-sm font-semibold py-2 px-4 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:"Retire Credits"}),o.jsx("button",{onClick:()=>f(N),className:"flex-1 border border-gray-300 text-gray-700 text-sm font-semibold py-2 px-4 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"View Details"})]})]})]},N.id)})}),x.length===0&&(c||i!=="all")&&o.jsxs(R.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(od,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No projects found"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filter criteria."}),o.jsxs("button",{onClick:()=>{u(""),s("all")},className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors duration-200",children:[o.jsx(Re,{className:"w-5 h-5 mr-2"}),"Clear Filters"]})]})]}),o.jsx(Ft,{children:d&&o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:o.jsxs(R.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:N=>N.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:`h-32 bg-gradient-to-r ${((S=d.template)==null?void 0:S.color)||"from-gray-400 to-gray-600"} relative overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsxs("div",{className:"relative h-full flex items-center justify-between p-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[d.template&&o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-2xl",children:d.template.icon}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:d.projectName}),o.jsx("p",{className:"text-white/80",children:d.location})]})]}),o.jsx("button",{onClick:()=>f(null),className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors duration-200",children:"×"})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Project Description"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Project Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Project Type:"}),o.jsx("span",{className:"font-medium",children:(C=d.template)==null?void 0:C.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Start Date:"}),o.jsx("span",{className:"font-medium",children:new Date(d.startDate).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"End Date:"}),o.jsx("span",{className:"font-medium",children:new Date(d.endDate).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Methodology:"}),o.jsx("span",{className:"font-medium",children:d.methodology||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Standard:"}),o.jsx("span",{className:"font-medium",children:d.verificationStandard||"N/A"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Token Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Credits Minted:"}),o.jsx("span",{className:"font-medium",children:d.credits.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Price per Credit:"}),o.jsxs("span",{className:"font-medium",children:["$",d.pricePerCredit]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Total Value:"}),o.jsxs("span",{className:"font-medium",children:["$",(d.credits*d.pricePerCredit).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"CO₂ Offset:"}),o.jsxs("span",{className:"font-medium",children:[(d.credits*2.3).toLocaleString()," tons"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Token ID:"}),o.jsx("span",{className:"font-mono text-sm",children:d.tokenId})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Blockchain Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Transaction Hash:"}),o.jsx("span",{className:"font-mono text-xs bg-white px-2 py-1 rounded break-all",children:d.transactionHash})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Minted:"}),o.jsx("span",{className:"font-medium",children:new Date(d.createdAt).toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx($e,{className:"w-3 h-3 mr-1"}),"Active"]})]})]})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>j(d.id),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold py-3 px-6 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:"Retire Credits"}),o.jsx("button",{onClick:()=>A(d),className:"flex-1 border border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Share Project"})]})]})]})})})]})}const Zv=[{id:"upload",title:"Upload Document",description:"Upload carbon project document to IPFS",icon:Oz,color:"blue"},{id:"sign",title:"Sign Attestation",description:"Verifier signs the carbon credit attestation",icon:Yt,color:"purple"},{id:"mint",title:"Mint Credits",description:"Mint carbon credits on the blockchain",icon:mi,color:"green"}];function vfe(){const[t,e]=p.useState("upload"),[r,n]=p.useState(new Set),[i,s]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState(!1),[g,x]=p.useState(!1),[w,y]=p.useState({carbonAddress:"",registryAddress:"",isDeployed:!1}),[v,b]=p.useState({chainId:null,name:""});p.useEffect(()=>{j(),A()},[]);const j=async()=>{if(y({carbonAddress:"0xe74f9e14F5858a92eD59ECF21866afc42101a45E",registryAddress:"0xD009D4EA4B9f546261433a75A32353a60d750200",isDeployed:!0}),window.ethereum)try{const k=await new at(window.ethereum).getNetwork();b({chainId:Number(k.chainId),name:k.name||"Unknown"})}catch(U){console.error("Error getting network info:",U)}},A=async()=>{if(window.ethereum)try{const T=await window.ethereum.request({method:"eth_accounts"});T.length>0&&(f(T[0]),await S(T[0]))}catch(T){console.error("Error checking wallet:",T)}},S=async T=>{if(!(!T||!w.isDeployed)){x(!0);try{const M=new at(window.ethereum),k=await new Ce(w.registryAddress,V0,M).isVerifier(T);m(k)}catch(M){console.error("Error checking verifier status:",M)}finally{x(!1)}}},C=async()=>{if(!window.ethereum){X.error("Please install MetaMask to continue");return}try{await window.ethereum.request({method:"eth_requestAccounts"});const T=await window.ethereum.request({method:"eth_accounts"});T.length>0&&(f(T[0]),X.success("Wallet connected successfully!"),await S(T[0]))}catch(T){console.error("Wallet connection error:",T),X.error("Failed to connect wallet")}},N=async()=>{if(!(!d||!w.isDeployed)){x(!0);try{const M=await new at(window.ethereum).getSigner(),U=new Ce(w.registryAddress,V0,M);X.loading("Registering as verifier...",{id:"registering"}),await(await U.addVerifier(d)).wait(),X.dismiss("registering"),X.success("🎉 Successfully registered as a verifier!"),m(!0)}catch(T){console.error("Error registering as verifier:",T),X.dismiss("registering");let M="Failed to register as verifier";T.message.includes("Not governor executor")?M="Only the governance executor can add verifiers. Use the demo mode for testing.":T.message.includes("user rejected")&&(M="Registration was cancelled by user."),X.error(M)}finally{x(!1)}}},P=()=>{X.loading("Activating demo verifier mode...",{id:"demo"}),setTimeout(()=>{X.dismiss("demo"),X.success("🎭 Demo Verifier Mode Activated!"),m(!0)},1500)},I=(T,M)=>{s(T),u(M),n(U=>new Set([...U,"upload"])),e("sign"),X.success("📄 Document uploaded! Ready for attestation.")},D=T=>{l(T),n(M=>new Set([...M,"sign"])),e("mint"),X.success("✅ Attestation signed! Ready to mint carbon credits.")},B=()=>{n(T=>new Set([...T,"mint"])),X.success("🎉 Carbon credits minted successfully!")},V=()=>{e("upload"),n(new Set),s(null),l(null),u(null),X.success("Workflow reset. Ready to start over!")},Q=({step:T,isActive:M,isCompleted:U})=>{const k=T.icon,L={blue:U?"bg-blue-600 text-white":M?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400",purple:U?"bg-purple-600 text-white":M?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-400",green:U?"bg-green-600 text-white":M?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"};return o.jsxs(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`relative flex flex-col items-center p-4 rounded-xl border-2 transition-all duration-300 ${U?"border-green-200 bg-green-50":M?`border-${T.color}-200 bg-${T.color}-50`:"border-gray-200 bg-gray-50"}`,children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${L[T.color]}`,children:U?o.jsx($e,{className:"w-6 h-6"}):o.jsx(k,{className:"w-6 h-6"})}),o.jsx("h3",{className:`mt-3 font-semibold text-sm ${U?"text-green-900":M?`text-${T.color}-900`:"text-gray-500"}`,children:T.title}),o.jsx("p",{className:`text-xs text-center mt-1 ${U?"text-green-700":M?`text-${T.color}-700`:"text-gray-500"}`,children:T.description})]})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(ow,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Carbon Credits Minting"})]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Complete the three-step process to mint verified carbon credits on the blockchain"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:`p-4 rounded-xl border ${d?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(St,{className:`w-5 h-5 ${d?"text-green-600":"text-orange-600"}`}),o.jsx("span",{className:`font-medium text-sm ${d?"text-green-900":"text-orange-900"}`,children:d?"Connected":"Not Connected"})]}),d&&o.jsxs("p",{className:"text-xs text-green-700 font-mono mt-1",children:[d.slice(0,8),"...",d.slice(-6)]})]}),o.jsx("div",{className:`p-4 rounded-xl border ${h?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Yt,{className:`w-5 h-5 ${h?"text-green-600":"text-orange-600"}`}),o.jsx("span",{className:`font-medium text-sm ${h?"text-green-900":"text-orange-900"}`,children:g?"Checking...":h?"Verified":"Not Verified"})]})}),o.jsx("div",{className:`p-4 rounded-xl border ${w.isDeployed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ow,{className:`w-5 h-5 ${w.isDeployed?"text-green-600":"text-red-600"}`}),o.jsx("span",{className:`font-medium text-sm ${w.isDeployed?"text-green-900":"text-red-900"}`,children:w.isDeployed?"Deployed":"Not Deployed"})]})}),o.jsx("div",{className:`p-4 rounded-xl border ${v.chainId?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pn,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"font-medium text-sm text-blue-900",children:v.chainId?`Chain ${v.chainId}`:"Unknown"})]})})]}),(!d||!h||!w.isDeployed)&&o.jsx(R.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-8",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx(De,{className:"w-8 h-8 text-yellow-600 flex-shrink-0 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-yellow-900 mb-3",children:"Setup Required"}),o.jsxs("div",{className:"space-y-3",children:[!d&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-yellow-800",children:"Connect your wallet to continue"}),o.jsx("button",{onClick:C,className:"px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm font-medium transition-colors",children:"Connect Wallet"})]}),d&&!h&&w.isDeployed&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-yellow-800",children:"Register as a verifier to sign attestations"}),o.jsxs("div",{className:"space-x-2",children:[o.jsx("button",{onClick:N,disabled:g,className:"px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:g?"Registering...":"Register"}),o.jsx("button",{onClick:P,className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg text-sm font-medium transition-colors",children:"Demo Mode"})]})]}),d&&!h&&!w.isDeployed&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-yellow-800",children:"Smart contracts not deployed. Use demo mode for testing."}),o.jsx("button",{onClick:P,className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg text-sm font-medium transition-colors",children:"Demo Mode"})]}),!w.isDeployed&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-yellow-800 block",children:"Smart contracts not deployed"}),o.jsx("span",{className:"text-yellow-700 text-sm",children:"Deploy contracts or set environment variables"})]}),o.jsx("button",{onClick:()=>{X.error("Please deploy contracts first or check your environment configuration")},className:"px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm font-medium transition-colors",children:"Deploy Contracts"})]})]})]})]})}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Zv.map((T,M)=>o.jsx(Q,{step:T,isActive:t===T.id,isCompleted:r.has(T.id)},T.id))}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:o.jsxs(Ft,{mode:"wait",children:[t==="upload"&&o.jsx(CA,{onUploaded:T=>I(T,T.uploaderAddress),user:{accountType:h?"verifier":"individual"}},"upload"),t==="sign"&&o.jsx(lB,{uploadedData:i,uploaderAddress:c,onSigned:D},"sign"),t==="mint"&&o.jsx(cB,{signedData:a,onMintComplete:B},"mint")]})},t),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:()=>{const T=Zv.map(U=>U.id),M=T.indexOf(t);M>0&&e(T[M-1])},disabled:t==="upload",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous Step"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:V,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Re,{className:"w-5 h-5"}),o.jsx("span",{children:"Reset Workflow"})]}),o.jsx("button",{onClick:()=>{const T=Zv.map(U=>U.id),M=T.indexOf(t);M<T.length-1&&e(T[M+1])},disabled:t==="mint"||!r.has(t),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-xl hover:from-green-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step"})]})]})]})})}function bfe({walletAddress:t}){const[e,r]=p.useState({credits:[],totalCredits:0,totalValue:0,avgPricePerCredit:0,totalCO2Offset:0}),[n,i]=p.useState([]),[s,a]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!1),[f,h]=p.useState("portfolio"),[m,g]=p.useState(""),[x,w]=p.useState("newest"),y="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",v="0x076d107Ca3757C37e63cC894F2F75E068B975A97",b="0x898c8C590223d697d0226B1F68D4abCC04a66e6F";p.useEffect(()=>{t&&y&&j()},[t,y]);const j=async()=>{d(!0);try{await Promise.all([A(),S(),C()])}catch(T){console.error("Error loading portfolio:",T),X.error("Failed to load portfolio data")}finally{d(!1)}},A=async()=>{try{if(!window.ethereum)return;const T=new at(window.ethereum),M=new Ce(y,ro,T),U=M.filters.TransferSingle(null,null,t),k=await M.queryFilter(U),L=[],H=new Map;for(const de of k){const{id:we,value:Le}=de.args,ut=we.toString(),te=Number(Le),pe=await M.balanceOf(t,ut);Number(pe)>0&&H.set(ut,Number(pe))}for(const[de,we]of H)try{const Le=await M.attestations(de),ut=await M.uri(de);L.push({tokenId:de,balance:we,gsProjectId:Le.gsProjectId,gsSerial:Le.gsSerial,ipfsCid:Le.ipfsCid,originalAmount:Number(Le.amount),verifier:Le.verifier,tokenURI:ut,createdAt:new Date().toISOString(),pricePerCredit:25})}catch(Le){console.error(`Error loading attestation for token ${de}:`,Le)}const W=L.reduce((de,we)=>de+we.balance,0),G=L.reduce((de,we)=>de+we.balance*we.pricePerCredit,0),me=W>0?G/W:0,ve=W*2.3;r({credits:L,totalCredits:W,totalValue:G,avgPricePerCredit:me,totalCO2Offset:ve})}catch(T){console.error("Error loading owned credits:",T)}},S=async()=>{try{if(!window.ethereum||!v)return;const T=new at(window.ethereum),M=new Ce(v,za,T),U=M.filters.TokenListed(),k=await M.queryFilter(U),L=[],H=[];for(const W of k){const{seller:G,tokenId:me,amount:ve,pricePerToken:de}=W.args;try{const we=await M.listings(me);if(Number(we.amount)>0){const ut=await new Ce(y,ro,T).attestations(me),te={tokenId:me.toString(),seller:G,amount:Number(we.amount),pricePerToken:Number(uh(we.pricePerToken)),totalPrice:Number(uh(we.pricePerToken))*Number(we.amount),gsProjectId:ut.gsProjectId,gsSerial:ut.gsSerial,ipfsCid:ut.ipfsCid,verifier:ut.verifier,isActive:!0};G.toLowerCase()===t.toLowerCase()?H.push(te):L.push(te)}}catch(we){console.error(`Error loading listing for token ${me}:`,we)}}i(L),a(H)}catch(T){console.error("Error loading market listings:",T)}},C=async()=>{try{if(!window.ethereum||!b)return;const T=new at(window.ethereum),M=new Ce(b,Ww,T),U=M.filters.Transfer(null,t),k=await M.queryFilter(U),L=[];for(const H of k){const{tokenId:W}=H.args;try{if((await M.ownerOf(W)).toLowerCase()===t.toLowerCase()){const me=await M.tokenURI(W);L.push({certificateId:W.toString(),tokenURI:me,retiredAt:new Date().toISOString(),amount:100,reason:"Voluntary retirement for carbon neutrality"})}}catch(G){console.error(`Error loading certificate ${W}:`,G)}}c(L)}catch(T){console.error("Error loading retired credits:",T)}},N=async(T,M,U)=>{try{if(!window.ethereum){X.error("Please connect your wallet");return}const L=await new at(window.ethereum).getSigner(),H=new Ce(v,za,L),W=new Ce(y,ro,L);X.loading("Listing token for sale...",{id:"listing"}),await W.isApprovedForAll(t,v)||await(await W.setApprovalForAll(v,!0)).wait(),await(await H.listToken(T,M,fw(U.toString()))).wait(),X.dismiss("listing"),X.success("Token listed successfully!"),await j()}catch(k){console.error("Error listing token:",k),X.dismiss("listing");let L="Failed to list token";k.message.includes("insufficient balance")?L="Insufficient token balance":k.message.includes("user rejected")&&(L="Transaction cancelled by user"),X.error(L)}},P=async(T,M,U)=>{try{if(!window.ethereum){X.error("Please connect your wallet");return}const L=await new at(window.ethereum).getSigner(),H=new Ce(v,za,L),W=fw((U*M).toString());X.loading("Purchasing tokens...",{id:"buying"}),await(await H.buyToken(T,M,{value:W})).wait(),X.dismiss("buying"),X.success("Tokens purchased successfully!"),await j()}catch(k){console.error("Error buying token:",k),X.dismiss("buying");let L="Failed to purchase token";k.message.includes("insufficient funds")?L="Insufficient ETH balance":k.message.includes("user rejected")&&(L="Transaction cancelled by user"),X.error(L)}},I=async(T,M,U)=>{try{if(!window.ethereum){X.error("Please connect your wallet");return}const L=await new at(window.ethereum).getSigner(),H=new Ce(v,za,L);X.loading("Retiring carbon credits...",{id:"retiring"}),await(await H.retireToken(T,M,U||"Voluntary retirement")).wait(),X.dismiss("retiring"),X.success("Credits retired successfully! Certificate minted."),await j()}catch(k){console.error("Error retiring credits:",k),X.dismiss("retiring");let L="Failed to retire credits";k.message.includes("insufficient balance")?L="Insufficient token balance":k.message.includes("user rejected")&&(L="Transaction cancelled by user"),X.error(L)}},D=e.credits.filter(T=>T.gsProjectId.toLowerCase().includes(m.toLowerCase())||T.gsSerial.toLowerCase().includes(m.toLowerCase())),B=n.filter(T=>T.gsProjectId.toLowerCase().includes(m.toLowerCase())||T.gsSerial.toLowerCase().includes(m.toLowerCase())),V=({credit:T,showActions:M=!0,isMarketListing:U=!1})=>o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-green-400 to-blue-500"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:T.gsProjectId}),o.jsx("p",{className:"text-sm text-gray-600",children:T.gsSerial}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["Token #",T.tokenId]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:U?T.amount:T.balance}),o.jsx("div",{className:"text-sm text-gray-500",children:"credits"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Price per Credit"}),o.jsxs("div",{className:"font-semibold",children:["$",U?T.pricePerToken.toFixed(2):T.pricePerCredit.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Total Value"}),o.jsxs("div",{className:"font-semibold",children:["$",U?T.totalPrice.toLocaleString():(T.balance*T.pricePerCredit).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"CO₂ Offset"}),o.jsxs("div",{className:"font-semibold text-green-600",children:[((U?T.amount:T.balance)*2.3).toFixed(1)," tons"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Verifier"}),o.jsxs("div",{className:"font-mono text-xs",children:[T.verifier.slice(0,6),"...",T.verifier.slice(-4)]})]})]}),M&&o.jsx("div",{className:"flex space-x-2",children:U?o.jsx("button",{onClick:()=>{const k=prompt("How many credits to buy?",T.amount.toString());k&&Number(k)>0&&Number(k)<=T.amount&&P(T.tokenId,Number(k),T.pricePerToken)},className:"flex-1 bg-blue-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Buy Credits"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{const k=prompt("How many credits to list?",T.balance.toString()),L=prompt("Price per credit (ETH)?","0.025");k&&L&&Number(k)>0&&Number(k)<=T.balance&&N(T.tokenId,Number(k),Number(L))},className:"flex-1 bg-green-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"List for Sale"}),o.jsx("button",{onClick:()=>{const k=prompt("How many credits to retire?",T.balance.toString()),L=prompt("Retirement reason (optional)?","Voluntary retirement");k&&Number(k)>0&&Number(k)<=T.balance&&I(T.tokenId,Number(k),L)},className:"flex-1 bg-red-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Retire"})]})})]})]}),Q=({id:T,label:M,icon:U,count:k})=>o.jsxs("button",{onClick:()=>h(T),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${f===T?"bg-green-100 text-green-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[o.jsx(U,{className:"w-5 h-5"}),o.jsx("span",{children:M}),k!==void 0&&o.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${f===T?"bg-green-200 text-green-800":"bg-gray-200 text-gray-600"}`,children:k})]});return t?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(pn,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Carbon Portfolio"})]}),o.jsx("p",{className:"text-xl text-gray-600",children:"Track, trade, and retire your carbon credits"})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(gn,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalCredits.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"Total Credits"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(St,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.totalValue.toLocaleString()]}),o.jsx("p",{className:"text-gray-600",children:"Portfolio Value"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(ch,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalCO2Offset.toFixed(1)}),o.jsx("p",{className:"text-gray-600",children:"CO₂ Tons Offset"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:o.jsx(rj,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.avgPricePerCredit.toFixed(2)]}),o.jsx("p",{className:"text-gray-600",children:"Avg Price/Credit"})]})]})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[o.jsx(Q,{id:"portfolio",label:"My Credits",icon:St,count:e.credits.length}),o.jsx(Q,{id:"marketplace",label:"Marketplace",icon:Ei,count:n.length}),o.jsx(Q,{id:"retired",label:"Retired",icon:Ji,count:l.length})]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search credits...",value:m,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("button",{onClick:j,disabled:u,className:"ml-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[o.jsx(Re,{className:`w-5 h-5 ${u?"animate-spin":""}`}),o.jsx("span",{children:"Refresh"})]})]}),o.jsxs(Ft,{mode:"wait",children:[f==="portfolio"&&o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.length>0?D.map(T=>o.jsx(V,{credit:T},T.tokenId)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(St,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Credits Found"}),o.jsx("p",{className:"text-gray-600",children:"You don't own any carbon credits yet."})]})},"portfolio"),f==="marketplace"&&o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.length>0?B.map(T=>o.jsx(V,{credit:T,isMarketListing:!0},T.tokenId)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(Ei,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Listings Found"}),o.jsx("p",{className:"text-gray-600",children:"No carbon credits are currently listed for sale."})]})},"marketplace"),f==="retired"&&o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.length>0?l.map(T=>o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-red-400 to-orange-500"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:o.jsx(Ji,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Retirement Certificate"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["#",T.certificateId]})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Amount Retired:"}),o.jsxs("span",{className:"font-semibold",children:[T.amount," credits"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Retired At:"}),o.jsx("span",{className:"text-sm",children:new Date(T.retiredAt).toLocaleDateString()})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:"Reason:"})," ",T.reason]})})]})]},T.certificateId)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(Ji,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Retired Credits"}),o.jsx("p",{className:"text-gray-600",children:"You haven't retired any carbon credits yet."})]})},"retired")]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:o.jsxs(R.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsx(St,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to view your carbon credits portfolio"})]})})}const wfe=({document:t})=>{var v,b;const[e,r]=p.useState("loading"),[n,i]=p.useState(null),[s,a]=p.useState([]),[l,c]=p.useState(0),[u,d]=p.useState(0),[f,h]=p.useState(null);p.useEffect(()=>{t!=null&&t.cid&&m()},[t]);const m=async()=>{r("loading");try{console.log("🔍 Checking document accessibility for CID:",t.cid);const j=cu.getGatewayUrls(t.cid);a(j);const A=await cu.verifyCIDAccessibility(t.cid);h(A),A.accessible?(i(A.url),r("ready"),console.log("✅ Document is accessible via:",A.url)):(r("error"),console.error("❌ Document not accessible:",A.error))}catch(j){console.error("❌ Error checking document accessibility:",j),r("error"),h({accessible:!1,error:j.message})}},g=j=>{c(j),i(s[j])},x=async()=>{try{if(typeof t>"u"||typeof window>"u"){console.error("❌ Download only works in browser environment"),alert("Download is not available in this environment");return}d(10);const j=await cu.fetchFileWithFallback(t.cid);d(50);const A=URL.createObjectURL(j.blob),S=t.createElement("a");S.href=A,S.download=t.filename||`document-${t.cid.slice(0,8)}.pdf`,S.style.display="none",t.body.appendChild(S),S.click(),t.body.removeChild(S),URL.revokeObjectURL(A),d(100),setTimeout(()=>d(0),2e3)}catch(j){console.error("❌ Download failed:",j),d(0),j.message.includes("document.createElement")?alert("Download failed: Browser environment required"):alert("Download failed: "+j.message)}},w=j=>{var S;switch((S=j==null?void 0:j.split(".").pop())==null?void 0:S.toLowerCase()){case"pdf":return"📄";case"doc":case"docx":return"📝";case"txt":return"📃";case"jpg":case"jpeg":case"png":return"🖼️";default:return"📄"}},y=j=>{var S;const A=(S=j==null?void 0:j.split(".").pop())==null?void 0:S.toLowerCase();return["pdf","jpg","jpeg","png","txt"].includes(A)};return e==="loading"?o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6 text-center",children:[o.jsx(Re,{className:"w-8 h-8 text-carbon-400 mx-auto mb-2 animate-spin"}),o.jsx("p",{className:"text-carbon-600",children:"Checking document accessibility..."})]}):e==="error"?o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(De,{className:"w-5 h-5 text-red-500"}),o.jsx("h4",{className:"font-medium text-red-800",children:"Document Not Accessible"})]}),o.jsx("p",{className:"text-red-700 text-sm mb-4",children:(f==null?void 0:f.error)||"Unable to access document from IPFS"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-xs text-red-600",children:[o.jsx("strong",{children:"CID:"})," ",t.cid]}),o.jsx("p",{className:"text-xs text-red-600",children:"This might be because:"}),o.jsxs("ul",{className:"text-xs text-red-600 list-disc list-inside ml-2",children:[o.jsx("li",{children:"The document was uploaded with a mock CID (development mode)"}),o.jsx("li",{children:"The IPFS gateways are temporarily unavailable"}),o.jsx("li",{children:"The document was not properly uploaded to IPFS"})]})]}),o.jsx("button",{onClick:m,className:"mt-4 text-red-600 hover:text-red-800 text-sm underline",children:"Try Again"})]}):o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"text-2xl",children:w(t.filename)}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-carbon-900",children:t.filename}),o.jsxs("p",{className:"text-xs text-carbon-600",children:[f!=null&&f.size?`${Math.round(f.size/1024)} KB`:"Size unknown"," • Stored on IPFS"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($e,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{className:"text-xs text-green-600",children:"Accessible"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-xs font-medium text-carbon-700",children:[o.jsx(ch,{className:"w-4 h-4 inline mr-1"}),"IPFS Gateway:"]}),o.jsx("select",{value:l,onChange:j=>g(parseInt(j.target.value)),className:"w-full text-xs px-2 py-1 border border-carbon-300 rounded focus:outline-none focus:ring-1 focus:ring-carbon-500",children:s.map((j,A)=>o.jsx("option",{value:A,children:new URL(j).hostname},A))})]}),o.jsxs("div",{className:"flex space-x-2",children:[y(t.filename)&&o.jsxs(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{typeof window<"u"?window.open(n,"_blank"):console.warn("Window.open not available in this environment")},className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(oo,{className:"w-4 h-4"}),o.jsx("span",{children:"View Document"})]}),o.jsx(R.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:x,disabled:u>0,className:"flex-1 flex items-center justify-center space-x-2 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:u>0?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-4 h-4 animate-spin"}),o.jsxs("span",{children:[u,"%"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(QV,{className:"w-4 h-4"}),o.jsx("span",{children:"Download"})]})})]}),y(t.filename)&&n&&o.jsxs("div",{className:"border border-carbon-200 rounded-lg overflow-hidden",children:[o.jsxs("div",{className:"bg-carbon-100 px-3 py-2 text-xs text-carbon-600 flex items-center justify-between",children:[o.jsx("span",{children:"Document Preview"}),o.jsx("button",{onClick:()=>{typeof window<"u"?window.open(n,"_blank"):console.warn("Window.open not available in this environment")},className:"text-blue-600 hover:text-blue-800 underline",children:"Open in new tab"})]}),o.jsx("div",{className:"h-96 bg-white",children:(v=t.filename)!=null&&v.toLowerCase().endsWith(".pdf")?o.jsx("iframe",{src:n,className:"w-full h-full",title:"Document Preview"}):(b=t.filename)!=null&&b.toLowerCase().match(/\.(jpg|jpeg|png)$/)?o.jsx("img",{src:n,alt:"Document Preview",className:"w-full h-full object-contain"}):o.jsx("div",{className:"flex items-center justify-center h-full text-carbon-500",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ai,{className:"w-12 h-12 mx-auto mb-2"}),o.jsx("p",{children:"Preview not available for this file type"}),o.jsx("button",{onClick:()=>{typeof window<"u"?window.open(n,"_blank"):console.warn("Window.open not available in this environment")},className:"mt-2 text-blue-600 hover:text-blue-800 underline text-sm",children:"Open in new tab"})]})})})]}),o.jsxs("details",{className:"text-xs",children:[o.jsx("summary",{className:"cursor-pointer text-carbon-600 hover:text-carbon-800",children:"Technical Details"}),o.jsxs("div",{className:"mt-2 p-2 bg-carbon-100 rounded text-carbon-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"IPFS CID:"})," ",o.jsx("code",{children:t.cid})]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Current Gateway:"})," ",n?new URL(n).hostname:"None"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"File Type:"})," ",t.mimeType||"Unknown"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Upload Source:"})," ",t.isMockIPFS?"Mock (Development)":"Real IPFS"]})]})]})]})},vp=10,rT={status:[{value:"",label:"All Status"},{value:xe.PENDING,label:"Pending"},{value:xe.ATTESTED,label:"Attested"},{value:xe.MINTED,label:"Minted"},{value:xe.REJECTED,label:"Rejected"}],uploaderType:[{value:"",label:"All Users"},{value:"individual",label:"Individual Users"},{value:"business",label:"Business Users"}]};function jfe(){const[t,e]=p.useState([]),[r,n]=p.useState([]),[i,s]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(""),[g,x]=p.useState(""),[w,y]=p.useState(""),[v,b]=p.useState(!1),[j,A]=p.useState(1),[S,C]=p.useState(1),[N,P]=p.useState({total:0,pending:0,attested:0,minted:0,rejected:0}),I=p.useCallback(async()=>{const k=ne.getCurrentUser(),L=(k==null?void 0:k.accountType)||"guest";try{if(s(!0),l(null),!ne.isUserAuthenticated()){const W=new Error("Please log in to access the verifier dashboard");throw W.code="USER_NOT_AUTHENTICATED",W}if(!ne.isVerifier()){Cr.handlePermissionError("access verifier dashboard",L,{component:"VerifierDashboard"});return}console.log("📋 Loading documents for verifier dashboard...");const H=Tt.loading("Loading documents for verification...",{roleSpecific:!0,operation:"document_review"});try{const W=await jh.executeWithRetry(()=>fn.getDocumentsForVerifier(),{maxRetries:3,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","SERVER_ERROR"]});console.log(`📋 Loaded ${W.length} documents`),e(W);const G={total:W.length,pending:W.filter(me=>me.status===xe.PENDING).length,attested:W.filter(me=>me.status===xe.ATTESTED).length,minted:W.filter(me=>me.status===xe.MINTED).length,rejected:W.filter(me=>me.status===xe.REJECTED).length};P(G),Tt.dismiss(H),t.length>0&&Tt.success(`Dashboard refreshed - ${W.length} documents loaded`,{roleSpecific:!0,operation:"dashboard_refresh",duration:3e3})}catch(W){throw Tt.dismiss(H),W}}catch(H){console.error("❌ Failed to load documents:",H);const W=Cr.handleError(H,{component:"VerifierDashboard",operation:"load_documents",userRole:"verifier"},{showToast:!0,showRetry:!0,retryAction:I});l(W.message.message||H.message)}finally{s(!1)}},[t.length]),D=p.useCallback(()=>{let k=[...t];if(h.trim()){const H=h.toLowerCase();k=k.filter(W=>{var G,me,ve,de;return((G=W.projectName)==null?void 0:G.toLowerCase().includes(H))||((me=W.description)==null?void 0:me.toLowerCase().includes(H))||((ve=W.uploaderName)==null?void 0:ve.toLowerCase().includes(H))||((de=W.uploaderEmail)==null?void 0:de.toLowerCase().includes(H))})}g&&(k=k.filter(H=>H.status===g)),w&&(k=k.filter(H=>H.uploaderType===w)),n(k);const L=Math.ceil(k.length/vp);C(L),j>L&&L>0&&A(1)},[t,h,g,w,j]),B=p.useCallback(()=>{const k=(j-1)*vp,L=k+vp;return r.slice(k,L)},[r,j]),V=p.useCallback(k=>{u(k),f(!0)},[]),Q=p.useCallback(()=>{f(!1),u(null)},[]),T=p.useCallback(async k=>{var W;if(k.status!==xe.ATTESTED){Y.error("Document must be attested before minting");return}if(!k.attestation){Y.error("Document attestation data is missing"),console.error("❌ No attestation data found for document:",k.id);return}const H=["signature","gsProjectId","gsSerial","amount","nonce"].filter(G=>!k.attestation[G]);if(H.length>0){Y.error(`Missing attestation data: ${H.join(", ")}`),console.error("❌ Missing attestation fields:",H,"Available:",Object.keys(k.attestation));return}try{console.log("🪙 Starting manual credit minting for document:",k.id);const G={gsProjectId:k.attestation.gsProjectId,gsSerial:k.attestation.gsSerial,ipfsCid:k.cid,amount:k.attestation.amount,recipient:k.uploadedBy,nonce:k.attestation.nonce,signature:k.attestation.signature};Y.loading("Minting credits...",{id:"minting"});const me=await ce.mintCarbonCreditsWithDocumentTracking(G,k.id,k);console.log("✅ Credits minted successfully:",me),Y.success(`Credits minted and allocated to ${k.uploadedBy}!`,{id:"minting",duration:6e3}),await fn.updateDocumentMinting(k.id,{transactionHash:(W=me.receipt)==null?void 0:W.hash,mintedAt:new Date().toISOString(),mintedBy:await ce.getCurrentAddress(),amount:G.amount,recipient:G.recipient,tokenId:me.tokenId}),await I()}catch(G){console.error("❌ Minting failed:",G),Y.error(`Minting failed: ${G.message}`,{id:"minting",duration:8e3})}},[I]);p.useCallback(async k=>{try{console.log("🔄 Resetting document to pending:",k.id),await fn.updateDocumentStatus(k.id,xe.PENDING,{attestation:null}),Y.success("Document reset to pending status. You can now re-attest it."),await I()}catch(L){console.error("❌ Failed to reset document:",L),Y.error(`Failed to reset document: ${L.message}`)}},[I]);const M=p.useCallback(()=>{I()},[I]),U=p.useCallback(()=>{m(""),x(""),y(""),A(1)},[]);return p.useEffect(()=>{I()},[I]),p.useEffect(()=>{D()},[D]),i?o.jsx(Ii,{componentName:"VerifierDashboard",children:o.jsx(PY,{userRole:"verifier"})}):a?o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsx("div",{className:"flex items-center justify-center min-h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(De,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Error Loading Documents"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:a}),o.jsxs("button",{onClick:M,className:"btn-primary inline-flex items-center space-x-2",children:[o.jsx(Re,{className:"w-4 h-4"}),o.jsx("span",{children:"Try Again"})]})]})})}):o.jsx(Ii,{componentName:"VerifierDashboard",context:{userRole:"verifier"},children:o.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900 mb-2",children:"Verifier Dashboard"}),o.jsx("p",{className:"text-carbon-600",children:"Review and verify documents submitted by users for carbon credit minting"})]}),o.jsxs("button",{onClick:M,className:"btn-secondary inline-flex items-center space-x-2",children:[o.jsx(Re,{className:"w-4 h-4"}),o.jsx("span",{children:"Refresh"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(df,{title:"Total Documents",value:N.total,icon:Ai,color:"blue"}),o.jsx(df,{title:"Pending",value:N.pending,icon:oc,color:"yellow"}),o.jsx(df,{title:"Attested",value:N.attested,icon:$e,color:"green"}),o.jsx(df,{title:"Minted",value:N.minted,icon:$e,color:"emerald"}),o.jsx(df,{title:"Rejected",value:N.rejected,icon:Il,color:"red"})]})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-carbon-200 p-6 mb-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[o.jsx("div",{className:"flex-1 max-w-md",children:o.jsxs("div",{className:"relative",children:[o.jsx(od,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"text",placeholder:"Search documents, projects, or uploaders...",value:h,onChange:k=>m(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>b(!v),className:`inline-flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${v?"bg-primary-50 border-primary-200 text-primary-700":"bg-white border-carbon-300 text-carbon-700 hover:bg-carbon-50"}`,children:[o.jsx(Vz,{className:"w-4 h-4"}),o.jsx("span",{children:"Filters"})]}),(h||g||w)&&o.jsx("button",{onClick:U,className:"text-sm text-carbon-600 hover:text-carbon-900 underline",children:"Clear all"})]})]}),o.jsx(Ft,{children:v&&o.jsx(R.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-carbon-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-carbon-700 mb-2",children:"Status"}),o.jsx("select",{id:"status-filter",value:g,onChange:k=>x(k.target.value),className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:rT.status.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"uploader-type-filter",className:"block text-sm font-medium text-carbon-700 mb-2",children:"Uploader Type"}),o.jsx("select",{id:"uploader-type-filter",value:w,onChange:k=>y(k.target.value),className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:rT.uploaderType.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]})]})})})]}),o.jsx(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-carbon-200",children:r.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Ai,{className:"w-12 h-12 text-carbon-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"No Documents Found"}),o.jsx("p",{className:"text-carbon-600",children:t.length===0?"No documents have been uploaded yet.":"No documents match your current filters."}),(h||g||w)&&o.jsx("button",{onClick:U,className:"mt-4 text-primary-600 hover:text-primary-700 underline",children:"Clear filters to see all documents"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-carbon-50 border-b border-carbon-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Project"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Uploader"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Credits"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Uploaded"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-carbon-200",children:B().map((k,L)=>o.jsx(Nfe,{document:k,index:L,onSelect:V,onMint:T},`${k.cid||k.id}-${L}`))})]})}),S>1&&o.jsx("div",{className:"px-6 py-4 border-t border-carbon-200",children:o.jsx(Afe,{currentPage:j,totalPages:S,onPageChange:A,totalItems:r.length,itemsPerPage:vp})})]})}),o.jsx(Ft,{children:d&&c&&o.jsx(Efe,{document:c,onClose:Q,onDocumentUpdate:I})})]})})}function df({title:t,value:e,icon:r,color:n}){const i={blue:"bg-blue-50 text-blue-600 border-blue-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",green:"bg-green-50 text-green-600 border-green-200",emerald:"bg-emerald-50 text-emerald-600 border-emerald-200",red:"bg-red-50 text-red-600 border-red-200"};return o.jsx(R.div,{whileHover:{scale:1.02},className:`p-4 rounded-lg border ${i[n]}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-80",children:t}),o.jsx("p",{className:"text-2xl font-bold",children:e})]}),o.jsx(r,{className:"w-8 h-8 opacity-60"})]})})}function Nfe({document:t,index:e,onSelect:r,onMint:n}){const i=c=>{const u={[xe.PENDING]:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:oc,label:"Pending"},[xe.ATTESTED]:{color:"bg-green-100 text-green-800 border-green-200",icon:$e,label:"Attested"},[xe.MINTED]:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:$e,label:"Minted"},[xe.REJECTED]:{color:"bg-red-100 text-red-800 border-red-200",icon:Il,label:"Rejected"}},d=u[c]||u[xe.PENDING],f=d.icon;return o.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${d.color}`,children:[o.jsx(f,{className:"w-3 h-3"}),o.jsx("span",{children:d.label})]})},s=c=>c==="business"?ac:Ut,a=c=>{if(!c)return"Unknown";try{return new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"Invalid date"}},l=s(t.uploaderType);return o.jsxs(R.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.05},className:"hover:bg-carbon-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-carbon-900 truncate max-w-48",children:t.projectName||"Untitled Project"}),o.jsx("p",{className:"text-sm text-carbon-600 truncate max-w-48",children:t.filename||"Unknown file"})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(l,{className:"w-4 h-4 text-carbon-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-carbon-900",children:t.uploaderName||"Unknown"}),o.jsx("p",{className:"text-xs text-carbon-600 capitalize",children:t.uploaderType||"individual"})]})]})}),o.jsx("td",{className:"px-6 py-4",children:i(t.status)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:"text-sm font-medium text-carbon-900",children:[t.estimatedCredits||0," credits"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-carbon-600",children:[o.jsx(lz,{className:"w-4 h-4"}),o.jsx("span",{children:a(t.createdAt||t.uploadedAt)})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>r(t),className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:[o.jsx(oo,{className:"w-4 h-4"}),o.jsx("span",{children:"View"})]}),t.status===xe.ATTESTED&&n&&o.jsxs("button",{onClick:c=>{c.stopPropagation(),n(t)},className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium text-emerald-600 hover:text-emerald-700 hover:bg-emerald-50 rounded-lg transition-colors",title:"Mint Credits for this Document",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),o.jsx("span",{children:"Mint"})]})]})})]})}function Afe({currentPage:t,totalPages:e,onPageChange:r,totalItems:n,itemsPerPage:i}){const s=(t-1)*i+1,a=Math.min(t*i,n),l=()=>{const c=[];if(e<=5)for(let d=1;d<=e;d++)c.push(d);else{const d=Math.max(1,t-2),f=Math.min(e,d+5-1);for(let h=d;h<=f;h++)c.push(h)}return c};return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-carbon-600",children:["Showing ",s," to ",a," of ",n," documents"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg border border-carbon-300 text-carbon-600 hover:bg-carbon-50 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(pz,{className:"w-4 h-4"})}),l().map(c=>o.jsx("button",{onClick:()=>r(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c===t?"bg-primary-500 text-white":"text-carbon-600 hover:bg-carbon-50"}`,children:c},c)),o.jsx("button",{onClick:()=>r(t+1),disabled:t===e,className:"p-2 rounded-lg border border-carbon-300 text-carbon-600 hover:bg-carbon-50 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(GI,{className:"w-4 h-4"})})]})]})}function Efe({document:t,onClose:e,onDocumentUpdate:r}){const[n,i]=p.useState(!1),[s,a]=p.useState({gsProjectId:"",gsSerial:"",amount:t.estimatedCredits||0}),[l,c]=p.useState(!1),[u,d]=p.useState(null),f=t.status===xe.PENDING,h=t.status===xe.ATTESTED,m=t.status===xe.MINTED,g=t.status===xe.REJECTED,x=async j=>{var C;if(j.status!==xe.ATTESTED){Y.error("Document must be attested before minting");return}if(!j.attestation){Y.error("Document attestation data is missing"),console.error("❌ No attestation data found for document:",j.id);return}const S=["signature","gsProjectId","gsSerial","amount","nonce"].filter(N=>!j.attestation[N]);if(S.length>0){Y.error(`Missing attestation data: ${S.join(", ")}`),console.error("❌ Missing attestation fields:",S,"Available:",Object.keys(j.attestation));return}try{console.log("🪙 Starting manual credit minting for document:",j.id);const N={gsProjectId:j.attestation.gsProjectId,gsSerial:j.attestation.gsSerial,ipfsCid:j.cid,amount:j.attestation.amount,recipient:j.uploadedBy,nonce:j.attestation.nonce,signature:j.attestation.signature};Y.loading("Minting credits...",{id:"minting"});const P=await ce.mintCarbonCreditsWithDocumentTracking(N,j.id,j);console.log("✅ Credits minted successfully:",P),Y.success(`Credits minted and allocated to ${j.uploadedBy}!`,{id:"minting",duration:6e3}),await fn.updateDocumentMinting(j.id,{transactionHash:(C=P.receipt)==null?void 0:C.hash,mintedAt:new Date().toISOString(),mintedBy:await ce.getCurrentAddress(),amount:N.amount,recipient:N.recipient,tokenId:P.tokenId}),r&&r()}catch(N){console.error("❌ Minting failed:",N),Y.error(`Minting failed: ${N.message}`,{id:"minting",duration:8e3})}},w=async j=>{try{console.log("🔄 Resetting document to pending:",j.id);const A=await fn.updateDocumentStatus(j.id,xe.PENDING,{attestation:null});Y.success("Document reset to pending status. You can now re-attest it."),r&&r(),e()}catch(A){console.error("❌ Failed to reset document:",A),Y.error(`Failed to reset document: ${A.message}`)}},y=async j=>{var A,S;j.preventDefault();try{c(!0),d(null);const{signAttestation:C,validateAttestationData:N,createAttestationData:P}=await ij(async()=>{const{signAttestation:k,validateAttestationData:L,createAttestationData:H}=await import("./eip712-lNicttPL.js");return{signAttestation:k,validateAttestationData:L,createAttestationData:H}},[]),I=ne.getCurrentUser();if(!(I!=null&&I.walletAddress))throw new Error("Verifier wallet address not found");const D=await ce.getSigner();if(!D)throw new Error("Unable to get wallet signer");const B=ce.getContractAddress("carbonCredit");if(!B)throw new Error("Carbon credit contract address not found");if(!t.uploadedBy)throw new Error("Document is missing uploader address. This document may be corrupted or from an older version.");const V=await ce.getNonce(t.uploadedBy),Q=P(s,t,V);console.log("🔍 Attestation data before validation:",{document:{id:t.id,cid:t.cid,ipfsCid:t.ipfsCid,hash:t.hash,cidType:typeof t.cid,cidLength:(A=t.cid)==null?void 0:A.length,uploadedBy:t.uploadedBy,allDocumentKeys:Object.keys(t)},attestationData:s,fullAttestationData:Q}),N(Q),console.log("🔐 Generating attestation signature...",Q);const T=await C(Q,B,D),M={...Q,signature:T};console.log("📝 Submitting attestation...");const U=await fn.attestDocument(t.id,M);console.log("✅ Attestation successful:",U),Y.success("Document attested successfully! Now minting credits...");try{console.log("🪙 Starting automatic credit minting...");const k=await ce.mintCarbonCreditsWithDocumentTracking(M,t.id,t);console.log("✅ Credits minted successfully:",k),Y.success(`Credits minted and allocated to ${t.uploadedBy}!`,{duration:6e3}),await fn.updateDocumentMinting(t.id,{transactionHash:(S=k.receipt)==null?void 0:S.hash,mintedAt:new Date().toISOString(),mintedBy:await ce.getCurrentAddress(),amount:M.amount,recipient:M.recipient,tokenId:k.tokenId})}catch(k){console.error("❌ Minting failed after attestation:",k),Y.error(`Attestation successful, but minting failed: ${k.message}`,{duration:8e3})}i(!1),r&&r()}catch(C){console.error("❌ Attestation failed:",C),d(C.message),Y.error(`Attestation failed: ${C.message}`)}finally{c(!1)}},v=(j,A)=>{a(S=>({...S,[j]:A})),u&&d(null)},b=j=>{const A={[xe.PENDING]:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:oc,label:"Pending Attestation"},[xe.ATTESTED]:{color:"bg-green-100 text-green-800 border-green-200",icon:$e,label:"Attested"},[xe.MINTED]:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:$e,label:"Minted"},[xe.REJECTED]:{color:"bg-red-100 text-red-800 border-red-200",icon:Il,label:"Rejected"}},S=A[j]||A[xe.PENDING],C=S.icon;return o.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium border ${S.color}`,children:[o.jsx(C,{className:"w-4 h-4"}),o.jsx("span",{children:S.label})]})};return o.jsx(R.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:o.jsx(R.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:j=>j.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-carbon-900",children:"Document Details"}),o.jsx("div",{className:"mt-2",children:b(t.status)})]}),o.jsx("button",{onClick:e,className:"p-2 text-carbon-400 hover:text-carbon-600 rounded-lg hover:bg-carbon-100",children:o.jsx(Il,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Project Information"}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",t.projectName]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",t.projectType||"Not specified"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Description:"})," ",t.description||"No description"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",t.location||"Not specified"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Estimated Credits:"})," ",t.estimatedCredits||0]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Uploader Information"}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",t.uploaderName||"Unknown"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",t.uploaderEmail||"Unknown"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",t.uploaderType||"individual"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Address:"})," ",t.uploadedBy]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"File Information"}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Filename:"})," ",t.filename]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Size:"})," ",fn.formatFileSize(t.fileSize||0)]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"IPFS CID:"})," ",o.jsx("code",{className:"text-xs bg-carbon-200 px-1 rounded",children:t.cid})]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Uploaded:"})," ",new Date(t.createdAt||t.uploadedAt).toLocaleString()]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Document Viewer"}),o.jsx(wfe,{document:t})]}),h&&t.attestation&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Attestation Information"}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Verifier:"})," ",t.attestation.verifierAddress]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Attested At:"})," ",new Date(t.attestation.attestedAt).toLocaleString()]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"GS Project ID:"})," ",t.attestation.gsProjectId]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"GS Serial:"})," ",t.attestation.gsSerial]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Amount:"})," ",t.attestation.amount," credits"]})]})]})]}),o.jsxs("div",{children:[f&&!n&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 text-center",children:[o.jsx($e,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Ready for Attestation"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"This document is pending attestation. Review the project details and attest if valid."}),o.jsx("button",{onClick:()=>i(!0),className:"btn-primary",children:"Start Attestation"})]}),f&&n&&o.jsxs("div",{className:"bg-white border border-carbon-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-4",children:"Attest Document"}),u&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(De,{className:"w-5 h-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-700",children:u})]})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gsProjectId",className:"block text-sm font-medium text-carbon-700 mb-1",children:"Gold Standard Project ID *"}),o.jsx("input",{type:"text",id:"gsProjectId",value:s.gsProjectId,onChange:j=>v("gsProjectId",j.target.value),placeholder:"e.g., GS12345",required:!0,disabled:l,className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-carbon-100"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gsSerial",className:"block text-sm font-medium text-carbon-700 mb-1",children:"Gold Standard Serial Number *"}),o.jsx("input",{type:"text",id:"gsSerial",value:s.gsSerial,onChange:j=>v("gsSerial",j.target.value),placeholder:"e.g., GS12345-001-2024",required:!0,disabled:l,className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-carbon-100"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-carbon-700 mb-1",children:"Credits to Mint"}),o.jsx("input",{type:"number",id:"amount",value:s.amount,onChange:j=>v("amount",Number(j.target.value)),min:"1",max:"1000000",required:!0,disabled:l,className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-carbon-100"}),o.jsxs("p",{className:"text-xs text-carbon-500 mt-1",children:["Estimated: ",t.estimatedCredits||0," credits"]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(qn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-700",children:[o.jsx("p",{className:"font-medium mb-1",children:"Attestation Process"}),o.jsx("p",{children:"You will be asked to sign a transaction to attest this document. The credits will be automatically allocated to the document uploader."})]})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),disabled:l,className:"btn-secondary flex-1",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l||!s.gsProjectId||!s.gsSerial,className:"btn-primary flex-1 inline-flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(Re,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Attesting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx($e,{className:"w-4 h-4"}),o.jsx("span",{children:"Attest Document"})]})})]})]})]}),h&&t.attestation&&(()=>{var S,C,N;const A=["signature","gsProjectId","gsSerial","amount","nonce"].filter(P=>!t.attestation[P]);return A.length>0?o.jsxs("div",{className:"bg-red-50 rounded-lg p-6 text-center",children:[o.jsx(De,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Attestation Data Incomplete"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"This document is marked as attested but is missing required data for minting."}),o.jsxs("div",{className:"text-sm text-red-600 mb-4",children:[o.jsxs("p",{children:["Missing fields: ",A.join(", ")]}),o.jsx("p",{children:"This likely happened before our recent fix."})]}),o.jsxs("button",{onClick:()=>{confirm("Reset this document to pending status so it can be re-attested?")&&w(t)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2 mx-auto",children:[o.jsx(Re,{className:"w-5 h-5"}),o.jsx("span",{children:"Reset to Pending"})]})]}):o.jsxs("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[o.jsx($e,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Document Attested"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"This document has been successfully attested and is ready for minting."}),o.jsxs("div",{className:"text-sm text-carbon-500 mb-4",children:[o.jsxs("p",{children:["Attested by: ",(S=t.attestation)==null?void 0:S.verifierAddress]}),o.jsxs("p",{children:["Credits: ",(C=t.attestation)==null?void 0:C.amount]}),o.jsxs("p",{children:["Recipient: ",t.uploadedBy]}),o.jsxs("p",{children:["Attested on: ",new Date((N=t.attestation)==null?void 0:N.attestedAt).toLocaleDateString()]})]}),o.jsxs("button",{onClick:()=>x(t),className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors font-medium flex items-center space-x-2 mx-auto",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),o.jsx("span",{children:"Mint Credits"})]})]})})(),h&&!t.attestation&&o.jsxs("div",{className:"bg-red-50 rounded-lg p-6 text-center",children:[o.jsx(De,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Attestation Data Missing"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"This document is marked as attested but has no attestation data."}),o.jsx("p",{className:"text-sm text-red-600 mb-4",children:"This likely happened before our recent fix. Please re-attest this document."}),o.jsxs("button",{onClick:()=>{confirm("Reset this document to pending status so it can be re-attested?")&&w(t)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center space-x-2 mx-auto",children:[o.jsx(Re,{className:"w-5 h-5"}),o.jsx("span",{children:"Reset to Pending"})]})]}),m&&o.jsxs("div",{className:"bg-emerald-50 rounded-lg p-6 text-center",children:[o.jsx($e,{className:"w-12 h-12 text-emerald-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Credits Minted"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"Carbon credits have been minted and allocated to the uploader."})]}),g&&o.jsxs("div",{className:"bg-red-50 rounded-lg p-6 text-center",children:[o.jsx(Il,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Document Rejected"}),o.jsx("p",{className:"text-carbon-600",children:"This document has been rejected and cannot be attested."})]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-carbon-200 flex justify-end",children:o.jsx("button",{onClick:e,className:"btn-secondary",children:"Close"})})]})})})}const Sfe=["manage_users","change_user_roles","view_audit_logs","manage_verifier_credentials","backup_restore_data"],zo={ROLE_CHANGE:"role_change",USER_CREATED:"user_created",USER_DELETED:"user_deleted",VERIFIER_ASSIGNED:"verifier_assigned",VERIFIER_REMOVED:"verifier_removed",CREDENTIALS_UPDATED:"credentials_updated",BACKUP_CREATED:"backup_created",DATA_RESTORED:"data_restored"};class kfe{constructor(){this.auditLogs=new Map,this.verifierCredentials=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_audit_logs");if(e){const n=JSON.parse(e);this.auditLogs=new Map(n)}const r=localStorage.getItem("cblock_verifier_credentials");if(r){const n=JSON.parse(r);this.verifierCredentials=new Map(n)}}catch(e){console.error("Failed to load admin data from storage:",e),this.auditLogs=new Map,this.verifierCredentials=new Map}}saveToStorage(){try{const e=Array.from(this.auditLogs.entries());localStorage.setItem("cblock_audit_logs",JSON.stringify(e));const r=Array.from(this.verifierCredentials.entries());localStorage.setItem("cblock_verifier_credentials",JSON.stringify(r))}catch(e){console.error("Failed to save admin data to storage:",e)}}isAdmin(){const e=ne.getCurrentUser();return(e==null?void 0:e.accountType)==="admin"}hasAdminPermission(e){return this.isAdmin()?Sfe.includes(e):!1}logAuditEvent(e,r,n=null){const i=ne.getCurrentUser();if(!i)throw new Error("Admin not authenticated");const s=Date.now().toString()+Math.random().toString(36).substr(2,9),a={id:s,type:e,adminId:i.id,adminEmail:i.email,targetUserId:n,details:r,timestamp:new Date().toISOString(),ipAddress:"localhost",userAgent:navigator.userAgent};return this.auditLogs.set(s,a),this.saveToStorage(),a}async getAllUsers(){if(!this.hasAdminPermission("manage_users"))throw new Error("Insufficient permissions to view users");const r=ne.getAllUsers().map(n=>({...n,verifierCredentials:this.verifierCredentials.get(n.id),lastActivity:n.lastLogin||n.createdAt,status:this.getUserStatus(n)}));return this.logAuditEvent(zo.USER_VIEWED,{action:"Viewed all users",userCount:r.length}),r}getUserStatus(e){return e.isVerified?e.accountType==="verifier"&&!this.verifierCredentials.has(e.id)?"pending_credentials":"active":"unverified"}async changeUserRole(e,r,n=""){if(!this.hasAdminPermission("change_user_roles"))throw new Error("Insufficient permissions to change user roles");if(!["individual","business","verifier","admin"].includes(r))throw new Error(`Invalid role: ${r}`);const a=ne.getAllUsers().find(d=>d.id===e);if(!a)throw new Error("User not found");const l=a.accountType;if(ne.getCurrentUser().id===e)throw new Error("Cannot change your own role");const u=await this.updateUserInAuthService(a.email,{accountType:r});return r==="verifier"&&l!=="verifier"?this.verifierCredentials.set(e,{status:"pending",certificationId:"",issuingAuthority:"",validUntil:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}):l==="verifier"&&r!=="verifier"&&this.verifierCredentials.delete(e),this.saveToStorage(),this.logAuditEvent(zo.ROLE_CHANGE,{targetUserEmail:a.email,oldRole:l,newRole:r,reason:n},e),{...u,verifierCredentials:this.verifierCredentials.get(e)}}async updateUserInAuthService(e,r){const n=ne.users,i=n.get(e);if(!i)throw new Error("User not found in auth service");Object.assign(i,r,{updatedAt:new Date().toISOString()}),n.set(e,i),ne.saveToStorage();const{passwordHash:s,...a}=i;return a}async assignVerifierCredentials(e,r){if(!this.hasAdminPermission("manage_verifier_credentials"))throw new Error("Insufficient permissions to manage verifier credentials");const{certificationId:n,issuingAuthority:i,validUntil:s}=r;if(!n||!i||!s)throw new Error("All credential fields are required");const a=new Date(s);if(a<=new Date)throw new Error("Valid until date must be in the future");const c=ne.getAllUsers().find(d=>d.id===e);if(!c)throw new Error("User not found");if(c.accountType!=="verifier")throw new Error("User must be a verifier to assign credentials");const u={status:"active",certificationId:n,issuingAuthority:i,validUntil:a.toISOString(),createdAt:this.verifierCredentials.has(e)?this.verifierCredentials.get(e).createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.verifierCredentials.set(e,u),this.saveToStorage(),this.logAuditEvent(zo.CREDENTIALS_UPDATED,{targetUserEmail:c.email,certificationId:n,issuingAuthority:i,validUntil:a.toISOString()},e),u}async removeVerifierCredentials(e,r=""){if(!this.hasAdminPermission("manage_verifier_credentials"))throw new Error("Insufficient permissions to manage verifier credentials");const i=ne.getAllUsers().find(a=>a.id===e);if(!i)throw new Error("User not found");const s=this.verifierCredentials.get(e);if(!s)throw new Error("No credentials found for this user");return this.verifierCredentials.delete(e),this.saveToStorage(),this.logAuditEvent(zo.VERIFIER_REMOVED,{targetUserEmail:i.email,reason:r,removedCredentials:s},e),{success:!0}}getVerifierCredentials(e){if(!this.hasAdminPermission("manage_verifier_credentials"))throw new Error("Insufficient permissions to view verifier credentials");return this.verifierCredentials.get(e)||null}getAuditLogs(e={}){if(!this.hasAdminPermission("view_audit_logs"))throw new Error("Insufficient permissions to view audit logs");let r=Array.from(this.auditLogs.values());if(e.type&&(r=r.filter(n=>n.type===e.type)),e.adminId&&(r=r.filter(n=>n.adminId===e.adminId)),e.targetUserId&&(r=r.filter(n=>n.targetUserId===e.targetUserId)),e.startDate){const n=new Date(e.startDate);r=r.filter(i=>new Date(i.timestamp)>=n)}if(e.endDate){const n=new Date(e.endDate);r=r.filter(i=>new Date(i.timestamp)<=n)}return r.sort((n,i)=>new Date(i.timestamp)-new Date(n.timestamp)),r}async createBackup(){if(!this.hasAdminPermission("backup_restore_data"))throw new Error("Insufficient permissions to create backup");const e={version:"1.0",timestamp:new Date().toISOString(),users:Array.from(ne.users.entries()),auditLogs:Array.from(this.auditLogs.entries()),verifierCredentials:Array.from(this.verifierCredentials.entries())};return this.logAuditEvent(zo.BACKUP_CREATED,{userCount:e.users.length,auditLogCount:e.auditLogs.length,credentialCount:e.verifierCredentials.length}),e}async restoreFromBackup(e,r={}){if(!this.hasAdminPermission("backup_restore_data"))throw new Error("Insufficient permissions to restore data");if(!e||!e.version)throw new Error("Invalid backup data");const{restoreUsers:n=!0,restoreAuditLogs:i=!0,restoreCredentials:s=!0}=r;try{return n&&e.users&&(ne.users=new Map(e.users),ne.saveToStorage()),i&&e.auditLogs&&(this.auditLogs=new Map(e.auditLogs)),s&&e.verifierCredentials&&(this.verifierCredentials=new Map(e.verifierCredentials)),this.saveToStorage(),this.logAuditEvent(zo.DATA_RESTORED,{backupTimestamp:e.timestamp,restoredUsers:n,restoredAuditLogs:i,restoredCredentials:s}),{success:!0}}catch(a){throw console.error("Failed to restore backup:",a),new Error("Failed to restore data from backup")}}getSystemStats(){if(!this.hasAdminPermission("manage_users"))throw new Error("Insufficient permissions to view system stats");const e=ne.getAllUsers(),r=e.reduce((i,s)=>(i[s.accountType]=(i[s.accountType]||0)+1,i),{}),n=e.filter(i=>i.accountType==="verifier"&&this.verifierCredentials.has(i.id)&&this.verifierCredentials.get(i.id).status==="active").length;return{totalUsers:e.length,roleCounts:r,activeVerifiers:n,totalAuditLogs:this.auditLogs.size,credentialsManaged:this.verifierCredentials.size}}validateVerifierCredentials(e){const r=this.verifierCredentials.get(e);return r?r.status!=="active"?{valid:!1,reason:"Credentials not active"}:new Date(r.validUntil)<=new Date?{valid:!1,reason:"Credentials expired"}:{valid:!0}:{valid:!1,reason:"No credentials found"}}}const fa=new kfe,Cfe=()=>{const[t,e]=p.useState("users"),[r,n]=p.useState([]),[i,s]=p.useState([]),[a,l]=p.useState({}),[c,u]=p.useState(!0),[d,f]=p.useState(""),[h,m]=p.useState(null),[g,x]=p.useState(!1),[w,y]=p.useState(!1),[v,b]=p.useState(!1);p.useEffect(()=>{if(!fa.isAdmin()){f("Access denied. Admin privileges required."),u(!1);return}j()},[]);const j=async()=>{try{u(!0);const[N,P,I]=await Promise.all([fa.getAllUsers(),fa.getAuditLogs(),fa.getSystemStats()]);n(N),s(P),l(I),f("")}catch(N){f(N.message)}finally{u(!1)}},A=async(N,P,I)=>{try{await fa.changeUserRole(N,P,I),await j(),x(!1),m(null)}catch(D){f(D.message)}},S=async(N,P)=>{try{await fa.assignVerifierCredentials(N,P),await j(),y(!1),m(null)}catch(I){f(I.message)}},C=async()=>{try{const N=await fa.createBackup(),P=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),I=URL.createObjectURL(P),D=document.createElement("a");D.href=I,D.download=`cblock-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(I),b(!1)}catch(N){f(N.message)}};return c?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-carbon-600"})}):d&&!fa.isAdmin()?o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:d})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Manage users, roles, and system settings"})]}),d&&o.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-800",children:d}),o.jsx("button",{onClick:()=>f(""),className:"mt-2 text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Users"}),o.jsx("p",{className:"text-3xl font-bold text-carbon-600",children:a.totalUsers||0})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Verifiers"}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.activeVerifiers||0})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Audit Logs"}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.totalAuditLogs||0})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Credentials"}),o.jsx("p",{className:"text-3xl font-bold text-purple-600",children:a.credentialsManaged||0})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"users",label:"User Management"},{id:"audit",label:"Audit Logs"},{id:"backup",label:"Backup & Recovery"}].map(N=>o.jsx("button",{onClick:()=>e(N.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${t===N.id?"border-carbon-500 text-carbon-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:N.label},N.id))})}),o.jsxs("div",{className:"p-6",children:[t==="users"&&o.jsx(Pfe,{users:r,onUserSelect:N=>{m(N),x(!0)},onCredentialsManage:N=>{m(N),y(!0)}}),t==="audit"&&o.jsx(Tfe,{auditLogs:i}),t==="backup"&&o.jsx(Ofe,{onBackup:()=>b(!0)})]})]})]}),o.jsx(Ife,{show:g,user:h,onClose:()=>{x(!1),m(null)},onRoleChange:A}),o.jsx(Dfe,{show:w,user:h,onClose:()=>{y(!1),m(null)},onUpdate:S}),o.jsx(Rfe,{show:v,onClose:()=>b(!1),onBackup:C})]})},Pfe=({users:t,onUserSelect:e,onCredentialsManage:r})=>{const[n,i]=p.useState(""),[s,a]=p.useState("all"),l=t.filter(c=>{const u=c.name.toLowerCase().includes(n.toLowerCase())||c.email.toLowerCase().includes(n.toLowerCase()),d=s==="all"||c.accountType===s;return u&&d});return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsx("div",{className:"flex-1",children:o.jsx("input",{type:"text",placeholder:"Search users...",value:n,onChange:c=>i(c.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500"})}),o.jsxs("select",{value:s,onChange:c=>a(c.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"individual",children:"Individual"}),o.jsx("option",{value:"business",children:"Business"}),o.jsx("option",{value:"verifier",children:"Verifier"}),o.jsx("option",{value:"admin",children:"Admin"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Activity"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(c=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:c.name}),o.jsx("div",{className:"text-sm text-gray-500",children:c.email})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c.accountType==="admin"?"bg-red-100 text-red-800":c.accountType==="verifier"?"bg-blue-100 text-blue-800":c.accountType==="business"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.accountType})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c.status==="active"?"bg-green-100 text-green-800":c.status==="pending_credentials"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:c.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(c.lastActivity).toLocaleDateString()}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[o.jsx("button",{onClick:()=>e(c),className:"text-carbon-600 hover:text-carbon-900 mr-3",children:"Manage"}),c.accountType==="verifier"&&o.jsx("button",{onClick:()=>r(c),className:"text-blue-600 hover:text-blue-900",children:"Credentials"})]})]},c.id))})]})})]})},Tfe=({auditLogs:t})=>{const[e,r]=p.useState("all"),[n,i]=p.useState("all"),s=t.filter(a=>{const l=e==="all"||a.type===e;let c=!0;if(n!=="all"){const u=new Date(a.timestamp),f=Math.floor((new Date-u)/(1e3*60*60*24));n==="7days"&&f>7&&(c=!1),n==="30days"&&f>30&&(c=!1)}return l&&c});return o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("select",{value:e,onChange:a=>r(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",children:[o.jsx("option",{value:"all",children:"All Types"}),Object.values(zo).map(a=>o.jsx("option",{value:a,children:a.replace("_"," ")},a))]}),o.jsxs("select",{value:n,onChange:a=>i(a.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",children:[o.jsx("option",{value:"all",children:"All Time"}),o.jsx("option",{value:"7days",children:"Last 7 Days"}),o.jsx("option",{value:"30days",children:"Last 30 Days"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(a=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.timestamp).toLocaleString()}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:a.type.replace("_"," ")})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.adminEmail}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:JSON.stringify(a.details,null,2)})]},a.id))})]})})]})},Ofe=({onBackup:t})=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Backup & Recovery"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Create backups of user data, audit logs, and verifier credentials. Backups are downloaded as JSON files that can be restored later."})]}),o.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[o.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Important Notes:"}),o.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[o.jsx("li",{children:"• Backups include sensitive user data - store securely"}),o.jsx("li",{children:"• Regular backups are recommended before major changes"}),o.jsx("li",{children:"• Restore operations will overwrite existing data"})]})]}),o.jsx("div",{className:"flex space-x-4",children:o.jsx("button",{onClick:t,className:"bg-carbon-600 text-white px-6 py-2 rounded-lg hover:bg-carbon-700 transition-colors",children:"Create Backup"})})]}),Ife=({show:t,user:e,onClose:r,onRoleChange:n})=>{const[i,s]=p.useState(""),[a,l]=p.useState("");p.useEffect(()=>{e&&(s(e.accountType),l(""))},[e]);const c=u=>{u.preventDefault(),i!==e.accountType?n(e.id,i,a):r()};return!t||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Manage User: ",e.name]}),o.jsxs("form",{onSubmit:c,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Current Role: ",e.accountType]}),o.jsxs("select",{value:i,onChange:u=>s(u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",children:[o.jsx("option",{value:"individual",children:"Individual"}),o.jsx("option",{value:"business",children:"Business"}),o.jsx("option",{value:"verifier",children:"Verifier"}),o.jsx("option",{value:"admin",children:"Admin"})]})]}),i!==e.accountType&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for Change"}),o.jsx("textarea",{value:a,onChange:u=>l(u.target.value),placeholder:"Enter reason for role change...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",rows:"3",required:!0})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-carbon-600 text-white py-2 px-4 rounded-md hover:bg-carbon-700 transition-colors",children:i!==e.accountType?"Update Role":"Close"}),o.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})})},Dfe=({show:t,user:e,onClose:r,onUpdate:n})=>{const[i,s]=p.useState({certificationId:"",issuingAuthority:"",validUntil:""});p.useEffect(()=>{e!=null&&e.verifierCredentials?s({certificationId:e.verifierCredentials.certificationId||"",issuingAuthority:e.verifierCredentials.issuingAuthority||"",validUntil:e.verifierCredentials.validUntil?e.verifierCredentials.validUntil.split("T")[0]:""}):s({certificationId:"",issuingAuthority:"",validUntil:""})},[e]);const a=l=>{l.preventDefault(),n(e.id,i)};return!t||!e?null:o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Manage Verifier Credentials: ",e.name]}),o.jsxs("form",{onSubmit:a,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certification ID"}),o.jsx("input",{type:"text",value:i.certificationId,onChange:l=>s({...i,certificationId:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Issuing Authority"}),o.jsx("input",{type:"text",value:i.issuingAuthority,onChange:l=>s({...i,issuingAuthority:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until"}),o.jsx("input",{type:"date",value:i.validUntil,onChange:l=>s({...i,validUntil:l.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-carbon-500",required:!0})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"submit",className:"flex-1 bg-carbon-600 text-white py-2 px-4 rounded-md hover:bg-carbon-700 transition-colors",children:"Update Credentials"}),o.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]})})},Rfe=({show:t,onClose:e,onBackup:r})=>t?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create Data Backup"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"This will create a backup file containing all user data, audit logs, and verifier credentials."}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-yellow-800",children:[o.jsx("strong",{children:"Warning:"})," The backup file contains sensitive data. Store it securely."]})})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{onClick:r,className:"flex-1 bg-carbon-600 text-white py-2 px-4 rounded-md hover:bg-carbon-700 transition-colors",children:"Create Backup"}),o.jsx("button",{onClick:e,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})}):null;function Mfe(){console.log("App component rendering");const[t,e]=p.useState(null),[r,n]=p.useState(null),[i,s]=p.useState("welcome"),[a,l]=p.useState("dashboard"),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(1),[g,x]=p.useState(!0),[w,y]=p.useState(null);p.useEffect(()=>(console.log("useEffect triggered"),v(),b(),window.ethereum&&(window.ethereum.on("accountsChanged",D=>{D.length>0?n(D[0]):n(null)}),window.ethereum.on("chainChanged",()=>{window.location.reload()})),()=>{window.ethereum&&(window.ethereum.removeAllListeners("accountsChanged"),window.ethereum.removeAllListeners("chainChanged"))}),[]);const v=async()=>{console.log("checkUserSession called"),x(!0);try{const D=ne.initializeSession();if(console.log("sessionUser:",D),D&&(e(D),s("app"),Tt.welcomeMessage(D.accountType||"individual",D.firstName||"User"),D.walletAddress))try{await ce.initialize(),console.log("blockchainService initialized")}catch(B){console.warn("Failed to initialize blockchain service:",B.message),Cr.handleBlockchainError(B,"blockchain_initialization",{userRole:D.accountType,component:"App",retryAction:()=>ce.initialize()})}y(null)}catch(D){console.error("Failed to check user session:",D);const B=Cr.handleError(D,{operation:"session_initialization",component:"App",userRole:"guest"},{showToast:!0,showRetry:!0,retryAction:v});y(B)}finally{x(!1)}},b=async()=>{if(console.log("checkWalletConnection called"),console.log("window.ethereum:",window.ethereum),window.ethereum)try{const D=await window.ethereum.request({method:"eth_accounts"});console.log("accounts:",D),D.length>0&&n(D[0])}catch(D){console.error("Error checking wallet connection:",D)}else console.log("window.ethereum not available")},j=async()=>{const D=ne.getCurrentUser(),B=(D==null?void 0:D.accountType)||"guest";try{Tt.loading("Connecting wallet...",{id:"wallet-connection",roleSpecific:!0,operation:"wallet_connection"});let V;return ne.isUserAuthenticated()?(V=await ne.connectWallet(),n(V.address),Tt.success(`Wallet connected successfully! Address: ${V.address.slice(0,6)}...${V.address.slice(-4)}`,{id:"wallet-connection",roleSpecific:!0,operation:"wallet_connection",duration:5e3})):(V=await ce.connectWallet(),n(V.address),Tt.info("Wallet connected. Please log in to save wallet to your profile.",{id:"wallet-connection",roleSpecific:!0,operation:"wallet_connection"})),V.address}catch(V){throw console.error("Failed to connect wallet:",V),Cr.handleBlockchainError(V,"wallet_connection",{userRole:B,component:"App",retryAction:j}),V}},A=async D=>{try{if(e(D),s("app"),Tt.welcomeMessage(D.accountType||"individual",D.firstName||"User"),D.walletAddress)try{await ce.initialize()}catch(B){console.warn("Failed to initialize blockchain service:",B.message),Cr.handleBlockchainError(B,"blockchain_initialization",{userRole:D.accountType,component:"App",retryAction:()=>ce.initialize()})}}catch(B){Cr.handleError(B,{operation:"user_login",component:"App",userRole:(D==null?void 0:D.accountType)||"guest"},{showToast:!0,showRetry:!1})}},S=()=>{try{ne.logout(),e(null),n(null),s("welcome"),l("dashboard"),Tt.info("You have been logged out successfully",{duration:3e3})}catch(D){Cr.handleError(D,{operation:"user_logout",component:"App"},{showToast:!0,showRetry:!1})}},C=()=>{u(null),f(null),m(1)},N=D=>{f(D),m(3)},P=D=>{u(D),m(2)},I=()=>{switch(console.log("renderCurrentPage called, currentPage:",a),a){case"dashboard":return o.jsx(eT,{walletAddress:r,onPageChange:l});case"tokens":return o.jsx(Io,{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER],requiredPermissions:[kr.VIEW_CREDITS],user:t,children:o.jsx(ffe,{onShow:l})});case"verifierDashboard":return o.jsx(Io,{allowedRoles:[ue.VERIFIER],requiredPermissions:[kr.VIEW_VERIFIER_DASHBOARD,kr.VIEW_ALL_DOCUMENTS],user:t,children:o.jsx(jfe,{})});case"mint":return o.jsx(Io,{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS],requiredPermissions:[kr.UPLOAD_DOCUMENT],user:t,children:o.jsx(Lfe,{mintStep:h,uploaded:c,signed:d,onReset:C,onUploaded:P,onSigned:N,user:t})});case"upload":return o.jsx(Io,{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS],requiredPermissions:[kr.UPLOAD_DOCUMENT],user:t,children:o.jsx(CA,{user:t,onNavigate:l})});case"mintCredits":return l("upload"),null;case"portfolio":return o.jsx(Io,{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER],requiredPermissions:[kr.VIEW_CREDITS],user:t,children:o.jsx(tT,{children:o.jsx(xfe,{onNavigate:l})})});case"market":return o.jsx(hfe,{onShow:l});case"retire":return o.jsx(Io,{allowedRoles:[ue.INDIVIDUAL,ue.BUSINESS,ue.VERIFIER],requiredPermissions:[kr.VIEW_CREDITS],user:t,children:o.jsx(mfe,{})});case"analytics":return o.jsx(ufe,{walletAddress:r});case"settings":return o.jsx(dfe,{user:t,onLogout:S});case"admin":return o.jsx(Io,{allowedRoles:["admin"],requiredPermissions:["view_admin_dashboard"],user:t,children:o.jsx(Cfe,{})});case"mintWorkflow":return o.jsx(vfe,{});case"carbonPortfolio":return o.jsx(bfe,{walletAddress:r});default:return o.jsx(eT,{walletAddress:r,onPageChange:l})}};return g?o.jsxs(o.Fragment,{children:[o.jsx(rv,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",borderRadius:"12px"}}}),o.jsx(V4,{show:!0,message:"Initializing application...",userRole:(t==null?void 0:t.accountType)||"guest",operation:"app_initialization"})]}):(console.log("Rendering auth flow, user:",t,"currentView:",i),!t||i!=="app"?o.jsxs(Ii,{componentName:"AuthFlow",context:{currentView:i},children:[o.jsx(rv,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",borderRadius:"12px"}}}),o.jsxs(Ft,{mode:"wait",children:[i==="welcome"&&o.jsx(Ii,{componentName:"Welcome",children:o.jsx(LY,{onShowAuth:s})}),i==="login"&&o.jsx(Ii,{componentName:"Login",children:o.jsx(_Y,{onShowAuth:s,onLogin:A})}),i==="signup"&&o.jsx(Ii,{componentName:"Signup",children:o.jsx(BY,{onShowAuth:s,onLogin:A})})]})]}):(console.log("Rendering main app, user:",t,"currentView:",i),o.jsx(Ii,{componentName:"MainApp",context:{user:t,currentPage:a},children:o.jsx(hY,{children:o.jsxs(tT,{children:[o.jsx(rv,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",borderRadius:"12px"}}}),o.jsx(Ii,{componentName:"Layout",context:{currentPage:a,user:t},children:o.jsx(RY,{currentPage:a,onPageChange:l,walletAddress:r,onConnectWallet:j,user:t,onLogout:S,children:o.jsx(Ii,{componentName:"RoleBasedRouter",context:{user:t,currentPage:a},children:o.jsx(SY,{user:t,currentPage:a,onPageChange:l,children:o.jsx(Ii,{componentName:`Page-${a}`,context:{currentPage:a,user:t},children:I()})})})})})]})})})))}function Lfe({mintStep:t,uploaded:e,signed:r,onReset:n,onUploaded:i,onSigned:s,user:a}){const l=[{id:1,title:"Upload Document",description:"Upload project documentation to IPFS",icon:"📄",completed:!!e},{id:2,title:"Sign Attestation",description:"Verifier signs the EIP-712 attestation",icon:"✍️",completed:!!r},{id:3,title:"Mint Tokens",description:"Create carbon credit tokens on blockchain",icon:"🪙",completed:!1}];return o.jsxs("div",{className:"p-4 sm:p-8 max-w-6xl mx-auto",children:[o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:"🌱"})}),o.jsx("h1",{className:"text-4xl font-bold text-carbon-900",children:"Mint Carbon Credits"})]}),o.jsx("p",{className:"text-lg text-carbon-600 max-w-2xl mx-auto",children:"Transform your environmental impact projects into verified carbon credits through our secure, blockchain-based minting process."})]}),o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute top-8 left-0 right-0 h-0.5 bg-carbon-200",children:o.jsx(R.div,{className:"h-full bg-primary-500",initial:{width:"0%"},animate:{width:`${(t-1)/2*100}%`},transition:{duration:.5}})}),o.jsx("div",{className:"relative flex justify-between",children:l.map((c,u)=>{const d=t>=c.id,f=c.completed;return o.jsxs(R.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1+u*.1},className:"flex flex-col items-center max-w-xs",children:[o.jsxs("div",{className:`relative w-16 h-16 rounded-full border-4 flex items-center justify-center text-2xl transition-all duration-300 ${f?"bg-green-100 border-green-500 text-green-600":d?"bg-primary-100 border-primary-500 text-primary-600":"bg-white border-carbon-300 text-carbon-400"}`,children:[f?o.jsx($e,{className:"w-8 h-8 text-green-600"}):o.jsx("span",{children:c.icon}),o.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full text-xs font-bold flex items-center justify-center ${d?"bg-primary-500 text-white":"bg-carbon-300 text-white"}`,children:c.id})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("h3",{className:`text-sm font-semibold ${d?"text-primary-700":"text-carbon-600"}`,children:c.title}),o.jsx("p",{className:`text-xs mt-1 max-w-32 ${d?"text-primary-600":"text-carbon-500"}`,children:c.description}),f&&o.jsx(R.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"mt-2",children:o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"✓ Completed"})})]})]},c.id)})})]}),o.jsx("div",{className:"flex justify-center mt-8",children:o.jsxs(R.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"btn-secondary inline-flex items-center space-x-2",children:[o.jsx(Re,{className:"w-4 h-4"}),o.jsx("span",{children:"Reset Process"})]})})]}),o.jsx("div",{className:"space-y-8",children:o.jsxs(Ft,{mode:"wait",children:[t>=1&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 to-blue-600"}),o.jsx(CA,{onUploaded:i,user:a})]},"step1"),t>=2&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-400 to-purple-600"}),o.jsx(lB,{uploadedData:e,onSigned:s,uploaderAddress:e==null?void 0:e.uploaderAddress})]},"step2"),t>=3&&o.jsxs(R.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.2},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-400 to-green-600"}),o.jsx(cB,{signedData:r})]},"step3")]})})]})}y3(document.getElementById("root")).render(o.jsx(Mfe,{}));export{ne as a,Y as c};
//# sourceMappingURL=index-CuX443dt.js.map
