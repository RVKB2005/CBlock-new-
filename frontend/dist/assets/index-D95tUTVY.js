var c7=Object.defineProperty;var Ij=t=>{throw TypeError(t)};var u7=(t,e,r)=>e in t?c7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var U=(t,e,r)=>u7(t,typeof e!="symbol"?e+"":e,r),p1=(t,e,r)=>e.has(t)||Ij("Cannot "+r);var A=(t,e,r)=>(p1(t,e,"read from private field"),r?r.call(t):e.get(t)),H=(t,e,r)=>e.has(t)?Ij("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),O=(t,e,r,n)=>(p1(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),q=(t,e,r)=>(p1(t,e,"access private method"),r);var Bd=(t,e,r,n)=>({set _(i){O(t,e,i,r)},get _(){return A(t,e,n)}});function d7(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Zi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rP={exports:{}},Dg={},nP={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0=Symbol.for("react.element"),f7=Symbol.for("react.portal"),h7=Symbol.for("react.fragment"),m7=Symbol.for("react.strict_mode"),p7=Symbol.for("react.profiler"),g7=Symbol.for("react.provider"),y7=Symbol.for("react.context"),x7=Symbol.for("react.forward_ref"),v7=Symbol.for("react.suspense"),b7=Symbol.for("react.memo"),w7=Symbol.for("react.lazy"),Dj=Symbol.iterator;function j7(t){return t===null||typeof t!="object"?null:(t=Dj&&t[Dj]||t["@@iterator"],typeof t=="function"?t:null)}var iP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sP=Object.assign,aP={};function jd(t,e,r){this.props=t,this.context=e,this.refs=aP,this.updater=r||iP}jd.prototype.isReactComponent={};jd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function oP(){}oP.prototype=jd.prototype;function Uw(t,e,r){this.props=t,this.context=e,this.refs=aP,this.updater=r||iP}var $w=Uw.prototype=new oP;$w.constructor=Uw;sP($w,jd.prototype);$w.isPureReactComponent=!0;var Rj=Array.isArray,lP=Object.prototype.hasOwnProperty,Vw={current:null},cP={key:!0,ref:!0,__self:!0,__source:!0};function uP(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)lP.call(e,n)&&!cP.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:V0,type:t,key:s,ref:a,props:i,_owner:Vw.current}}function N7(t,e){return{$$typeof:V0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zw(t){return typeof t=="object"&&t!==null&&t.$$typeof===V0}function A7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Mj=/\/+/g;function g1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A7(""+t.key):e.toString(36)}function pm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case V0:case f7:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+g1(a,0):n,Rj(i)?(r="",t!=null&&(r=t.replace(Mj,"$&/")+"/"),pm(i,e,r,"",function(u){return u})):i!=null&&(zw(i)&&(i=N7(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Mj,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Rj(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+g1(s,l);a+=pm(s,e,r,c,i)}else if(c=j7(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+g1(s,l++),a+=pm(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function jh(t,e,r){if(t==null)return t;var n=[],i=0;return pm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function E7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mr={current:null},gm={transition:null},S7={ReactCurrentDispatcher:Mr,ReactCurrentBatchConfig:gm,ReactCurrentOwner:Vw};function dP(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:jh,forEach:function(t,e,r){jh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return jh(t,function(){e++}),e},toArray:function(t){return jh(t,function(e){return e})||[]},only:function(t){if(!zw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=jd;Ae.Fragment=h7;Ae.Profiler=p7;Ae.PureComponent=Uw;Ae.StrictMode=m7;Ae.Suspense=v7;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S7;Ae.act=dP;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=sP({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Vw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lP.call(e,c)&&!cP.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:V0,type:t.type,key:i,ref:s,props:n,_owner:a}};Ae.createContext=function(t){return t={$$typeof:y7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g7,_context:t},t.Consumer=t};Ae.createElement=uP;Ae.createFactory=function(t){var e=uP.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:x7,render:t}};Ae.isValidElement=zw;Ae.lazy=function(t){return{$$typeof:w7,_payload:{_status:-1,_result:t},_init:E7}};Ae.memo=function(t,e){return{$$typeof:b7,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=gm.transition;gm.transition={};try{t()}finally{gm.transition=e}};Ae.unstable_act=dP;Ae.useCallback=function(t,e){return Mr.current.useCallback(t,e)};Ae.useContext=function(t){return Mr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Mr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Mr.current.useEffect(t,e)};Ae.useId=function(){return Mr.current.useId()};Ae.useImperativeHandle=function(t,e,r){return Mr.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return Mr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Mr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Mr.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return Mr.current.useReducer(t,e,r)};Ae.useRef=function(t){return Mr.current.useRef(t)};Ae.useState=function(t){return Mr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return Mr.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return Mr.current.useTransition()};Ae.version="18.3.1";nP.exports=Ae;var p=nP.exports;const Nd=Zi(p),k7=d7({__proto__:null,default:Nd},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P7=p,C7=Symbol.for("react.element"),T7=Symbol.for("react.fragment"),O7=Object.prototype.hasOwnProperty,I7=P7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D7={key:!0,ref:!0,__self:!0,__source:!0};function fP(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)O7.call(e,n)&&!D7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:C7,type:t,key:s,ref:a,props:i,_owner:I7.current}}Dg.Fragment=T7;Dg.jsx=fP;Dg.jsxs=fP;rP.exports=Dg;var o=rP.exports,hP={exports:{}},Nn={},mP={exports:{}},pP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var W=P.length;P.push(L);e:for(;0<W;){var $=W-1>>>1,G=P[$];if(0<i(G,L))P[$]=L,P[W]=G,W=$;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],W=P.pop();if(W!==L){P[0]=W;e:for(var $=0,G=P.length,fe=G>>>1;$<fe;){var pe=2*($+1)-1,ne=P[pe],ye=pe+1,Le=P[ye];if(0>i(ne,W))ye<G&&0>i(Le,ne)?(P[$]=Le,P[ye]=W,$=ye):(P[$]=ne,P[pe]=W,$=pe);else if(ye<G&&0>i(Le,W))P[$]=Le,P[ye]=W,$=ye;else break e}}return L}function i(P,L){var W=P.sortIndex-L.sortIndex;return W!==0?W:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(u)}}function j(P){if(y=!1,b(P),!g)if(r(c)!==null)g=!0,M(E);else{var L=r(u);L!==null&&F(j,L.startTime-P)}}function E(P,L){g=!1,y&&(y=!1,x(N),N=-1),m=!0;var W=h;try{for(b(L),f=r(c);f!==null&&(!(f.expirationTime>L)||P&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,h=f.priorityLevel;var G=$(f.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(L)}else n(c);f=r(c)}if(f!==null)var fe=!0;else{var pe=r(u);pe!==null&&F(j,pe.startTime-L),fe=!1}return fe}finally{f=null,h=W,m=!1}}var S=!1,k=null,N=-1,C=5,R=-1;function D(){return!(t.unstable_now()-R<C)}function B(){if(k!==null){var P=t.unstable_now();R=P;var L=!0;try{L=k(!0,P)}finally{L?z():(S=!1,k=null)}}else S=!1}var z;if(typeof v=="function")z=function(){v(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,T=Q.port2;Q.port1.onmessage=B,z=function(){T.postMessage(null)}}else z=function(){w(B,0)};function M(P){k=P,S||(S=!0,z())}function F(P,L){N=w(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,M(E))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var W=h;h=L;try{return P()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=h;h=P;try{return L()}finally{h=W}},t.unstable_scheduleCallback=function(P,L,W){var $=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?$+W:$):W=$,P){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=W+G,P={id:d++,callback:L,priorityLevel:P,startTime:W,expirationTime:G,sortIndex:-1},W>$?(P.sortIndex=W,e(u,P),r(c)===null&&P===r(u)&&(y?(x(N),N=-1):y=!0,F(j,W-$))):(P.sortIndex=G,e(c,P),g||m||(g=!0,M(E))),P},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(P){var L=h;return function(){var W=h;h=L;try{return P.apply(this,arguments)}finally{h=W}}}})(pP);mP.exports=pP;var R7=mP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7=p,gn=R7;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gP=new Set,Ff={};function tc(t,e){Ku(t,e),Ku(t+"Capture",e)}function Ku(t,e){for(Ff[t]=e,t=0;t<e.length;t++)gP.add(e[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zx=Object.prototype.hasOwnProperty,L7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lj={},_j={};function _7(t){return Zx.call(_j,t)?!0:Zx.call(Lj,t)?!1:L7.test(t)?_j[t]=!0:(Lj[t]=!0,!1)}function B7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F7(t,e,r,n){if(e===null||typeof e>"u"||B7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){or[t]=new Lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];or[e]=new Lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){or[t]=new Lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){or[t]=new Lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){or[t]=new Lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){or[t]=new Lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){or[t]=new Lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){or[t]=new Lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){or[t]=new Lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hw=/[\-:]([a-z])/g;function Ww(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hw,Ww);or[e]=new Lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hw,Ww);or[e]=new Lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hw,Ww);or[e]=new Lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){or[t]=new Lr(t,1,!1,t.toLowerCase(),null,!1,!1)});or.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){or[t]=new Lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gw(t,e,r,n){var i=or.hasOwnProperty(e)?or[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F7(e,r,i,n)&&(r=null),n||i===null?_7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ys=M7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),jc=Symbol.for("react.portal"),Nc=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),yP=Symbol.for("react.provider"),xP=Symbol.for("react.context"),Qw=Symbol.for("react.forward_ref"),tv=Symbol.for("react.suspense"),rv=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),fa=Symbol.for("react.lazy"),vP=Symbol.for("react.offscreen"),Bj=Symbol.iterator;function Fd(t){return t===null||typeof t!="object"?null:(t=Bj&&t[Bj]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,y1;function cf(t){if(y1===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);y1=e&&e[1]||""}return`
`+y1+t}var x1=!1;function v1(t,e){if(!t||x1)return"";x1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{x1=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cf(t):""}function U7(t){switch(t.tag){case 5:return cf(t.type);case 16:return cf("Lazy");case 13:return cf("Suspense");case 19:return cf("SuspenseList");case 0:case 2:case 15:return t=v1(t.type,!1),t;case 11:return t=v1(t.type.render,!1),t;case 1:return t=v1(t.type,!0),t;default:return""}}function nv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nc:return"Fragment";case jc:return"Portal";case ev:return"Profiler";case Kw:return"StrictMode";case tv:return"Suspense";case rv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xP:return(t.displayName||"Context")+".Consumer";case yP:return(t._context.displayName||"Context")+".Provider";case Qw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yw:return e=t.displayName||null,e!==null?e:nv(t.type)||"Memo";case fa:e=t._payload,t=t._init;try{return nv(t(e))}catch{}}return null}function $7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nv(e);case 8:return e===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V7(t){var e=bP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ah(t){t._valueTracker||(t._valueTracker=V7(t))}function wP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iv(t,e){var r=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Fj(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=to(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jP(t,e){e=e.checked,e!=null&&Gw(t,"checked",e,!1)}function sv(t,e){jP(t,e);var r=to(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?av(t,e.type,r):e.hasOwnProperty("defaultValue")&&av(t,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uj(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function av(t,e,r){(e!=="number"||Gm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var uf=Array.isArray;function Qc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+to(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ov(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $j(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(uf(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:to(r)}}function NP(t,e){var r=to(e.value),n=to(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Vj(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eh,EP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eh=Eh||document.createElement("div"),Eh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z7=["Webkit","ms","Moz","O"];Object.keys(wf).forEach(function(t){z7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wf[e]=wf[t]})});function SP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wf.hasOwnProperty(t)&&wf[t]?(""+e).trim():e+"px"}function kP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=SP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var H7=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cv(t,e){if(e){if(H7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function uv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dv=null;function qw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fv=null,Yc=null,qc=null;function zj(t){if(t=W0(t)){if(typeof fv!="function")throw Error(J(280));var e=t.stateNode;e&&(e=Bg(e),fv(t.stateNode,t.type,e))}}function PP(t){Yc?qc?qc.push(t):qc=[t]:Yc=t}function CP(){if(Yc){var t=Yc,e=qc;if(qc=Yc=null,zj(t),e)for(t=0;t<e.length;t++)zj(e[t])}}function TP(t,e){return t(e)}function OP(){}var b1=!1;function IP(t,e,r){if(b1)return t(e,r);b1=!0;try{return TP(t,e,r)}finally{b1=!1,(Yc!==null||qc!==null)&&(OP(),CP())}}function $f(t,e){var r=t.stateNode;if(r===null)return null;var n=Bg(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var hv=!1;if(Ls)try{var Ud={};Object.defineProperty(Ud,"passive",{get:function(){hv=!0}}),window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{hv=!1}function W7(t,e,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var jf=!1,Km=null,Qm=!1,mv=null,G7={onError:function(t){jf=!0,Km=t}};function K7(t,e,r,n,i,s,a,l,c){jf=!1,Km=null,W7.apply(G7,arguments)}function Q7(t,e,r,n,i,s,a,l,c){if(K7.apply(this,arguments),jf){if(jf){var u=Km;jf=!1,Km=null}else throw Error(J(198));Qm||(Qm=!0,mv=u)}}function rc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function DP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hj(t){if(rc(t)!==t)throw Error(J(188))}function Y7(t){var e=t.alternate;if(!e){if(e=rc(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Hj(i),t;if(s===n)return Hj(i),e;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function RP(t){return t=Y7(t),t!==null?MP(t):null}function MP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MP(t);if(e!==null)return e;t=t.sibling}return null}var LP=gn.unstable_scheduleCallback,Wj=gn.unstable_cancelCallback,q7=gn.unstable_shouldYield,X7=gn.unstable_requestPaint,wt=gn.unstable_now,J7=gn.unstable_getCurrentPriorityLevel,Xw=gn.unstable_ImmediatePriority,_P=gn.unstable_UserBlockingPriority,Ym=gn.unstable_NormalPriority,Z7=gn.unstable_LowPriority,BP=gn.unstable_IdlePriority,Rg=null,Wi=null;function eL(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Rg,t,void 0,(t.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:nL,tL=Math.log,rL=Math.LN2;function nL(t){return t>>>=0,t===0?32:31-(tL(t)/rL|0)|0}var Sh=64,kh=4194304;function df(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qm(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=df(l):(s&=a,s!==0&&(n=df(s)))}else a=r&~i,a!==0?n=df(a):s!==0&&(n=df(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vi(e),i=1<<r,n|=t[r],e&=~i;return n}function iL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sL(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-vi(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=iL(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function pv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FP(){var t=Sh;return Sh<<=1,!(Sh&4194240)&&(Sh=64),t}function w1(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function z0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vi(e),t[e]=r}function aL(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Jw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Be=0;function UP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $P,Zw,VP,zP,HP,gv=!1,Ph=[],Va=null,za=null,Ha=null,Vf=new Map,zf=new Map,ya=[],oL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gj(t,e){switch(t){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Vf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zf.delete(e.pointerId)}}function $d(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=W0(e),e!==null&&Zw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lL(t,e,r,n,i){switch(e){case"focusin":return Va=$d(Va,t,e,r,n,i),!0;case"dragenter":return za=$d(za,t,e,r,n,i),!0;case"mouseover":return Ha=$d(Ha,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Vf.set(s,$d(Vf.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zf.set(s,$d(zf.get(s)||null,t,e,r,n,i)),!0}return!1}function WP(t){var e=Ko(t.target);if(e!==null){var r=rc(e);if(r!==null){if(e=r.tag,e===13){if(e=DP(r),e!==null){t.blockedOn=e,HP(t.priority,function(){VP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ym(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=yv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);dv=n,r.target.dispatchEvent(n),dv=null}else return e=W0(r),e!==null&&Zw(e),t.blockedOn=r,!1;e.shift()}return!0}function Kj(t,e,r){ym(t)&&r.delete(e)}function cL(){gv=!1,Va!==null&&ym(Va)&&(Va=null),za!==null&&ym(za)&&(za=null),Ha!==null&&ym(Ha)&&(Ha=null),Vf.forEach(Kj),zf.forEach(Kj)}function Vd(t,e){t.blockedOn===e&&(t.blockedOn=null,gv||(gv=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,cL)))}function Hf(t){function e(i){return Vd(i,t)}if(0<Ph.length){Vd(Ph[0],t);for(var r=1;r<Ph.length;r++){var n=Ph[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Va!==null&&Vd(Va,t),za!==null&&Vd(za,t),Ha!==null&&Vd(Ha,t),Vf.forEach(e),zf.forEach(e),r=0;r<ya.length;r++)n=ya[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ya.length&&(r=ya[0],r.blockedOn===null);)WP(r),r.blockedOn===null&&ya.shift()}var Xc=Ys.ReactCurrentBatchConfig,Xm=!0;function uL(t,e,r,n){var i=Be,s=Xc.transition;Xc.transition=null;try{Be=1,e2(t,e,r,n)}finally{Be=i,Xc.transition=s}}function dL(t,e,r,n){var i=Be,s=Xc.transition;Xc.transition=null;try{Be=4,e2(t,e,r,n)}finally{Be=i,Xc.transition=s}}function e2(t,e,r,n){if(Xm){var i=yv(t,e,r,n);if(i===null)O1(t,e,n,Jm,r),Gj(t,n);else if(lL(i,t,e,r,n))n.stopPropagation();else if(Gj(t,n),e&4&&-1<oL.indexOf(t)){for(;i!==null;){var s=W0(i);if(s!==null&&$P(s),s=yv(t,e,r,n),s===null&&O1(t,e,n,Jm,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else O1(t,e,n,null,r)}}var Jm=null;function yv(t,e,r,n){if(Jm=null,t=qw(n),t=Ko(t),t!==null)if(e=rc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=DP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jm=t,null}function GP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J7()){case Xw:return 1;case _P:return 4;case Ym:case Z7:return 16;case BP:return 536870912;default:return 16}default:return 16}}var Fa=null,t2=null,xm=null;function KP(){if(xm)return xm;var t,e=t2,r=e.length,n,i="value"in Fa?Fa.value:Fa.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return xm=i.slice(t,1<n?1-n:void 0)}function vm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ch(){return!0}function Qj(){return!1}function An(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ch:Qj,this.isPropagationStopped=Qj,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),e}var Ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r2=An(Ad),H0=ht({},Ad,{view:0,detail:0}),fL=An(H0),j1,N1,zd,Mg=ht({},H0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zd&&(zd&&t.type==="mousemove"?(j1=t.screenX-zd.screenX,N1=t.screenY-zd.screenY):N1=j1=0,zd=t),j1)},movementY:function(t){return"movementY"in t?t.movementY:N1}}),Yj=An(Mg),hL=ht({},Mg,{dataTransfer:0}),mL=An(hL),pL=ht({},H0,{relatedTarget:0}),A1=An(pL),gL=ht({},Ad,{animationName:0,elapsedTime:0,pseudoElement:0}),yL=An(gL),xL=ht({},Ad,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vL=An(xL),bL=ht({},Ad,{data:0}),qj=An(bL),wL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NL[t])?!!e[t]:!1}function n2(){return AL}var EL=ht({},H0,{key:function(t){if(t.key){var e=wL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n2,charCode:function(t){return t.type==="keypress"?vm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SL=An(EL),kL=ht({},Mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xj=An(kL),PL=ht({},H0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n2}),CL=An(PL),TL=ht({},Ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),OL=An(TL),IL=ht({},Mg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DL=An(IL),RL=[9,13,27,32],i2=Ls&&"CompositionEvent"in window,Nf=null;Ls&&"documentMode"in document&&(Nf=document.documentMode);var ML=Ls&&"TextEvent"in window&&!Nf,QP=Ls&&(!i2||Nf&&8<Nf&&11>=Nf),Jj=" ",Zj=!1;function YP(t,e){switch(t){case"keyup":return RL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ac=!1;function LL(t,e){switch(t){case"compositionend":return qP(e);case"keypress":return e.which!==32?null:(Zj=!0,Jj);case"textInput":return t=e.data,t===Jj&&Zj?null:t;default:return null}}function _L(t,e){if(Ac)return t==="compositionend"||!i2&&YP(t,e)?(t=KP(),xm=t2=Fa=null,Ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QP&&e.locale!=="ko"?null:e.data;default:return null}}var BL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BL[t.type]:e==="textarea"}function XP(t,e,r,n){PP(n),e=Zm(e,"onChange"),0<e.length&&(r=new r2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Af=null,Wf=null;function FL(t){lC(t,0)}function Lg(t){var e=kc(t);if(wP(e))return t}function UL(t,e){if(t==="change")return e}var JP=!1;if(Ls){var E1;if(Ls){var S1="oninput"in document;if(!S1){var tN=document.createElement("div");tN.setAttribute("oninput","return;"),S1=typeof tN.oninput=="function"}E1=S1}else E1=!1;JP=E1&&(!document.documentMode||9<document.documentMode)}function rN(){Af&&(Af.detachEvent("onpropertychange",ZP),Wf=Af=null)}function ZP(t){if(t.propertyName==="value"&&Lg(Wf)){var e=[];XP(e,Wf,t,qw(t)),IP(FL,e)}}function $L(t,e,r){t==="focusin"?(rN(),Af=e,Wf=r,Af.attachEvent("onpropertychange",ZP)):t==="focusout"&&rN()}function VL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lg(Wf)}function zL(t,e){if(t==="click")return Lg(e)}function HL(t,e){if(t==="input"||t==="change")return Lg(e)}function WL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wi=typeof Object.is=="function"?Object.is:WL;function Gf(t,e){if(wi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Zx.call(e,i)||!wi(t[i],e[i]))return!1}return!0}function nN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iN(t,e){var r=nN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nN(r)}}function eC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tC(){for(var t=window,e=Gm();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Gm(t.document)}return e}function s2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GL(t){var e=tC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eC(r.ownerDocument.documentElement,r)){if(n!==null&&s2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=iN(r,s);var a=iN(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KL=Ls&&"documentMode"in document&&11>=document.documentMode,Ec=null,xv=null,Ef=null,vv=!1;function sN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vv||Ec==null||Ec!==Gm(n)||(n=Ec,"selectionStart"in n&&s2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ef&&Gf(Ef,n)||(Ef=n,n=Zm(xv,"onSelect"),0<n.length&&(e=new r2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ec)))}function Th(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sc={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},k1={},rC={};Ls&&(rC=document.createElement("div").style,"AnimationEvent"in window||(delete Sc.animationend.animation,delete Sc.animationiteration.animation,delete Sc.animationstart.animation),"TransitionEvent"in window||delete Sc.transitionend.transition);function _g(t){if(k1[t])return k1[t];if(!Sc[t])return t;var e=Sc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rC)return k1[t]=e[r];return t}var nC=_g("animationend"),iC=_g("animationiteration"),sC=_g("animationstart"),aC=_g("transitionend"),oC=new Map,aN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function go(t,e){oC.set(t,e),tc(e,[t])}for(var P1=0;P1<aN.length;P1++){var C1=aN[P1],QL=C1.toLowerCase(),YL=C1[0].toUpperCase()+C1.slice(1);go(QL,"on"+YL)}go(nC,"onAnimationEnd");go(iC,"onAnimationIteration");go(sC,"onAnimationStart");go("dblclick","onDoubleClick");go("focusin","onFocus");go("focusout","onBlur");go(aC,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ff));function oN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Q7(n,e,void 0,t),t.currentTarget=null}function lC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;oN(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;oN(i,l,u),s=c}}}if(Qm)throw t=mv,Qm=!1,mv=null,t}function Ze(t,e){var r=e[Av];r===void 0&&(r=e[Av]=new Set);var n=t+"__bubble";r.has(n)||(cC(e,t,2,!1),r.add(n))}function T1(t,e,r){var n=0;e&&(n|=4),cC(r,t,n,e)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Kf(t){if(!t[Oh]){t[Oh]=!0,gP.forEach(function(r){r!=="selectionchange"&&(qL.has(r)||T1(r,!1,t),T1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oh]||(e[Oh]=!0,T1("selectionchange",!1,e))}}function cC(t,e,r,n){switch(GP(e)){case 1:var i=uL;break;case 4:i=dL;break;default:i=e2}r=i.bind(null,e,r,t),i=void 0,!hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function O1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ko(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}IP(function(){var u=s,d=qw(r),f=[];e:{var h=oC.get(t);if(h!==void 0){var m=r2,g=t;switch(t){case"keypress":if(vm(r)===0)break e;case"keydown":case"keyup":m=SL;break;case"focusin":g="focus",m=A1;break;case"focusout":g="blur",m=A1;break;case"beforeblur":case"afterblur":m=A1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Yj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=mL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CL;break;case nC:case iC:case sC:m=yL;break;case aC:m=OL;break;case"scroll":m=fL;break;case"wheel":m=DL;break;case"copy":case"cut":case"paste":m=vL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Xj}var y=(e&4)!==0,w=!y&&t==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,x!==null&&(j=$f(v,x),j!=null&&y.push(Qf(v,j,b)))),w)break;v=v.return}0<y.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&r!==dv&&(g=r.relatedTarget||r.fromElement)&&(Ko(g)||g[_s]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Ko(g):null,g!==null&&(w=rc(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Yj,j="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=Xj,j="onPointerLeave",x="onPointerEnter",v="pointer"),w=m==null?h:kc(m),b=g==null?h:kc(g),h=new y(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,Ko(d)===u&&(y=new y(x,v+"enter",g,r,d),y.target=b,y.relatedTarget=w,j=y),w=j,m&&g)t:{for(y=m,x=g,v=0,b=y;b;b=hc(b))v++;for(b=0,j=x;j;j=hc(j))b++;for(;0<v-b;)y=hc(y),v--;for(;0<b-v;)x=hc(x),b--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=hc(y),x=hc(x)}y=null}else y=null;m!==null&&lN(f,h,m,y,!1),g!==null&&w!==null&&lN(f,w,g,y,!0)}}e:{if(h=u?kc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=UL;else if(eN(h))if(JP)E=HL;else{E=VL;var S=$L}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=zL);if(E&&(E=E(t,u))){XP(f,E,r,d);break e}S&&S(t,h,u),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&av(h,"number",h.value)}switch(S=u?kc(u):window,t){case"focusin":(eN(S)||S.contentEditable==="true")&&(Ec=S,xv=u,Ef=null);break;case"focusout":Ef=xv=Ec=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,sN(f,r,d);break;case"selectionchange":if(KL)break;case"keydown":case"keyup":sN(f,r,d)}var k;if(i2)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ac?YP(t,r)&&(N="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(QP&&r.locale!=="ko"&&(Ac||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ac&&(k=KP()):(Fa=d,t2="value"in Fa?Fa.value:Fa.textContent,Ac=!0)),S=Zm(u,N),0<S.length&&(N=new qj(N,t,null,r,d),f.push({event:N,listeners:S}),k?N.data=k:(k=qP(r),k!==null&&(N.data=k)))),(k=ML?LL(t,r):_L(t,r))&&(u=Zm(u,"onBeforeInput"),0<u.length&&(d=new qj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}lC(f,e)})}function Qf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Zm(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$f(t,r),s!=null&&n.unshift(Qf(t,s,i)),s=$f(t,e),s!=null&&n.push(Qf(t,s,i))),t=t.return}return n}function hc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lN(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=$f(r,s),c!=null&&a.unshift(Qf(r,c,l))):i||(c=$f(r,s),c!=null&&a.push(Qf(r,c,l)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var XL=/\r\n?/g,JL=/\u0000|\uFFFD/g;function cN(t){return(typeof t=="string"?t:""+t).replace(XL,`
`).replace(JL,"")}function Ih(t,e,r){if(e=cN(e),cN(t)!==e&&r)throw Error(J(425))}function ep(){}var bv=null,wv=null;function jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nv=typeof setTimeout=="function"?setTimeout:void 0,ZL=typeof clearTimeout=="function"?clearTimeout:void 0,uN=typeof Promise=="function"?Promise:void 0,e_=typeof queueMicrotask=="function"?queueMicrotask:typeof uN<"u"?function(t){return uN.resolve(null).then(t).catch(t_)}:Nv;function t_(t){setTimeout(function(){throw t})}function I1(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Hf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hf(e)}function Wa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Ed,Yf="__reactProps$"+Ed,_s="__reactContainer$"+Ed,Av="__reactEvents$"+Ed,r_="__reactListeners$"+Ed,n_="__reactHandles$"+Ed;function Ko(t){var e=t[Fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_s]||r[Fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dN(t);t!==null;){if(r=t[Fi])return r;t=dN(t)}return e}t=r,r=t.parentNode}return null}function W0(t){return t=t[Fi]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function Bg(t){return t[Yf]||null}var Ev=[],Pc=-1;function yo(t){return{current:t}}function tt(t){0>Pc||(t.current=Ev[Pc],Ev[Pc]=null,Pc--)}function qe(t,e){Pc++,Ev[Pc]=t.current,t.current=e}var ro={},wr=yo(ro),Gr=yo(!1),Fl=ro;function Qu(t,e){var r=t.type.contextTypes;if(!r)return ro;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function tp(){tt(Gr),tt(wr)}function fN(t,e,r){if(wr.current!==ro)throw Error(J(168));qe(wr,e),qe(Gr,r)}function uC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,$7(t)||"Unknown",i));return ht({},r,n)}function rp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ro,Fl=wr.current,qe(wr,t),qe(Gr,Gr.current),!0}function hN(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=uC(t,e,Fl),n.__reactInternalMemoizedMergedChildContext=t,tt(Gr),tt(wr),qe(wr,t)):tt(Gr),qe(Gr,r)}var ss=null,Fg=!1,D1=!1;function dC(t){ss===null?ss=[t]:ss.push(t)}function i_(t){Fg=!0,dC(t)}function xo(){if(!D1&&ss!==null){D1=!0;var t=0,e=Be;try{var r=ss;for(Be=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ss=null,Fg=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),LP(Xw,xo),i}finally{Be=e,D1=!1}}return null}var Cc=[],Tc=0,np=null,ip=0,Un=[],$n=0,Ul=null,ws=1,js="";function Io(t,e){Cc[Tc++]=ip,Cc[Tc++]=np,np=t,ip=e}function fC(t,e,r){Un[$n++]=ws,Un[$n++]=js,Un[$n++]=Ul,Ul=t;var n=ws;t=js;var i=32-vi(n)-1;n&=~(1<<i),r+=1;var s=32-vi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ws=1<<32-vi(e)+i|r<<i|n,js=s+t}else ws=1<<s|r<<i|n,js=t}function a2(t){t.return!==null&&(Io(t,1),fC(t,1,0))}function o2(t){for(;t===np;)np=Cc[--Tc],Cc[Tc]=null,ip=Cc[--Tc],Cc[Tc]=null;for(;t===Ul;)Ul=Un[--$n],Un[$n]=null,js=Un[--$n],Un[$n]=null,ws=Un[--$n],Un[$n]=null}var hn=null,fn=null,it=!1,fi=null;function hC(t,e){var r=Hn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,fn=Wa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ul!==null?{id:ws,overflow:js}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Hn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,hn=t,fn=null,!0):!1;default:return!1}}function Sv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kv(t){if(it){var e=fn;if(e){var r=e;if(!mN(t,e)){if(Sv(t))throw Error(J(418));e=Wa(r.nextSibling);var n=hn;e&&mN(t,e)?hC(n,r):(t.flags=t.flags&-4097|2,it=!1,hn=t)}}else{if(Sv(t))throw Error(J(418));t.flags=t.flags&-4097|2,it=!1,hn=t}}}function pN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Dh(t){if(t!==hn)return!1;if(!it)return pN(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jv(t.type,t.memoizedProps)),e&&(e=fn)){if(Sv(t))throw mC(),Error(J(418));for(;e;)hC(t,e),e=Wa(e.nextSibling)}if(pN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){fn=Wa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=hn?Wa(t.stateNode.nextSibling):null;return!0}function mC(){for(var t=fn;t;)t=Wa(t.nextSibling)}function Yu(){fn=hn=null,it=!1}function l2(t){fi===null?fi=[t]:fi.push(t)}var s_=Ys.ReactCurrentBatchConfig;function Hd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gN(t){var e=t._init;return e(t._payload)}function pC(t){function e(x,v){if(t){var b=x.deletions;b===null?(x.deletions=[v],x.flags|=16):b.push(v)}}function r(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function n(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=Ya(x,v),x.index=0,x.sibling=null,x}function s(x,v,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<v?(x.flags|=2,v):b):(x.flags|=2,v)):(x.flags|=1048576,v)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,v,b,j){return v===null||v.tag!==6?(v=U1(b,x.mode,j),v.return=x,v):(v=i(v,b),v.return=x,v)}function c(x,v,b,j){var E=b.type;return E===Nc?d(x,v,b.props.children,j,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fa&&gN(E)===v.type)?(j=i(v,b.props),j.ref=Hd(x,v,b),j.return=x,j):(j=Sm(b.type,b.key,b.props,null,x.mode,j),j.ref=Hd(x,v,b),j.return=x,j)}function u(x,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=$1(b,x.mode,j),v.return=x,v):(v=i(v,b.children||[]),v.return=x,v)}function d(x,v,b,j,E){return v===null||v.tag!==7?(v=Pl(b,x.mode,j,E),v.return=x,v):(v=i(v,b),v.return=x,v)}function f(x,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=U1(""+v,x.mode,b),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nh:return b=Sm(v.type,v.key,v.props,null,x.mode,b),b.ref=Hd(x,null,v),b.return=x,b;case jc:return v=$1(v,x.mode,b),v.return=x,v;case fa:var j=v._init;return f(x,j(v._payload),b)}if(uf(v)||Fd(v))return v=Pl(v,x.mode,b,null),v.return=x,v;Rh(x,v)}return null}function h(x,v,b,j){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:l(x,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nh:return b.key===E?c(x,v,b,j):null;case jc:return b.key===E?u(x,v,b,j):null;case fa:return E=b._init,h(x,v,E(b._payload),j)}if(uf(b)||Fd(b))return E!==null?null:d(x,v,b,j,null);Rh(x,b)}return null}function m(x,v,b,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(b)||null,l(v,x,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Nh:return x=x.get(j.key===null?b:j.key)||null,c(v,x,j,E);case jc:return x=x.get(j.key===null?b:j.key)||null,u(v,x,j,E);case fa:var S=j._init;return m(x,v,b,S(j._payload),E)}if(uf(j)||Fd(j))return x=x.get(b)||null,d(v,x,j,E,null);Rh(v,j)}return null}function g(x,v,b,j){for(var E=null,S=null,k=v,N=v=0,C=null;k!==null&&N<b.length;N++){k.index>N?(C=k,k=null):C=k.sibling;var R=h(x,k,b[N],j);if(R===null){k===null&&(k=C);break}t&&k&&R.alternate===null&&e(x,k),v=s(R,v,N),S===null?E=R:S.sibling=R,S=R,k=C}if(N===b.length)return r(x,k),it&&Io(x,N),E;if(k===null){for(;N<b.length;N++)k=f(x,b[N],j),k!==null&&(v=s(k,v,N),S===null?E=k:S.sibling=k,S=k);return it&&Io(x,N),E}for(k=n(x,k);N<b.length;N++)C=m(k,x,N,b[N],j),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?N:C.key),v=s(C,v,N),S===null?E=C:S.sibling=C,S=C);return t&&k.forEach(function(D){return e(x,D)}),it&&Io(x,N),E}function y(x,v,b,j){var E=Fd(b);if(typeof E!="function")throw Error(J(150));if(b=E.call(b),b==null)throw Error(J(151));for(var S=E=null,k=v,N=v=0,C=null,R=b.next();k!==null&&!R.done;N++,R=b.next()){k.index>N?(C=k,k=null):C=k.sibling;var D=h(x,k,R.value,j);if(D===null){k===null&&(k=C);break}t&&k&&D.alternate===null&&e(x,k),v=s(D,v,N),S===null?E=D:S.sibling=D,S=D,k=C}if(R.done)return r(x,k),it&&Io(x,N),E;if(k===null){for(;!R.done;N++,R=b.next())R=f(x,R.value,j),R!==null&&(v=s(R,v,N),S===null?E=R:S.sibling=R,S=R);return it&&Io(x,N),E}for(k=n(x,k);!R.done;N++,R=b.next())R=m(k,x,N,R.value,j),R!==null&&(t&&R.alternate!==null&&k.delete(R.key===null?N:R.key),v=s(R,v,N),S===null?E=R:S.sibling=R,S=R);return t&&k.forEach(function(B){return e(x,B)}),it&&Io(x,N),E}function w(x,v,b,j){if(typeof b=="object"&&b!==null&&b.type===Nc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Nh:e:{for(var E=b.key,S=v;S!==null;){if(S.key===E){if(E=b.type,E===Nc){if(S.tag===7){r(x,S.sibling),v=i(S,b.props.children),v.return=x,x=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===fa&&gN(E)===S.type){r(x,S.sibling),v=i(S,b.props),v.ref=Hd(x,S,b),v.return=x,x=v;break e}r(x,S);break}else e(x,S);S=S.sibling}b.type===Nc?(v=Pl(b.props.children,x.mode,j,b.key),v.return=x,x=v):(j=Sm(b.type,b.key,b.props,null,x.mode,j),j.ref=Hd(x,v,b),j.return=x,x=j)}return a(x);case jc:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(x,v.sibling),v=i(v,b.children||[]),v.return=x,x=v;break e}else{r(x,v);break}else e(x,v);v=v.sibling}v=$1(b,x.mode,j),v.return=x,x=v}return a(x);case fa:return S=b._init,w(x,v,S(b._payload),j)}if(uf(b))return g(x,v,b,j);if(Fd(b))return y(x,v,b,j);Rh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(x,v.sibling),v=i(v,b),v.return=x,x=v):(r(x,v),v=U1(b,x.mode,j),v.return=x,x=v),a(x)):r(x,v)}return w}var qu=pC(!0),gC=pC(!1),sp=yo(null),ap=null,Oc=null,c2=null;function u2(){c2=Oc=ap=null}function d2(t){var e=sp.current;tt(sp),t._currentValue=e}function Pv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Jc(t,e){ap=t,c2=Oc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(c2!==t)if(t={context:t,memoizedValue:e,next:null},Oc===null){if(ap===null)throw Error(J(308));Oc=t,ap.dependencies={lanes:0,firstContext:t}}else Oc=Oc.next=t;return e}var Qo=null;function f2(t){Qo===null?Qo=[t]:Qo.push(t)}function yC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,f2(e)):(r.next=i.next,i.next=r),e.interleaved=r,Bs(t,n)}function Bs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ha=!1;function h2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ga(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Bs(t,r)}return i=n.interleaved,i===null?(e.next=e,f2(n)):(e.next=i.next,i.next=e),n.interleaved=e,Bs(t,r)}function bm(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jw(t,r)}}function yN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function op(t,e,r,n){var i=t.updateQueue;ha=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(h=e,m=r,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=ht({},f,h);break e;case 2:ha=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Vl|=a,t.lanes=a,t.memoizedState=f}}function xN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var G0={},Gi=yo(G0),qf=yo(G0),Xf=yo(G0);function Yo(t){if(t===G0)throw Error(J(174));return t}function m2(t,e){switch(qe(Xf,e),qe(qf,t),qe(Gi,G0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lv(e,t)}tt(Gi),qe(Gi,e)}function Xu(){tt(Gi),tt(qf),tt(Xf)}function vC(t){Yo(Xf.current);var e=Yo(Gi.current),r=lv(e,t.type);e!==r&&(qe(qf,t),qe(Gi,r))}function p2(t){qf.current===t&&(tt(Gi),tt(qf))}var ct=yo(0);function lp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var R1=[];function g2(){for(var t=0;t<R1.length;t++)R1[t]._workInProgressVersionPrimary=null;R1.length=0}var wm=Ys.ReactCurrentDispatcher,M1=Ys.ReactCurrentBatchConfig,$l=0,ft=null,Mt=null,Gt=null,cp=!1,Sf=!1,Jf=0,a_=0;function ur(){throw Error(J(321))}function y2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wi(t[r],e[r]))return!1;return!0}function x2(t,e,r,n,i,s){if($l=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wm.current=t===null||t.memoizedState===null?u_:d_,t=r(n,i),Sf){s=0;do{if(Sf=!1,Jf=0,25<=s)throw Error(J(301));s+=1,Gt=Mt=null,e.updateQueue=null,wm.current=f_,t=r(n,i)}while(Sf)}if(wm.current=up,e=Mt!==null&&Mt.next!==null,$l=0,Gt=Mt=ft=null,cp=!1,e)throw Error(J(300));return t}function v2(){var t=Jf!==0;return Jf=0,t}function Pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ft.memoizedState=Gt=t:Gt=Gt.next=t,Gt}function Qn(){if(Mt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Gt===null?ft.memoizedState:Gt.next;if(e!==null)Gt=e,Mt=t;else{if(t===null)throw Error(J(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Gt===null?ft.memoizedState=Gt=t:Gt=Gt.next=t}return Gt}function Zf(t,e){return typeof e=="function"?e(t):e}function L1(t){var e=Qn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if(($l&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,ft.lanes|=d,Vl|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,wi(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,Vl|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function _1(t){var e=Qn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);wi(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function bC(){}function wC(t,e){var r=ft,n=Qn(),i=e(),s=!wi(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,b2(AC.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,e0(9,NC.bind(null,r,n,i,e),void 0,null),qt===null)throw Error(J(349));$l&30||jC(r,e,i)}return i}function jC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function NC(t,e,r,n){e.value=r,e.getSnapshot=n,EC(e)&&SC(t)}function AC(t,e,r){return r(function(){EC(e)&&SC(t)})}function EC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wi(t,r)}catch{return!0}}function SC(t){var e=Bs(t,1);e!==null&&bi(e,t,1,-1)}function vN(t){var e=Pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:t},e.queue=t,t=t.dispatch=c_.bind(null,ft,t),[e.memoizedState,t]}function e0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kC(){return Qn().memoizedState}function jm(t,e,r,n){var i=Pi();ft.flags|=t,i.memoizedState=e0(1|e,r,void 0,n===void 0?null:n)}function Ug(t,e,r,n){var i=Qn();n=n===void 0?null:n;var s=void 0;if(Mt!==null){var a=Mt.memoizedState;if(s=a.destroy,n!==null&&y2(n,a.deps)){i.memoizedState=e0(e,r,s,n);return}}ft.flags|=t,i.memoizedState=e0(1|e,r,s,n)}function bN(t,e){return jm(8390656,8,t,e)}function b2(t,e){return Ug(2048,8,t,e)}function PC(t,e){return Ug(4,2,t,e)}function CC(t,e){return Ug(4,4,t,e)}function TC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OC(t,e,r){return r=r!=null?r.concat([t]):null,Ug(4,4,TC.bind(null,e,t),r)}function w2(){}function IC(t,e){var r=Qn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function DC(t,e){var r=Qn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&y2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function RC(t,e,r){return $l&21?(wi(r,e)||(r=FP(),ft.lanes|=r,Vl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function o_(t,e){var r=Be;Be=r!==0&&4>r?r:4,t(!0);var n=M1.transition;M1.transition={};try{t(!1),e()}finally{Be=r,M1.transition=n}}function MC(){return Qn().memoizedState}function l_(t,e,r){var n=Qa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},LC(t))_C(e,r);else if(r=yC(t,e,r,n),r!==null){var i=Dr();bi(r,t,n,i),BC(r,e,n)}}function c_(t,e,r){var n=Qa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(LC(t))_C(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,wi(l,a)){var c=e.interleaved;c===null?(i.next=i,f2(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=yC(t,e,i,n),r!==null&&(i=Dr(),bi(r,t,n,i),BC(r,e,n))}}function LC(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function _C(t,e){Sf=cp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function BC(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jw(t,r)}}var up={readContext:Kn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},u_={readContext:Kn,useCallback:function(t,e){return Pi().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:bN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,jm(4194308,4,TC.bind(null,e,t),r)},useLayoutEffect:function(t,e){return jm(4194308,4,t,e)},useInsertionEffect:function(t,e){return jm(4,2,t,e)},useMemo:function(t,e){var r=Pi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Pi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=l_.bind(null,ft,t),[n.memoizedState,t]},useRef:function(t){var e=Pi();return t={current:t},e.memoizedState=t},useState:vN,useDebugValue:w2,useDeferredValue:function(t){return Pi().memoizedState=t},useTransition:function(){var t=vN(!1),e=t[0];return t=o_.bind(null,t[1]),Pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ft,i=Pi();if(it){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),qt===null)throw Error(J(349));$l&30||jC(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,bN(AC.bind(null,n,s,t),[t]),n.flags|=2048,e0(9,NC.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Pi(),e=qt.identifierPrefix;if(it){var r=js,n=ws;r=(n&~(1<<32-vi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=a_++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d_={readContext:Kn,useCallback:IC,useContext:Kn,useEffect:b2,useImperativeHandle:OC,useInsertionEffect:PC,useLayoutEffect:CC,useMemo:DC,useReducer:L1,useRef:kC,useState:function(){return L1(Zf)},useDebugValue:w2,useDeferredValue:function(t){var e=Qn();return RC(e,Mt.memoizedState,t)},useTransition:function(){var t=L1(Zf)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:bC,useSyncExternalStore:wC,useId:MC,unstable_isNewReconciler:!1},f_={readContext:Kn,useCallback:IC,useContext:Kn,useEffect:b2,useImperativeHandle:OC,useInsertionEffect:PC,useLayoutEffect:CC,useMemo:DC,useReducer:_1,useRef:kC,useState:function(){return _1(Zf)},useDebugValue:w2,useDeferredValue:function(t){var e=Qn();return Mt===null?e.memoizedState=t:RC(e,Mt.memoizedState,t)},useTransition:function(){var t=_1(Zf)[0],e=Qn().memoizedState;return[t,e]},useMutableSource:bC,useSyncExternalStore:wC,useId:MC,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Cv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ht({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $g={isMounted:function(t){return(t=t._reactInternals)?rc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Dr(),i=Qa(t),s=Ps(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ga(t,s,i),e!==null&&(bi(e,t,i,n),bm(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Dr(),i=Qa(t),s=Ps(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ga(t,s,i),e!==null&&(bi(e,t,i,n),bm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Dr(),n=Qa(t),i=Ps(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ga(t,i,n),e!==null&&(bi(e,t,n,r),bm(e,t,n))}};function wN(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Gf(r,n)||!Gf(i,s):!0}function FC(t,e,r){var n=!1,i=ro,s=e.contextType;return typeof s=="object"&&s!==null?s=Kn(s):(i=Kr(e)?Fl:wr.current,n=e.contextTypes,s=(n=n!=null)?Qu(t,i):ro),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$g,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&$g.enqueueReplaceState(e,e.state,null)}function Tv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},h2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Kn(s):(s=Kr(e)?Fl:wr.current,i.context=Qu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$g.enqueueReplaceState(i,i.state,null),op(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ju(t,e){try{var r="",n=e;do r+=U7(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function B1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ov(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var h_=typeof WeakMap=="function"?WeakMap:Map;function UC(t,e,r){r=Ps(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fp||(fp=!0,$v=n),Ov(t,e)},r}function $C(t,e,r){r=Ps(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ov(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Ov(t,e),typeof n!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function NN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new h_;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=k_.bind(null,t,e,r),e.then(t,t))}function AN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function EN(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ps(-1,1),e.tag=2,Ga(r,e,1))),r.lanes|=1),t)}var m_=Ys.ReactCurrentOwner,Hr=!1;function Sr(t,e,r,n){e.child=t===null?gC(e,null,r,n):qu(e,t.child,r,n)}function SN(t,e,r,n,i){r=r.render;var s=e.ref;return Jc(e,i),n=x2(t,e,r,n,s,i),r=v2(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fs(t,e,i)):(it&&r&&a2(e),e.flags|=1,Sr(t,e,n,i),e.child)}function kN(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!C2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,VC(t,e,s,n,i)):(t=Sm(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Gf,r(a,n)&&t.ref===e.ref)return Fs(t,e,i)}return e.flags|=1,t=Ya(s,n),t.ref=e.ref,t.return=e,e.child=t}function VC(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Gf(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Fs(t,e,i)}return Iv(t,e,r,n,i)}function zC(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Dc,ln),ln|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Dc,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,qe(Dc,ln),ln|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,qe(Dc,ln),ln|=n;return Sr(t,e,i,r),e.child}function HC(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Iv(t,e,r,n,i){var s=Kr(r)?Fl:wr.current;return s=Qu(e,s),Jc(e,i),r=x2(t,e,r,n,s,i),n=v2(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fs(t,e,i)):(it&&n&&a2(e),e.flags|=1,Sr(t,e,r,i),e.child)}function PN(t,e,r,n,i){if(Kr(r)){var s=!0;rp(e)}else s=!1;if(Jc(e,i),e.stateNode===null)Nm(t,e),FC(e,r,n),Tv(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=Kr(r)?Fl:wr.current,u=Qu(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jN(e,a,n,u),ha=!1;var h=e.memoizedState;a.state=h,op(e,n,a,i),c=e.memoizedState,l!==n||h!==c||Gr.current||ha?(typeof d=="function"&&(Cv(e,r,d,n),c=e.memoizedState),(l=ha||wN(e,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,xC(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ri(e.type,l),a.props=u,f=e.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kn(c):(c=Kr(r)?Fl:wr.current,c=Qu(e,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&jN(e,a,n,c),ha=!1,h=e.memoizedState,a.state=h,op(e,n,a,i);var g=e.memoizedState;l!==f||h!==g||Gr.current||ha?(typeof m=="function"&&(Cv(e,r,m,n),g=e.memoizedState),(u=ha||wN(e,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Dv(t,e,r,n,s,i)}function Dv(t,e,r,n,i,s){HC(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&hN(e,r,!1),Fs(t,e,s);n=e.stateNode,m_.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=qu(e,t.child,null,s),e.child=qu(e,null,l,s)):Sr(t,e,l,s),e.memoizedState=n.state,i&&hN(e,r,!0),e.child}function WC(t){var e=t.stateNode;e.pendingContext?fN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fN(t,e.context,!1),m2(t,e.containerInfo)}function CN(t,e,r,n,i){return Yu(),l2(i),e.flags|=256,Sr(t,e,r,n),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Mv(t){return{baseLanes:t,cachePool:null,transitions:null}}function GC(t,e,r){var n=e.pendingProps,i=ct.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(ct,i&1),t===null)return kv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Hg(a,n,0,null),t=Pl(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mv(r),e.memoizedState=Rv,t):j2(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return p_(t,e,a,n,l,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ya(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ya(l,s):(s=Pl(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Mv(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Rv,n}return s=t.child,t=s.sibling,n=Ya(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function j2(t,e){return e=Hg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mh(t,e,r,n){return n!==null&&l2(n),qu(e,t.child,null,r),t=j2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p_(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=B1(Error(J(422))),Mh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Hg({mode:"visible",children:n.children},i,0,null),s=Pl(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&qu(e,t.child,null,a),e.child.memoizedState=Mv(a),e.memoizedState=Rv,s);if(!(e.mode&1))return Mh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(J(419)),n=B1(s,n,void 0),Mh(t,e,a,n)}if(l=(a&t.childLanes)!==0,Hr||l){if(n=qt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bs(t,i),bi(n,t,i,-1))}return P2(),n=B1(Error(J(421))),Mh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=P_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Wa(i.nextSibling),hn=e,it=!0,fi=null,t!==null&&(Un[$n++]=ws,Un[$n++]=js,Un[$n++]=Ul,ws=t.id,js=t.overflow,Ul=e),e=j2(e,n.children),e.flags|=4096,e)}function TN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Pv(t.return,e,r)}function F1(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function KC(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Sr(t,e,n.children,r),n=ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TN(t,r,e);else if(t.tag===19)TN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(qe(ct,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&lp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),F1(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}F1(e,!0,r,null,s);break;case"together":F1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Vl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=Ya(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ya(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function g_(t,e,r){switch(e.tag){case 3:WC(e),Yu();break;case 5:vC(e);break;case 1:Kr(e.type)&&rp(e);break;case 4:m2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;qe(sp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(qe(ct,ct.current&1),e.flags|=128,null):r&e.child.childLanes?GC(t,e,r):(qe(ct,ct.current&1),t=Fs(t,e,r),t!==null?t.sibling:null);qe(ct,ct.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return KC(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ct,ct.current),n)break;return null;case 22:case 23:return e.lanes=0,zC(t,e,r)}return Fs(t,e,r)}var QC,Lv,YC,qC;QC=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Lv=function(){};YC=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Yo(Gi.current);var s=null;switch(r){case"input":i=iv(t,i),n=iv(t,n),s=[];break;case"select":i=ht({},i,{value:void 0}),n=ht({},n,{value:void 0}),s=[];break;case"textarea":i=ov(t,i),n=ov(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ep)}cv(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ff.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ze("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};qC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wd(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function y_(t,e,r){var n=e.pendingProps;switch(o2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return Kr(e.type)&&tp(),dr(e),null;case 3:return n=e.stateNode,Xu(),tt(Gr),tt(wr),g2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(Hv(fi),fi=null))),Lv(t,e),dr(e),null;case 5:p2(e);var i=Yo(Xf.current);if(r=e.type,t!==null&&e.stateNode!=null)YC(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return dr(e),null}if(t=Yo(Gi.current),Dh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Fi]=e,n[Yf]=s,t=(e.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(i=0;i<ff.length;i++)Ze(ff[i],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":Fj(n,s),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ze("invalid",n);break;case"textarea":$j(n,s),Ze("invalid",n)}cv(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ih(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ih(n.textContent,l,t),i=["children",""+l]):Ff.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ze("scroll",n)}switch(r){case"input":Ah(n),Uj(n,s,!0);break;case"textarea":Ah(n),Vj(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ep)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Fi]=e,t[Yf]=n,QC(t,e,!1,!1),e.stateNode=t;e:{switch(a=uv(r,n),r){case"dialog":Ze("cancel",t),Ze("close",t),i=n;break;case"iframe":case"object":case"embed":Ze("load",t),i=n;break;case"video":case"audio":for(i=0;i<ff.length;i++)Ze(ff[i],t);i=n;break;case"source":Ze("error",t),i=n;break;case"img":case"image":case"link":Ze("error",t),Ze("load",t),i=n;break;case"details":Ze("toggle",t),i=n;break;case"input":Fj(t,n),i=iv(t,n),Ze("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ht({},n,{value:void 0}),Ze("invalid",t);break;case"textarea":$j(t,n),i=ov(t,n),Ze("invalid",t);break;default:i=n}cv(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?kP(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&EP(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Uf(t,c):typeof c=="number"&&Uf(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ff.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ze("scroll",t):c!=null&&Gw(t,s,c,a))}switch(r){case"input":Ah(t),Uj(t,n,!1);break;case"textarea":Ah(t),Vj(t);break;case"option":n.value!=null&&t.setAttribute("value",""+to(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Qc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Qc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ep)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)qC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=Yo(Xf.current),Yo(Gi.current),Dh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Fi]=e,(s=n.nodeValue!==r)&&(t=hn,t!==null))switch(t.tag){case 3:Ih(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fi]=e,e.stateNode=n}return dr(e),null;case 13:if(tt(ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&fn!==null&&e.mode&1&&!(e.flags&128))mC(),Yu(),e.flags|=98560,s=!1;else if(s=Dh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Fi]=e}else Yu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),s=!1}else fi!==null&&(Hv(fi),fi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Lt===0&&(Lt=3):P2())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return Xu(),Lv(t,e),t===null&&Kf(e.stateNode.containerInfo),dr(e),null;case 10:return d2(e.type._context),dr(e),null;case 17:return Kr(e.type)&&tp(),dr(e),null;case 19:if(tt(ct),s=e.memoizedState,s===null)return dr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Wd(s,!1);else{if(Lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=lp(t),a!==null){for(e.flags|=128,Wd(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return qe(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&wt()>Zu&&(e.flags|=128,n=!0,Wd(s,!1),e.lanes=4194304)}else{if(!n)if(t=lp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!it)return dr(e),null}else 2*wt()-s.renderingStartTime>Zu&&r!==1073741824&&(e.flags|=128,n=!0,Wd(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,r=ct.current,qe(ct,n?r&1|2:r&1),e):(dr(e),null);case 22:case 23:return k2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ln&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function x_(t,e){switch(o2(e),e.tag){case 1:return Kr(e.type)&&tp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xu(),tt(Gr),tt(wr),g2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return p2(e),null;case 13:if(tt(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Yu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tt(ct),null;case 4:return Xu(),null;case 10:return d2(e.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var Lh=!1,yr=!1,v_=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ic(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(t,e,n)}else r.current=null}function _v(t,e,r){try{r()}catch(n){gt(t,e,n)}}var ON=!1;function b_(t,e){if(bv=Xm,t=tC(),s2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(wv={focusedElem:t,selectionRange:r},Xm=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,w=g.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:ri(e.type,y),w);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(j){gt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=ON,ON=!1,g}function kf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_v(e,r,s)}i=i.next}while(i!==n)}}function Vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Bv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function XC(t){var e=t.alternate;e!==null&&(t.alternate=null,XC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[Yf],delete e[Av],delete e[r_],delete e[n_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JC(t){return t.tag===5||t.tag===3||t.tag===4}function IN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ep));else if(n!==4&&(t=t.child,t!==null))for(Fv(t,e,r),t=t.sibling;t!==null;)Fv(t,e,r),t=t.sibling}function Uv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Uv(t,e,r),t=t.sibling;t!==null;)Uv(t,e,r),t=t.sibling}var tr=null,di=!1;function na(t,e,r){for(r=r.child;r!==null;)ZC(t,e,r),r=r.sibling}function ZC(t,e,r){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Rg,r)}catch{}switch(r.tag){case 5:yr||Ic(r,e);case 6:var n=tr,i=di;tr=null,na(t,e,r),tr=n,di=i,tr!==null&&(di?(t=tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(di?(t=tr,r=r.stateNode,t.nodeType===8?I1(t.parentNode,r):t.nodeType===1&&I1(t,r),Hf(t)):I1(tr,r.stateNode));break;case 4:n=tr,i=di,tr=r.stateNode.containerInfo,di=!0,na(t,e,r),tr=n,di=i;break;case 0:case 11:case 14:case 15:if(!yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&_v(r,e,a),i=i.next}while(i!==n)}na(t,e,r);break;case 1:if(!yr&&(Ic(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){gt(r,e,l)}na(t,e,r);break;case 21:na(t,e,r);break;case 22:r.mode&1?(yr=(n=yr)||r.memoizedState!==null,na(t,e,r),yr=n):na(t,e,r);break;default:na(t,e,r)}}function DN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new v_),e.forEach(function(n){var i=C_.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:tr=l.stateNode,di=!1;break e;case 3:tr=l.stateNode.containerInfo,di=!0;break e;case 4:tr=l.stateNode.containerInfo,di=!0;break e}l=l.return}if(tr===null)throw Error(J(160));ZC(s,a,i),tr=null,di=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e4(e,t),e=e.sibling}function e4(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),Si(t),n&4){try{kf(3,t,t.return),Vg(3,t)}catch(y){gt(t,t.return,y)}try{kf(5,t,t.return)}catch(y){gt(t,t.return,y)}}break;case 1:Zn(e,t),Si(t),n&512&&r!==null&&Ic(r,r.return);break;case 5:if(Zn(e,t),Si(t),n&512&&r!==null&&Ic(r,r.return),t.flags&32){var i=t.stateNode;try{Uf(i,"")}catch(y){gt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&jP(i,s),uv(l,a);var u=uv(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?kP(i,f):d==="dangerouslySetInnerHTML"?EP(i,f):d==="children"?Uf(i,f):Gw(i,d,f,u)}switch(l){case"input":sv(i,s);break;case"textarea":NP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qc(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Qc(i,!!s.multiple,s.defaultValue,!0):Qc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yf]=s}catch(y){gt(t,t.return,y)}}break;case 6:if(Zn(e,t),Si(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){gt(t,t.return,y)}}break;case 3:if(Zn(e,t),Si(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hf(e.containerInfo)}catch(y){gt(t,t.return,y)}break;case 4:Zn(e,t),Si(t);break;case 13:Zn(e,t),Si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(E2=wt())),n&4&&DN(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(yr=(u=yr)||d,Zn(e,t),yr=u):Zn(e,t),Si(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(se=t,d=t.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:kf(4,h,h.return);break;case 1:Ic(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){gt(n,r,y)}}break;case 5:Ic(h,h.return);break;case 22:if(h.memoizedState!==null){MN(f);continue}}m!==null?(m.return=h,se=m):MN(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=SP("display",a))}catch(y){gt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){gt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zn(e,t),Si(t),n&4&&DN(t);break;case 21:break;default:Zn(e,t),Si(t)}}function Si(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(JC(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Uf(i,""),n.flags&=-33);var s=IN(t);Uv(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=IN(t);Fv(t,l,a);break;default:throw Error(J(161))}}catch(c){gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w_(t,e,r){se=t,t4(t)}function t4(t,e,r){for(var n=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Lh;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||yr;l=Lh;var u=yr;if(Lh=a,(yr=c)&&!u)for(se=i;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?LN(i):c!==null?(c.return=a,se=c):LN(i);for(;s!==null;)se=s,t4(s),s=s.sibling;se=i,Lh=l,yr=u}RN(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):RN(t)}}function RN(t){for(;se!==null;){var e=se;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||Vg(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!yr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ri(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&xN(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xN(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Hf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}yr||e.flags&512&&Bv(e)}catch(h){gt(e,e.return,h)}}if(e===t){se=null;break}if(r=e.sibling,r!==null){r.return=e.return,se=r;break}se=e.return}}function MN(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var r=e.sibling;if(r!==null){r.return=e.return,se=r;break}se=e.return}}function LN(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Vg(4,e)}catch(c){gt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){gt(e,i,c)}}var s=e.return;try{Bv(e)}catch(c){gt(e,s,c)}break;case 5:var a=e.return;try{Bv(e)}catch(c){gt(e,a,c)}}}catch(c){gt(e,e.return,c)}if(e===t){se=null;break}var l=e.sibling;if(l!==null){l.return=e.return,se=l;break}se=e.return}}var j_=Math.ceil,dp=Ys.ReactCurrentDispatcher,N2=Ys.ReactCurrentOwner,Gn=Ys.ReactCurrentBatchConfig,Te=0,qt=null,Pt=null,sr=0,ln=0,Dc=yo(0),Lt=0,t0=null,Vl=0,zg=0,A2=0,Pf=null,Vr=null,E2=0,Zu=1/0,rs=null,fp=!1,$v=null,Ka=null,_h=!1,Ua=null,hp=0,Cf=0,Vv=null,Am=-1,Em=0;function Dr(){return Te&6?wt():Am!==-1?Am:Am=wt()}function Qa(t){return t.mode&1?Te&2&&sr!==0?sr&-sr:s_.transition!==null?(Em===0&&(Em=FP()),Em):(t=Be,t!==0||(t=window.event,t=t===void 0?16:GP(t.type)),t):1}function bi(t,e,r,n){if(50<Cf)throw Cf=0,Vv=null,Error(J(185));z0(t,r,n),(!(Te&2)||t!==qt)&&(t===qt&&(!(Te&2)&&(zg|=r),Lt===4&&xa(t,sr)),Qr(t,n),r===1&&Te===0&&!(e.mode&1)&&(Zu=wt()+500,Fg&&xo()))}function Qr(t,e){var r=t.callbackNode;sL(t,e);var n=qm(t,t===qt?sr:0);if(n===0)r!==null&&Wj(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wj(r),e===1)t.tag===0?i_(_N.bind(null,t)):dC(_N.bind(null,t)),e_(function(){!(Te&6)&&xo()}),r=null;else{switch(UP(n)){case 1:r=Xw;break;case 4:r=_P;break;case 16:r=Ym;break;case 536870912:r=BP;break;default:r=Ym}r=c4(r,r4.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function r4(t,e){if(Am=-1,Em=0,Te&6)throw Error(J(327));var r=t.callbackNode;if(Zc()&&t.callbackNode!==r)return null;var n=qm(t,t===qt?sr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mp(t,n);else{e=n;var i=Te;Te|=2;var s=i4();(qt!==t||sr!==e)&&(rs=null,Zu=wt()+500,kl(t,e));do try{E_();break}catch(l){n4(t,l)}while(!0);u2(),dp.current=s,Te=i,Pt!==null?e=0:(qt=null,sr=0,e=Lt)}if(e!==0){if(e===2&&(i=pv(t),i!==0&&(n=i,e=zv(t,i))),e===1)throw r=t0,kl(t,0),xa(t,n),Qr(t,wt()),r;if(e===6)xa(t,n);else{if(i=t.current.alternate,!(n&30)&&!N_(i)&&(e=mp(t,n),e===2&&(s=pv(t),s!==0&&(n=s,e=zv(t,s))),e===1))throw r=t0,kl(t,0),xa(t,n),Qr(t,wt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:Do(t,Vr,rs);break;case 3:if(xa(t,n),(n&130023424)===n&&(e=E2+500-wt(),10<e)){if(qm(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Nv(Do.bind(null,t,Vr,rs),e);break}Do(t,Vr,rs);break;case 4:if(xa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-vi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*j_(n/1960))-n,10<n){t.timeoutHandle=Nv(Do.bind(null,t,Vr,rs),n);break}Do(t,Vr,rs);break;case 5:Do(t,Vr,rs);break;default:throw Error(J(329))}}}return Qr(t,wt()),t.callbackNode===r?r4.bind(null,t):null}function zv(t,e){var r=Pf;return t.current.memoizedState.isDehydrated&&(kl(t,e).flags|=256),t=mp(t,e),t!==2&&(e=Vr,Vr=r,e!==null&&Hv(e)),t}function Hv(t){Vr===null?Vr=t:Vr.push.apply(Vr,t)}function N_(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!wi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xa(t,e){for(e&=~A2,e&=~zg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vi(e),n=1<<r;t[r]=-1,e&=~n}}function _N(t){if(Te&6)throw Error(J(327));Zc();var e=qm(t,0);if(!(e&1))return Qr(t,wt()),null;var r=mp(t,e);if(t.tag!==0&&r===2){var n=pv(t);n!==0&&(e=n,r=zv(t,n))}if(r===1)throw r=t0,kl(t,0),xa(t,e),Qr(t,wt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Do(t,Vr,rs),Qr(t,wt()),null}function S2(t,e){var r=Te;Te|=1;try{return t(e)}finally{Te=r,Te===0&&(Zu=wt()+500,Fg&&xo())}}function zl(t){Ua!==null&&Ua.tag===0&&!(Te&6)&&Zc();var e=Te;Te|=1;var r=Gn.transition,n=Be;try{if(Gn.transition=null,Be=1,t)return t()}finally{Be=n,Gn.transition=r,Te=e,!(Te&6)&&xo()}}function k2(){ln=Dc.current,tt(Dc)}function kl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ZL(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(o2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&tp();break;case 3:Xu(),tt(Gr),tt(wr),g2();break;case 5:p2(n);break;case 4:Xu();break;case 13:tt(ct);break;case 19:tt(ct);break;case 10:d2(n.type._context);break;case 22:case 23:k2()}r=r.return}if(qt=t,Pt=t=Ya(t.current,null),sr=ln=e,Lt=0,t0=null,A2=zg=Vl=0,Vr=Pf=null,Qo!==null){for(e=0;e<Qo.length;e++)if(r=Qo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Qo=null}return t}function n4(t,e){do{var r=Pt;try{if(u2(),wm.current=up,cp){for(var n=ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cp=!1}if($l=0,Gt=Mt=ft=null,Sf=!1,Jf=0,N2.current=null,r===null||r.return===null){Lt=1,t0=e,Pt=null;break}e:{var s=t,a=r.return,l=r,c=e;if(e=sr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AN(a);if(m!==null){m.flags&=-257,EN(m,a,l,s,e),m.mode&1&&NN(s,u,e),e=m,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){NN(s,u,e),P2();break e}c=Error(J(426))}}else if(it&&l.mode&1){var w=AN(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),EN(w,a,l,s,e),l2(Ju(c,l));break e}}s=c=Ju(c,l),Lt!==4&&(Lt=2),Pf===null?Pf=[s]:Pf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=UC(s,c,e);yN(s,x);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ka===null||!Ka.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=$C(s,l,e);yN(s,j);break e}}s=s.return}while(s!==null)}a4(r)}catch(E){e=E,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function i4(){var t=dp.current;return dp.current=up,t===null?up:t}function P2(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),qt===null||!(Vl&268435455)&&!(zg&268435455)||xa(qt,sr)}function mp(t,e){var r=Te;Te|=2;var n=i4();(qt!==t||sr!==e)&&(rs=null,kl(t,e));do try{A_();break}catch(i){n4(t,i)}while(!0);if(u2(),Te=r,dp.current=n,Pt!==null)throw Error(J(261));return qt=null,sr=0,Lt}function A_(){for(;Pt!==null;)s4(Pt)}function E_(){for(;Pt!==null&&!q7();)s4(Pt)}function s4(t){var e=l4(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?a4(t):Pt=e,N2.current=null}function a4(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=x_(r,e),r!==null){r.flags&=32767,Pt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Lt=6,Pt=null;return}}else if(r=y_(r,e,ln),r!==null){Pt=r;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Lt===0&&(Lt=5)}function Do(t,e,r){var n=Be,i=Gn.transition;try{Gn.transition=null,Be=1,S_(t,e,r,n)}finally{Gn.transition=i,Be=n}return null}function S_(t,e,r,n){do Zc();while(Ua!==null);if(Te&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(aL(t,s),t===qt&&(Pt=qt=null,sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_h||(_h=!0,c4(Ym,function(){return Zc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var a=Be;Be=1;var l=Te;Te|=4,N2.current=null,b_(t,r),e4(r,t),GL(wv),Xm=!!bv,wv=bv=null,t.current=r,w_(r),X7(),Te=l,Be=a,Gn.transition=s}else t.current=r;if(_h&&(_h=!1,Ua=t,hp=i),s=t.pendingLanes,s===0&&(Ka=null),eL(r.stateNode),Qr(t,wt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fp)throw fp=!1,t=$v,$v=null,t;return hp&1&&t.tag!==0&&Zc(),s=t.pendingLanes,s&1?t===Vv?Cf++:(Cf=0,Vv=t):Cf=0,xo(),null}function Zc(){if(Ua!==null){var t=UP(hp),e=Gn.transition,r=Be;try{if(Gn.transition=null,Be=16>t?16:t,Ua===null)var n=!1;else{if(t=Ua,Ua=null,hp=0,Te&6)throw Error(J(331));var i=Te;for(Te|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:kf(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(XC(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,se=x;break e}se=s.return}}var v=t.current;for(se=v;se!==null;){a=se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,se=b;else e:for(a=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vg(9,l)}}catch(E){gt(l,l.return,E)}if(l===a){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(Te=i,xo(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Rg,t)}catch{}n=!0}return n}finally{Be=r,Gn.transition=e}}return!1}function BN(t,e,r){e=Ju(r,e),e=UC(t,e,1),t=Ga(t,e,1),e=Dr(),t!==null&&(z0(t,1,e),Qr(t,e))}function gt(t,e,r){if(t.tag===3)BN(t,t,r);else for(;e!==null;){if(e.tag===3){BN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ka===null||!Ka.has(n))){t=Ju(r,t),t=$C(e,t,1),e=Ga(e,t,1),t=Dr(),e!==null&&(z0(e,1,t),Qr(e,t));break}}e=e.return}}function k_(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Dr(),t.pingedLanes|=t.suspendedLanes&r,qt===t&&(sr&r)===r&&(Lt===4||Lt===3&&(sr&130023424)===sr&&500>wt()-E2?kl(t,0):A2|=r),Qr(t,e)}function o4(t,e){e===0&&(t.mode&1?(e=kh,kh<<=1,!(kh&130023424)&&(kh=4194304)):e=1);var r=Dr();t=Bs(t,e),t!==null&&(z0(t,e,r),Qr(t,r))}function P_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),o4(t,r)}function C_(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),o4(t,r)}var l4;l4=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,g_(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,it&&e.flags&1048576&&fC(e,ip,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nm(t,e),t=e.pendingProps;var i=Qu(e,wr.current);Jc(e,r),i=x2(null,e,n,t,i,r);var s=v2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(n)?(s=!0,rp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h2(e),i.updater=$g,e.stateNode=i,i._reactInternals=e,Tv(e,n,t,r),e=Dv(null,e,n,!0,s,r)):(e.tag=0,it&&s&&a2(e),Sr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nm(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=O_(n),t=ri(n,t),i){case 0:e=Iv(null,e,n,t,r);break e;case 1:e=PN(null,e,n,t,r);break e;case 11:e=SN(null,e,n,t,r);break e;case 14:e=kN(null,e,n,ri(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),Iv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),PN(t,e,n,i,r);case 3:e:{if(WC(e),t===null)throw Error(J(387));n=e.pendingProps,s=e.memoizedState,i=s.element,xC(t,e),op(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ju(Error(J(423)),e),e=CN(t,e,n,r,i);break e}else if(n!==i){i=Ju(Error(J(424)),e),e=CN(t,e,n,r,i);break e}else for(fn=Wa(e.stateNode.containerInfo.firstChild),hn=e,it=!0,fi=null,r=gC(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yu(),n===i){e=Fs(t,e,r);break e}Sr(t,e,n,r)}e=e.child}return e;case 5:return vC(e),t===null&&kv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,jv(n,i)?a=null:s!==null&&jv(n,s)&&(e.flags|=32),HC(t,e),Sr(t,e,a,r),e.child;case 6:return t===null&&kv(e),null;case 13:return GC(t,e,r);case 4:return m2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qu(e,null,n,r):Sr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),SN(t,e,n,i,r);case 7:return Sr(t,e,e.pendingProps,r),e.child;case 8:return Sr(t,e,e.pendingProps.children,r),e.child;case 12:return Sr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,qe(sp,n._currentValue),n._currentValue=a,s!==null)if(wi(s.value,a)){if(s.children===i.children&&!Gr.current){e=Fs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ps(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Pv(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(J(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Pv(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Sr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Jc(e,r),i=Kn(i),n=n(i),e.flags|=1,Sr(t,e,n,r),e.child;case 14:return n=e.type,i=ri(n,e.pendingProps),i=ri(n.type,i),kN(t,e,n,i,r);case 15:return VC(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),Nm(t,e),e.tag=1,Kr(n)?(t=!0,rp(e)):t=!1,Jc(e,r),FC(e,n,i),Tv(e,n,i,r),Dv(null,e,n,!0,t,r);case 19:return KC(t,e,r);case 22:return zC(t,e,r)}throw Error(J(156,e.tag))};function c4(t,e){return LP(t,e)}function T_(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,r,n){return new T_(t,e,r,n)}function C2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O_(t){if(typeof t=="function")return C2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qw)return 11;if(t===Yw)return 14}return 2}function Ya(t,e){var r=t.alternate;return r===null?(r=Hn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Sm(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")C2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Nc:return Pl(r.children,i,s,e);case Kw:a=8,i|=8;break;case ev:return t=Hn(12,r,e,i|2),t.elementType=ev,t.lanes=s,t;case tv:return t=Hn(13,r,e,i),t.elementType=tv,t.lanes=s,t;case rv:return t=Hn(19,r,e,i),t.elementType=rv,t.lanes=s,t;case vP:return Hg(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yP:a=10;break e;case xP:a=9;break e;case Qw:a=11;break e;case Yw:a=14;break e;case fa:a=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Hn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Pl(t,e,r,n){return t=Hn(7,t,n,e),t.lanes=r,t}function Hg(t,e,r,n){return t=Hn(22,t,n,e),t.elementType=vP,t.lanes=r,t.stateNode={isHidden:!1},t}function U1(t,e,r){return t=Hn(6,t,null,e),t.lanes=r,t}function $1(t,e,r){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I_(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w1(0),this.expirationTimes=w1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w1(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T2(t,e,r,n,i,s,a,l,c){return t=new I_(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},h2(s),t}function D_(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function u4(t){if(!t)return ro;t=t._reactInternals;e:{if(rc(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(Kr(r))return uC(t,r,e)}return e}function d4(t,e,r,n,i,s,a,l,c){return t=T2(r,n,!0,t,i,s,a,l,c),t.context=u4(null),r=t.current,n=Dr(),i=Qa(r),s=Ps(n,i),s.callback=e??null,Ga(r,s,i),t.current.lanes=i,z0(t,i,n),Qr(t,n),t}function Wg(t,e,r,n){var i=e.current,s=Dr(),a=Qa(i);return r=u4(r),e.context===null?e.context=r:e.pendingContext=r,e=Ps(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ga(i,e,a),t!==null&&(bi(t,i,a,s),bm(t,i,a)),a}function pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O2(t,e){FN(t,e),(t=t.alternate)&&FN(t,e)}function R_(){return null}var f4=typeof reportError=="function"?reportError:function(t){console.error(t)};function I2(t){this._internalRoot=t}Gg.prototype.render=I2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Wg(t,e,null,null)};Gg.prototype.unmount=I2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zl(function(){Wg(null,t,null,null)}),e[_s]=null}};function Gg(t){this._internalRoot=t}Gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=zP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ya.length&&e!==0&&e<ya[r].priority;r++);ya.splice(r,0,t),r===0&&WP(t)}};function D2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UN(){}function M_(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=pp(a);s.call(u)}}var a=d4(e,n,t,0,null,!1,!1,"",UN);return t._reactRootContainer=a,t[_s]=a.current,Kf(t.nodeType===8?t.parentNode:t),zl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=pp(c);l.call(u)}}var c=T2(t,0,!1,null,null,!1,!1,"",UN);return t._reactRootContainer=c,t[_s]=c.current,Kf(t.nodeType===8?t.parentNode:t),zl(function(){Wg(e,c,r,n)}),c}function Qg(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=pp(a);l.call(c)}}Wg(e,a,t,i)}else a=M_(r,e,t,i,n);return pp(a)}$P=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=df(e.pendingLanes);r!==0&&(Jw(e,r|1),Qr(e,wt()),!(Te&6)&&(Zu=wt()+500,xo()))}break;case 13:zl(function(){var n=Bs(t,1);if(n!==null){var i=Dr();bi(n,t,1,i)}}),O2(t,1)}};Zw=function(t){if(t.tag===13){var e=Bs(t,134217728);if(e!==null){var r=Dr();bi(e,t,134217728,r)}O2(t,134217728)}};VP=function(t){if(t.tag===13){var e=Qa(t),r=Bs(t,e);if(r!==null){var n=Dr();bi(r,t,e,n)}O2(t,e)}};zP=function(){return Be};HP=function(t,e){var r=Be;try{return Be=t,e()}finally{Be=r}};fv=function(t,e,r){switch(e){case"input":if(sv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Bg(n);if(!i)throw Error(J(90));wP(n),sv(n,i)}}}break;case"textarea":NP(t,r);break;case"select":e=r.value,e!=null&&Qc(t,!!r.multiple,e,!1)}};TP=S2;OP=zl;var L_={usingClientEntryPoint:!1,Events:[W0,kc,Bg,PP,CP,S2]},Gd={findFiberByHostInstance:Ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RP(t),t===null?null:t.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||R_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Rg=Bh.inject(__),Wi=Bh}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_;Nn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D2(e))throw Error(J(200));return D_(t,e,null,r)};Nn.createRoot=function(t,e){if(!D2(t))throw Error(J(299));var r=!1,n="",i=f4;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T2(t,1,!1,null,null,r,!1,n,i),t[_s]=e.current,Kf(t.nodeType===8?t.parentNode:t),new I2(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=RP(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return zl(t)};Nn.hydrate=function(t,e,r){if(!Kg(e))throw Error(J(200));return Qg(null,t,e,!0,r)};Nn.hydrateRoot=function(t,e,r){if(!D2(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=f4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=d4(e,null,t,1,r??null,i,!1,s,a),t[_s]=e.current,Kf(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Gg(e)};Nn.render=function(t,e,r){if(!Kg(e))throw Error(J(200));return Qg(null,t,e,!1,r)};Nn.unmountComponentAtNode=function(t){if(!Kg(t))throw Error(J(40));return t._reactRootContainer?(zl(function(){Qg(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};Nn.unstable_batchedUpdates=S2;Nn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Kg(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Qg(t,e,r,!1,n)};Nn.version="18.3.1-next-f1338f8080-20240426";function h4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h4)}catch(t){console.error(t)}}h4(),hP.exports=Nn;var m4=hP.exports,p4,$N=m4;p4=$N.createRoot,$N.hydrateRoot;const g4=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Yg=p.createContext({}),qg=p.createContext(null),Xg=typeof document<"u",R2=Xg?p.useLayoutEffect:p.useEffect,y4=p.createContext({strict:!1}),M2=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),B_="framerAppearId",x4="data-"+M2(B_);function F_(t,e,r,n){const{visualElement:i}=p.useContext(Yg),s=p.useContext(y4),a=p.useContext(qg),l=p.useContext(g4).reducedMotion,c=p.useRef();n=n||s.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:i,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(r,a)});const d=p.useRef(!!(r[x4]&&!window.HandoffComplete));return R2(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Rc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function U_(t,e,r){return p.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Rc(r)&&(r.current=n))},[e])}function r0(t){return typeof t=="string"||Array.isArray(t)}function Jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const L2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_2=["initial",...L2];function Zg(t){return Jg(t.animate)||_2.some(e=>r0(t[e]))}function v4(t){return!!(Zg(t)||t.variants)}function $_(t,e){if(Zg(t)){const{initial:r,animate:n}=t;return{initial:r===!1||r0(r)?r:void 0,animate:r0(n)?n:void 0}}return t.inherit!==!1?e:{}}function V_(t){const{initial:e,animate:r}=$_(t,p.useContext(Yg));return p.useMemo(()=>({initial:e,animate:r}),[VN(e),VN(r)])}function VN(t){return Array.isArray(t)?t.join(" "):t}const zN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},n0={};for(const t in zN)n0[t]={isEnabled:e=>zN[t].some(r=>!!e[r])};function z_(t){for(const e in t)n0[e]={...n0[e],...t[e]}}const B2=p.createContext({}),b4=p.createContext({}),H_=Symbol.for("motionComponentSymbol");function W_({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&z_(t);function s(l,c){let u;const d={...p.useContext(g4),...l,layoutId:G_(l)},{isStatic:f}=d,h=V_(l),m=n(l,f);if(!f&&Xg){h.visualElement=F_(i,m,d,e);const g=p.useContext(b4),y=p.useContext(y4).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,y,t,g))}return p.createElement(Yg.Provider,{value:h},u&&h.visualElement?p.createElement(u,{visualElement:h.visualElement,...d}):null,r(i,l,U_(m,h.visualElement,c),m,f,h.visualElement))}const a=p.forwardRef(s);return a[H_]=i,a}function G_({layoutId:t}){const e=p.useContext(B2).id;return e&&t!==void 0?e+"-"+t:t}function K_(t){function e(n,i={}){return W_(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const Q_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F2(t){return typeof t!="string"||t.includes("-")?!1:!!(Q_.indexOf(t)>-1||/[A-Z]/.test(t))}const gp={};function Y_(t){Object.assign(gp,t)}const K0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nc=new Set(K0);function w4(t,{layout:e,layoutId:r}){return nc.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!gp[t]||t==="opacity")}const qr=t=>!!(t&&t.getVelocity),q_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},X_=K0.length;function J_(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let a=0;a<X_;a++){const l=K0[a];if(t[l]!==void 0){const c=q_[l]||l;s+=`${c}(${t[l]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const j4=t=>e=>typeof e=="string"&&e.startsWith(t),N4=j4("--"),Wv=j4("var(--"),Z_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,eB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,no=(t,e,r)=>Math.min(Math.max(r,t),e),ic={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tf={...ic,transform:t=>no(0,1,t)},Fh={...ic,default:1},Of=t=>Math.round(t*1e5)/1e5,ey=/(-)?([\d]*\.?[\d])+/g,A4=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,tB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Q0(t){return typeof t=="string"}const Y0=t=>({test:e=>Q0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ua=Y0("deg"),Ki=Y0("%"),ge=Y0("px"),rB=Y0("vh"),nB=Y0("vw"),HN={...Ki,parse:t=>Ki.parse(t)/100,transform:t=>Ki.transform(t*100)},WN={...ic,transform:Math.round},E4={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,size:ge,top:ge,right:ge,bottom:ge,left:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:ua,skewX:ua,skewY:ua,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Tf,originX:HN,originY:HN,originZ:ge,zIndex:WN,fillOpacity:Tf,strokeOpacity:Tf,numOctaves:WN};function U2(t,e,r,n){const{style:i,vars:s,transform:a,transformOrigin:l}=t;let c=!1,u=!1,d=!0;for(const f in e){const h=e[f];if(N4(f)){s[f]=h;continue}const m=E4[f],g=eB(h,m);if(nc.has(f)){if(c=!0,a[f]=g,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,l[f]=g):i[f]=g}if(e.transform||(c||n?i.transform=J_(t.transform,r,d,n):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=l;i.transformOrigin=`${f} ${h} ${m}`}}const $2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S4(t,e,r){for(const n in e)!qr(e[n])&&!w4(n,r)&&(t[n]=e[n])}function iB({transformTemplate:t},e,r){return p.useMemo(()=>{const n=$2();return U2(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function sB(t,e,r){const n=t.style||{},i={};return S4(i,n,t),Object.assign(i,iB(t,e,r)),t.transformValues?t.transformValues(i):i}function aB(t,e,r){const n={},i=sB(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const oB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oB.has(t)}let k4=t=>!yp(t);function lB(t){t&&(k4=e=>e.startsWith("on")?!yp(e):t(e))}try{lB(require("@emotion/is-prop-valid").default)}catch{}function cB(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(k4(i)||r===!0&&yp(i)||!e&&!yp(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function GN(t,e,r){return typeof t=="string"?t:ge.transform(e+r*t)}function uB(t,e,r){const n=GN(e,t.x,t.width),i=GN(r,t.y,t.height);return`${n} ${i}`}const dB={offset:"stroke-dashoffset",array:"stroke-dasharray"},fB={offset:"strokeDashoffset",array:"strokeDasharray"};function hB(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?dB:fB;t[s.offset]=ge.transform(-n);const a=ge.transform(e),l=ge.transform(r);t[s.array]=`${a} ${l}`}function V2(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f,h){if(U2(t,u,d,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:y}=t;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=uB(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&hB(m,a,l,c,!1)}const P4=()=>({...$2(),attrs:{}}),z2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mB(t,e,r,n){const i=p.useMemo(()=>{const s=P4();return V2(s,e,{enableHardwareAcceleration:!1},z2(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};S4(s,t.style,t),i.style={...s,...i.style}}return i}function pB(t=!1){return(r,n,i,{latestValues:s},a)=>{const c=(F2(r)?mB:aB)(n,s,a,r),d={...cB(n,typeof r=="string",t),...c,ref:i},{children:f}=n,h=p.useMemo(()=>qr(f)?f.get():f,[f]);return p.createElement(r,{...d,children:h})}}function C4(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const T4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O4(t,e,r,n){C4(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(T4.has(i)?i:M2(i),e.attrs[i])}function H2(t,e){const{style:r}=t,n={};for(const i in r)(qr(r[i])||e.style&&qr(e.style[i])||w4(i,t))&&(n[i]=r[i]);return n}function I4(t,e){const r=H2(t,e);for(const n in t)if(qr(t[n])||qr(e[n])){const i=K0.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function W2(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function D4(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const xp=t=>Array.isArray(t),gB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yB=t=>xp(t)?t[t.length-1]||0:t;function km(t){const e=qr(t)?t.get():t;return gB(e)?e.toValue():e}function xB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const a={latestValues:vB(n,i,s,t),renderState:e()};return r&&(a.mount=l=>r(n,l,a)),a}const R4=t=>(e,r)=>{const n=p.useContext(Yg),i=p.useContext(qg),s=()=>xB(t,e,n,i);return r?s():D4(s)};function vB(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=km(s[h]);let{initial:a,animate:l}=t;const c=Zg(t),u=v4(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;return f&&typeof f!="boolean"&&!Jg(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const g=W2(t,m);if(!g)return;const{transitionEnd:y,transition:w,...x}=g;for(const v in x){let b=x[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in y)i[v]=y[v]}),i}const At=t=>t;class KN{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function bB(t){let e=new KN,r=new KN,n=0,i=!1,s=!1;const a=new WeakSet,l={schedule:(c,u=!1,d=!1)=>{const f=d&&i,h=f?e:r;return u&&a.add(c),h.add(c)&&f&&i&&(n=e.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.clear(),n=e.order.length,n)for(let u=0;u<n;u++){const d=e.order[u];d(c),a.has(d)&&(l.schedule(d),t())}i=!1,s&&(s=!1,l.process(c))}};return l}const Uh=["prepare","read","update","preRender","render","postRender"],wB=40;function jB(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Uh.reduce((f,h)=>(f[h]=bB(()=>r=!0),f),{}),a=f=>s[f].process(i),l=()=>{const f=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(f-i.timestamp,wB),1),i.timestamp=f,i.isProcessing=!0,Uh.forEach(a),i.isProcessing=!1,r&&e&&(n=!1,t(l))},c=()=>{r=!0,n=!0,i.isProcessing||t(l)};return{schedule:Uh.reduce((f,h)=>{const m=s[h];return f[h]=(g,y=!1,w=!1)=>(r||c(),m.schedule(g,y,w)),f},{}),cancel:f=>Uh.forEach(h=>s[h].cancel(f)),state:i,steps:s}}const{schedule:Xe,cancel:Us,state:pr,steps:V1}=jB(typeof requestAnimationFrame<"u"?requestAnimationFrame:At,!0),NB={useVisualState:R4({scrapeMotionValuesFromProps:I4,createRenderState:P4,onMount:(t,e,{renderState:r,latestValues:n})=>{Xe.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Xe.render(()=>{V2(r,n,{enableHardwareAcceleration:!1},z2(e.tagName),t.transformTemplate),O4(e,r)})}})},AB={useVisualState:R4({scrapeMotionValuesFromProps:H2,createRenderState:$2})};function EB(t,{forwardMotionProps:e=!1},r,n){return{...F2(t)?NB:AB,preloadedFeatures:r,useRender:pB(e),createVisualElement:n,Component:t}}function Ns(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const M4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ty(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const SB=t=>e=>M4(e)&&t(e,ty(e));function Cs(t,e,r,n){return Ns(t,e,SB(r),n)}const kB=(t,e)=>r=>e(t(r)),qa=(...t)=>t.reduce(kB);function L4(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const QN=L4("dragHorizontal"),YN=L4("dragVertical");function _4(t){let e=!1;if(t==="y")e=YN();else if(t==="x")e=QN();else{const r=QN(),n=YN();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function B4(){const t=_4(!0);return t?(t(),!1):!0}class vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qN(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||B4())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[n]&&Xe.update(()=>l[n](s,a))};return Cs(t.current,r,i,{passive:!t.getProps()[n]})}class PB extends vo{mount(){this.unmount=qa(qN(this.node,!0),qN(this.node,!1))}unmount(){}}class CB extends vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qa(Ns(this.node.current,"focus",()=>this.onFocus()),Ns(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const F4=(t,e)=>e?t===e?!0:F4(t,e.parentElement):!1;function z1(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,ty(r))}class TB extends vo{constructor(){super(...arguments),this.removeStartListeners=At,this.removeEndListeners=At,this.removeAccessibleListeners=At,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),s=Cs(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();Xe.update(()=>{!f&&!F4(this.node.current,l.target)?d&&d(l,c):u&&u(l,c)})},{passive:!(n.onTap||n.onPointerUp)}),a=Cs(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=qa(s,a),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||z1("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Xe.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Ns(this.node.current,"keyup",a),z1("down",(l,c)=>{this.startPress(l,c)})},r=Ns(this.node.current,"keydown",e),n=()=>{this.isPressing&&z1("cancel",(s,a)=>this.cancelPress(s,a))},i=Ns(this.node.current,"blur",n);this.removeAccessibleListeners=qa(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Xe.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!B4()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Xe.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=Cs(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=Ns(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=qa(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Gv=new WeakMap,H1=new WeakMap,OB=t=>{const e=Gv.get(t.target);e&&e(t)},IB=t=>{t.forEach(OB)};function DB({root:t,...e}){const r=t||document;H1.has(r)||H1.set(r,{});const n=H1.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(IB,{root:t,...e})),n[i]}function RB(t,e,r){const n=DB(e);return Gv.set(t,r),n.observe(t),()=>{Gv.delete(t),n.unobserve(t)}}const MB={some:0,all:1};class LB extends vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:MB[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return RB(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(_B(e,r))&&this.startObserver()}unmount(){}}function _B({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const BB={inView:{Feature:LB},tap:{Feature:TB},focus:{Feature:CB},hover:{Feature:PB}};function U4(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function FB(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function UB(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function ry(t,e,r){const n=t.getProps();return W2(n,e,r!==void 0?r:n.custom,FB(t),UB(t))}let G2=At;const Cl=t=>t*1e3,Ts=t=>t/1e3,$B={current:!1},$4=t=>Array.isArray(t)&&typeof t[0]=="number";function V4(t){return!!(!t||typeof t=="string"&&z4[t]||$4(t)||Array.isArray(t)&&t.every(V4))}const hf=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,z4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hf([0,.65,.55,1]),circOut:hf([.55,0,1,.45]),backIn:hf([.31,.01,.66,-.59]),backOut:hf([.33,1.53,.69,.99])};function H4(t){if(t)return $4(t)?hf(t):Array.isArray(t)?t.map(H4):z4[t]}function VB(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:a="loop",ease:l,times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=H4(l);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function zB(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const W4=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,HB=1e-7,WB=12;function GB(t,e,r,n,i){let s,a,l=0;do a=e+(r-e)/2,s=W4(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>HB&&++l<WB);return a}function q0(t,e,r,n){if(t===e&&r===n)return At;const i=s=>GB(s,0,1,t,r);return s=>s===0||s===1?s:W4(i(s),e,n)}const KB=q0(.42,0,1,1),QB=q0(0,0,.58,1),G4=q0(.42,0,.58,1),YB=t=>Array.isArray(t)&&typeof t[0]!="number",K4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Q4=t=>e=>1-t(1-e),K2=t=>1-Math.sin(Math.acos(t)),Y4=Q4(K2),qB=K4(K2),q4=q0(.33,1.53,.69,.99),Q2=Q4(q4),XB=K4(Q2),JB=t=>(t*=2)<1?.5*Q2(t):.5*(2-Math.pow(2,-10*(t-1))),ZB={linear:At,easeIn:KB,easeInOut:G4,easeOut:QB,circIn:K2,circInOut:qB,circOut:Y4,backIn:Q2,backInOut:XB,backOut:q4,anticipate:JB},XN=t=>{if(Array.isArray(t)){G2(t.length===4);const[e,r,n,i]=t;return q0(e,r,n,i)}else if(typeof t=="string")return ZB[t];return t},Y2=(t,e)=>r=>!!(Q0(r)&&tB.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),X4=(t,e,r)=>n=>{if(!Q0(n))return n;const[i,s,a,l]=n.match(ey);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},eF=t=>no(0,255,t),W1={...ic,transform:t=>Math.round(eF(t))},qo={test:Y2("rgb","red"),parse:X4("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+W1.transform(t)+", "+W1.transform(e)+", "+W1.transform(r)+", "+Of(Tf.transform(n))+")"};function tF(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Kv={test:Y2("#"),parse:tF,transform:qo.transform},Mc={test:Y2("hsl","hue"),parse:X4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ki.transform(Of(e))+", "+Ki.transform(Of(r))+", "+Of(Tf.transform(n))+")"},Er={test:t=>qo.test(t)||Kv.test(t)||Mc.test(t),parse:t=>qo.test(t)?qo.parse(t):Mc.test(t)?Mc.parse(t):Kv.parse(t),transform:t=>Q0(t)?t:t.hasOwnProperty("red")?qo.transform(t):Mc.transform(t)},dt=(t,e,r)=>-r*t+r*e+t;function G1(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function rF({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=G1(c,l,t+1/3),s=G1(c,l,t),a=G1(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}const K1=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},nF=[Kv,qo,Mc],iF=t=>nF.find(e=>e.test(t));function JN(t){const e=iF(t);let r=e.parse(t);return e===Mc&&(r=rF(r)),r}const J4=(t,e)=>{const r=JN(t),n=JN(e),i={...r};return s=>(i.red=K1(r.red,n.red,s),i.green=K1(r.green,n.green,s),i.blue=K1(r.blue,n.blue,s),i.alpha=dt(r.alpha,n.alpha,s),qo.transform(i))};function sF(t){var e,r;return isNaN(t)&&Q0(t)&&(((e=t.match(ey))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(A4))===null||r===void 0?void 0:r.length)||0)>0}const Z4={regex:Z_,countKey:"Vars",token:"${v}",parse:At},e8={regex:A4,countKey:"Colors",token:"${c}",parse:Er.parse},t8={regex:ey,countKey:"Numbers",token:"${n}",parse:ic.parse};function Q1(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function vp(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Q1(r,Z4),Q1(r,e8),Q1(r,t8),r}function r8(t){return vp(t).values}function n8(t){const{values:e,numColors:r,numVars:n,tokenised:i}=vp(t),s=e.length;return a=>{let l=i;for(let c=0;c<s;c++)c<n?l=l.replace(Z4.token,a[c]):c<n+r?l=l.replace(e8.token,Er.transform(a[c])):l=l.replace(t8.token,Of(a[c]));return l}}const aF=t=>typeof t=="number"?0:t;function oF(t){const e=r8(t);return n8(t)(e.map(aF))}const io={test:sF,parse:r8,createTransformer:n8,getAnimatableNone:oF},i8=(t,e)=>r=>`${r>0?e:t}`;function s8(t,e){return typeof t=="number"?r=>dt(t,e,r):Er.test(t)?J4(t,e):t.startsWith("var(")?i8(t,e):o8(t,e)}const a8=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,a)=>s8(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}},lF=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=s8(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},o8=(t,e)=>{const r=io.createTransformer(e),n=vp(t),i=vp(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?qa(a8(n.values,i.values),r):i8(t,e)},i0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},ZN=(t,e)=>r=>dt(t,e,r);function cF(t){return typeof t=="number"?ZN:typeof t=="string"?Er.test(t)?J4:o8:Array.isArray(t)?a8:typeof t=="object"?lF:ZN}function uF(t,e,r){const n=[],i=r||cF(t[0]),s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||At:e;l=qa(c,l)}n.push(l)}return n}function l8(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(G2(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=uF(e,n,i),l=a.length,c=u=>{let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=i0(t[d],t[d+1],u);return a[d](f)};return r?u=>c(no(t[0],t[s-1],u)):c}function dF(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=i0(0,e,n);t.push(dt(r,1,i))}}function fF(t){const e=[0];return dF(e,t.length-1),e}function hF(t,e){return t.map(r=>r*e)}function mF(t,e){return t.map(()=>e||G4).splice(0,t.length-1)}function bp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=YB(n)?n.map(XN):XN(n),s={done:!1,value:e[0]},a=hF(r&&r.length===e.length?r:fF(e),t),l=l8(a,e,{ease:Array.isArray(i)?i:mF(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}function c8(t,e){return e?t*(1e3/e):0}const pF=5;function u8(t,e,r){const n=Math.max(e-pF,0);return c8(r-t(n),e-n)}const Y1=.001,gF=.01,yF=10,xF=.05,vF=1;function bF({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s,a=1-e;a=no(xF,vF,a),t=no(gF,yF,Ts(t)),a<1?(i=u=>{const d=u*a,f=d*t,h=d-r,m=Qv(u,a),g=Math.exp(-f);return Y1-h/m*g},s=u=>{const f=u*a*t,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*t,g=Math.exp(-f),y=Qv(Math.pow(u,2),a);return(-i(u)+Y1>0?-1:1)*((h-m)*g)/y}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-Y1+d*f},s=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const l=5/t,c=jF(i,s,l);if(t=Cl(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const wF=12;function jF(t,e,r){let n=r;for(let i=1;i<wF;i++)n=n-t(n)/e(n);return n}function Qv(t,e){return t*Math.sqrt(1-e*e)}const NF=["duration","bounce"],AF=["stiffness","damping","mass"];function eA(t,e){return e.some(r=>t[r]!==void 0)}function EF(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!eA(t,AF)&&eA(t,NF)){const r=bF(t);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function d8({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=EF({...n,velocity:-Ts(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),y=s-i,w=Ts(Math.sqrt(l/u)),x=Math.abs(y)<5;r||(r=x?.01:2),e||(e=x?.005:.5);let v;if(g<1){const b=Qv(w,g);v=j=>{const E=Math.exp(-g*w*j);return s-E*((m+g*w*y)/b*Math.sin(b*j)+y*Math.cos(b*j))}}else if(g===1)v=b=>s-Math.exp(-w*b)*(y+(m+w*y)*b);else{const b=w*Math.sqrt(g*g-1);v=j=>{const E=Math.exp(-g*w*j),S=Math.min(b*j,300);return s-E*((m+g*w*y)*Math.sinh(S)+b*y*Math.cosh(S))/b}}return{calculatedDuration:h&&d||null,next:b=>{const j=v(b);if(h)a.done=b>=d;else{let E=m;b!==0&&(g<1?E=u8(v,b,j):E=0);const S=Math.abs(E)<=r,k=Math.abs(s-j)<=e;a.done=S&&k}return a.value=a.done?s:j,a}}}function tA({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],h={done:!1,value:f},m=N=>l!==void 0&&N<l||c!==void 0&&N>c,g=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let y=r*e;const w=f+y,x=a===void 0?w:a(w);x!==w&&(y=x-f);const v=N=>-y*Math.exp(-N/n),b=N=>x+v(N),j=N=>{const C=v(N),R=b(N);h.done=Math.abs(C)<=u,h.value=h.done?x:R};let E,S;const k=N=>{m(h.value)&&(E=N,S=d8({keyframes:[h.value,g(h.value)],velocity:u8(b,N,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:N=>{let C=!1;return!S&&E===void 0&&(C=!0,j(N),k(N)),E!==void 0&&N>E?S.next(N-E):(!C&&j(N),h)}}}const SF=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Xe.update(e,!0),stop:()=>Us(e),now:()=>pr.isProcessing?pr.timestamp:performance.now()}},rA=2e4;function nA(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<rA;)e+=r,n=t.next(e);return e>=rA?1/0:e}const kF={decay:tA,inertia:tA,tween:bp,keyframes:bp,spring:d8};function wp({autoplay:t=!0,delay:e=0,driver:r=SF,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,g=!1,y,w;const x=()=>{w=new Promise($=>{y=$})};x();let v;const b=kF[i]||bp;let j;b!==bp&&typeof n[0]!="number"&&(j=l8([0,100],n,{clamp:!1}),n=[0,100]);const E=b({...h,keyframes:n});let S;l==="mirror"&&(S=b({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let k="idle",N=null,C=null,R=null;E.calculatedDuration===null&&s&&(E.calculatedDuration=nA(E));const{calculatedDuration:D}=E;let B=1/0,z=1/0;D!==null&&(B=D+a,z=B*(s+1)-a);let Q=0;const T=$=>{if(C===null)return;m>0&&(C=Math.min(C,$)),m<0&&(C=Math.min($-z/m,C)),N!==null?Q=N:Q=Math.round($-C)*m;const G=Q-e*(m>=0?1:-1),fe=m>=0?G<0:G>z;Q=Math.max(G,0),k==="finished"&&N===null&&(Q=z);let pe=Q,ne=E;if(s){const Z=Math.min(Q,z)/B;let he=Math.floor(Z),xe=Z%1;!xe&&Z>=1&&(xe=1),xe===1&&he--,he=Math.min(he,s+1),!!(he%2)&&(l==="reverse"?(xe=1-xe,a&&(xe-=a/B)):l==="mirror"&&(ne=S)),pe=no(0,1,xe)*B}const ye=fe?{done:!1,value:n[0]}:ne.next(pe);j&&(ye.value=j(ye.value));let{done:Le}=ye;!fe&&D!==null&&(Le=m>=0?Q>=z:Q<=0);const Jt=N===null&&(k==="finished"||k==="running"&&Le);return f&&f(ye.value),Jt&&P(),ye},M=()=>{v&&v.stop(),v=void 0},F=()=>{k="idle",M(),y(),x(),C=R=null},P=()=>{k="finished",d&&d(),M(),y()},L=()=>{if(g)return;v||(v=r(T));const $=v.now();c&&c(),N!==null?C=$-N:(!C||k==="finished")&&(C=$),k==="finished"&&x(),R=C,N=null,k="running",v.start()};t&&L();const W={then($,G){return w.then($,G)},get time(){return Ts(Q)},set time($){$=Cl($),Q=$,N!==null||!v||m===0?N=$:C=v.now()-$/m},get duration(){const $=E.calculatedDuration===null?nA(E):E.calculatedDuration;return Ts($)},get speed(){return m},set speed($){$===m||!v||(m=$,W.time=Ts(Q))},get state(){return k},play:L,pause:()=>{k="paused",N=Q},stop:()=>{g=!0,k!=="idle"&&(k="idle",u&&u(),F())},cancel:()=>{R!==null&&T(R),F()},complete:()=>{k="finished"},sample:$=>(C=0,T($))};return W}function PF(t){let e;return()=>(e===void 0&&(e=t()),e)}const CF=PF(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),TF=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),$h=10,OF=2e4,IF=(t,e)=>e.type==="spring"||t==="backgroundColor"||!V4(e.ease);function DF(t,e,{onUpdate:r,onComplete:n,...i}){if(!(CF()&&TF.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const d=()=>{c=new Promise(b=>{l=b})};d();let{keyframes:f,duration:h=300,ease:m,times:g}=i;if(IF(e,i)){const b=wp({...i,repeat:0,delay:0});let j={done:!1,value:f[0]};const E=[];let S=0;for(;!j.done&&S<OF;)j=b.sample(S),E.push(j.value),S+=$h;g=void 0,f=E,h=S-$h,m="linear"}const y=VB(t.owner.current,e,f,{...i,duration:h,ease:m,times:g}),w=()=>{u=!1,y.cancel()},x=()=>{u=!0,Xe.update(w),l(),d()};return y.onfinish=()=>{u||(t.set(zB(f,i)),n&&n(),x())},{then(b,j){return c.then(b,j)},attachTimeline(b){return y.timeline=b,y.onfinish=null,At},get time(){return Ts(y.currentTime||0)},set time(b){y.currentTime=Cl(b)},get speed(){return y.playbackRate},set speed(b){y.playbackRate=b},get duration(){return Ts(h)},play:()=>{a||(y.play(),Us(w))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:b}=y;if(b){const j=wp({...i,autoplay:!1});t.setWithVelocity(j.sample(b-$h).value,j.sample(b).value,$h)}x()},complete:()=>{u||y.finish()},cancel:x}}function RF({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:At,pause:At,stop:At,then:s=>(s(),Promise.resolve()),cancel:At,complete:At});return e?wp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const MF={type:"spring",stiffness:500,damping:25,restSpeed:10},LF=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_F={type:"keyframes",duration:.8},BF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FF=(t,{keyframes:e})=>e.length>2?_F:nc.has(t)?t.startsWith("scale")?LF(e[1]):MF:BF,Yv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(io.test(e)||e==="0")&&!e.startsWith("url(")),UF=new Set(["brightness","contrast","saturate","opacity"]);function $F(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(ey)||[];if(!n)return t;const i=r.replace(n,"");let s=UF.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const VF=/([a-z-]*)\(.*?\)/g,qv={...io,getAnimatableNone:t=>{const e=t.match(VF);return e?e.map($F).join(" "):t}},zF={...E4,color:Er,backgroundColor:Er,outlineColor:Er,fill:Er,stroke:Er,borderColor:Er,borderTopColor:Er,borderRightColor:Er,borderBottomColor:Er,borderLeftColor:Er,filter:qv,WebkitFilter:qv},q2=t=>zF[t];function f8(t,e){let r=q2(t);return r!==qv&&(r=io),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const h8=t=>/^0[^.\s]+$/.test(t);function HF(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||h8(t)}function WF(t,e,r,n){const i=Yv(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const a=n.from!==void 0?n.from:t.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?a:s[u-1]),HF(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(i&&c.length&&l)for(let u=0;u<c.length;u++){const d=c[u];s[d]=f8(e,l)}return s}function GF({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function X2(t,e){return t[e]||t.default||t}const KF={skipAnimations:!1},J2=(t,e,r,n={})=>i=>{const s=X2(n,t)||{},a=s.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Cl(a);const c=WF(e,t,r,s),u=c[0],d=c[c.length-1],f=Yv(t,u),h=Yv(t,d);let m={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(GF(s)||(m={...m,...FF(t,m)}),m.duration&&(m.duration=Cl(m.duration)),m.repeatDelay&&(m.repeatDelay=Cl(m.repeatDelay)),!f||!h||$B.current||s.type===!1||KF.skipAnimations)return RF(m);if(!n.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=DF(e,t,m);if(g)return g}return wp(m)};function jp(t){return!!(qr(t)&&t.add)}const m8=t=>/^\-?\d*\.?\d+$/.test(t);function Z2(t,e){t.indexOf(e)===-1&&t.push(e)}function e5(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class t5{constructor(){this.subscriptions=[]}add(e){return Z2(this.subscriptions,e),()=>e5(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const QF=t=>!isNaN(parseFloat(t));class YF{constructor(e,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:a}=pr;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=QF(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new t5);const n=this.events[e].add(r);return e==="change"?()=>{n(),Xe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?c8(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ed(t,e){return new YF(t,e)}const p8=t=>e=>e.test(t),qF={test:t=>t==="auto",parse:t=>t},g8=[ic,ge,Ki,ua,nB,rB,qF],Kd=t=>g8.find(p8(t)),XF=[...g8,Er,io],JF=t=>XF.find(p8(t));function ZF(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ed(r))}function eU(t,e){const r=ry(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const a in s){const l=yB(s[a]);ZF(t,a,l)}}function tU(t,e,r){var n,i;const s=Object.keys(e).filter(l=>!t.hasValue(l)),a=s.length;if(a)for(let l=0;l<a;l++){const c=s[l],u=e[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(n=r[c])!==null&&n!==void 0?n:t.readValue(c))!==null&&i!==void 0?i:e[c]),d!=null&&(typeof d=="string"&&(m8(d)||h8(d))?d=parseFloat(d):!JF(d)&&io.test(u)&&(d=f8(c,u)),t.addValue(c,ed(d,{owner:t})),r[c]===void 0&&(r[c]=d),d!==null&&t.setBaseTarget(c,d))}}function rU(t,e){return e?(e[t]||e.default||e).from:void 0}function nU(t,e,r){const n={};for(const i in t){const s=rU(i,e);if(s!==void 0)n[i]=s;else{const a=r.getValue(i);a&&(n[i]=a.get())}}return n}function iU({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function sU(t,e){const r=t.get();if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n]!==r)return!0}else return r!==e}function y8(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");n&&(s=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f),m=l[f];if(!h||m===void 0||d&&iU(d,f))continue;const g={delay:r,elapsed:0,...X2(s||{},f)};if(window.HandoffAppearAnimations){const x=t.getProps()[x4];if(x){const v=window.HandoffAppearAnimations(x,f,h,Xe);v!==null&&(g.elapsed=v,g.isHandoff=!0)}}let y=!g.isHandoff&&!sU(h,m);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(J2(f,h,m,t.shouldReduceMotion&&nc.has(f)?{type:!1}:g));const w=h.animation;jp(c)&&(c.add(f),w.then(()=>c.remove(f))),u.push(w)}return a&&Promise.all(u).then(()=>{a&&eU(t,a)}),u}function Xv(t,e,r={}){const n=ry(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(y8(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return aU(t,e,u+c,d,f,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(r.delay)])}function aU(t,e,r=0,n=0,i=1,s){const a=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(oU).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(Xv(u,e,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function oU(t,e){return t.sortNodePosition(e)}function lU(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Xv(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Xv(t,e,r);else{const i=typeof e=="function"?ry(t,e,r.custom):e;n=Promise.all(y8(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const cU=[...L2].reverse(),uU=L2.length;function dU(t){return e=>Promise.all(e.map(({animation:r,options:n})=>lU(t,r,n)))}function fU(t){let e=dU(t);const r=mU();let n=!0;const i=(c,u)=>{const d=ry(t,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function s(c){e=c(t)}function a(c,u){const d=t.getProps(),f=t.getVariantContext(!0)||{},h=[],m=new Set;let g={},y=1/0;for(let x=0;x<uU;x++){const v=cU[x],b=r[v],j=d[v]!==void 0?d[v]:f[v],E=r0(j),S=v===u?b.isActive:null;S===!1&&(y=x);let k=j===f[v]&&j!==d[v]&&E;if(k&&n&&t.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...g},!b.isActive&&S===null||!j&&!b.prevProp||Jg(j)||typeof j=="boolean")continue;let C=hU(b.prevProp,j)||v===u&&b.isActive&&!k&&E||x>y&&E,R=!1;const D=Array.isArray(j)?j:[j];let B=D.reduce(i,{});S===!1&&(B={});const{prevResolvedValues:z={}}=b,Q={...z,...B},T=M=>{C=!0,m.has(M)&&(R=!0,m.delete(M)),b.needsAnimating[M]=!0};for(const M in Q){const F=B[M],P=z[M];if(g.hasOwnProperty(M))continue;let L=!1;xp(F)&&xp(P)?L=!U4(F,P):L=F!==P,L?F!==void 0?T(M):m.add(M):F!==void 0&&m.has(M)?T(M):b.protectedKeys[M]=!0}b.prevProp=j,b.prevResolvedValues=B,b.isActive&&(g={...g,...B}),n&&t.blockInitialAnimation&&(C=!1),C&&(!k||R)&&h.push(...D.map(M=>({animation:M,options:{type:v,...c}})))}if(m.size){const x={};m.forEach(v=>{const b=t.getBaseTarget(v);b!==void 0&&(x[v]=b)}),h.push({animation:x})}let w=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(h):Promise.resolve()}function l(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),r[c].isActive=u;const h=a(d,c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r}}function hU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!U4(e,t):!1}function Co(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mU(){return{animate:Co(!0),whileInView:Co(),whileHover:Co(),whileTap:Co(),whileDrag:Co(),whileFocus:Co(),exit:Co()}}class pU extends vo{constructor(e){super(e),e.animationState||(e.animationState=fU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Jg(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let gU=0;class yU extends vo{constructor(){super(...arguments),this.id=gU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xU={animation:{Feature:pU},exit:{Feature:yU}},iA=(t,e)=>Math.abs(t-e);function vU(t,e){const r=iA(t.x,e.x),n=iA(t.y,e.y);return Math.sqrt(r**2+n**2)}class x8{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=X1(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=vU(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:g}=f,{timestamp:y}=pr;this.history.push({...g,timestamp:y});const{onStart:w,onMove:x}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=q1(h,this.transformPagePoint),Xe.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=X1(f.type==="pointercancel"?this.lastMoveEventInfo:q1(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),g&&g(f,w)},!M4(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const a=ty(e),l=q1(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=pr;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,X1(l,this.history)),this.removeListeners=qa(Cs(this.contextWindow,"pointermove",this.handlePointerMove),Cs(this.contextWindow,"pointerup",this.handlePointerUp),Cs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Us(this.updatePoint)}}function q1(t,e){return e?{point:e(t.point)}:t}function sA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function X1({point:t},e){return{point:t,delta:sA(t,v8(e)),offset:sA(t,bU(e)),velocity:wU(e,.1)}}function bU(t){return t[0]}function v8(t){return t[t.length-1]}function wU(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=v8(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Cl(e)));)r--;if(!n)return{x:0,y:0};const s=Ts(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function yn(t){return t.max-t.min}function Jv(t,e=0,r=.01){return Math.abs(t-e)<=r}function aA(t,e,r,n=.5){t.origin=n,t.originPoint=dt(e.min,e.max,t.origin),t.scale=yn(r)/yn(e),(Jv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=dt(r.min,r.max,t.origin)-t.originPoint,(Jv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function If(t,e,r,n){aA(t.x,e.x,r.x,n?n.originX:void 0),aA(t.y,e.y,r.y,n?n.originY:void 0)}function oA(t,e,r){t.min=r.min+e.min,t.max=t.min+yn(e)}function jU(t,e,r){oA(t.x,e.x,r.x),oA(t.y,e.y,r.y)}function lA(t,e,r){t.min=e.min-r.min,t.max=t.min+yn(e)}function Df(t,e,r){lA(t.x,e.x,r.x),lA(t.y,e.y,r.y)}function NU(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?dt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?dt(r,t,n.max):Math.min(t,r)),t}function cA(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function AU(t,{top:e,left:r,bottom:n,right:i}){return{x:cA(t.x,r,i),y:cA(t.y,e,n)}}function uA(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function EU(t,e){return{x:uA(t.x,e.x),y:uA(t.y,e.y)}}function SU(t,e){let r=.5;const n=yn(t),i=yn(e);return i>n?r=i0(e.min,e.max-n,t.min):n>i&&(r=i0(t.min,t.max-i,e.min)),no(0,1,r)}function kU(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Zv=.35;function PU(t=Zv){return t===!1?t=0:t===!0&&(t=Zv),{x:dA(t,"left","right"),y:dA(t,"top","bottom")}}function dA(t,e,r){return{min:fA(t,e),max:fA(t,r)}}function fA(t,e){return typeof t=="number"?t:t[e]||0}const hA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:hA(),y:hA()}),mA=()=>({min:0,max:0}),kt=()=>({x:mA(),y:mA()});function In(t){return[t("x"),t("y")]}function b8({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function CU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TU(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function J1(t){return t===void 0||t===1}function eb({scale:t,scaleX:e,scaleY:r}){return!J1(t)||!J1(e)||!J1(r)}function Ro(t){return eb(t)||w8(t)||t.z||t.rotate||t.rotateX||t.rotateY}function w8(t){return pA(t.x)||pA(t.y)}function pA(t){return t&&t!=="0%"}function Np(t,e,r){const n=t-r,i=e*n;return r+i}function gA(t,e,r,n,i){return i!==void 0&&(t=Np(t,i,n)),Np(t,r,n)+e}function tb(t,e=0,r=1,n,i){t.min=gA(t.min,e,r,n,i),t.max=gA(t.max,e,r,n,i)}function j8(t,{x:e,y:r}){tb(t.x,e.translate,e.scale,e.originPoint),tb(t.y,r.translate,r.scale,r.originPoint)}function OU(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_c(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,j8(t,a)),n&&Ro(s.latestValues)&&_c(t,s.latestValues))}e.x=yA(e.x),e.y=yA(e.y)}function yA(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ma(t,e){t.min=t.min+e,t.max=t.max+e}function xA(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,a=dt(t.min,t.max,s);tb(t,e[r],e[n],a,e.scale)}const IU=["x","scaleX","originX"],DU=["y","scaleY","originY"];function _c(t,e){xA(t.x,e,IU),xA(t.y,e,DU)}function N8(t,e){return b8(TU(t.getBoundingClientRect(),e))}function RU(t,e,r){const n=N8(t,r),{scroll:i}=e;return i&&(ma(n.x,i.offset.x),ma(n.y,i.offset.y)),n}const A8=({current:t})=>t?t.ownerDocument.defaultView:null,MU=new WeakMap;class LU{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ty(d,"page").point)},s=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_4(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(w=>{let x=this.getAxisMotionValue(w).get()||0;if(Ki.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const b=v.layout.layoutBox[w];b&&(x=yn(b)*(parseFloat(x)/100))}}this.originPoint[w]=x}),g&&Xe.update(()=>g(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=_U(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(d,f)},l=(d,f)=>this.stop(d,f),c=()=>In(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new x8(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:A8(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Xe.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Vh(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=NU(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&Rc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=AU(i.layoutBox,r):this.constraints=!1,this.elastic=PU(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&In(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=kU(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Rc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=RU(n,i.root,this.visualElement.getTransformPagePoint());let a=EU(i.layout.layoutBox,s);if(r){const l=r(CU(a));this.hasMutatedConstraints=!!l,l&&(a=b8(l))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=In(d=>{if(!Vh(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(J2(e,n,0,r))}stopAnimation(){In(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){In(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){In(r=>{const{drag:n}=this.getProps();if(!Vh(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(e[r]-dt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Rc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};In(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();i[a]=SU({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),In(a=>{if(!Vh(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(dt(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;MU.set(this.visualElement,this);const e=this.visualElement.current,r=Cs(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Rc(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const a=Ns(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(In(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Zv,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Vh(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function _U(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class BU extends vo{constructor(e){super(e),this.removeGroupControls=At,this.removeListeners=At,this.controls=new LU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||At}unmount(){this.removeGroupControls(),this.removeListeners()}}const vA=t=>(e,r)=>{t&&Xe.update(()=>t(e,r))};class FU extends vo{constructor(){super(...arguments),this.removePointerDownListener=At}onPointerDown(e){this.session=new x8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:vA(e),onStart:vA(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Xe.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=Cs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UU(){const t=p.useContext(qg);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=p.useId();return p.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const Pm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const r=bA(t,e.target.x),n=bA(t,e.target.y);return`${r}% ${n}%`}},$U={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=io.parse(t);if(i.length>5)return n;const s=io.createTransformer(t),a=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const u=dt(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class VU extends Nd.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;Y_(zU),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Pm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Xe.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E8(t){const[e,r]=UU(),n=p.useContext(B2);return Nd.createElement(VU,{...t,layoutGroup:n,switchLayoutGroup:p.useContext(b4),isPresent:e,safeToRemove:r})}const zU={borderRadius:{...Qd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qd,borderTopRightRadius:Qd,borderBottomLeftRadius:Qd,borderBottomRightRadius:Qd,boxShadow:$U},S8=["TopLeft","TopRight","BottomLeft","BottomRight"],HU=S8.length,wA=t=>typeof t=="string"?parseFloat(t):t,jA=t=>typeof t=="number"||ge.test(t);function WU(t,e,r,n,i,s){i?(t.opacity=dt(0,r.opacity!==void 0?r.opacity:1,GU(n)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,KU(n))):s&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<HU;a++){const l=`border${S8[a]}Radius`;let c=NA(e,l),u=NA(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||jA(c)===jA(u)?(t[l]=Math.max(dt(wA(c),wA(u),n),0),(Ki.test(u)||Ki.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=dt(e.rotate||0,r.rotate||0,n))}function NA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GU=k8(0,.5,Y4),KU=k8(.5,.95,At);function k8(t,e,r){return n=>n<t?0:n>e?1:r(i0(t,e,n))}function AA(t,e){t.min=e.min,t.max=e.max}function kn(t,e){AA(t.x,e.x),AA(t.y,e.y)}function EA(t,e,r,n,i){return t-=e,t=Np(t,1/r,n),i!==void 0&&(t=Np(t,1/i,n)),t}function QU(t,e=0,r=1,n=.5,i,s=t,a=t){if(Ki.test(e)&&(e=parseFloat(e),e=dt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=dt(s.min,s.max,n);t===s&&(l-=e),t.min=EA(t.min,e,r,l,i),t.max=EA(t.max,e,r,l,i)}function SA(t,e,[r,n,i],s,a){QU(t,e[r],e[n],e[i],e.scale,s,a)}const YU=["x","scaleX","originX"],qU=["y","scaleY","originY"];function kA(t,e,r,n){SA(t.x,e,YU,r?r.x:void 0,n?n.x:void 0),SA(t.y,e,qU,r?r.y:void 0,n?n.y:void 0)}function PA(t){return t.translate===0&&t.scale===1}function P8(t){return PA(t.x)&&PA(t.y)}function XU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function C8(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function CA(t){return yn(t.x)/yn(t.y)}class JU{constructor(){this.members=[]}add(e){Z2(this.members,e),e.scheduleRender()}remove(e){if(e5(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function TA(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(n+=`scale(${a}, ${l})`),n||"none"}const ZU=(t,e)=>t.depth-e.depth;class e${constructor(){this.children=[],this.isDirty=!1}add(e){Z2(this.children,e),this.isDirty=!0}remove(e){e5(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZU),this.isDirty=!1,this.children.forEach(e)}}function t$(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Us(n),t(s-e))};return Xe.read(n,!0),()=>Us(n)}function r$(t){window.MotionDebug&&window.MotionDebug.record(t)}function n$(t){return t instanceof SVGElement&&t.tagName!=="svg"}function i$(t,e,r){const n=qr(t)?t:ed(t);return n.start(J2("",n,e,r)),n.animation}const OA=["","X","Y","Z"],s$={visibility:"hidden"},IA=1e3;let a$=0;const Mo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function T8({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=e==null?void 0:e()){this.id=a$++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mo.totalNodes=Mo.resolvedTargetDeltas=Mo.recalculatedProjection=0,this.nodes.forEach(c$),this.nodes.forEach(m$),this.nodes.forEach(p$),this.nodes.forEach(u$),r$(Mo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new e$)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new t5),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=n$(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=t$(h,250),Pm.hasAnimatedSinceResize&&(Pm.hasAnimatedSinceResize=!1,this.nodes.forEach(RA))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||b$,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!C8(this.targetLayout,g)||m,b=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const j={...X2(y,"layout"),onPlay:w,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else h||RA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DA);return}this.isUpdating||this.nodes.forEach(f$),this.isUpdating=!1,this.nodes.forEach(h$),this.nodes.forEach(o$),this.nodes.forEach(l$),this.clearAllSnapshots();const l=performance.now();pr.delta=no(0,1e3/60,l-pr.timestamp),pr.timestamp=l,pr.isProcessing=!0,V1.update.process(pr),V1.preRender.process(pr),V1.render.process(pr),pr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(d$),this.sharedNodes.forEach(y$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!P8(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Ro(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),w$(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return kt();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(ma(l.x,c.offset.x),ma(l.y,c.offset.y)),l}removeElementScroll(a){const l=kt();kn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){kn(l,a);const{scroll:h}=this.root;h&&(ma(l.x,-h.offset.x),ma(l.y,-h.offset.y))}ma(l.x,d.offset.x),ma(l.y,d.offset.y)}}return l}applyTransform(a,l=!1){const c=kt();kn(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_c(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ro(d.latestValues)&&_c(c,d.latestValues)}return Ro(this.latestValues)&&_c(c,this.latestValues),c}removeTransform(a){const l=kt();kn(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ro(u.latestValues))continue;eb(u.latestValues)&&u.updateSnapshot();const d=kt(),f=u.measurePageBox();kn(d,f),kA(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ro(this.latestValues)&&kA(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=pr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Df(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),j8(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),Df(this.relativeTargetOrigin,this.target,m.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eb(this.parent.latestValues)||w8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===pr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;kn(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;OU(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox);const{target:g}=l;if(!g){this.projectionTransform&&(this.projectionDelta=Lc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc());const y=this.projectionTransform;If(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=TA(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Mo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=kt(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=m!==g,w=this.getStack(),x=!w||w.members.length<=1,v=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(v$));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const E=j/1e3;MA(f.x,a.x,E),MA(f.y,a.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Df(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x$(this.relativeTarget,this.relativeTargetOrigin,h,E),b&&XU(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=kt()),kn(b,this.relativeTarget)),y&&(this.animationValues=d,WU(d,u,this.latestValues,E,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xe.update(()=>{Pm.hasAnimatedSinceResize=!0,this.currentAnimation=i$(0,IA,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&O8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||kt();const f=yn(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=yn(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}kn(l,c),_c(l,d),If(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new JU),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let d=0;d<OA.length;d++){const f="rotate"+OA[d];c[f]&&(u[f]=c[f],a.setStaticValue(f,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return s$;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=km(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=km(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ro(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=TA(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in gp){if(h[y]===void 0)continue;const{correct:w,applyTo:x}=gp[y],v=u.transform==="none"?h[y]:w(h[y],f);if(x){const b=x.length;for(let j=0;j<b;j++)u[x[j]]=v}else u[y]=v}return this.options.layoutId&&(u.pointerEvents=f===this?km(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(DA),this.root.sharedNodes.clear()}}}function o$(t){t.updateLayout()}function l$(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=r.source!==t.layout.source;s==="size"?In(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=yn(h);h.min=n[f].min,h.max=h.min+m}):O8(s,r.layoutBox,n)&&In(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],m=yn(n[f]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const l=Lc();If(l,n,r.layoutBox);const c=Lc();a?If(c,t.applyTransform(i,!0),r.measuredBox):If(c,n,r.layoutBox);const u=!P8(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=kt();Df(g,r.layoutBox,h.layoutBox);const y=kt();Df(y,n,m.layoutBox),C8(g,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function c$(t){Mo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function u$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function d$(t){t.clearSnapshot()}function DA(t){t.clearMeasurements()}function f$(t){t.isLayoutDirty=!1}function h$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function m$(t){t.resolveTargetDelta()}function p$(t){t.calcProjection()}function g$(t){t.resetRotation()}function y$(t){t.removeLeadSnapshot()}function MA(t,e,r){t.translate=dt(e.translate,0,r),t.scale=dt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function LA(t,e,r,n){t.min=dt(e.min,r.min,n),t.max=dt(e.max,r.max,n)}function x$(t,e,r,n){LA(t.x,e.x,r.x,n),LA(t.y,e.y,r.y,n)}function v$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const b$={duration:.45,ease:[.4,0,.1,1]},_A=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),BA=_A("applewebkit/")&&!_A("chrome/")?Math.round:At;function FA(t){t.min=BA(t.min),t.max=BA(t.max)}function w$(t){FA(t.x),FA(t.y)}function O8(t,e,r){return t==="position"||t==="preserve-aspect"&&!Jv(CA(e),CA(r),.2)}const j$=T8({attachResizeListener:(t,e)=>Ns(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Z1={current:void 0},I8=T8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Z1.current){const t=new j$({});t.mount(window),t.setOptions({layoutScroll:!0}),Z1.current=t}return Z1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N$={pan:{Feature:FU},drag:{Feature:BU,ProjectionNode:I8,MeasureLayout:E8}},A$=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function E$(t){const e=A$.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function rb(t,e,r=1){const[n,i]=E$(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return m8(a)?parseFloat(a):a}else return Wv(i)?rb(i,e,r+1):i}function S$(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!Wv(s))return;const a=rb(s,n);a&&i.set(a)});for(const i in e){const s=e[i];if(!Wv(s))continue;const a=rb(s,n);a&&(e[i]=a,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const k$=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),D8=t=>k$.has(t),P$=t=>Object.keys(t).some(D8),UA=t=>t===ic||t===ge,$A=(t,e)=>parseFloat(t.split(", ")[e]),VA=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return $A(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?$A(s[1],t):0}},C$=new Set(["x","y","z"]),T$=K0.filter(t=>!C$.has(t));function O$(t){const e=[];return T$.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const td={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:VA(4,13),y:VA(5,14)};td.translateX=td.x;td.translateY=td.y;const I$=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,l={};a==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(u=>{l[u]=td[u](n,s)}),e.render();const c=e.measureViewportBox();return r.forEach(u=>{const d=e.getValue(u);d&&d.jump(l[u]),t[u]=td[u](c,s)}),t},D$=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(D8);let s=[],a=!1;const l=[];if(i.forEach(c=>{const u=t.getValue(c);if(!t.hasValue(c))return;let d=r[c],f=Kd(d);const h=e[c];let m;if(xp(h)){const g=h.length,y=h[0]===null?1:0;d=h[y],f=Kd(d);for(let w=y;w<g&&h[w]!==null;w++)m?G2(Kd(h[w])===m):m=Kd(h[w])}else m=Kd(h);if(f!==m)if(UA(f)&&UA(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&m===ge&&(e[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):e[c]=f.transform(h):(a||(s=O$(t),a=!0),l.push(c),n[c]=n[c]!==void 0?n[c]:e[c],u.jump(h))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=I$(e,t,l);return s.length&&s.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),Xg&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:e,transitionEnd:n}};function R$(t,e,r,n){return P$(e)?D$(t,e,r,n):{target:e,transitionEnd:n}}const M$=(t,e,r,n)=>{const i=S$(t,e,n);return e=i.target,n=i.transitionEnd,R$(t,e,r,n)},nb={current:null},R8={current:!1};function L$(){if(R8.current=!0,!!Xg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>nb.current=t.matches;t.addListener(e),e()}else nb.current=!1}function _$(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],a=r[i];if(qr(s))t.addValue(i,s),jp(n)&&n.add(i);else if(qr(a))t.addValue(i,ed(s,{owner:t})),jp(n)&&n.remove(i);else if(a!==s)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(s)}else{const l=t.getStaticValue(i);t.addValue(i,ed(l!==void 0?l:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const zA=new WeakMap,M8=Object.keys(n0),B$=M8.length,HA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],F$=_2.length;class U${constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Xe.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=Zg(r),this.isVariantNode=v4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];l[f]!==void 0&&qr(h)&&(h.set(l[f],!1),jp(u)&&u.add(f))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,zA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),R8.current||L$(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){zA.delete(this.current),this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=nc.has(e),i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Xe.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let a,l;for(let c=0;c<B$;c++){const u=M8[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=n0[u];h&&(a=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(l=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Rc(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<HA.length;n++){const i=HA[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=_$(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<F$;n++){const i=_2[n],s=this.props[i];(r0(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ed(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=W2(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!qr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new t5),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class L8 extends U${sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let a=nU(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),a&&(a=i(a))),s){tU(this,n,a);const l=M$(this,n,a,r);r=l.transitionEnd,n=l.target}return{transition:e,transitionEnd:r,...n}}}function $$(t){return window.getComputedStyle(t)}class V$ extends L8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(nc.has(r)){const n=q2(r);return n&&n.default||0}else{const n=$$(e),i=(N4(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return N8(e,r)}build(e,r,n,i){U2(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return H2(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){C4(e,r,n,i)}}class z$ extends L8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(nc.has(r)){const n=q2(r);return n&&n.default||0}return r=T4.has(r)?r:M2(r),e.getAttribute(r)}measureInstanceViewportBox(){return kt()}scrapeMotionValuesFromProps(e,r){return I4(e,r)}build(e,r,n,i){V2(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){O4(e,r,n,i)}mount(e){this.isSVGTag=z2(e.tagName),super.mount(e)}}const H$=(t,e)=>F2(t)?new z$(e,{enableHardwareAcceleration:!1}):new V$(e,{enableHardwareAcceleration:!0}),W$={layout:{ProjectionNode:I8,MeasureLayout:E8}},G$={...xU,...BB,...N$,...W$},I=K_((t,e)=>EB(t,e,G$,H$));function _8(){const t=p.useRef(!1);return R2(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function K$(){const t=_8(),[e,r]=p.useState(0),n=p.useCallback(()=>{t.current&&r(e+1)},[e]);return[p.useCallback(()=>Xe.postRender(n),[n]),e]}class Q$ extends p.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Y$({children:t,isPresent:e}){const r=p.useId(),n=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=i.current;if(e||!n.current||!s||!a)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),p.createElement(Q$,{isPresent:e,childRef:n,sizeRef:i},p.cloneElement(t,{ref:n}))}const ex=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a})=>{const l=D4(q$),c=p.useId(),u=p.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:d=>{l.set(d,!0);for(const f of l.values())if(!f)return;n&&n()},register:d=>(l.set(d,!1),()=>l.delete(d))}),s?void 0:[r]);return p.useMemo(()=>{l.forEach((d,f)=>l.set(f,!1))},[r]),p.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),a==="popLayout"&&(t=p.createElement(Y$,{isPresent:r},t)),p.createElement(qg.Provider,{value:u},t)};function q$(){return new Map}function X$(t){return p.useEffect(()=>()=>t(),[])}const Lo=t=>t.key||"";function J$(t,e){t.forEach(r=>{const n=Lo(r);e.set(n,r)})}function Z$(t){const e=[];return p.Children.forEach(t,r=>{p.isValidElement(r)&&e.push(r)}),e}const Bt=({children:t,custom:e,initial:r=!0,onExitComplete:n,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const l=p.useContext(B2).forceRender||K$()[0],c=_8(),u=Z$(t);let d=u;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,g=p.useRef(!0);if(R2(()=>{g.current=!1,J$(u,m),h.current=d}),X$(()=>{g.current=!0,m.clear(),f.clear()}),g.current)return p.createElement(p.Fragment,null,d.map(v=>p.createElement(ex,{key:Lo(v),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:a},v)));d=[...d];const y=h.current.map(Lo),w=u.map(Lo),x=y.length;for(let v=0;v<x;v++){const b=y[v];w.indexOf(b)===-1&&!f.has(b)&&f.set(b,void 0)}return a==="wait"&&f.size&&(d=[]),f.forEach((v,b)=>{if(w.indexOf(b)!==-1)return;const j=m.get(b);if(!j)return;const E=y.indexOf(b);let S=v;if(!S){const k=()=>{f.delete(b);const N=Array.from(m.keys()).filter(C=>!w.includes(C));if(N.forEach(C=>m.delete(C)),h.current=u.filter(C=>{const R=Lo(C);return R===b||N.includes(R)}),!f.size){if(c.current===!1)return;l(),n&&n()}};S=p.createElement(ex,{key:Lo(j),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:s,mode:a},j),f.set(b,S)}d.splice(E,0,S)}),d=d.map(v=>{const b=v.key;return f.has(b)?v:p.createElement(ex,{key:Lo(v),isPresent:!0,presenceAffectsLayout:s,mode:a},v)}),p.createElement(p.Fragment,null,f.size?d:d.map(v=>p.cloneElement(v)))};let eV={data:""},tV=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||eV,rV=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nV=/\/\*[^]*?\*\/|  +/g,WA=/\n+/g,va=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?va(a,s):s+"{"+va(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=va(a,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=va.p?va.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},es={},B8=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+B8(t[r]);return e}return t},iV=(t,e,r,n,i)=>{let s=B8(t),a=es[s]||(es[s]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(s));if(!es[a]){let c=s!==t?t:(u=>{let d,f,h=[{}];for(;d=rV.exec(u.replace(nV,""));)d[4]?h.shift():d[3]?(f=d[3].replace(WA," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(WA," ").trim();return h[0]})(t);es[a]=va(i?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&es.g?es.g:null;return r&&(es.g=es[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(es[a],e,n,l),a},sV=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":va(l,""):l===!1?"":l}return n+i+(a??"")},"");function ny(t){let e=this||{},r=t.call?t(e.p):t;return iV(r.unshift?r.raw?sV(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,tV(e.target),e.g,e.o,e.k)}let F8,ib,sb;ny.bind({g:1});let $s=ny.bind({k:1});function aV(t,e,r,n){va.p=e,F8=t,ib=r,sb=n}function bo(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let l=Object.assign({},s),c=l.className||i.className;r.p=Object.assign({theme:ib&&ib()},l),r.o=/ *go\d+/.test(c),l.className=ny.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),sb&&u[0]&&sb(l),F8(u,l)}return i}}var oV=t=>typeof t=="function",Ap=(t,e)=>oV(t)?t(e):t,lV=(()=>{let t=0;return()=>(++t).toString()})(),U8=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),cV=20,$8=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,cV)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return $8(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Cm=[],Xo={toasts:[],pausedAt:void 0},sc=t=>{Xo=$8(Xo,t),Cm.forEach(e=>{e(Xo)})},uV={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dV=(t={})=>{let[e,r]=p.useState(Xo),n=p.useRef(Xo);p.useEffect(()=>(n.current!==Xo&&r(Xo),Cm.push(r),()=>{let s=Cm.indexOf(r);s>-1&&Cm.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,l,c;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((l=t[s.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||uV[s.type],style:{...t.style,...(c=t[s.type])==null?void 0:c.style,...s.style}}});return{...e,toasts:i}},fV=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||lV()}),X0=t=>(e,r)=>{let n=fV(e,t,r);return sc({type:2,toast:n}),n.id},te=(t,e)=>X0("blank")(t,e);te.error=X0("error");te.success=X0("success");te.loading=X0("loading");te.custom=X0("custom");te.dismiss=t=>{sc({type:3,toastId:t})};te.remove=t=>sc({type:4,toastId:t});te.promise=(t,e,r)=>{let n=te.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Ap(e.success,i):void 0;return s?te.success(s,{id:n,...r,...r==null?void 0:r.success}):te.dismiss(n),i}).catch(i=>{let s=e.error?Ap(e.error,i):void 0;s?te.error(s,{id:n,...r,...r==null?void 0:r.error}):te.dismiss(n)}),t};var hV=(t,e)=>{sc({type:1,toast:{id:t,height:e}})},mV=()=>{sc({type:5,time:Date.now()})},Rf=new Map,pV=1e3,gV=(t,e=pV)=>{if(Rf.has(t))return;let r=setTimeout(()=>{Rf.delete(t),sc({type:4,toastId:t})},e);Rf.set(t,r)},yV=t=>{let{toasts:e,pausedAt:r}=dV(t);p.useEffect(()=>{if(r)return;let s=Date.now(),a=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&te.dismiss(l.id);return}return setTimeout(()=>te.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[e,r]);let n=p.useCallback(()=>{r&&sc({type:6,time:Date.now()})},[r]),i=p.useCallback((s,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=e.filter(m=>(m.position||u)===(s.position||u)&&m.height),f=d.findIndex(m=>m.id===s.id),h=d.filter((m,g)=>g<f&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[h+1]:[0,h]).reduce((m,g)=>m+(g.height||0)+c,0)},[e]);return p.useEffect(()=>{e.forEach(s=>{if(s.dismissed)gV(s.id,s.removeDelay);else{let a=Rf.get(s.id);a&&(clearTimeout(a),Rf.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:hV,startPause:mV,endPause:n,calculateOffset:i}}},xV=$s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vV=$s`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bV=$s`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wV=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vV} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bV} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jV=$s`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NV=bo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${jV} 1s linear infinite;
`,AV=$s`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,EV=$s`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,SV=bo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AV} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${EV} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kV=bo("div")`
  position: absolute;
`,PV=bo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CV=$s`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TV=bo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CV} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OV=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?p.createElement(TV,null,e):e:r==="blank"?null:p.createElement(PV,null,p.createElement(NV,{...n}),r!=="loading"&&p.createElement(kV,null,r==="error"?p.createElement(wV,{...n}):p.createElement(SV,{...n})))},IV=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,DV=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,RV="0%{opacity:0;} 100%{opacity:1;}",MV="0%{opacity:1;} 100%{opacity:0;}",LV=bo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_V=bo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,BV=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=U8()?[RV,MV]:[IV(r),DV(r)];return{animation:e?`${$s(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$s(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FV=p.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?BV(t.position||e||"top-center",t.visible):{opacity:0},s=p.createElement(OV,{toast:t}),a=p.createElement(_V,{...t.ariaProps},Ap(t.message,t));return p.createElement(LV,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):p.createElement(p.Fragment,null,s,a))});aV(p.createElement);var UV=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=p.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(t,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return p.createElement("div",{ref:s,className:e,style:r},i)},$V=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:U8()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},VV=ny`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zh=16,tx=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:l,handlers:c}=yV(r);return p.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zh,left:zh,right:zh,bottom:zh,pointerEvents:"none",...s},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||e,f=c.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),h=$V(d,f);return p.createElement(UV,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?VV:"",style:h},u.type==="custom"?Ap(u.message,u):i?i(u):p.createElement(FV,{toast:u,position:d}))}))},X=te;function zV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const HV=p.forwardRef(zV);function WV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const V8=p.forwardRef(WV);function GV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const He=p.forwardRef(GV);function KV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const z8=p.forwardRef(KV);function QV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Hl=p.forwardRef(QV);function YV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const qV=p.forwardRef(YV);function XV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Tm=p.forwardRef(XV);function JV({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const ZV=p.forwardRef(JV);function ez({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const tz=p.forwardRef(ez);function rz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const nz=p.forwardRef(rz);function iz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ac=p.forwardRef(iz);function sz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const ab=p.forwardRef(sz);function az({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const mn=p.forwardRef(az);function oz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ze=p.forwardRef(oz);function lz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const vt=p.forwardRef(lz);function cz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const uz=p.forwardRef(cz);function dz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const fz=p.forwardRef(dz);function hz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const H8=p.forwardRef(hz);function mz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const pz=p.forwardRef(mz);function gz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const yz=p.forwardRef(gz);function xz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Os=p.forwardRef(xz);function vz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Om=p.forwardRef(vz);function bz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const wz=p.forwardRef(bz);function jz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const rx=p.forwardRef(jz);function Nz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-2.25-1.313M21 7.5v2.25m0-2.25-2.25 1.313M3 7.5l2.25-1.313M3 7.5l2.25 1.313M3 7.5v2.25m9 3 2.25-1.313M12 12.75l-2.25-1.313M12 12.75V15m0 6.75 2.25-1.313M12 21.75V19.5m0 2.25-2.25-1.313m0-16.875L12 2.25l2.25 1.313M21 14.25v2.25l-2.25 1.313m-13.5 0L3 16.5v-2.25"}))}const ob=p.forwardRef(Nz);function Az({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Ez=p.forwardRef(Az);function Sz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const so=p.forwardRef(Sz);function kz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Pz=p.forwardRef(kz);function Cz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const Ep=p.forwardRef(Cz);function Tz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const GA=p.forwardRef(Tz);function Oz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ui=p.forwardRef(Oz);function Iz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Dz=p.forwardRef(Iz);function Rz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ve=p.forwardRef(Rz);function Mz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Sp=p.forwardRef(Mz);function Lz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Wl=p.forwardRef(Lz);function _z({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Qi=p.forwardRef(_z);function Bz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const Fz=p.forwardRef(Bz);function Uz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const $z=p.forwardRef(Uz);function Vz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const s0=p.forwardRef(Vz);function zz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 8.25h15m-16.5 7.5h15m-1.8-13.5-3.9 19.5m-2.1-19.5-3.9 19.5"}))}const Hz=p.forwardRef(zz);function Wz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const rd=p.forwardRef(Wz);function Gz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Kz=p.forwardRef(Gz);function Qz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const xn=p.forwardRef(Qz);function Yz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const qz=p.forwardRef(Yz);function Xz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const nd=p.forwardRef(Xz);function Jz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const id=p.forwardRef(Jz);function Zz({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const r5=p.forwardRef(Zz);function eH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const tH=p.forwardRef(eH);function rH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const As=p.forwardRef(rH);function nH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const KA=p.forwardRef(nH);function iH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const sH=p.forwardRef(iH);function aH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Tt=p.forwardRef(aH);function oH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const ji=p.forwardRef(oH);function lH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Vn=p.forwardRef(lH);function cH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const J0=p.forwardRef(cH);function uH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const dH=p.forwardRef(uH);function fH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const hH=p.forwardRef(fH);function mH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ft=p.forwardRef(mH);function pH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Ot=p.forwardRef(pH);function gH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Tl=p.forwardRef(gH);function yH({title:t,titleId:e,...r},n){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const n5=p.forwardRef(yH),xH="modulepreload",vH=function(t){return"/"+t},QA={},i5=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=vH(c),c in QA)return;QA[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xH,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},bH="6.15.0";function wH(t,e,r){const n=e.split("|").map(s=>s.trim());for(let s=0;s<n.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function kr(t){const e=Object.keys(t);return(await Promise.all(e.map(n=>Promise.resolve(t[n])))).reduce((n,i,s)=>(n[e[s]]=i,n),{})}function me(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&wH(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function Bc(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(r=>Bc(r,e)).join(", ")+" ]";if(t instanceof Uint8Array){const r="0123456789abcdef";let n="0x";for(let i=0;i<t.length;i++)n+=r[t[i]>>4],n+=r[t[i]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return Bc(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const r=Object.keys(t);return r.sort(),"{ "+r.map(n=>`${Bc(n,e)}: ${Bc(t[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function ir(t,e){return t&&t.code===e}function s5(t){return ir(t,"CALL_EXCEPTION")}function nt(t,e,r){let n=t;{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Bc(r)}`);for(const a in r){if(a==="shortMessage")continue;const l=r[a];s.push(a+"="+Bc(l))}}s.push(`code=${e}`),s.push(`version=${bH}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return me(i,{code:e}),r&&Object.assign(i,r),i.shortMessage==null&&me(i,{shortMessage:n}),i}function K(t,e,r,n){if(!t)throw nt(e,r,n)}function _(t,e,r,n){K(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function W8(t,e,r){r==null&&(r=""),r&&(r=": "+r),K(t>=e,"missing argument"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),K(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Z0(t,e,r){if(r==null&&(r=""),t!==e){let n=r,i="new";r&&(n+=".",i+=" "+r),K(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function G8(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<n.length;s++)n[s]=parseInt(t.substring(i,i+2),16),i+=2;return n}_(!1,"invalid BytesLike value",e||"value",t)}function je(t,e){return G8(t,e,!1)}function Pr(t,e){return G8(t,e,!0)}function Je(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function a5(t){return Je(t,!0)||t instanceof Uint8Array}const YA="0123456789abcdef";function ee(t){const e=je(t);let r="0x";for(let n=0;n<e.length;n++){const i=e[n];r+=YA[(i&240)>>4]+YA[i&15]}return r}function xt(t){return"0x"+t.map(e=>ee(e).substring(2)).join("")}function eu(t){return Je(t,!0)?(t.length-2)/2:je(t).length}function pt(t,e,r){const n=je(t);return r!=null&&r>n.length&&K(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),ee(n.slice(e??0,r??n.length))}function K8(t,e,r){const n=je(t);K(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),ee(i)}function Vs(t,e){return K8(t,e,!0)}function jH(t,e){return K8(t,e,!1)}const iy=BigInt(0),gi=BigInt(1),Fc=9007199254740991;function kp(t,e){const r=sy(t,"value"),n=BigInt(be(e,"width"));if(K(r>>n===iy,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-gi){const i=(gi<<n)-gi;return-((~r&i)+gi)}return r}function Q8(t,e){let r=ae(t,"value");const n=BigInt(be(e,"width")),i=gi<<n-gi;if(r<iy){r=-r,K(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(gi<<n)-gi;return(~r&s)+gi}else K(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return r}function Jo(t,e){const r=sy(t,"value"),n=BigInt(be(e,"bits"));return r&(gi<<n)-gi}function ae(t,e){switch(typeof t){case"bigint":return t;case"number":return _(Number.isInteger(t),"underflow",e||"value",t),_(t>=-Fc&&t<=Fc,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(r){_(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}_(!1,"invalid BigNumberish value",e||"value",t)}function sy(t,e){const r=ae(t,e);return K(r>=iy,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const qA="0123456789abcdef";function ay(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=qA[r>>4],e+=qA[r&15];return BigInt(e)}return ae(t)}function be(t,e){switch(typeof t){case"bigint":return _(t>=-Fc&&t<=Fc,"overflow",e||"value",t),Number(t);case"number":return _(Number.isInteger(t),"underflow",e||"value",t),_(t>=-Fc&&t<=Fc,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return be(BigInt(t),e)}catch(r){_(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}_(!1,"invalid numeric value",e||"value",t)}function NH(t){return be(ay(t))}function ao(t,e){let n=sy(t,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const i=be(e,"width");for(K(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<i*2;)n="0"+n}return"0x"+n}function _t(t){const e=sy(t,"value");if(e===iy)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const s=i*2;n[i]=parseInt(r.substring(s,s+2),16)}return n}function hi(t){let e=ee(a5(t)?t:_t(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const XA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const JA=BigInt(58);function AH(t){const e=je(t);let r=ay(e),n="";for(;r;)n=XA[Number(r%JA)]+n,r/=JA;for(let i=0;i<e.length&&!e[i];i++)n=XA[0]+n;return n}function EH(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return je(e)}function SH(t){const e=je(t);let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}var ou;class Y8{constructor(e,r,n){U(this,"filter");U(this,"emitter");H(this,ou);O(this,ou,r),me(this,{emitter:e,filter:n})}async removeListener(){A(this,ou)!=null&&await this.emitter.off(this.filter,A(this,ou))}}ou=new WeakMap;function kH(t,e,r,n,i){_(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function q8(t,e,r,n,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t==="OVERRUN"?r.length-e-1:0}function PH(t,e,r,n,i){return t==="OVERLONG"?(_(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),q8(t,e,r))}const CH=Object.freeze({error:kH,ignore:q8,replace:PH});function TH(t,e){e==null&&(e=CH.error);const r=je(t,"bytes"),n=[];let i=0;for(;i<r.length;){const s=r[i++];if(!(s>>7)){n.push(s);continue}let a=null,l=null;if((s&224)===192)a=1,l=127;else if((s&240)===224)a=2,l=2047;else if((s&248)===240)a=3,l=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,r,n):i+=e("BAD_PREFIX",i-1,r,n);continue}if(i-1+a>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let c=s&(1<<8-a-1)-1;for(let u=0;u<a;u++){let d=r[i];if((d&192)!=128){i+=e("MISSING_CONTINUE",i,r,n),c=null;break}c=c<<6|d&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-a,r,n,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-a,r,n,c);continue}if(c<=l){i+=e("OVERLONG",i-1-a,r,n,c);continue}n.push(c)}}return n}function Is(t,e){_(typeof t=="string","invalid string value","str",t);let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);_(n<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function OH(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Pp(t,e){return OH(TH(t,e))}function X8(t){async function e(r,n){K(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const i=r.url.split(":")[0].toLowerCase();K(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),K(i==="https"||!r.credentials||r.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const a=new AbortController,l=setTimeout(()=>{s=nt("request timeout","TIMEOUT"),a.abort()},r.timeout);n&&n.addListener(()=>{s=nt("request cancelled","CANCELLED"),a.abort()});const c=Object.assign({},t,{method:r.method,headers:new Headers(Array.from(r)),body:r.body||void 0,signal:a.signal});let u;try{u=await fetch(r.url,c)}catch(m){throw clearTimeout(l),s||m}clearTimeout(l);const d={};u.headers.forEach((m,g)=>{d[g.toLowerCase()]=m});const f=await u.arrayBuffer(),h=f==null?null:new Uint8Array(f);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:h}}return e}const IH=12,DH=250;let ZA=X8();const RH=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),MH=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let nx=!1;async function J8(t,e){try{const r=t.match(RH);if(!r)throw new Error("invalid data");return new Xa(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?EH(r[3]):_H(r[3]))}catch{return new Xa(599,"BAD REQUEST (invalid data: URI)",{},null,new oo(t))}}function Z8(t){async function e(r,n){try{const i=r.match(MH);if(!i)throw new Error("invalid link");return new oo(`${t}${i[2]}`)}catch{return new Xa(599,"BAD REQUEST (invalid IPFS URI)",{},null,new oo(r))}}return e}const Hh={data:J8,ipfs:Z8("https://gateway.ipfs.io/ipfs/")},eT=new WeakMap;var ol,ja;class LH{constructor(e){H(this,ol);H(this,ja);O(this,ol,[]),O(this,ja,!1),eT.set(e,()=>{if(!A(this,ja)){O(this,ja,!0);for(const r of A(this,ol))setTimeout(()=>{r()},0);O(this,ol,[])}})}addListener(e){K(!A(this,ja),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),A(this,ol).push(e)}get cancelled(){return A(this,ja)}checkSignal(){K(!this.cancelled,"cancelled","CANCELLED",{})}}ol=new WeakMap,ja=new WeakMap;function Wh(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var lu,cu,si,os,uu,du,Ht,nn,ls,ll,cl,ul,Ti,ai,Na,dl,mf;const Sg=class Sg{constructor(e){H(this,dl);H(this,lu);H(this,cu);H(this,si);H(this,os);H(this,uu);H(this,du);H(this,Ht);H(this,nn);H(this,ls);H(this,ll);H(this,cl);H(this,ul);H(this,Ti);H(this,ai);H(this,Na);O(this,du,String(e)),O(this,lu,!1),O(this,cu,!0),O(this,si,{}),O(this,os,""),O(this,uu,3e5),O(this,ai,{slotInterval:DH,maxAttempts:IH}),O(this,Na,null)}get url(){return A(this,du)}set url(e){O(this,du,String(e))}get body(){return A(this,Ht)==null?null:new Uint8Array(A(this,Ht))}set body(e){if(e==null)O(this,Ht,void 0),O(this,nn,void 0);else if(typeof e=="string")O(this,Ht,Is(e)),O(this,nn,"text/plain");else if(e instanceof Uint8Array)O(this,Ht,e),O(this,nn,"application/octet-stream");else if(typeof e=="object")O(this,Ht,Is(JSON.stringify(e))),O(this,nn,"application/json");else throw new Error("invalid body")}hasBody(){return A(this,Ht)!=null}get method(){return A(this,os)?A(this,os):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),O(this,os,String(e).toUpperCase())}get headers(){const e=Object.assign({},A(this,si));return A(this,ls)&&(e.authorization=`Basic ${SH(Is(A(this,ls)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&A(this,nn)&&(e["content-type"]=A(this,nn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,r){A(this,si)[String(e).toLowerCase()]=String(r)}clearHeaders(){O(this,si,{})}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return A(this,ls)||null}setCredentials(e,r){_(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),O(this,ls,`${e}:${r}`)}get allowGzip(){return A(this,cu)}set allowGzip(e){O(this,cu,!!e)}get allowInsecureAuthentication(){return!!A(this,lu)}set allowInsecureAuthentication(e){O(this,lu,!!e)}get timeout(){return A(this,uu)}set timeout(e){_(e>=0,"timeout must be non-zero","timeout",e),O(this,uu,e)}get preflightFunc(){return A(this,ll)||null}set preflightFunc(e){O(this,ll,e)}get processFunc(){return A(this,cl)||null}set processFunc(e){O(this,cl,e)}get retryFunc(){return A(this,ul)||null}set retryFunc(e){O(this,ul,e)}get getUrlFunc(){return A(this,Na)||ZA}set getUrlFunc(e){O(this,Na,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${A(this,Ht)?ee(A(this,Ht)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(A(this,ai).slotInterval=e.slotInterval),e.maxAttempts!=null&&(A(this,ai).maxAttempts=e.maxAttempts)}send(){return K(A(this,Ti)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),O(this,Ti,new LH(this)),q(this,dl,mf).call(this,0,eE()+this.timeout,0,this,new Xa(0,"",{},null,this))}cancel(){K(A(this,Ti)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=eT.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const r=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();K(this.method==="GET"&&(r!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new Sg(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,O(i,si,Object.assign({},A(this,si))),A(this,Ht)&&O(i,Ht,new Uint8Array(A(this,Ht))),O(i,nn,A(this,nn)),i}clone(){const e=new Sg(this.url);return O(e,os,A(this,os)),A(this,Ht)&&O(e,Ht,A(this,Ht)),O(e,nn,A(this,nn)),O(e,si,Object.assign({},A(this,si))),O(e,ls,A(this,ls)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),O(e,ll,A(this,ll)),O(e,cl,A(this,cl)),O(e,ul,A(this,ul)),O(e,ai,Object.assign({},A(this,ai))),O(e,Na,A(this,Na)),e}static lockConfig(){nx=!0}static getGateway(e){return Hh[e.toLowerCase()]||null}static registerGateway(e,r){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(nx)throw new Error("gateways locked");Hh[e]=r}static registerGetUrl(e){if(nx)throw new Error("gateways locked");ZA=e}static createGetUrlFunc(e){return X8(e)}static createDataGateway(){return J8}static createIpfsGatewayFunc(e){return Z8(e)}};lu=new WeakMap,cu=new WeakMap,si=new WeakMap,os=new WeakMap,uu=new WeakMap,du=new WeakMap,Ht=new WeakMap,nn=new WeakMap,ls=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,Ti=new WeakMap,ai=new WeakMap,Na=new WeakMap,dl=new WeakSet,mf=async function(e,r,n,i,s){var d,f,h;if(e>=A(this,ai).maxAttempts)return s.makeServerError("exceeded maximum retry limit");K(eE()<=r,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),n>0&&await BH(n);let a=this.clone();const l=(a.url.split(":")[0]||"").toLowerCase();if(l in Hh){const m=await Hh[l](a.url,Wh(A(i,Ti)));if(m instanceof Xa){let g=m;if(this.processFunc){Wh(A(i,Ti));try{g=await this.processFunc(a,g)}catch(y){(y.throttle==null||typeof y.stall!="number")&&g.makeServerError("error in post-processing function",y).assertOk()}}return g}a=m}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await this.getUrlFunc(a,Wh(A(i,Ti)));let u=new Xa(c.statusCode,c.statusMessage,c.headers,c.body,i);if(u.statusCode===301||u.statusCode===302){try{const m=u.headers.location||"";return q(d=a.redirect(m),dl,mf).call(d,e+1,r,0,i,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,u,e))){const m=u.headers["retry-after"];let g=A(this,ai).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof m=="string"&&m.match(/^[1-9][0-9]*$/)&&(g=parseInt(m)),q(f=a.clone(),dl,mf).call(f,e+1,r,g,i,u)}if(this.processFunc){Wh(A(i,Ti));try{u=await this.processFunc(a,u)}catch(m){(m.throttle==null||typeof m.stall!="number")&&u.makeServerError("error in post-processing function",m).assertOk();let g=A(this,ai).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return m.stall>=0&&(g=m.stall),q(h=a.clone(),dl,mf).call(h,e+1,r,g,i,u)}}return u};let oo=Sg;var T0,O0,I0,sn,fu,fl;const Pj=class Pj{constructor(e,r,n,i,s){H(this,T0);H(this,O0);H(this,I0);H(this,sn);H(this,fu);H(this,fl);O(this,T0,e),O(this,O0,r),O(this,I0,Object.keys(n).reduce((a,l)=>(a[l.toLowerCase()]=String(n[l]),a),{})),O(this,sn,i==null?null:new Uint8Array(i)),O(this,fu,s||null),O(this,fl,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${A(this,sn)?ee(A(this,sn)):"null"}>`}get statusCode(){return A(this,T0)}get statusMessage(){return A(this,O0)}get headers(){return Object.assign({},A(this,I0))}get body(){return A(this,sn)==null?null:new Uint8Array(A(this,sn))}get bodyText(){try{return A(this,sn)==null?"":Pp(A(this,sn))}catch{K(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{K(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,r=Object.keys(e);let n=0;return{next:()=>{if(n<r.length){const i=r[n++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,r){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new Pj(599,n,this.headers,this.body,A(this,fu)||void 0);return O(i,fl,{message:e,error:r}),i}throwThrottleError(e,r){r==null?r=-1:_(Number.isInteger(r)&&r>=0,"invalid stall timeout","stall",r);const n=new Error(e||"throttling requests");throw me(n,{stall:r,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return A(this,sn)!=null}get request(){return A(this,fu)}ok(){return A(this,fl).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:r}=A(this,fl);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let i=null;try{A(this,sn)&&(i=Pp(A(this,sn)))}catch{}K(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:r,info:{requestUrl:n,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};T0=new WeakMap,O0=new WeakMap,I0=new WeakMap,sn=new WeakMap,fu=new WeakMap,fl=new WeakMap;let Xa=Pj;function eE(){return new Date().getTime()}function _H(t){return Is(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function BH(t){return new Promise(e=>setTimeout(e,t))}const FH=BigInt(-1),ei=BigInt(0),Uc=BigInt(1),UH=BigInt(5),mc={};let tu="0000";for(;tu.length<80;)tu+=tu;function To(t){let e=tu;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Yd(t,e,r){const n=BigInt(e.width);if(e.signed){const i=Uc<<n-Uc;K(r==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t>ei?t=kp(Jo(t,n),n):t=-kp(Jo(-t,n),n)}else{const i=Uc<<n;K(r==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%i+i)%i&i-Uc}return t}function ix(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);_(s,"invalid fixed format","format",t),e=s[1]!=="u",r=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=t,a=(l,c,u)=>s[l]==null?u:(_(typeof s[l]===c,"invalid fixed format ("+l+" not "+c+")","format."+l,s[l]),s[l]);e=a("signed","boolean",e),r=a("width","number",r),n=a("decimals","number",n)}_(r%8===0,"invalid FixedNumber width (not byte aligned)","format.width",r),_(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const i=(e?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:e,width:r,decimals:n,name:i}}function $H(t,e){let r="";t<ei&&(r="-",t*=FH);let n=t.toString();if(e===0)return r+n;for(;n.length<=e;)n=tu+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return r+n}var oi,Fe,Nr,Me,_o,ts,lb,cb,ub,db;const ga=class ga{constructor(e,r,n){H(this,Me);U(this,"format");H(this,oi);H(this,Fe);H(this,Nr);U(this,"_value");Z0(e,mc,"FixedNumber"),O(this,Fe,r),O(this,oi,n);const i=$H(r,n.decimals);me(this,{format:n.name,_value:i}),O(this,Nr,To(n.decimals))}get signed(){return A(this,oi).signed}get width(){return A(this,oi).width}get decimals(){return A(this,oi).decimals}get value(){return A(this,Fe)}addUnsafe(e){return q(this,Me,lb).call(this,e)}add(e){return q(this,Me,lb).call(this,e,"add")}subUnsafe(e){return q(this,Me,cb).call(this,e)}sub(e){return q(this,Me,cb).call(this,e,"sub")}mulUnsafe(e){return q(this,Me,ub).call(this,e)}mul(e){return q(this,Me,ub).call(this,e,"mul")}mulSignal(e){q(this,Me,_o).call(this,e);const r=A(this,Fe)*A(e,Fe);return K(r%A(this,Nr)===ei,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),q(this,Me,ts).call(this,r/A(this,Nr),"mulSignal")}divUnsafe(e){return q(this,Me,db).call(this,e)}div(e){return q(this,Me,db).call(this,e,"div")}divSignal(e){K(A(e,Fe)!==ei,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),q(this,Me,_o).call(this,e);const r=A(this,Fe)*A(this,Nr);return K(r%A(e,Fe)===ei,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),q(this,Me,ts).call(this,r/A(e,Fe),"divSignal")}cmp(e){let r=this.value,n=e.value;const i=this.decimals-e.decimals;return i>0?n*=To(i):i<0&&(r*=To(-i)),r<n?-1:r>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=A(this,Fe);return A(this,Fe)<ei&&(e-=A(this,Nr)-Uc),e=A(this,Fe)/A(this,Nr)*A(this,Nr),q(this,Me,ts).call(this,e,"floor")}ceiling(){let e=A(this,Fe);return A(this,Fe)>ei&&(e+=A(this,Nr)-Uc),e=A(this,Fe)/A(this,Nr)*A(this,Nr),q(this,Me,ts).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const r=this.decimals-e,n=UH*To(r-1);let i=this.value+n;const s=To(r);return i=i/s*s,Yd(i,A(this,oi),"round"),new ga(mc,i,A(this,oi))}isZero(){return A(this,Fe)===ei}isNegative(){return A(this,Fe)<ei}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ga.fromString(this.toString(),e)}static fromValue(e,r,n){const i=r==null?0:be(r),s=ix(n);let a=ae(e,"value");const l=i-s.decimals;if(l>0){const c=To(l);K(a%c===ei,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=c}else l<0&&(a*=To(-l));return Yd(a,s,"fromValue"),new ga(mc,a,s)}static fromString(e,r){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);_(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const i=ix(r);let s=n[2]||"0",a=n[3]||"";for(;a.length<i.decimals;)a+=tu;K(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const l=BigInt(n[1]+s+a);return Yd(l,i,"fromString"),new ga(mc,l,i)}static fromBytes(e,r){let n=ay(je(e,"value"));const i=ix(r);return i.signed&&(n=kp(n,i.width)),Yd(n,i,"fromBytes"),new ga(mc,n,i)}};oi=new WeakMap,Fe=new WeakMap,Nr=new WeakMap,Me=new WeakSet,_o=function(e){_(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},ts=function(e,r){return e=Yd(e,A(this,oi),r),new ga(mc,e,A(this,oi))},lb=function(e,r){return q(this,Me,_o).call(this,e),q(this,Me,ts).call(this,A(this,Fe)+A(e,Fe),r)},cb=function(e,r){return q(this,Me,_o).call(this,e),q(this,Me,ts).call(this,A(this,Fe)-A(e,Fe),r)},ub=function(e,r){return q(this,Me,_o).call(this,e),q(this,Me,ts).call(this,A(this,Fe)*A(e,Fe)/A(this,Nr),r)},db=function(e,r){return K(A(e,Fe)!==ei,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),q(this,Me,_o).call(this,e),q(this,Me,ts).call(this,A(this,Fe)*A(this,Nr)/A(e,Fe),r)};let Cp=ga;function VH(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function tE(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function rE(t,e,r,n){const i=[];for(;r<e+1+n;){const s=tT(t,r);i.push(s.result),r+=s.consumed,K(r<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function tT(t,e){K(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=n=>{K(n<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:n})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=tE(t,e+1,n);return r(e+1+n+i),rE(t,e,e+1+n,n+i)}else if(t[e]>=192){const n=t[e]-192;return r(e+1+n),rE(t,e,e+1,n)}else if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=tE(t,e+1,n);r(e+1+n+i);const s=ee(t.slice(e+1+n,e+1+n+i));return{consumed:1+n+i,result:s}}else if(t[e]>=128){const n=t[e]-128;r(e+1+n);const i=ee(t.slice(e+1,e+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:VH(t[e])}}function eh(t){const e=je(t,"data"),r=tT(e,0);return _(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function nE(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function rT(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(rT(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=nE(n.length);return i.unshift(247+i.length),i.concat(n)}const e=Array.prototype.slice.call(je(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=nE(e.length);return r.unshift(183+r.length),r.concat(e)}const iE="0123456789abcdef";function lo(t){let e="0x";for(const r of rT(t))e+=iE[r>>4],e+=iE[r&15];return e}function zH(t,e){let r=18;return r=be(e,"unit"),Cp.fromValue(t,r,{decimals:r,width:512}).toString()}function HH(t,e){_(typeof t=="string","value must be a string","value",t);let r=18;return r=be(e,"unit"),Cp.fromString(t,{decimals:r,width:512}).value}function a0(t){return zH(t,18)}function fb(t){return HH(t,18)}const Cr=32,hb=new Uint8Array(Cr),WH=["then"],Gh={},nT=new WeakMap;function Vo(t){return nT.get(t)}function sE(t,e){nT.set(t,e)}function qd(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function mb(t,e,r){return t.indexOf(null)>=0?e.map((n,i)=>n instanceof sd?mb(Vo(n),n,r):n):t.reduce((n,i,s)=>{let a=e.getValue(i);return i in n||(r&&a instanceof sd&&(a=mb(Vo(a),a,r)),n[i]=a),n},{})}var hu;const Wc=class Wc extends Array{constructor(...r){const n=r[0];let i=r[1],s=(r[2]||[]).slice(),a=!0;n!==Gh&&(i=r,s=[],a=!1);super(i.length);H(this,hu);i.forEach((u,d)=>{this[d]=u});const l=s.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(sE(this,Object.freeze(i.map((u,d)=>{const f=s[d];return f!=null&&l.get(f)===1?f:null}))),O(this,hu,[]),A(this,hu)==null&&A(this,hu),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(u,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const m=be(d,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const g=u[m];return g instanceof Error&&qd(`index ${m}`,g),g}if(WH.indexOf(d)>=0)return Reflect.get(u,d,f);const h=u[d];if(h instanceof Function)return function(...m){return h.apply(this===f?u:this,m)};if(!(d in u))return u.getValue.apply(this===f?u:this,[d])}return Reflect.get(u,d,f)}});return sE(c,Vo(this)),c}toArray(r){const n=[];return this.forEach((i,s)=>{i instanceof Error&&qd(`index ${s}`,i),r&&i instanceof Wc&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=Vo(this);return n.reduce((i,s,a)=>(K(s!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),mb(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=Vo(this),s=[],a=[];for(let l=r;l<n;l++)s.push(this[l]),a.push(i[l]);return new Wc(Gh,s,a)}filter(r,n){const i=Vo(this),s=[],a=[];for(let l=0;l<this.length;l++){const c=this[l];c instanceof Error&&qd(`index ${l}`,c),r.call(n,c,l,this)&&(s.push(c),a.push(i[l]))}return new Wc(Gh,s,a)}map(r,n){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&qd(`index ${s}`,a),i.push(r.call(n,a,s,this))}return i}getValue(r){const n=Vo(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&qd(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new Wc(Gh,r,n)}};hu=new WeakMap;let sd=Wc;function aE(t){let e=_t(t);return K(e.length<=Cr,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Cr,offset:e.length}),e.length!==Cr&&(e=Pr(xt([hb.slice(e.length%Cr),e]))),e}class qs{constructor(e,r,n,i){U(this,"name");U(this,"type");U(this,"localName");U(this,"dynamic");me(this,{name:e,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,r){_(!1,e,this.localName,r)}}var cs,hl,mu,Im;class pb{constructor(){H(this,mu);H(this,cs);H(this,hl);O(this,cs,[]),O(this,hl,0)}get data(){return xt(A(this,cs))}get length(){return A(this,hl)}appendWriter(e){return q(this,mu,Im).call(this,Pr(e.data))}writeBytes(e){let r=Pr(e);const n=r.length%Cr;return n&&(r=Pr(xt([r,hb.slice(n)]))),q(this,mu,Im).call(this,r)}writeValue(e){return q(this,mu,Im).call(this,aE(e))}writeUpdatableValue(){const e=A(this,cs).length;return A(this,cs).push(hb),O(this,hl,A(this,hl)+Cr),r=>{A(this,cs)[e]=aE(r)}}}cs=new WeakMap,hl=new WeakMap,mu=new WeakSet,Im=function(e){return A(this,cs).push(e),O(this,hl,A(this,hl)+e.length),e.length};var _r,an,ml,pl,Aa,ec,yb,iT;const Cj=class Cj{constructor(e,r,n){H(this,ec);U(this,"allowLoose");H(this,_r);H(this,an);H(this,ml);H(this,pl);H(this,Aa);me(this,{allowLoose:!!r}),O(this,_r,Pr(e)),O(this,ml,0),O(this,pl,null),O(this,Aa,n??1024),O(this,an,0)}get data(){return ee(A(this,_r))}get dataLength(){return A(this,_r).length}get consumed(){return A(this,an)}get bytes(){return new Uint8Array(A(this,_r))}subReader(e){const r=new Cj(A(this,_r).slice(A(this,an)+e),this.allowLoose,A(this,Aa));return O(r,pl,this),r}readBytes(e,r){let n=q(this,ec,iT).call(this,0,e,!!r);return q(this,ec,yb).call(this,e),O(this,an,A(this,an)+n.length),n.slice(0,e)}readValue(){return ay(this.readBytes(Cr))}readIndex(){return NH(this.readBytes(Cr))}};_r=new WeakMap,an=new WeakMap,ml=new WeakMap,pl=new WeakMap,Aa=new WeakMap,ec=new WeakSet,yb=function(e){var r;if(A(this,pl))return q(r=A(this,pl),ec,yb).call(r,e);O(this,ml,A(this,ml)+e),K(A(this,Aa)<1||A(this,ml)<=A(this,Aa)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${A(this,Aa)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Pr(A(this,_r)),offset:A(this,an),length:e,info:{bytesRead:A(this,ml),dataLength:this.dataLength}})},iT=function(e,r,n){let i=Math.ceil(r/Cr)*Cr;return A(this,an)+i>A(this,_r).length&&(this.allowLoose&&n&&A(this,an)+r<=A(this,_r).length?i=r:K(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Pr(A(this,_r)),length:A(this,_r).length,offset:A(this,an)+i})),A(this,_r).slice(A(this,an),A(this,an)+i)};let gb=Cj;function Tp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function o5(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function GH(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Tp(t.outputLen),Tp(t.blockLen)}function ad(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function sT(t,e){o5(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const sx=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aT=t=>t instanceof Uint8Array,KH=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),ax=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ki=(t,e)=>t<<32-e|t>>>e,QH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!QH)throw new Error("Non little-endian hardware is not supported");function YH(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oy(t){if(typeof t=="string"&&(t=YH(t)),!aT(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function qH(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!aT(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class l5{clone(){return this._cloneInto()}}function c5(t){const e=n=>t().update(oy(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function XH(t=32){if(sx&&typeof sx.getRandomValues=="function")return sx.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class oT extends l5{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,GH(e);const n=oy(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return ad(this),this.iHash.update(e),this}digestInto(e){ad(this),o5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:l}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=l,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const lT=(t,e,r)=>new oT(t,e).update(r).digest();lT.create=(t,e)=>new oT(t,e);function JH(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),l=Number(r&s),c=n?4:0,u=n?0:4;t.setUint32(e+c,a,n),t.setUint32(e+u,l,n)}class cT extends l5{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ax(this.buffer)}update(e){ad(this);const{view:r,buffer:n,blockLen:i}=this;e=oy(e);const s=e.length;for(let a=0;a<s;){const l=Math.min(i-this.pos,s-a);if(l===i){const c=ax(e);for(;i<=s-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+l),this.pos),this.pos+=l,a+=l,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ad(this),sT(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;JH(n,i-8,BigInt(this.length*8),s),this.process(n,0);const l=ax(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)l.setUint32(4*f,d[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:l}=this;return e.length=i,e.pos=l,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const ZH=(t,e,r)=>t&e^~t&r,eW=(t,e,r)=>t&e^t&r^e&r,tW=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ia=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sa=new Uint32Array(64);class rW extends cT{constructor(){super(64,32,8,!1),this.A=ia[0]|0,this.B=ia[1]|0,this.C=ia[2]|0,this.D=ia[3]|0,this.E=ia[4]|0,this.F=ia[5]|0,this.G=ia[6]|0,this.H=ia[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:l,H:c}=this;return[e,r,n,i,s,a,l,c]}set(e,r,n,i,s,a,l,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=l|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)sa[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=sa[f-15],m=sa[f-2],g=ki(h,7)^ki(h,18)^h>>>3,y=ki(m,17)^ki(m,19)^m>>>10;sa[f]=y+sa[f-7]+g+sa[f-16]|0}let{A:n,B:i,C:s,D:a,E:l,F:c,G:u,H:d}=this;for(let f=0;f<64;f++){const h=ki(l,6)^ki(l,11)^ki(l,25),m=d+h+ZH(l,c,u)+tW[f]+sa[f]|0,y=(ki(n,2)^ki(n,13)^ki(n,22))+eW(n,i,s)|0;d=u,u=c,c=l,l=a+m|0,a=s,s=i,i=n,n=m+y|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(n,i,s,a,l,c,u,d)}roundClean(){sa.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uT=c5(()=>new rW),Kh=BigInt(2**32-1),xb=BigInt(32);function dT(t,e=!1){return e?{h:Number(t&Kh),l:Number(t>>xb&Kh)}:{h:Number(t>>xb&Kh)|0,l:Number(t&Kh)|0}}function fT(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=dT(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}const nW=(t,e)=>BigInt(t>>>0)<<xb|BigInt(e>>>0),iW=(t,e,r)=>t>>>r,sW=(t,e,r)=>t<<32-r|e>>>r,aW=(t,e,r)=>t>>>r|e<<32-r,oW=(t,e,r)=>t<<32-r|e>>>r,lW=(t,e,r)=>t<<64-r|e>>>r-32,cW=(t,e,r)=>t>>>r-32|e<<64-r,uW=(t,e)=>e,dW=(t,e)=>t,hT=(t,e,r)=>t<<r|e>>>32-r,mT=(t,e,r)=>e<<r|t>>>32-r,pT=(t,e,r)=>e<<r-32|t>>>64-r,gT=(t,e,r)=>t<<r-32|e>>>64-r;function fW(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const hW=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),mW=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,pW=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),gW=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,yW=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),xW=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,we={fromBig:dT,split:fT,toBig:nW,shrSH:iW,shrSL:sW,rotrSH:aW,rotrSL:oW,rotrBH:lW,rotrBL:cW,rotr32H:uW,rotr32L:dW,rotlSH:hT,rotlSL:mT,rotlBH:pT,rotlBL:gT,add:fW,add3L:hW,add3H:mW,add4L:pW,add4H:gW,add5H:xW,add5L:yW},[vW,bW]=we.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),aa=new Uint32Array(80),oa=new Uint32Array(80);class wW extends cT{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:f,Fl:h,Gh:m,Gl:g,Hh:y,Hl:w}=this;return[e,r,n,i,s,a,l,c,u,d,f,h,m,g,y,w]}set(e,r,n,i,s,a,l,c,u,d,f,h,m,g,y,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=f|0,this.Fl=h|0,this.Gh=m|0,this.Gl=g|0,this.Hh=y|0,this.Hl=w|0}process(e,r){for(let b=0;b<16;b++,r+=4)aa[b]=e.getUint32(r),oa[b]=e.getUint32(r+=4);for(let b=16;b<80;b++){const j=aa[b-15]|0,E=oa[b-15]|0,S=we.rotrSH(j,E,1)^we.rotrSH(j,E,8)^we.shrSH(j,E,7),k=we.rotrSL(j,E,1)^we.rotrSL(j,E,8)^we.shrSL(j,E,7),N=aa[b-2]|0,C=oa[b-2]|0,R=we.rotrSH(N,C,19)^we.rotrBH(N,C,61)^we.shrSH(N,C,6),D=we.rotrSL(N,C,19)^we.rotrBL(N,C,61)^we.shrSL(N,C,6),B=we.add4L(k,D,oa[b-7],oa[b-16]),z=we.add4H(B,S,R,aa[b-7],aa[b-16]);aa[b]=z|0,oa[b]=B|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:l,Cl:c,Dh:u,Dl:d,Eh:f,El:h,Fh:m,Fl:g,Gh:y,Gl:w,Hh:x,Hl:v}=this;for(let b=0;b<80;b++){const j=we.rotrSH(f,h,14)^we.rotrSH(f,h,18)^we.rotrBH(f,h,41),E=we.rotrSL(f,h,14)^we.rotrSL(f,h,18)^we.rotrBL(f,h,41),S=f&m^~f&y,k=h&g^~h&w,N=we.add5L(v,E,k,bW[b],oa[b]),C=we.add5H(N,x,j,S,vW[b],aa[b]),R=N|0,D=we.rotrSH(n,i,28)^we.rotrBH(n,i,34)^we.rotrBH(n,i,39),B=we.rotrSL(n,i,28)^we.rotrBL(n,i,34)^we.rotrBL(n,i,39),z=n&s^n&l^s&l,Q=i&a^i&c^a&c;x=y|0,v=w|0,y=m|0,w=g|0,m=f|0,g=h|0,{h:f,l:h}=we.add(u|0,d|0,C|0,R|0),u=l|0,d=c|0,l=s|0,c=a|0,s=n|0,a=i|0;const T=we.add3L(R,B,Q);n=we.add3H(T,C,D,z),i=T|0}({h:n,l:i}=we.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=we.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:l,l:c}=we.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=we.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:f,l:h}=we.add(this.Eh|0,this.El|0,f|0,h|0),{h:m,l:g}=we.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:y,l:w}=we.add(this.Gh|0,this.Gl|0,y|0,w|0),{h:x,l:v}=we.add(this.Hh|0,this.Hl|0,x|0,v|0),this.set(n,i,s,a,l,c,u,d,f,h,m,g,y,w,x,v)}roundClean(){aa.fill(0),oa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const jW=c5(()=>new wW);function NW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const oE=NW();oE.crypto||oE.msCrypto;function AW(t){switch(t){case"sha256":return uT.create();case"sha512":return jW.create()}_(!1,"invalid hashing algorithm name","algorithm",t)}const[yT,xT,vT]=[[],[],[]],EW=BigInt(0),Xd=BigInt(1),SW=BigInt(2),kW=BigInt(7),PW=BigInt(256),CW=BigInt(113);for(let t=0,e=Xd,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],yT.push(2*(5*n+r)),xT.push((t+1)*(t+2)/2%64);let i=EW;for(let s=0;s<7;s++)e=(e<<Xd^(e>>kW)*CW)%PW,e&SW&&(i^=Xd<<(Xd<<BigInt(s))-Xd);vT.push(i)}const[TW,OW]=fT(vT,!0),lE=(t,e,r)=>r>32?pT(t,e,r):hT(t,e,r),cE=(t,e,r)=>r>32?gT(t,e,r):mT(t,e,r);function IW(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const l=(a+8)%10,c=(a+2)%10,u=r[c],d=r[c+1],f=lE(u,d,1)^r[l],h=cE(u,d,1)^r[l+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let i=t[2],s=t[3];for(let a=0;a<24;a++){const l=xT[a],c=lE(i,s,l),u=cE(i,s,l),d=yT[a];i=t[d],s=t[d+1],t[d]=c,t[d+1]=u}for(let a=0;a<50;a+=10){for(let l=0;l<10;l++)r[l]=t[a+l];for(let l=0;l<10;l++)t[a+l]^=~r[(l+2)%10]&r[(l+4)%10]}t[0]^=TW[n],t[1]^=OW[n]}r.fill(0)}class u5 extends l5{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Tp(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=KH(this.state)}keccak(){IW(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ad(this);const{blockLen:r,state:n}=this;e=oy(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let l=0;l<a;l++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ad(this,!1),o5(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Tp(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new u5(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const DW=(t,e,r)=>c5(()=>new u5(e,t,r)),RW=DW(1,136,256/8);let bT=!1;const wT=function(t){return RW(t)};let jT=wT;function Ct(t){const e=je(t,"data");return ee(jT(e))}Ct._=wT;Ct.lock=function(){bT=!0};Ct.register=function(t){if(bT)throw new TypeError("keccak256 is locked");jT=t};Object.freeze(Ct);const NT=function(t){return AW("sha256").update(t).digest()};let AT=NT,ET=!1;function Sd(t){const e=je(t,"data");return ee(AT(e))}Sd._=NT;Sd.lock=function(){ET=!0};Sd.register=function(t){if(ET)throw new Error("sha256 is locked");AT=t};Object.freeze(Sd);Object.freeze(Sd);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ST=BigInt(0),ly=BigInt(1),MW=BigInt(2),cy=t=>t instanceof Uint8Array,LW=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function od(t){if(!cy(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=LW[t[r]];return e}function kT(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function d5(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ld(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const i=n*2,s=t.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");r[n]=a}return r}function Ol(t){return d5(od(t))}function f5(t){if(!cy(t))throw new Error("Uint8Array expected");return d5(od(Uint8Array.from(t).reverse()))}function cd(t,e){return ld(t.toString(16).padStart(e*2,"0"))}function h5(t,e){return cd(t,e).reverse()}function _W(t){return ld(kT(t))}function ni(t,e,r){let n;if(typeof e=="string")try{n=ld(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(cy(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function o0(...t){const e=new Uint8Array(t.reduce((n,i)=>n+i.length,0));let r=0;return t.forEach(n=>{if(!cy(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function BW(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function FW(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function UW(t){let e;for(e=0;t>ST;t>>=ly,e+=1);return e}function $W(t,e){return t>>BigInt(e)&ly}const VW=(t,e,r)=>t|(r?ly:ST)<<BigInt(e),m5=t=>(MW<<BigInt(t-1))-ly,ox=t=>new Uint8Array(t),uE=t=>Uint8Array.from(t);function PT(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ox(t),i=ox(t),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},l=(...f)=>r(i,n,...f),c=(f=ox())=>{i=l(uE([0]),f),n=l(),f.length!==0&&(i=l(uE([1]),f),n=l())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<e;){n=l();const m=n.slice();h.push(m),f+=n.length}return o0(...h)};return(f,h)=>{a(),c(f);let m;for(;!(m=h(u()));)c();return a(),m}}const zW={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function th(t,e,r={}){const n=(i,s,a)=>{const l=zW[s];if(typeof l!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(a&&c===void 0)&&!l(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const HW=Object.freeze(Object.defineProperty({__proto__:null,bitGet:$W,bitLen:UW,bitMask:m5,bitSet:VW,bytesToHex:od,bytesToNumberBE:Ol,bytesToNumberLE:f5,concatBytes:o0,createHmacDrbg:PT,ensureBytes:ni,equalBytes:BW,hexToBytes:ld,hexToNumber:d5,numberToBytesBE:cd,numberToBytesLE:h5,numberToHexUnpadded:kT,numberToVarBytesBE:_W,utf8ToBytes:FW,validateObject:th},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qt=BigInt(0),jt=BigInt(1),zo=BigInt(2),WW=BigInt(3),vb=BigInt(4),dE=BigInt(5),fE=BigInt(8);BigInt(9);BigInt(16);function Ur(t,e){const r=t%e;return r>=Qt?r:e+r}function GW(t,e,r){if(r<=Qt||e<Qt)throw new Error("Expected power/modulo > 0");if(r===jt)return Qt;let n=jt;for(;e>Qt;)e&jt&&(n=n*t%r),t=t*t%r,e>>=jt;return n}function Pn(t,e,r){let n=t;for(;e-- >Qt;)n*=n,n%=r;return n}function bb(t,e){if(t===Qt||e<=Qt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Ur(t,e),n=e,i=Qt,s=jt;for(;r!==Qt;){const l=n/r,c=n%r,u=i-s*l;n=r,r=c,i=s,s=u}if(n!==jt)throw new Error("invert: does not exist");return Ur(i,e)}function KW(t){const e=(t-jt)/zo;let r,n,i;for(r=t-jt,n=0;r%zo===Qt;r/=zo,n++);for(i=zo;i<t&&GW(i,e,t)!==t-jt;i++);if(n===1){const a=(t+jt)/vb;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(r+jt)/zo;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=n,d=l.pow(l.mul(l.ONE,i),r),f=l.pow(c,s),h=l.pow(c,r);for(;!l.eql(h,l.ONE);){if(l.eql(h,l.ZERO))return l.ZERO;let m=1;for(let y=l.sqr(h);m<u&&!l.eql(y,l.ONE);m++)y=l.sqr(y);const g=l.pow(d,jt<<BigInt(u-m-1));d=l.sqr(g),f=l.mul(f,g),h=l.mul(h,d),u=m}return f}}function QW(t){if(t%vb===WW){const e=(t+jt)/vb;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%fE===dE){const e=(t-dE)/fE;return function(n,i){const s=n.mul(i,zo),a=n.pow(s,e),l=n.mul(i,a),c=n.mul(n.mul(l,zo),a),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),i))throw new Error("Cannot find square root");return u}}return KW(t)}const YW=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function qW(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=YW.reduce((n,i)=>(n[i]="function",n),e);return th(t,r)}function XW(t,e,r){if(r<Qt)throw new Error("Expected power > 0");if(r===Qt)return t.ONE;if(r===jt)return e;let n=t.ONE,i=e;for(;r>Qt;)r&jt&&(n=t.mul(n,i)),i=t.sqr(i),r>>=jt;return n}function JW(t,e){const r=new Array(e.length),n=e.reduce((s,a,l)=>t.is0(a)?s:(r[l]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,l)=>t.is0(a)?s:(r[l]=t.mul(s,r[l]),t.mul(s,a)),i),r}function CT(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ZW(t,e,r=!1,n={}){if(t<=Qt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=CT(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=QW(t),l=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:m5(i),ZERO:Qt,ONE:jt,create:c=>Ur(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Qt<=c&&c<t},is0:c=>c===Qt,isOdd:c=>(c&jt)===jt,neg:c=>Ur(-c,t),eql:(c,u)=>c===u,sqr:c=>Ur(c*c,t),add:(c,u)=>Ur(c+u,t),sub:(c,u)=>Ur(c-u,t),mul:(c,u)=>Ur(c*u,t),pow:(c,u)=>XW(l,c,u),div:(c,u)=>Ur(c*bb(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>bb(c,t),sqrt:n.sqrt||(c=>a(l,c)),invertBatch:c=>JW(l,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>r?h5(c,s):cd(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?f5(c):Ol(c)}});return Object.freeze(l)}function TT(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function OT(t){const e=TT(t);return e+Math.ceil(e/2)}function eG(t,e,r=!1){const n=t.length,i=TT(e),s=OT(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const a=r?Ol(t):f5(t),l=Ur(a,e-jt)+jt;return r?h5(l,i):cd(l,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tG=BigInt(0),lx=BigInt(1);function rG(t,e){const r=(i,s)=>{const a=s.negate();return i?a:s},n=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:r,unsafeLadder(i,s){let a=t.ZERO,l=i;for(;s>tG;)s&lx&&(a=a.add(l)),l=l.double(),s>>=lx;return a},precomputeWindow(i,s){const{windows:a,windowSize:l}=n(s),c=[];let u=i,d=u;for(let f=0;f<a;f++){d=u,c.push(d);for(let h=1;h<l;h++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(i,s,a){const{windows:l,windowSize:c}=n(i);let u=t.ZERO,d=t.BASE;const f=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let g=0;g<l;g++){const y=g*c;let w=Number(a&f);a>>=m,w>c&&(w-=h,a+=lx);const x=y,v=y+Math.abs(w)-1,b=g%2!==0,j=w<0;w===0?d=d.add(r(b,s[x])):u=u.add(r(j,s[v]))}return{p:u,f:d}},wNAFCached(i,s,a,l){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,l(u))),this.wNAF(c,u,a)}}}function IT(t){return qW(t.Fp),th(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...CT(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nG(t){const e=IT(t);th(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:iG,hexToBytes:sG}=HW,Zo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Zo;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:iG(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=Zo,r=typeof t=="string"?sG(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Zo._parseInt(r.subarray(2)),{d:a,l}=Zo._parseInt(s);if(l.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,r=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,a=i.length/2,l=r(s),c=r(a);return`30${r(a+s+4)}02${c}${i}02${l}${n}`}},xs=BigInt(0),Fn=BigInt(1);BigInt(2);const hE=BigInt(3);BigInt(4);function aG(t){const e=nG(t),{Fp:r}=e,n=e.toBytes||((g,y,w)=>{const x=y.toAffine();return o0(Uint8Array.from([4]),r.toBytes(x.x),r.toBytes(x.y))}),i=e.fromBytes||(g=>{const y=g.subarray(1),w=r.fromBytes(y.subarray(0,r.BYTES)),x=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x:w,y:x}});function s(g){const{a:y,b:w}=e,x=r.sqr(g),v=r.mul(x,g);return r.add(r.add(v,r.mul(g,y)),w)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return typeof g=="bigint"&&xs<g&&g<e.n}function l(g){if(!a(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:x,n:v}=e;if(y&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=od(g)),typeof g!="string"||!y.includes(g.length))throw new Error("Invalid key");g=g.padStart(w*2,"0")}let b;try{b=typeof g=="bigint"?g:Ol(ni("private key",g,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof g}`)}return x&&(b=Ur(b,v)),l(b),b}const u=new Map;function d(g){if(!(g instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(y,w,x){if(this.px=y,this.py=w,this.pz=x,y==null||!r.isValid(y))throw new Error("x required");if(w==null||!r.isValid(w))throw new Error("y required");if(x==null||!r.isValid(x))throw new Error("z required")}static fromAffine(y){const{x:w,y:x}=y||{};if(!y||!r.isValid(w)||!r.isValid(x))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");const v=b=>r.eql(b,r.ZERO);return v(w)&&v(x)?f.ZERO:new f(w,x,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=r.invertBatch(y.map(x=>x.pz));return y.map((x,v)=>x.toAffine(w[v])).map(f.fromAffine)}static fromHex(y){const w=f.fromAffine(i(ni("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return f.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!r.isValid(y)||!r.isValid(w))throw new Error("bad point: x or y not FE");const x=r.sqr(w),v=s(y);if(!r.eql(x,v))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);const{px:w,py:x,pz:v}=this,{px:b,py:j,pz:E}=y,S=r.eql(r.mul(w,E),r.mul(b,v)),k=r.eql(r.mul(x,E),r.mul(j,v));return S&&k}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:y,b:w}=e,x=r.mul(w,hE),{px:v,py:b,pz:j}=this;let E=r.ZERO,S=r.ZERO,k=r.ZERO,N=r.mul(v,v),C=r.mul(b,b),R=r.mul(j,j),D=r.mul(v,b);return D=r.add(D,D),k=r.mul(v,j),k=r.add(k,k),E=r.mul(y,k),S=r.mul(x,R),S=r.add(E,S),E=r.sub(C,S),S=r.add(C,S),S=r.mul(E,S),E=r.mul(D,E),k=r.mul(x,k),R=r.mul(y,R),D=r.sub(N,R),D=r.mul(y,D),D=r.add(D,k),k=r.add(N,N),N=r.add(k,N),N=r.add(N,R),N=r.mul(N,D),S=r.add(S,N),R=r.mul(b,j),R=r.add(R,R),N=r.mul(R,D),E=r.sub(E,N),k=r.mul(R,C),k=r.add(k,k),k=r.add(k,k),new f(E,S,k)}add(y){d(y);const{px:w,py:x,pz:v}=this,{px:b,py:j,pz:E}=y;let S=r.ZERO,k=r.ZERO,N=r.ZERO;const C=e.a,R=r.mul(e.b,hE);let D=r.mul(w,b),B=r.mul(x,j),z=r.mul(v,E),Q=r.add(w,x),T=r.add(b,j);Q=r.mul(Q,T),T=r.add(D,B),Q=r.sub(Q,T),T=r.add(w,v);let M=r.add(b,E);return T=r.mul(T,M),M=r.add(D,z),T=r.sub(T,M),M=r.add(x,v),S=r.add(j,E),M=r.mul(M,S),S=r.add(B,z),M=r.sub(M,S),N=r.mul(C,T),S=r.mul(R,z),N=r.add(S,N),S=r.sub(B,N),N=r.add(B,N),k=r.mul(S,N),B=r.add(D,D),B=r.add(B,D),z=r.mul(C,z),T=r.mul(R,T),B=r.add(B,z),z=r.sub(D,z),z=r.mul(C,z),T=r.add(T,z),D=r.mul(B,T),k=r.add(k,D),D=r.mul(M,T),S=r.mul(Q,S),S=r.sub(S,D),D=r.mul(Q,B),N=r.mul(M,N),N=r.add(N,D),new f(S,k,N)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return m.wNAFCached(this,u,y,w=>{const x=r.invertBatch(w.map(v=>v.pz));return w.map((v,b)=>v.toAffine(x[b])).map(f.fromAffine)})}multiplyUnsafe(y){const w=f.ZERO;if(y===xs)return w;if(l(y),y===Fn)return this;const{endo:x}=e;if(!x)return m.unsafeLadder(this,y);let{k1neg:v,k1:b,k2neg:j,k2:E}=x.splitScalar(y),S=w,k=w,N=this;for(;b>xs||E>xs;)b&Fn&&(S=S.add(N)),E&Fn&&(k=k.add(N)),N=N.double(),b>>=Fn,E>>=Fn;return v&&(S=S.negate()),j&&(k=k.negate()),k=new f(r.mul(k.px,x.beta),k.py,k.pz),S.add(k)}multiply(y){l(y);let w=y,x,v;const{endo:b}=e;if(b){const{k1neg:j,k1:E,k2neg:S,k2:k}=b.splitScalar(w);let{p:N,f:C}=this.wNAF(E),{p:R,f:D}=this.wNAF(k);N=m.constTimeNegate(j,N),R=m.constTimeNegate(S,R),R=new f(r.mul(R.px,b.beta),R.py,R.pz),x=N.add(R),v=C.add(D)}else{const{p:j,f:E}=this.wNAF(w);x=j,v=E}return f.normalizeZ([x,v])[0]}multiplyAndAddUnsafe(y,w,x){const v=f.BASE,b=(E,S)=>S===xs||S===Fn||!E.equals(v)?E.multiplyUnsafe(S):E.multiply(S),j=b(this,w).add(b(y,x));return j.is0()?void 0:j}toAffine(y){const{px:w,py:x,pz:v}=this,b=this.is0();y==null&&(y=b?r.ONE:r.inv(v));const j=r.mul(w,y),E=r.mul(x,y),S=r.mul(v,y);if(b)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:j,y:E}}isTorsionFree(){const{h:y,isTorsionFree:w}=e;if(y===Fn)return!0;if(w)return w(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=e;return y===Fn?this:w?w(f,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),n(f,this,y)}toHex(y=!0){return od(this.toRawBytes(y))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const h=e.nBitLength,m=rG(f,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:a}}function oG(t){const e=IT(t);return th(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function lG(t){const e=oG(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function a(T){return xs<T&&T<r.ORDER}function l(T){return Ur(T,n)}function c(T){return bb(T,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=aG({...e,toBytes(T,M,F){const P=M.toAffine(),L=r.toBytes(P.x),W=o0;return F?W(Uint8Array.from([M.hasEvenY()?2:3]),L):W(Uint8Array.from([4]),L,r.toBytes(P.y))},fromBytes(T){const M=T.length,F=T[0],P=T.subarray(1);if(M===i&&(F===2||F===3)){const L=Ol(P);if(!a(L))throw new Error("Point is not on curve");const W=f(L);let $=r.sqrt(W);const G=($&Fn)===Fn;return(F&1)===1!==G&&($=r.neg($)),{x:L,y:$}}else if(M===s&&F===4){const L=r.fromBytes(P.subarray(0,r.BYTES)),W=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:L,y:W}}else throw new Error(`Point of length ${M} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),m=T=>od(cd(T,e.nByteLength));function g(T){const M=n>>Fn;return T>M}function y(T){return g(T)?l(-T):T}const w=(T,M,F)=>Ol(T.slice(M,F));class x{constructor(M,F,P){this.r=M,this.s=F,this.recovery=P,this.assertValidity()}static fromCompact(M){const F=e.nByteLength;return M=ni("compactSignature",M,F*2),new x(w(M,0,F),w(M,F,2*F))}static fromDER(M){const{r:F,s:P}=Zo.toSig(ni("DER",M));return new x(F,P)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(M){return new x(this.r,this.s,M)}recoverPublicKey(M){const{r:F,s:P,recovery:L}=this,W=k(ni("msgHash",M));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const $=L===2||L===3?F+e.n:F;if($>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const G=L&1?"03":"02",fe=u.fromHex(G+m($)),pe=c($),ne=l(-W*pe),ye=l(P*pe),Le=u.BASE.multiplyAndAddUnsafe(fe,ne,ye);if(!Le)throw new Error("point at infinify");return Le.assertValidity(),Le}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return ld(this.toDERHex())}toDERHex(){return Zo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ld(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const v={isValidPrivateKey(T){try{return d(T),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const T=OT(e.n);return eG(e.randomBytes(T),e.n)},precompute(T=8,M=u.BASE){return M._setWindowSize(T),M.multiply(BigInt(3)),M}};function b(T,M=!0){return u.fromPrivateKey(T).toRawBytes(M)}function j(T){const M=T instanceof Uint8Array,F=typeof T=="string",P=(M||F)&&T.length;return M?P===i||P===s:F?P===2*i||P===2*s:T instanceof u}function E(T,M,F=!0){if(j(T))throw new Error("first arg must be private key");if(!j(M))throw new Error("second arg must be public key");return u.fromHex(M).multiply(d(T)).toRawBytes(F)}const S=e.bits2int||function(T){const M=Ol(T),F=T.length*8-e.nBitLength;return F>0?M>>BigInt(F):M},k=e.bits2int_modN||function(T){return l(S(T))},N=m5(e.nBitLength);function C(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(xs<=T&&T<N))throw new Error(`bigint expected < 2^${e.nBitLength}`);return cd(T,e.nByteLength)}function R(T,M,F=D){if(["recovered","canonical"].some(Z=>Z in F))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:L}=e;let{lowS:W,prehash:$,extraEntropy:G}=F;W==null&&(W=!0),T=ni("msgHash",T),$&&(T=ni("prehashed msgHash",P(T)));const fe=k(T),pe=d(M),ne=[C(pe),C(fe)];if(G!=null){const Z=G===!0?L(r.BYTES):G;ne.push(ni("extraEntropy",Z))}const ye=o0(...ne),Le=fe;function Jt(Z){const he=S(Z);if(!h(he))return;const xe=c(he),Y=u.BASE.multiply(he).toAffine(),Qe=l(Y.x);if(Qe===xs)return;const Pe=l(xe*l(Le+Qe*pe));if(Pe===xs)return;let lr=(Y.x===Qe?0:2)|Number(Y.y&Fn),cr=Pe;return W&&g(Pe)&&(cr=y(Pe),lr^=1),new x(Qe,cr,lr)}return{seed:ye,k2sig:Jt}}const D={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function z(T,M,F=D){const{seed:P,k2sig:L}=R(T,M,F),W=e;return PT(W.hash.outputLen,W.nByteLength,W.hmac)(P,L)}u.BASE._setWindowSize(8);function Q(T,M,F,P=B){var Y;const L=T;if(M=ni("msgHash",M),F=ni("publicKey",F),"strict"in P)throw new Error("options.strict was renamed to lowS");const{lowS:W,prehash:$}=P;let G,fe;try{if(typeof L=="string"||L instanceof Uint8Array)try{G=x.fromDER(L)}catch(Qe){if(!(Qe instanceof Zo.Err))throw Qe;G=x.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:Qe,s:Pe}=L;G=new x(Qe,Pe)}else throw new Error("PARSE");fe=u.fromHex(F)}catch(Qe){if(Qe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(W&&G.hasHighS())return!1;$&&(M=e.hash(M));const{r:pe,s:ne}=G,ye=k(M),Le=c(ne),Jt=l(ye*Le),Z=l(pe*Le),he=(Y=u.BASE.multiplyAndAddUnsafe(fe,Jt,Z))==null?void 0:Y.toAffine();return he?l(he.x)===pe:!1}return{CURVE:e,getPublicKey:b,getSharedSecret:E,sign:z,verify:Q,ProjectivePoint:u,Signature:x,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function cG(t){return{hash:t,hmac:(e,...r)=>lT(t,e,qH(...r)),randomBytes:XH}}function uG(t,e){const r=n=>lG({...t,...cG(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DT=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),mE=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dG=BigInt(1),wb=BigInt(2),pE=(t,e)=>(t+e/wb)/e;function fG(t){const e=DT,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),l=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,f=Pn(d,r,e)*d%e,h=Pn(f,r,e)*d%e,m=Pn(h,wb,e)*u%e,g=Pn(m,i,e)*m%e,y=Pn(g,s,e)*g%e,w=Pn(y,l,e)*y%e,x=Pn(w,c,e)*w%e,v=Pn(x,l,e)*y%e,b=Pn(v,r,e)*d%e,j=Pn(b,a,e)*g%e,E=Pn(j,n,e)*u%e,S=Pn(E,wb,e);if(!jb.eql(jb.sqr(S),t))throw new Error("Cannot find square root");return S}const jb=ZW(DT,void 0,void 0,{sqrt:fG}),da=uG({a:BigInt(0),b:BigInt(7),Fp:jb,n:mE,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=mE,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-dG*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),l=pE(s*t,e),c=pE(-n*t,e);let u=Ur(t-l*r-c*i,e),d=Ur(-l*n-c*s,e);const f=u>a,h=d>a;if(f&&(u=e-u),h&&(d=e-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:h,k2:d}}}},uT);BigInt(0);da.ProjectivePoint;const l0="0x0000000000000000000000000000000000000000",gE="0x0000000000000000000000000000000000000000000000000000000000000000",yE=BigInt(0),xE=BigInt(1),vE=BigInt(2),bE=BigInt(27),wE=BigInt(28),Qh=BigInt(35),pc={};function jE(t){return Vs(_t(t),32)}var pu,Oi,gu,gl;const ti=class ti{constructor(e,r,n,i){H(this,pu);H(this,Oi);H(this,gu);H(this,gl);Z0(e,pc,"Signature"),O(this,pu,r),O(this,Oi,n),O(this,gu,i),O(this,gl,null)}get r(){return A(this,pu)}set r(e){_(eu(e)===32,"invalid r","value",e),O(this,pu,ee(e))}get s(){return _(parseInt(A(this,Oi).substring(0,3))<8,"non-canonical s; use ._s","s",A(this,Oi)),A(this,Oi)}set s(e){_(eu(e)===32,"invalid s","value",e),O(this,Oi,ee(e))}get _s(){return A(this,Oi)}isValid(){return parseInt(A(this,Oi).substring(0,3))<8}get v(){return A(this,gu)}set v(e){const r=be(e,"value");_(r===27||r===28,"invalid v","v",e),O(this,gu,r)}get networkV(){return A(this,gl)}get legacyChainId(){const e=this.networkV;return e==null?null:ti.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=je(this.s);return this.yParity&&(e[0]|=128),ee(e)}get compactSerialized(){return xt([this.r,this.yParityAndS])}get serialized(){return xt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new ti(pc,this.r,this._s,this.v);return this.networkV&&O(e,gl,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const r=ae(e,"v");return r==bE||r==wE?yE:(_(r>=Qh,"invalid EIP-155 v","v",e),(r-Qh)/vE)}static getChainIdV(e,r){return ae(e)*vE+BigInt(35+r-27)}static getNormalizedV(e){const r=ae(e);return r===yE||r===bE?27:r===xE||r===wE?28:(_(r>=Qh,"invalid v","v",e),r&xE?27:28)}static from(e){function r(u,d){_(u,d,"signature",e)}if(e==null)return new ti(pc,gE,gE,27);if(typeof e=="string"){const u=je(e,"signature");if(u.length===64){const d=ee(u.slice(0,32)),f=u.slice(32,64),h=f[0]&128?28:27;return f[0]&=127,new ti(pc,d,ee(f),h)}if(u.length===65){const d=ee(u.slice(0,32)),f=ee(u.slice(32,64)),h=ti.getNormalizedV(u[64]);return new ti(pc,d,f,h)}r(!1,"invalid raw signature length")}if(e instanceof ti)return e.clone();const n=e.r;r(n!=null,"missing r");const i=jE(n),s=function(u,d){if(u!=null)return jE(u);if(d!=null){r(Je(d,32),"invalid yParityAndS");const f=je(d);return f[0]&=127,ee(f)}r(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:l}=function(u,d,f){if(u!=null){const h=ae(u);return{networkV:h>=Qh?h:void 0,v:ti.getNormalizedV(h)}}if(d!=null)return r(Je(d,32),"invalid yParityAndS"),{v:je(d)[0]&128?28:27};if(f!=null){switch(be(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}r(!1,"invalid yParity")}r(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new ti(pc,i,s,l);return a&&O(c,gl,a),r(e.yParity==null||be(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),r(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};pu=new WeakMap,Oi=new WeakMap,gu=new WeakMap,gl=new WeakMap;let Yr=ti;var us;const Ho=class Ho{constructor(e){H(this,us);_(eu(e)===32,"invalid private key","privateKey","[REDACTED]"),O(this,us,ee(e))}get privateKey(){return A(this,us)}get publicKey(){return Ho.computePublicKey(A(this,us))}get compressedPublicKey(){return Ho.computePublicKey(A(this,us),!0)}sign(e){_(eu(e)===32,"invalid digest length","digest",e);const r=da.sign(Pr(e),Pr(A(this,us)),{lowS:!0});return Yr.from({r:ao(r.r,32),s:ao(r.s,32),v:r.recovery?28:27})}computeSharedSecret(e){const r=Ho.computePublicKey(e);return ee(da.getSharedSecret(Pr(A(this,us)),je(r),!1))}static computePublicKey(e,r){let n=je(e,"key");if(n.length===32){const s=da.getPublicKey(n,!!r);return ee(s)}if(n.length===64){const s=new Uint8Array(65);s[0]=4,s.set(n,1),n=s}const i=da.ProjectivePoint.fromHex(n);return ee(i.toRawBytes(r))}static recoverPublicKey(e,r){_(eu(e)===32,"invalid digest length","digest",e);const n=Yr.from(r);let i=da.Signature.fromCompact(Pr(xt([n.r,n.s])));i=i.addRecoveryBit(n.yParity);const s=i.recoverPublicKey(Pr(e));return _(s!=null,"invalid signature for digest","signature",r),"0x"+s.toHex(!1)}static addPoints(e,r,n){const i=da.ProjectivePoint.fromHex(Ho.computePublicKey(e).substring(2)),s=da.ProjectivePoint.fromHex(Ho.computePublicKey(r).substring(2));return"0x"+i.add(s).toHex(!!n)}};us=new WeakMap;let c0=Ho;const hG=BigInt(0),mG=BigInt(36);function NE(t){t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=je(Ct(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const p5={};for(let t=0;t<10;t++)p5[String(t)]=String(t);for(let t=0;t<26;t++)p5[String.fromCharCode(65+t)]=String(10+t);const AE=15;function pG(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>p5[n]).join("");for(;e.length>=AE;){let n=e.substring(0,AE);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const gG=function(){const t={};for(let e=0;e<36;e++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[r]=BigInt(e)}return t}();function yG(t){t=t.toLowerCase();let e=hG;for(let r=0;r<t.length;r++)e=e*mG+gG[t[r]];return e}function Re(t){if(_(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=NE(t);return _(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){_(t.substring(2,4)===pG(t),"bad icap checksum","address",t);let e=yG(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return NE("0x"+e)}_(!1,"invalid address","address",t)}function xG(t){const e=Re(t.from);let n=ae(t.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,Re(pt(Ct(lo([e,n])),12))}function RT(t){return t&&typeof t.getAddress=="function"}function vG(t){try{return Re(t),!0}catch{}return!1}async function cx(t,e){const r=await e;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(K(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),_(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Re(r)}function Tr(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Re(t):(K(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),cx(t,e.resolveName(t)));if(RT(t))return cx(t,t.getAddress());if(t&&typeof t.then=="function")return cx(t,t);_(!1,"unsupported addressable value","target",t)}const ns={};function ie(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new br(ns,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function Oe(t,e){return new br(ns,`bytes${e||""}`,t,{size:e})}const EE=Symbol.for("_ethers_typed");var yl;const is=class is{constructor(e,r,n,i){U(this,"type");U(this,"value");H(this,yl);U(this,"_typedSymbol");i==null&&(i=null),Z0(ns,e,"Typed"),me(this,{_typedSymbol:EE,type:r,value:n}),O(this,yl,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return A(this,yl)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return A(this,yl)===!0?-1:A(this,yl)===!1?this.value.length:null}static from(e,r){return new is(ns,e,r)}static uint8(e){return ie(e,8)}static uint16(e){return ie(e,16)}static uint24(e){return ie(e,24)}static uint32(e){return ie(e,32)}static uint40(e){return ie(e,40)}static uint48(e){return ie(e,48)}static uint56(e){return ie(e,56)}static uint64(e){return ie(e,64)}static uint72(e){return ie(e,72)}static uint80(e){return ie(e,80)}static uint88(e){return ie(e,88)}static uint96(e){return ie(e,96)}static uint104(e){return ie(e,104)}static uint112(e){return ie(e,112)}static uint120(e){return ie(e,120)}static uint128(e){return ie(e,128)}static uint136(e){return ie(e,136)}static uint144(e){return ie(e,144)}static uint152(e){return ie(e,152)}static uint160(e){return ie(e,160)}static uint168(e){return ie(e,168)}static uint176(e){return ie(e,176)}static uint184(e){return ie(e,184)}static uint192(e){return ie(e,192)}static uint200(e){return ie(e,200)}static uint208(e){return ie(e,208)}static uint216(e){return ie(e,216)}static uint224(e){return ie(e,224)}static uint232(e){return ie(e,232)}static uint240(e){return ie(e,240)}static uint248(e){return ie(e,248)}static uint256(e){return ie(e,256)}static uint(e){return ie(e,256)}static int8(e){return ie(e,-8)}static int16(e){return ie(e,-16)}static int24(e){return ie(e,-24)}static int32(e){return ie(e,-32)}static int40(e){return ie(e,-40)}static int48(e){return ie(e,-48)}static int56(e){return ie(e,-56)}static int64(e){return ie(e,-64)}static int72(e){return ie(e,-72)}static int80(e){return ie(e,-80)}static int88(e){return ie(e,-88)}static int96(e){return ie(e,-96)}static int104(e){return ie(e,-104)}static int112(e){return ie(e,-112)}static int120(e){return ie(e,-120)}static int128(e){return ie(e,-128)}static int136(e){return ie(e,-136)}static int144(e){return ie(e,-144)}static int152(e){return ie(e,-152)}static int160(e){return ie(e,-160)}static int168(e){return ie(e,-168)}static int176(e){return ie(e,-176)}static int184(e){return ie(e,-184)}static int192(e){return ie(e,-192)}static int200(e){return ie(e,-200)}static int208(e){return ie(e,-208)}static int216(e){return ie(e,-216)}static int224(e){return ie(e,-224)}static int232(e){return ie(e,-232)}static int240(e){return ie(e,-240)}static int248(e){return ie(e,-248)}static int256(e){return ie(e,-256)}static int(e){return ie(e,-256)}static bytes1(e){return Oe(e,1)}static bytes2(e){return Oe(e,2)}static bytes3(e){return Oe(e,3)}static bytes4(e){return Oe(e,4)}static bytes5(e){return Oe(e,5)}static bytes6(e){return Oe(e,6)}static bytes7(e){return Oe(e,7)}static bytes8(e){return Oe(e,8)}static bytes9(e){return Oe(e,9)}static bytes10(e){return Oe(e,10)}static bytes11(e){return Oe(e,11)}static bytes12(e){return Oe(e,12)}static bytes13(e){return Oe(e,13)}static bytes14(e){return Oe(e,14)}static bytes15(e){return Oe(e,15)}static bytes16(e){return Oe(e,16)}static bytes17(e){return Oe(e,17)}static bytes18(e){return Oe(e,18)}static bytes19(e){return Oe(e,19)}static bytes20(e){return Oe(e,20)}static bytes21(e){return Oe(e,21)}static bytes22(e){return Oe(e,22)}static bytes23(e){return Oe(e,23)}static bytes24(e){return Oe(e,24)}static bytes25(e){return Oe(e,25)}static bytes26(e){return Oe(e,26)}static bytes27(e){return Oe(e,27)}static bytes28(e){return Oe(e,28)}static bytes29(e){return Oe(e,29)}static bytes30(e){return Oe(e,30)}static bytes31(e){return Oe(e,31)}static bytes32(e){return Oe(e,32)}static address(e){return new is(ns,"address",e)}static bool(e){return new is(ns,"bool",!!e)}static bytes(e){return new is(ns,"bytes",e)}static string(e){return new is(ns,"string",e)}static array(e,r){throw new Error("not implemented yet")}static tuple(e,r){throw new Error("not implemented yet")}static overrides(e){return new is(ns,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===EE}static dereference(e,r){if(is.isTyped(e)){if(e.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${e.type}`);return e.value}return e}};yl=new WeakMap;let br=is;class bG extends qs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){let n=br.dereference(r,"string");try{n=Re(n)}catch(i){return this._throwError(i.message,r)}return e.writeValue(n)}decode(e){return Re(ao(e.readValue(),20))}}class wG extends qs{constructor(r){super(r.name,r.type,"_",r.dynamic);U(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function MT(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(u=>{const d=u.localName;return K(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),K(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:r}),c[d]=!0,r[d]})}else _(!1,"invalid tuple value","tuple",r);_(e.length===n.length,"types/value length mismatch","tuple",r);let i=new pb,s=new pb,a=[];e.forEach((c,u)=>{let d=n[u];if(c.dynamic){let f=s.length;c.encode(s,d);let h=i.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(i,d)}),a.forEach(c=>{c(i.length)});let l=t.appendWriter(i);return l+=t.appendWriter(s),l}function LT(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let l=t.readIndex(),c=i.subReader(l);try{a=s.decode(c)}catch(u){if(ir(u,"BUFFER_OVERRUN"))throw u;a=u,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(t)}catch(l){if(ir(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");r.push(a),n.push(s.localName||null)}),sd.fromItems(r,n)}class jG extends qs{constructor(r,n,i){const s=r.type+"["+(n>=0?n:"")+"]",a=n===-1||r.dynamic;super("array",s,i,a);U(this,"coder");U(this,"length");me(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=br.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,r.writeValue(i.length)),W8(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let l=0;l<i.length;l++)a.push(this.coder);return MT(r,a,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),K(n*Cr<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Cr,length:r.dataLength}));let i=[];for(let s=0;s<n;s++)i.push(new wG(this.coder));return LT(r,i)}}class NG extends qs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){const n=br.dereference(r,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class _T extends qs{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Pr(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class AG extends _T{constructor(e){super("bytes",e)}decode(e){return ee(super.decode(e))}}class EG extends qs{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);U(this,"size");me(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=Pr(br.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return ee(r.readBytes(this.size))}}const SG=new Uint8Array([]);class kG extends qs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes(SG)}decode(e){return e.readBytes(0),null}}const PG=BigInt(0),CG=BigInt(1),TG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class OG extends qs{constructor(r,n,i){const s=(n?"int":"uint")+r*8;super(s,s,i,!1);U(this,"size");U(this,"signed");me(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=ae(br.dereference(n,this.type)),s=Jo(TG,Cr*8);if(this.signed){let a=Jo(s,this.size*8-1);(i>a||i<-(a+CG))&&this._throwError("value out-of-bounds",n),i=Q8(i,8*Cr)}else(i<PG||i>Jo(s,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=Jo(r.readValue(),this.size*8);return this.signed&&(n=kp(n,this.size*8)),n}}class IG extends _T{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Is(br.dereference(r,"string")))}decode(e){return Pp(super.decode(e))}}class Yh extends qs{constructor(r,n){let i=!1;const s=[];r.forEach(l=>{l.dynamic&&(i=!0),s.push(l.type)});const a="tuple("+s.join(",")+")";super("tuple",a,n,i);U(this,"coders");me(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||n[a]!==1||(a==="length"&&(a="_length"),r[a]==null&&(r[a]=r[s]))}),Object.freeze(r)}encode(r,n){const i=br.dereference(n,"tuple");return MT(r,this.coders,i)}decode(r){return LT(r,this.coders)}}function ux(t,e){return{address:Re(t),storageKeys:e.map((r,n)=>(_(Je(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function oc(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(_(r.length===2,"invalid slot set",`value[${n}]`,r),ux(r[0],r[1])):(_(r!=null&&typeof r=="object","invalid address-slot set","value",t),ux(r.address,r.storageKeys)));_(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return ux(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function BT(t){return{address:Re(t.address),nonce:ae(t.nonce!=null?t.nonce:0),chainId:ae(t.chainId!=null?t.chainId:0),signature:Yr.from(t.signature)}}function DG(t){let e;return typeof t=="string"?e=c0.computePublicKey(t,!1):e=t.publicKey,Re(Ct("0x"+e.substring(4)).substring(26))}function RG(t,e){return DG(c0.recoverPublicKey(t,e))}const Kt=BigInt(0),MG=BigInt(2),LG=BigInt(27),_G=BigInt(28),BG=BigInt(35),FG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),dx=4096*32;function UG(t){return{blobToKzgCommitment:n=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return je(t.blobToKzgCommitment(ee(n)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return je(t.blobToKzgCommitment(n));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return je(t.blobToKZGCommitment(ee(n)));_(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(n,i)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return je(t.computeBlobProof(ee(n),ee(i)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(n,i);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return je(t.computeBlobKZGProof(ee(n),ee(i)));_(!1,"unsupported KZG library","kzg",t)}}}function SE(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=Sd(e).substring(4),"0x"+r}function kd(t){return t==="0x"?null:Re(t)}function uy(t,e){try{return oc(t)}catch(r){_(!1,r.message,e,t)}}function $G(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const r=[];for(let n=0;n<t.length;n++){const i=t[n];if(!Array.isArray(i))throw new Error(`authorization[${n}]: invalid array`);if(i.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!i[1])throw new Error(`authorization[${n}]: null address`);r.push({address:kd(i[1]),nonce:$e(i[2],"nonce"),chainId:$e(i[0],"chainId"),signature:Yr.from({yParity:lc(i[3],"yParity"),r:Vs(i[4],32),s:Vs(i[5],32)})})}return r}catch(r){_(!1,r.message,e,t)}}function lc(t,e){return t==="0x"?0:be(t,e)}function $e(t,e){if(t==="0x")return Kt;const r=ae(t,e);return _(r<=FG,"value exceeds uint size",e,r),r}function Se(t,e){const r=ae(t,"value"),n=_t(r);return _(n.length<=32,"value too large",`tx.${e}`,r),n}function dy(t){return oc(t).map(e=>[e.address,e.storageKeys])}function VG(t){return t.map(e=>[Se(e.chainId,"chainId"),e.address,Se(e.nonce,"nonce"),Se(e.signature.yParity,"yParity"),_t(e.signature.r),_t(e.signature.s)])}function zG(t,e){_(Array.isArray(t),`invalid ${e}`,"value",t);for(let r=0;r<t.length;r++)_(Je(t[r],32),"invalid ${ param } hash",`value[${r}]`,t[r]);return t}function HG(t){const e=eh(t);_(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:lc(e[0],"nonce"),gasPrice:$e(e[1],"gasPrice"),gasLimit:$e(e[2],"gasLimit"),to:kd(e[3]),value:$e(e[4],"value"),data:ee(e[5]),chainId:Kt};if(e.length===6)return r;const n=$e(e[6],"v"),i=$e(e[7],"r"),s=$e(e[8],"s");if(i===Kt&&s===Kt)r.chainId=n;else{let a=(n-BG)/MG;a<Kt&&(a=Kt),r.chainId=a,_(a!==Kt||n===LG||n===_G,"non-canonical legacy v","v",e[6]),r.signature=Yr.from({r:Vs(e[7],32),s:Vs(e[8],32),v:n})}return r}function WG(t,e){const r=[Se(t.nonce,"nonce"),Se(t.gasPrice||0,"gasPrice"),Se(t.gasLimit,"gasLimit"),t.to||"0x",Se(t.value,"value"),t.data];let n=Kt;if(t.chainId!=Kt)n=ae(t.chainId,"tx.chainId"),_(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(n=s)}if(!e)return n!==Kt&&(r.push(_t(n)),r.push("0x"),r.push("0x")),lo(r);let i=BigInt(27+e.yParity);return n!==Kt?i=Yr.getChainIdV(n,e.v):BigInt(e.v)!==i&&_(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(_t(i)),r.push(_t(e.r)),r.push(_t(e.s)),lo(r)}function fy(t,e){let r;try{if(r=lc(e[0],"yParity"),r!==0&&r!==1)throw new Error("bad yParity")}catch{_(!1,"invalid yParity","yParity",e[0])}const n=Vs(e[1],32),i=Vs(e[2],32),s=Yr.from({r:n,s:i,yParity:r});t.signature=s}function GG(t){const e=eh(je(t).slice(1));_(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ee(t));const r={type:2,chainId:$e(e[0],"chainId"),nonce:lc(e[1],"nonce"),maxPriorityFeePerGas:$e(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$e(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$e(e[4],"gasLimit"),to:kd(e[5]),value:$e(e[6],"value"),data:ee(e[7]),accessList:uy(e[8],"accessList")};return e.length===9||fy(r,e.slice(9)),r}function KG(t,e){const r=[Se(t.chainId,"chainId"),Se(t.nonce,"nonce"),Se(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Se(t.maxFeePerGas||0,"maxFeePerGas"),Se(t.gasLimit,"gasLimit"),t.to||"0x",Se(t.value,"value"),t.data,dy(t.accessList||[])];return e&&(r.push(Se(e.yParity,"yParity")),r.push(_t(e.r)),r.push(_t(e.s))),xt(["0x02",lo(r)])}function QG(t){const e=eh(je(t).slice(1));_(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ee(t));const r={type:1,chainId:$e(e[0],"chainId"),nonce:lc(e[1],"nonce"),gasPrice:$e(e[2],"gasPrice"),gasLimit:$e(e[3],"gasLimit"),to:kd(e[4]),value:$e(e[5],"value"),data:ee(e[6]),accessList:uy(e[7],"accessList")};return e.length===8||fy(r,e.slice(8)),r}function YG(t,e){const r=[Se(t.chainId,"chainId"),Se(t.nonce,"nonce"),Se(t.gasPrice||0,"gasPrice"),Se(t.gasLimit,"gasLimit"),t.to||"0x",Se(t.value,"value"),t.data,dy(t.accessList||[])];return e&&(r.push(Se(e.yParity,"recoveryParam")),r.push(_t(e.r)),r.push(_t(e.s))),xt(["0x01",lo(r)])}function qG(t){let e=eh(je(t).slice(1)),r="3",n=null;if(e.length===4&&Array.isArray(e[0])){r="3 (network format)";const s=e[1],a=e[2],l=e[3];_(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),_(Array.isArray(a),"invalid network format: commitments not an array","fields[2]",a),_(Array.isArray(l),"invalid network format: proofs not an array","fields[3]",l),_(s.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",e),_(s.length===l.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:s[c],commitment:a[c],proof:l[c]});e=e[0]}_(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${r}`,"data",ee(t));const i={type:3,chainId:$e(e[0],"chainId"),nonce:lc(e[1],"nonce"),maxPriorityFeePerGas:$e(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$e(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$e(e[4],"gasLimit"),to:kd(e[5]),value:$e(e[6],"value"),data:ee(e[7]),accessList:uy(e[8],"accessList"),maxFeePerBlobGas:$e(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),_(i.to!=null,`invalid address for transaction type: ${r}`,"data",t),_(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)_(Je(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||fy(i,e.slice(11)),i}function XG(t,e,r){const n=[Se(t.chainId,"chainId"),Se(t.nonce,"nonce"),Se(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Se(t.maxFeePerGas||0,"maxFeePerGas"),Se(t.gasLimit,"gasLimit"),t.to||l0,Se(t.value,"value"),t.data,dy(t.accessList||[]),Se(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),zG(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(Se(e.yParity,"yParity")),n.push(_t(e.r)),n.push(_t(e.s)),r)?xt(["0x03",lo([n,r.map(i=>i.data),r.map(i=>i.commitment),r.map(i=>i.proof)])]):xt(["0x03",lo(n)])}function JG(t){const e=eh(je(t).slice(1));_(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",ee(t));const r={type:4,chainId:$e(e[0],"chainId"),nonce:lc(e[1],"nonce"),maxPriorityFeePerGas:$e(e[2],"maxPriorityFeePerGas"),maxFeePerGas:$e(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:$e(e[4],"gasLimit"),to:kd(e[5]),value:$e(e[6],"value"),data:ee(e[7]),accessList:uy(e[8],"accessList"),authorizationList:$G(e[9],"authorizationList")};return e.length===10||fy(r,e.slice(10)),r}function ZG(t,e){const r=[Se(t.chainId,"chainId"),Se(t.nonce,"nonce"),Se(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Se(t.maxFeePerGas||0,"maxFeePerGas"),Se(t.gasLimit,"gasLimit"),t.to||"0x",Se(t.value,"value"),t.data,dy(t.accessList||[]),VG(t.authorizationList||[])];return e&&(r.push(Se(e.yParity,"yParity")),r.push(_t(e.r)),r.push(_t(e.s))),xt(["0x04",lo(r)])}var li,yu,xu,vu,bu,wu,ju,Nu,Au,Eu,Su,ku,xl,Ea,Ii,Sa,Pu,Cu,Dm;const Ci=class Ci{constructor(){H(this,Cu);H(this,li);H(this,yu);H(this,xu);H(this,vu);H(this,bu);H(this,wu);H(this,ju);H(this,Nu);H(this,Au);H(this,Eu);H(this,Su);H(this,ku);H(this,xl);H(this,Ea);H(this,Ii);H(this,Sa);H(this,Pu);O(this,li,null),O(this,yu,null),O(this,vu,0),O(this,bu,Kt),O(this,wu,null),O(this,ju,null),O(this,Nu,null),O(this,xu,"0x"),O(this,Au,Kt),O(this,Eu,Kt),O(this,Su,null),O(this,ku,null),O(this,xl,null),O(this,Ea,null),O(this,Ii,null),O(this,Sa,null),O(this,Pu,null)}get type(){return A(this,li)}set type(e){switch(e){case null:O(this,li,null);break;case 0:case"legacy":O(this,li,0);break;case 1:case"berlin":case"eip-2930":O(this,li,1);break;case 2:case"london":case"eip-1559":O(this,li,2);break;case 3:case"cancun":case"eip-4844":O(this,li,3);break;case 4:case"pectra":case"eip-7702":O(this,li,4);break;default:_(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=A(this,yu);return e==null&&this.type===3?l0:e}set to(e){O(this,yu,e==null?null:Re(e))}get nonce(){return A(this,vu)}set nonce(e){O(this,vu,be(e,"value"))}get gasLimit(){return A(this,bu)}set gasLimit(e){O(this,bu,ae(e))}get gasPrice(){const e=A(this,wu);return e==null&&(this.type===0||this.type===1)?Kt:e}set gasPrice(e){O(this,wu,e==null?null:ae(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=A(this,ju);return e??(this.type===2||this.type===3?Kt:null)}set maxPriorityFeePerGas(e){O(this,ju,e==null?null:ae(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=A(this,Nu);return e??(this.type===2||this.type===3?Kt:null)}set maxFeePerGas(e){O(this,Nu,e==null?null:ae(e,"maxFeePerGas"))}get data(){return A(this,xu)}set data(e){O(this,xu,ee(e))}get value(){return A(this,Au)}set value(e){O(this,Au,ae(e,"value"))}get chainId(){return A(this,Eu)}set chainId(e){O(this,Eu,ae(e))}get signature(){return A(this,Su)||null}set signature(e){O(this,Su,e==null?null:Yr.from(e))}get accessList(){const e=A(this,ku)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){O(this,ku,e==null?null:oc(e))}get authorizationList(){const e=A(this,Pu)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){O(this,Pu,e==null?null:e.map(r=>BT(r)))}get maxFeePerBlobGas(){const e=A(this,xl);return e==null&&this.type===3?Kt:e}set maxFeePerBlobGas(e){O(this,xl,e==null?null:ae(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=A(this,Ea);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){_(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let r=0;r<e.length;r++)_(Je(e[r],32),"invalid blobVersionedHash",`value[${r}]`,e[r])}O(this,Ea,e)}get blobs(){return A(this,Sa)==null?null:A(this,Sa).map(e=>Object.assign({},e))}set blobs(e){if(e==null){O(this,Sa,null);return}const r=[],n=[];for(let i=0;i<e.length;i++){const s=e[i];if(a5(s)){K(A(this,Ii),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=je(s);if(_(a.length<=dx,"blob is too large",`blobs[${i}]`,s),a.length!==dx){const u=new Uint8Array(dx);u.set(a),a=u}const l=A(this,Ii).blobToKzgCommitment(a),c=ee(A(this,Ii).computeBlobKzgProof(a,l));r.push({data:ee(a),commitment:ee(l),proof:c}),n.push(SE(1,l))}else{const a=ee(s.commitment);r.push({data:ee(s.data),commitment:a,proof:ee(s.proof)}),n.push(SE(1,a))}}O(this,Sa,r),O(this,Ea,n)}get kzg(){return A(this,Ii)}set kzg(e){e==null?O(this,Ii,null):O(this,Ii,UG(e))}get hash(){return this.signature==null?null:Ct(q(this,Cu,Dm).call(this,!0,!1))}get unsignedHash(){return Ct(this.unsignedSerialized)}get from(){return this.signature==null?null:RG(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:c0.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return q(this,Cu,Dm).call(this,!0,!0)}get unsignedSerialized(){return q(this,Cu,Dm).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,r=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,i=A(this,xl)!=null||A(this,Ea);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&K(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),K(!r||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),K(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):this.authorizationList&&this.authorizationList.length?s.push(4):r?s.push(2):e?(s.push(1),n||s.push(0)):n?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ci.from(this)}toJSON(){const e=r=>r==null?null:r.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ci;if(typeof e=="string"){const n=je(e);if(n[0]>=127)return Ci.from(HG(n));switch(n[0]){case 1:return Ci.from(QG(n));case 2:return Ci.from(GG(n));case 3:return Ci.from(qG(n));case 4:return Ci.from(JG(n))}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const r=new Ci;return e.type!=null&&(r.type=e.type),e.to!=null&&(r.to=e.to),e.nonce!=null&&(r.nonce=e.nonce),e.gasLimit!=null&&(r.gasLimit=e.gasLimit),e.gasPrice!=null&&(r.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(r.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(r.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(r.data=e.data),e.value!=null&&(r.value=e.value),e.chainId!=null&&(r.chainId=e.chainId),e.signature!=null&&(r.signature=Yr.from(e.signature)),e.accessList!=null&&(r.accessList=e.accessList),e.authorizationList!=null&&(r.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(r.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(r.kzg=e.kzg),e.blobs!=null&&(r.blobs=e.blobs),e.hash!=null&&(_(r.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),_(r.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(_(r.isSigned(),"unsigned transaction cannot define '.from'","tx",e),_(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}};li=new WeakMap,yu=new WeakMap,xu=new WeakMap,vu=new WeakMap,bu=new WeakMap,wu=new WeakMap,ju=new WeakMap,Nu=new WeakMap,Au=new WeakMap,Eu=new WeakMap,Su=new WeakMap,ku=new WeakMap,xl=new WeakMap,Ea=new WeakMap,Ii=new WeakMap,Sa=new WeakMap,Pu=new WeakMap,Cu=new WeakSet,Dm=function(e,r){K(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return WG(this,n);case 1:return YG(this,n);case 2:return KG(this,n);case 3:return XG(this,n,r?this.blobs:null);case 4:return ZG(this,n)}K(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Op=Ci;function Gl(t){return Ct(Is(t))}var eK="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const kE=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),PE=4;function tK(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let E=1;E<n;E++)s.push(i+=r());let a=r(),l=e;e+=a;let c=0,u=0;function d(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const f=31,h=2**f,m=h>>>1,g=m>>1,y=h-1;let w=0;for(let E=0;E<f;E++)w=w<<1|d();let x=[],v=0,b=h;for(;;){let E=Math.floor(((w-v+1)*i-1)/b),S=0,k=n;for(;k-S>1;){let R=S+k>>>1;E<s[R]?k=R:S=R}if(S==0)break;x.push(S);let N=v+Math.floor(b*s[S]/i),C=v+Math.floor(b*s[S+1]/i)-1;for(;!((N^C)&m);)w=w<<1&y|d(),N=N<<1&y,C=C<<1&y|1;for(;N&~C&g;)w=w&m|w<<1&y>>>1|d(),N=N<<1^m,C=(C^m)<<1|m|1;v=N,b=1+C-N}let j=n-4;return x.map(E=>{switch(E-j){case 3:return j+65792+(t[l++]<<16|t[l++]<<8|t[l++]);case 2:return j+256+(t[l++]<<8|t[l++]);case 1:return j+t[l++];default:return E-1}})}function rK(t){let e=0;return()=>t[e++]}function FT(t){return rK(tK(nK(t)))}function nK(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,a=0,l=0;i<r;i++)l=l<<6|e[t.charCodeAt(i)],a+=6,a>=8&&(n[s++]=l>>(a-=8));return n}function iK(t){return t&1?~t>>1:t>>1}function sK(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=iK(e());return r}function u0(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let s=0;s<i;s++)r.push(e+s);e+=i+1}return r}function UT(t){return d0(()=>{let e=u0(t);if(e.length)return e})}function $T(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(aK(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(oK(r,t))}return e.flat()}function d0(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function VT(t,e,r){let n=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)sK(t,r).forEach((s,a)=>n[a].push(s));return n}function aK(t,e){let r=1+e(),n=e(),i=d0(e);return VT(i.length,1+t,e).flatMap((a,l)=>{let[c,...u]=a;return Array(i[l]).fill().map((d,f)=>{let h=f*n;return[c+f*r,u.map(m=>m+h)]})})}function oK(t,e){let r=1+e();return VT(r,1+t,e).map(i=>[i[0],i.slice(1)])}function lK(t){let e=[],r=u0(t);return i(n([]),[]),e;function n(s){let a=t(),l=d0(()=>{let c=u0(t).map(u=>r[u]);if(c.length)return n(c)});return{S:a,B:l,Q:s}}function i({S:s,B:a},l,c){if(!(s&4&&c===l[l.length-1])){s&2&&(c=l[l.length-1]),s&1&&e.push(l);for(let u of a)for(let d of u.Q)i(u,[...l,d],c)}}}function cK(t){return t.toString(16).toUpperCase().padStart(2,"0")}function zT(t){return`{${cK(t)}}`}function uK(t){let e=[];for(let r=0,n=t.length;r<n;){let i=t.codePointAt(r);r+=i<65536?1:2,e.push(i)}return e}function ud(t){let r=t.length;if(r<4096)return String.fromCodePoint(...t);let n=[];for(let i=0;i<r;)n.push(String.fromCodePoint(...t.slice(i,i+=4096)));return n.join("")}function dK(t,e){let r=t.length,n=r-e.length;for(let i=0;n==0&&i<r;i++)n=t[i]-e[i];return n}var fK="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const f0=44032,Ip=4352,Dp=4449,Rp=4519,HT=19,WT=21,dd=28,Mp=WT*dd,hK=HT*Mp,mK=f0+hK,pK=Ip+HT,gK=Dp+WT,yK=Rp+dd;function pf(t){return t>>24&255}function GT(t){return t&16777215}let Nb,CE,Ab,Rm;function xK(){let t=FT(fK);Nb=new Map(UT(t).flatMap((e,r)=>e.map(n=>[n,r+1<<24]))),CE=new Set(u0(t)),Ab=new Map,Rm=new Map;for(let[e,r]of $T(t)){if(!CE.has(e)&&r.length==2){let[n,i]=r,s=Rm.get(n);s||(s=new Map,Rm.set(n,s)),s.set(i,e)}Ab.set(e,r.reverse())}}function KT(t){return t>=f0&&t<mK}function vK(t,e){if(t>=Ip&&t<pK&&e>=Dp&&e<gK)return f0+(t-Ip)*Mp+(e-Dp)*dd;if(KT(t)&&e>Rp&&e<yK&&(t-f0)%dd==0)return t+(e-Rp);{let r=Rm.get(t);return r&&(r=r.get(e),r)?r:-1}}function QT(t){Nb||xK();let e=[],r=[],n=!1;function i(s){let a=Nb.get(s);a&&(n=!0,s|=a),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(KT(s)){let a=s-f0,l=a/Mp|0,c=a%Mp/dd|0,u=a%dd;i(Ip+l),i(Dp+c),u>0&&i(Rp+u)}else{let a=Ab.get(s);a?r.push(...a):i(s)}if(!r.length)break;s=r.pop()}if(n&&e.length>1){let s=pf(e[0]);for(let a=1;a<e.length;a++){let l=pf(e[a]);if(l==0||s<=l){s=l;continue}let c=a-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(s=pf(e[--c]),s<=l))break}s=pf(e[a])}}return e}function bK(t){let e=[],r=[],n=-1,i=0;for(let s of t){let a=pf(s),l=GT(s);if(n==-1)a==0?n=l:e.push(l);else if(i>0&&i>=a)a==0?(e.push(n,...r),r.length=0,n=l):r.push(l),i=a;else{let c=vK(n,l);c>=0?n=c:i==0&&a==0?(e.push(n),n=l):(r.push(l),i=a)}}return n>=0&&e.push(n,...r),e}function YT(t){return QT(t).map(GT)}function wK(t){return bK(QT(t))}const TE=45,qT=".",XT=65039,JT=1,Lp=t=>Array.from(t);function h0(t,e){return t.P.has(e)||t.Q.has(e)}class jK extends Array{get is_emoji(){return!0}}let Eb,ZT,el,Sb,eO,ru,fx,vc,Bo,OE,kb;function g5(){if(Eb)return;let t=FT(eK);const e=()=>u0(t),r=()=>new Set(e()),n=(d,f)=>f.forEach(h=>d.add(h));Eb=new Map($T(t)),ZT=r(),el=e(),Sb=new Set(e().map(d=>el[d])),el=new Set(el),eO=r(),r();let i=UT(t),s=t();const a=()=>{let d=new Set;return e().forEach(f=>n(d,i[f])),n(d,e()),d};ru=d0(d=>{let f=d0(t).map(h=>h+96);if(f.length){let h=d>=s;f[0]-=32,f=ud(f),h&&(f=`Restricted[${f}]`);let m=a(),g=a(),y=!t();return{N:f,P:m,Q:g,M:y,R:h}}}),fx=r(),vc=new Map;let l=e().concat(Lp(fx)).sort((d,f)=>d-f);l.forEach((d,f)=>{let h=t(),m=l[f]=h?l[f-h]:{V:[],M:new Map};m.V.push(d),fx.has(d)||vc.set(d,m)});for(let{V:d,M:f}of new Set(vc.values())){let h=[];for(let g of d){let y=ru.filter(x=>h0(x,g)),w=h.find(({G:x})=>y.some(v=>x.has(v)));w||(w={G:new Set,V:[]},h.push(w)),w.V.push(g),n(w.G,y)}let m=h.flatMap(g=>Lp(g.G));for(let{G:g,V:y}of h){let w=new Set(m.filter(x=>!g.has(x)));for(let x of y)f.set(x,w)}}Bo=new Set;let c=new Set;const u=d=>Bo.has(d)?c.add(d):Bo.add(d);for(let d of ru){for(let f of d.P)u(f);for(let f of d.Q)u(f)}for(let d of Bo)!vc.has(d)&&!c.has(d)&&vc.set(d,JT);n(Bo,YT(Bo)),OE=lK(t).map(d=>jK.from(d)).sort(dK),kb=new Map;for(let d of OE){let f=[kb];for(let h of d){let m=f.map(g=>{let y=g.get(h);return y||(y=new Map,g.set(h,y)),y});h===XT?f.push(...m):f=m}for(let h of f)h.V=d}}function y5(t){return(tO(t)?"":`${x5(hy([t]))} `)+zT(t)}function x5(t){return`"${t}"‎`}function NK(t){if(t.length>=4&&t[2]==TE&&t[3]==TE)throw new Error(`invalid label extension: "${ud(t.slice(0,4))}"`)}function AK(t){for(let r=t.lastIndexOf(95);r>0;)if(t[--r]!==95)throw new Error("underscore allowed only at start")}function EK(t){let e=t[0],r=kE.get(e);if(r)throw Mf(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let a=kE.get(e);if(a){if(i==s)throw Mf(`${r} + ${a}`);i=s+1,r=a}}if(i==n)throw Mf(`trailing ${r}`)}function hy(t,e=1/0,r=zT){let n=[];SK(t[0])&&n.push("◌"),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let a=0;a<s;a++){let l=t[a];tO(l)&&(n.push(ud(t.slice(i,a))),n.push(r(l)),i=a+1)}return n.push(ud(t.slice(i,s))),n.join("")}function SK(t){return g5(),el.has(t)}function tO(t){return g5(),eO.has(t)}function kK(t){return OK(PK(t,wK,RK))}function PK(t,e,r){if(!t)return[];g5();let n=0;return t.split(qT).map(i=>{let s=uK(i),a={input:s,offset:n};n+=s.length+1;try{let l=a.tokens=DK(s,e,r),c=l.length,u;if(!c)throw new Error("empty label");let d=a.output=l.flat();if(AK(d),!(a.emoji=c>1||l[0].is_emoji)&&d.every(h=>h<128))NK(d),u="ASCII";else{let h=l.flatMap(m=>m.is_emoji?[]:m);if(!h.length)u="Emoji";else{if(el.has(d[0]))throw Mf("leading combining mark");for(let y=1;y<c;y++){let w=l[y];if(!w.is_emoji&&el.has(w[0]))throw Mf(`emoji + combining mark: "${ud(l[y-1])} + ${hy([w[0]])}"`)}EK(d);let m=Lp(new Set(h)),[g]=TK(m);IK(g,h),CK(g,m),u=g.N}}a.type=u}catch(l){a.error=l}return a})}function CK(t,e){let r,n=[];for(let i of e){let s=vc.get(i);if(s===JT)return;if(s){let a=s.M.get(i);if(r=r?r.filter(l=>a.has(l)):Lp(a),!r.length)return}else n.push(i)}if(r){for(let i of r)if(n.every(s=>h0(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function TK(t){let e=ru;for(let r of t){let n=e.filter(i=>h0(i,r));if(!n.length)throw ru.some(i=>h0(i,r))?nO(e[0],r):rO(r);if(e=n,n.length==1)break}return e}function OK(t){return t.map(({input:e,error:r,output:n})=>{if(r){let i=r.message;throw new Error(t.length==1?i:`Invalid label ${x5(hy(e,63))}: ${i}`)}return ud(n)}).join(qT)}function rO(t){return new Error(`disallowed character: ${y5(t)}`)}function nO(t,e){let r=y5(e),n=ru.find(i=>i.P.has(e));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function Mf(t){return new Error(`illegal placement: ${t}`)}function IK(t,e){for(let r of e)if(!h0(t,r))throw nO(t,r);if(t.M){let r=YT(e);for(let n=1,i=r.length;n<i;n++)if(Sb.has(r[n])){let s=n+1;for(let a;s<i&&Sb.has(a=r[s]);s++)for(let l=n;l<s;l++)if(r[l]==a)throw new Error(`duplicate non-spacing marks: ${y5(a)}`);if(s-n>PE)throw new Error(`excessive non-spacing marks: ${x5(hy(r.slice(n-1,s)))} (${s-n}/${PE})`);n=s}}}function DK(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=MK(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let a=t.pop();if(Bo.has(a))i.push(a);else{let l=Eb.get(a);if(l)i.push(...l);else if(!ZT.has(a))throw rO(a)}}}return i.length&&n.push(e(i)),n}function RK(t){return t.filter(e=>e!=XT)}function MK(t,e){let r=kb,n,i=t.length;for(;i&&(r=r.get(t[--i]),!!r);){let{V:s}=r;s&&(n=s,t.length=i)}return n}const iO=new Uint8Array(32);iO.fill(0);function IE(t){return _(t.length!==0,"invalid ENS name; empty component","comp",t),t}function sO(t){const e=Is(LK(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(IE(e.slice(n,i))),n=i+1);return _(n<e.length,"invalid ENS name; empty component","name",t),r.push(IE(e.slice(n))),r}function LK(t){try{if(t.length===0)throw new Error("empty label");return kK(t)}catch(e){_(!1,`invalid ENS name (${e.message})`,"name",t)}}function Pb(t){_(typeof t=="string","invalid ENS name; not a string","name",t),_(t.length,"invalid ENS name (empty label)","name",t);let e=iO;const r=sO(t);for(;r.length;)e=Ct(xt([e,Ct(r.pop())]));return ee(e)}function _K(t,e){const r=e;return _(r<=255,"DNS encoded label cannot exceed 255","length",r),ee(xt(sO(t).map(n=>{_(n.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const i=new Uint8Array(n.length+1);return i.set(n,1),i[0]=i.length-1,i})))+"00"}const aO=new Uint8Array(32);aO.fill(0);const BK=BigInt(-1),oO=BigInt(0),lO=BigInt(1),FK=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function UK(t){const e=je(t),r=e.length%32;return r?xt([e,aO.slice(r)]):ee(e)}const $K=ao(lO,32),VK=ao(oO,32),DE={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},hx=["name","version","chainId","verifyingContract","salt"];function RE(t){return function(e){return _(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const zK={name:RE("name"),version:RE("version"),chainId:function(t){const e=ae(t,"domain.chainId");return _(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):hi(e)},verifyingContract:function(t){try{return Re(t).toLowerCase()}catch{}_(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=je(t,"domain.salt");return _(e.length===32,'invalid domain value "salt"',"domain.salt",t),ee(e)}};function mx(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=e[1]==="",n=parseInt(e[2]);_(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=Jo(FK,r?n-1:n),s=r?(i+lO)*BK:oO;return function(a){const l=ae(a,"value");return _(l>=s&&l<=i,`value out-of-bounds for ${t}`,"value",l),ao(r?Q8(l,256):l,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return _(r!==0&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(n){const i=je(n);return _(i.length===r,`invalid length for ${t}`,"value",n),UK(n)}}}switch(t){case"address":return function(e){return Vs(Re(e),32)};case"bool":return function(e){return e?$K:VK};case"bytes":return function(e){return Ct(e)};case"string":return function(e){return Gl(e)}}return null}function ME(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}function qh(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var D0,ds,Tu,kg,cO;const Dn=class Dn{constructor(e){H(this,kg);U(this,"primaryType");H(this,D0);H(this,ds);H(this,Tu);O(this,ds,new Map),O(this,Tu,new Map);const r=new Map,n=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:u,type:d})=>{let{base:f,index:h}=qh(d);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:u,type:f+(h||"")}}),r.set(c,new Set),n.set(c,[]),i.set(c,new Set)}),O(this,D0,JSON.stringify(s));for(const c in s){const u=new Set;for(const d of s[c]){_(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const f=qh(d.type).base;_(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!mx(f)&&(_(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),r.get(c).add(f))}}const a=Array.from(n.keys()).filter(c=>n.get(c).length===0);_(a.length!==0,"missing primary type","types",e),_(a.length===1,`ambiguous primary types or unused types: ${a.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),me(this,{primaryType:a[0]});function l(c,u){_(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of r.get(c))if(n.has(d)){l(d,u);for(const f of u)i.get(f).add(d)}u.delete(c)}l(this.primaryType,new Set);for(const[c,u]of i){const d=Array.from(u);d.sort(),A(this,ds).set(c,ME(c,s[c])+d.map(f=>ME(f,s[f])).join(""))}}get types(){return JSON.parse(A(this,D0))}getEncoder(e){let r=A(this,Tu).get(e);return r||(r=q(this,kg,cO).call(this,e),A(this,Tu).set(e,r)),r}encodeType(e){const r=A(this,ds).get(e);return _(r,`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Ct(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(mx(e))return n(e,r);const i=qh(e).array;if(i)return _(i.count===-1||i.count===r.length,`array length mismatch; expected length ${i.count}`,"value",r),r.map(a=>this._visit(i.prefix,a,n));const s=this.types[e];if(s)return s.reduce((a,{name:l,type:c})=>(a[l]=this._visit(c,r[l],n),a),{});_(!1,`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Dn(e)}static getPrimaryType(e){return Dn.from(e).primaryType}static hashStruct(e,r,n){return Dn.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){if(e[n]==null)continue;const i=DE[n];_(i,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>hx.indexOf(n.name)-hx.indexOf(i.name)),Dn.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return xt(["0x1901",Dn.hashDomain(e),Dn.from(r).hash(n)])}static hash(e,r,n){return Ct(Dn.encode(e,r,n))}static async resolveNames(e,r,n,i){e=Object.assign({},e);for(const l in e)e[l]==null&&delete e[l];const s={};e.verifyingContract&&!Je(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=Dn.from(r);a.visit(n,(l,c)=>(l==="address"&&!Je(c,20)&&(s[c]="0x"),c));for(const l in s)s[l]=await i(l);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(l,c)=>l==="address"&&s[c]?s[c]:c),{domain:e,value:n}}static getPayload(e,r,n){Dn.hashDomain(e);const i={},s=[];hx.forEach(c=>{const u=e[c];u!=null&&(i[c]=zK[c](u),s.push({name:c,type:DE[c]}))});const a=Dn.from(r);r=a.types;const l=Object.assign({},r);return _(l.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",r),l.EIP712Domain=s,a.encode(n),{types:l,domain:i,primaryType:a.primaryType,message:a.visit(n,(c,u)=>{if(c.match(/^bytes(\d*)/))return ee(je(u));if(c.match(/^u?int/))return ae(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return _(typeof u=="string","invalid string","value",u),u}_(!1,"unsupported type","type",c)})}}};D0=new WeakMap,ds=new WeakMap,Tu=new WeakMap,kg=new WeakSet,cO=function(e){{const i=mx(e);if(i)return i}const r=qh(e).array;if(r){const i=r.prefix,s=this.getEncoder(i);return a=>{_(r.count===-1||r.count===a.length,`array length mismatch; expected length ${r.count}`,"value",a);let l=a.map(s);return A(this,ds).has(i)&&(l=l.map(Ct)),Ct(xt(l))}}const n=this.types[e];if(n){const i=Gl(A(this,ds).get(e));return s=>{const a=n.map(({name:l,type:c})=>{const u=this.getEncoder(c)(s[l]);return A(this,ds).has(c)?Ct(u):u});return a.unshift(i),xt(a)}}_(!1,`unknown type: ${e}`,"type",e)};let _p=Dn;function Or(t){const e=new Set;return t.forEach(r=>e.add(r)),Object.freeze(e)}const HK="external public payable override",WK=Or(HK.split(" ")),uO="constant external internal payable private public pure view override",GK=Or(uO.split(" ")),dO="constructor error event fallback function receive struct",fO=Or(dO.split(" ")),hO="calldata memory storage payable indexed",KK=Or(hO.split(" ")),QK="tuple returns",YK=[dO,hO,QK,uO].join(" "),qK=Or(YK.split(" ")),XK={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},JK=new RegExp("^(\\s*)"),ZK=new RegExp("^([0-9]+)"),eQ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),mO=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),pO=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Zt,ci,R0,Cb;const Pg=class Pg{constructor(e){H(this,R0);H(this,Zt);H(this,ci);O(this,Zt,0),O(this,ci,e.slice())}get offset(){return A(this,Zt)}get length(){return A(this,ci).length-A(this,Zt)}clone(){return new Pg(A(this,ci))}reset(){O(this,Zt,0)}popKeyword(e){const r=this.peek();if(r.type!=="KEYWORD"||!e.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const r=this.peek();throw new Error(`expected ${e}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=q(this,R0,Cb).call(this,A(this,Zt)+1,e.match+1);return O(this,Zt,e.match+1),r}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;A(this,Zt)<e.match-1;){const n=this.peek().linkNext;r.push(q(this,R0,Cb).call(this,A(this,Zt)+1,n)),O(this,Zt,n)}return O(this,Zt,e.match+1),r}peek(){if(A(this,Zt)>=A(this,ci).length)throw new Error("out-of-bounds");return A(this,ci)[A(this,Zt)]}peekKeyword(e){const r=this.peekType("KEYWORD");return r!=null&&e.has(r)?r:null}peekType(e){if(this.length===0)return null;const r=this.peek();return r.type===e?r.text:null}pop(){const e=this.peek();return Bd(this,Zt)._++,e}toString(){const e=[];for(let r=A(this,Zt);r<A(this,ci).length;r++){const n=A(this,ci)[r];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}};Zt=new WeakMap,ci=new WeakMap,R0=new WeakSet,Cb=function(e=0,r=0){return new Pg(A(this,ci).slice(e,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))};let Ni=Pg;function wo(t){const e=[],r=a=>{const l=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${l} at ${s}: ${a}`)};let n=[],i=[],s=0;for(;s<t.length;){let a=t.substring(s),l=a.match(JK);l&&(s+=l[1].length,a=t.substring(s));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let u=XK[a[0]]||"";if(u){if(c.type=u,c.text=a[0],s++,u==="OPEN_PAREN")n.push(e.length-1),i.push(e.length-1);else if(u=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=be(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(l=a.match(eQ),l){if(c.text=l[1],s+=c.text.length,qK.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(pO)){c.type="TYPE";continue}c.type="ID";continue}if(l=a.match(ZK),l){c.text=l[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new Ni(e.map(a=>Object.freeze(a)))}function LE(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function my(t,e){if(e.peekKeyword(fO)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function zs(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function gO(t){let e=zs(t,GK);return LE(e,Or("constant payable nonpayable".split(" "))),LE(e,Or("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ds(t,e){return t.popParams().map(r=>ar.from(r,e))}function yO(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ae(t.pop().text);throw new Error("invalid gas")}return null}function Kl(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const tQ=new RegExp(/^(.*)\[([0-9]*)\]$/);function _E(t){const e=t.match(pO);if(_(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const r=parseInt(e[2]);_(r!==0&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);_(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}const ut={},Xr=Symbol.for("_ethers_internal"),BE="_ParamTypeInternal",FE="_ErrorInternal",UE="_EventInternal",$E="_ConstructorInternal",VE="_FallbackInternal",zE="_FunctionInternal",HE="_StructInternal";var Ou,Mm;const Rn=class Rn{constructor(e,r,n,i,s,a,l,c){H(this,Ou);U(this,"name");U(this,"type");U(this,"baseType");U(this,"indexed");U(this,"components");U(this,"arrayLength");U(this,"arrayChildren");if(Z0(e,ut,"ParamType"),Object.defineProperty(this,Xr,{value:BE}),a&&(a=Object.freeze(a.slice())),i==="array"){if(l==null||c==null)throw new Error("")}else if(l!=null||c!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");me(this,{name:r,type:n,baseType:i,indexed:s,components:a,arrayLength:l,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=n,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(e),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":r+=this.type,e!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),e==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((i,s)=>n.components[s].walk(i,r))}return r(this.type,e)}async walkAsync(e,r){const n=[],i=[e];return q(this,Ou,Mm).call(this,n,e,r,s=>{i[0]=s}),n.length&&await Promise.all(n),i[0]}static from(e,r){if(Rn.isParamType(e))return e;if(typeof e=="string")try{return Rn.from(wo(e),r)}catch{_(!1,"invalid param type","obj",e)}else if(e instanceof Ni){let l="",c="",u=null;zs(e,Or(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(y=>Rn.from(y)),l=`tuple(${u.map(y=>y.format()).join(",")})`):(l=_E(e.popType("TYPE")),c=l);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();d=new Rn(ut,"",l,c,null,u,f,d),f=y.value,l+=y.text,c="array",u=null}let h=null;if(zs(e,KK).has("indexed")){if(!r)throw new Error("");h=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Rn(ut,g,l,c,h,u,f,d)}const n=e.name;_(!n||typeof n=="string"&&n.match(mO),"invalid name","obj.name",n);let i=e.indexed;i!=null&&(_(r,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,a=s.match(tQ);if(a){const l=parseInt(a[2]||"-1"),c=Rn.from({type:a[1],components:e.components});return new Rn(ut,n||"",s,"array",i,null,l,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const l=e.components!=null?e.components.map(u=>Rn.from(u)):null;return new Rn(ut,n||"",s,"tuple",i,l,null,null)}return s=_E(e.type),new Rn(ut,n||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Xr]===BE}};Ou=new WeakSet,Mm=function(e,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,l=r.slice();l.forEach((c,u)=>{var d;q(d=a,Ou,Mm).call(d,e,c,n,f=>{l[u]=f})}),i(l);return}if(this.isTuple()){const a=this.components;let l;if(Array.isArray(r))l=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");l=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in r))throw new Error(`missing value for component ${c.name}`);return r[c.name]})}if(l.length!==this.components.length)throw new Error("array is wrong length");l.forEach((c,u)=>{var d;q(d=a[u],Ou,Mm).call(d,e,c,n,f=>{l[u]=f})}),i(l);return}const s=n(this.type,r);s.then?e.push(async function(){i(await s)}()):i(s)};let ar=Rn;class Ql{constructor(e,r,n){U(this,"type");U(this,"inputs");Z0(e,ut,"Fragment"),n=Object.freeze(n.slice()),me(this,{type:r,inputs:n})}static from(e){if(typeof e=="string"){try{Ql.from(JSON.parse(e))}catch{}return Ql.from(wo(e))}if(e instanceof Ni)switch(e.peekKeyword(fO)){case"constructor":return Es.from(e);case"error":return zr.from(e);case"event":return $i.from(e);case"fallback":case"receive":return as.from(e);case"function":return Vi.from(e);case"struct":return Il.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Es.from(e);case"error":return zr.from(e);case"event":return $i.from(e);case"fallback":case"receive":return as.from(e);case"function":return Vi.from(e);case"struct":return Il.from(e)}K(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}_(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Es.isFragment(e)}static isError(e){return zr.isFragment(e)}static isEvent(e){return $i.isFragment(e)}static isFunction(e){return Vi.isFragment(e)}static isStruct(e){return Il.isFragment(e)}}class py extends Ql{constructor(r,n,i,s){super(r,n,s);U(this,"name");_(typeof i=="string"&&i.match(mO),"invalid identifier","name",i),s=Object.freeze(s.slice()),me(this,{name:i})}}function m0(t,e){return"("+e.map(r=>r.format(t)).join(t==="full"?", ":",")+")"}class zr extends py{constructor(e,r,n){super(e,"error",r,n),Object.defineProperty(this,Xr,{value:FE})}get selector(){return Gl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const r=[];return e!=="sighash"&&r.push("error"),r.push(this.name+m0(e,this.inputs)),r.join(" ")}static from(e){if(zr.isFragment(e))return e;if(typeof e=="string")return zr.from(wo(e));if(e instanceof Ni){const r=my("error",e),n=Ds(e);return Kl(e),new zr(ut,r,n)}return new zr(ut,e.name,e.inputs?e.inputs.map(ar.from):[])}static isFragment(e){return e&&e[Xr]===FE}}class $i extends py{constructor(r,n,i,s){super(r,"event",n,i);U(this,"anonymous");Object.defineProperty(this,Xr,{value:UE}),me(this,{anonymous:s})}get topicHash(){return Gl(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+m0(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(s=>ar.from(s)),new $i(ut,r,n,!1).topicHash}static from(r){if($i.isFragment(r))return r;if(typeof r=="string")try{return $i.from(wo(r))}catch{_(!1,"invalid event fragment","obj",r)}else if(r instanceof Ni){const n=my("event",r),i=Ds(r,!0),s=!!zs(r,Or(["anonymous"])).has("anonymous");return Kl(r),new $i(ut,n,i,s)}return new $i(ut,r.name,r.inputs?r.inputs.map(n=>ar.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Xr]===UE}}class Es extends Ql{constructor(r,n,i,s,a){super(r,n,i);U(this,"payable");U(this,"gas");Object.defineProperty(this,Xr,{value:$E}),me(this,{payable:s,gas:a})}format(r){if(K(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${m0(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(Es.isFragment(r))return r;if(typeof r=="string")try{return Es.from(wo(r))}catch{_(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Ni){zs(r,Or(["constructor"]));const n=Ds(r),i=!!zs(r,WK).has("payable"),s=yO(r);return Kl(r),new Es(ut,"constructor",n,i,s)}return new Es(ut,"constructor",r.inputs?r.inputs.map(ar.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Xr]===$E}}class as extends Ql{constructor(r,n,i){super(r,"fallback",n);U(this,"payable");Object.defineProperty(this,Xr,{value:VE}),me(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(as.isFragment(r))return r;if(typeof r=="string")try{return as.from(wo(r))}catch{_(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Ni){const n=r.toString(),i=r.peekKeyword(Or(["fallback","receive"]));if(_(i,"type must be fallback or receive","obj",n),r.popKeyword(Or(["fallback","receive"]))==="receive"){const c=Ds(r);return _(c.length===0,"receive cannot have arguments","obj.inputs",c),zs(r,Or(["payable"])),Kl(r),new as(ut,[],!0)}let a=Ds(r);a.length?_(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[ar.from("bytes")];const l=gO(r);if(_(l==="nonpayable"||l==="payable","fallback cannot be constants","obj.stateMutability",l),zs(r,Or(["returns"])).has("returns")){const c=Ds(r);_(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return Kl(r),new as(ut,a,l==="payable")}if(r.type==="receive")return new as(ut,[],!0);if(r.type==="fallback"){const n=[ar.from("bytes")],i=r.stateMutability==="payable";return new as(ut,n,i)}_(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Xr]===VE}}class Vi extends py{constructor(r,n,i,s,a,l){super(r,"function",n,s);U(this,"constant");U(this,"outputs");U(this,"stateMutability");U(this,"payable");U(this,"gas");Object.defineProperty(this,Xr,{value:zE}),a=Object.freeze(a.slice()),me(this,{constant:i==="view"||i==="pure",gas:l,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return Gl(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+m0(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(m0(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(s=>ar.from(s)),new Vi(ut,r,"view",n,[],null).selector}static from(r){if(Vi.isFragment(r))return r;if(typeof r=="string")try{return Vi.from(wo(r))}catch{_(!1,"invalid function fragment","obj",r)}else if(r instanceof Ni){const i=my("function",r),s=Ds(r),a=gO(r);let l=[];zs(r,Or(["returns"])).has("returns")&&(l=Ds(r));const c=yO(r);return Kl(r),new Vi(ut,i,a,s,l,c)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new Vi(ut,r.name,n,r.inputs?r.inputs.map(ar.from):[],r.outputs?r.outputs.map(ar.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Xr]===zE}}class Il extends py{constructor(e,r,n){super(e,"struct",r,n),Object.defineProperty(this,Xr,{value:HE})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Il.from(wo(e))}catch{_(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ni){const r=my("struct",e),n=Ds(e);return Kl(e),new Il(ut,r,n)}return new Il(ut,e.name,e.inputs?e.inputs.map(ar.from):[])}static isFragment(e){return e&&e[Xr]===HE}}const Ai=new Map;Ai.set(0,"GENERIC_PANIC");Ai.set(1,"ASSERT_FALSE");Ai.set(17,"OVERFLOW");Ai.set(18,"DIVIDE_BY_ZERO");Ai.set(33,"ENUM_RANGE_ERROR");Ai.set(34,"BAD_STORAGE_DATA");Ai.set(49,"STACK_UNDERFLOW");Ai.set(50,"ARRAY_RANGE_ERROR");Ai.set(65,"OUT_OF_MEMORY");Ai.set(81,"UNINITIALIZED_FUNCTION_CALL");const rQ=new RegExp(/^bytes([0-9]*)$/),nQ=new RegExp(/^(u?int)([0-9]*)$/);let px=null,WE=1024;function iQ(t,e,r,n){let i="missing revert data",s=null;const a=null;let l=null;if(r){i="execution reverted";const u=je(r);if(r=ee(r),u.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(u.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(ee(u.slice(0,4))==="0x08c379a0")try{s=n.decode(["string"],u.slice(4))[0],l={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(ee(u.slice(0,4))==="0x4e487b71")try{const d=Number(n.decode(["uint256"],u.slice(4))[0]);l={signature:"Panic(uint256)",name:"Panic",args:[d]},s=`Panic due to ${Ai.get(d)||"UNKNOWN"}(${d})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?Re(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Re(e.from)),nt(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:c,invocation:a,revert:l})}var ka,bc;const Cg=class Cg{constructor(){H(this,ka)}getDefaultValue(e){const r=e.map(i=>q(this,ka,bc).call(this,ar.from(i)));return new Yh(r,"_").defaultValue()}encode(e,r){W8(r.length,e.length,"types/values length mismatch");const n=e.map(a=>q(this,ka,bc).call(this,ar.from(a))),i=new Yh(n,"_"),s=new pb;return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(a=>q(this,ka,bc).call(this,ar.from(a)));return new Yh(i,"_").decode(new gb(r,n,WE))}static _setDefaultMaxInflation(e){_(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),WE=e}static defaultAbiCoder(){return px==null&&(px=new Cg),px}static getBuiltinCallException(e,r,n){return iQ(e,r,n,Cg.defaultAbiCoder())}};ka=new WeakSet,bc=function(e){if(e.isArray())return new jG(q(this,ka,bc).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Yh(e.components.map(n=>q(this,ka,bc).call(this,n)),e.name);switch(e.baseType){case"address":return new bG(e.name);case"bool":return new NG(e.name);case"string":return new IG(e.name);case"bytes":return new AG(e.name);case"":return new kG(e.name)}let r=e.type.match(nQ);if(r){let n=parseInt(r[2]||"256");return _(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",e),new OG(n/8,r[1]==="int",e.name)}if(r=e.type.match(rQ),r){let n=parseInt(r[1]);return _(n!==0&&n<=32,"invalid bytes length","param",e),new EG(n,e.name)}_(!1,"invalid type","type",e.type)};let p0=Cg;class sQ{constructor(e,r,n){U(this,"fragment");U(this,"name");U(this,"signature");U(this,"topic");U(this,"args");const i=e.name,s=e.format();me(this,{fragment:e,name:i,signature:s,topic:r,args:n})}}class aQ{constructor(e,r,n,i){U(this,"fragment");U(this,"name");U(this,"args");U(this,"signature");U(this,"selector");U(this,"value");const s=e.name,a=e.format();me(this,{fragment:e,name:s,args:n,signature:a,selector:r,value:i})}}class oQ{constructor(e,r,n){U(this,"fragment");U(this,"name");U(this,"args");U(this,"signature");U(this,"selector");const i=e.name,s=e.format();me(this,{fragment:e,name:i,args:n,signature:s,selector:r})}}class GE{constructor(e){U(this,"hash");U(this,"_isIndexed");me(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const KE={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},QE={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&KE[t.toString()]&&(e=KE[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Di,Ri,Mi,fr,qi,Lm,_m;const Wo=class Wo{constructor(e){H(this,qi);U(this,"fragments");U(this,"deploy");U(this,"fallback");U(this,"receive");H(this,Di);H(this,Ri);H(this,Mi);H(this,fr);let r=[];typeof e=="string"?r=JSON.parse(e):r=e,O(this,Mi,new Map),O(this,Di,new Map),O(this,Ri,new Map);const n=[];for(const a of r)try{n.push(Ql.from(a))}catch(l){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,l.message)}me(this,{fragments:Object.freeze(n)});let i=null,s=!1;O(this,fr,this.getAbiCoder()),this.fragments.forEach((a,l)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}me(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(_(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${l}]`,a),i=a,s=i.payable);return;case"function":c=A(this,Mi);break;case"event":c=A(this,Ri);break;case"error":c=A(this,Di);break;default:return}const u=a.format();c.has(u)||c.set(u,a)}),this.deploy||me(this,{deploy:Es.from("constructor()")}),me(this,{fallback:i,receive:s})}format(e){const r=e?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const e=this.fragments.map(r=>r.format("json"));return JSON.stringify(e.map(r=>JSON.parse(r)))}getAbiCoder(){return p0.defaultAbiCoder()}getFunctionName(e){const r=q(this,qi,Lm).call(this,e,null,!1);return _(r,"no matching function","key",e),r.name}hasFunction(e){return!!q(this,qi,Lm).call(this,e,null,!1)}getFunction(e,r){return q(this,qi,Lm).call(this,e,r||null,!0)}forEachFunction(e){const r=Array.from(A(this,Mi).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(A(this,Mi).get(i),n)}}getEventName(e){const r=q(this,qi,_m).call(this,e,null,!1);return _(r,"no matching event","key",e),r.name}hasEvent(e){return!!q(this,qi,_m).call(this,e,null,!1)}getEvent(e,r){return q(this,qi,_m).call(this,e,r||null,!0)}forEachEvent(e){const r=Array.from(A(this,Ri).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(A(this,Ri).get(i),n)}}getError(e,r){if(Je(e)){const i=e.toLowerCase();if(QE[i])return zr.from(QE[i].signature);for(const s of A(this,Di).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of A(this,Di))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?zr.from("error Error(string)"):e==="Panic"?zr.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");_(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=zr.from(e).format(),e==="Error(string)")return zr.from("error Error(string)");if(e==="Panic(uint256)")return zr.from("error Panic(uint256)");const n=A(this,Di).get(e);return n||null}forEachError(e){const r=Array.from(A(this,Di).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];e(A(this,Di).get(i),n)}}_decodeParams(e,r){return A(this,fr).decode(e,r)}_encodeParams(e,r){return A(this,fr).encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);_(n,"unknown error","fragment",e),e=n}return _(pt(r,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",r),this._decodeParams(e.inputs,pt(r,4))}encodeErrorResult(e,r){if(typeof e=="string"){const n=this.getError(e);_(n,"unknown error","fragment",e),e=n}return xt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);_(n,"unknown function","fragment",e),e=n}return _(pt(r,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",r),this._decodeParams(e.inputs,pt(r,4))}encodeFunctionData(e,r){if(typeof e=="string"){const n=this.getFunction(e);_(n,"unknown function","fragment",e),e=n}return xt([e.selector,this._encodeParams(e.inputs,r||[])])}decodeFunctionResult(e,r){if(typeof e=="string"){const s=this.getFunction(e);_(s,"unknown function","fragment",e),e=s}let n="invalid length for result data";const i=Pr(r);if(i.length%32===0)try{return A(this,fr).decode(e.outputs,i)}catch{n="could not decode result data"}K(!1,n,"BAD_DATA",{value:ee(i),info:{method:e.name,signature:e.format()}})}makeError(e,r){const n=je(e,"data"),i=p0.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const l=ee(n.slice(0,4)),c=this.getError(l);if(c)try{const u=A(this,fr).decode(c.inputs,n.slice(4));i.revert={name:c.name,signature:c.format(),args:u},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(r);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,r){if(typeof e=="string"){const n=this.getFunction(e);_(n,"unknown function","fragment",e),e=n}return ee(A(this,fr).encode(e.outputs,r||[]))}encodeFilterTopics(e,r){if(typeof e=="string"){const s=this.getEvent(e);_(s,"unknown event","eventFragment",e),e=s}K(r.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const i=(s,a)=>s.type==="string"?Gl(a):s.type==="bytes"?Ct(ee(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=ao(a):s.type.match(/^bytes/)?a=jH(a,32):s.type==="address"&&A(this,fr).encode(["address"],[a]),Vs(ee(a),32));for(r.forEach((s,a)=>{const l=e.inputs[a];if(!l.indexed){_(s==null,"cannot filter non-indexed parameters; must be null","contract."+l.name,s);return}s==null?n.push(null):l.baseType==="array"||l.baseType==="tuple"?_(!1,"filtering with tuples or arrays not supported","contract."+l.name,s):Array.isArray(s)?n.push(s.map(c=>i(l,c))):n.push(i(l,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){if(typeof e=="string"){const a=this.getEvent(e);_(a,"unknown event","eventFragment",e),e=a}const n=[],i=[],s=[];return e.anonymous||n.push(e.topicHash),_(r.length===e.inputs.length,"event arguments/values mismatch","values",r),e.inputs.forEach((a,l)=>{const c=r[l];if(a.indexed)if(a.type==="string")n.push(Gl(c));else if(a.type==="bytes")n.push(Ct(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");n.push(A(this,fr).encode([a.type],[c]))}else i.push(a),s.push(c)}),{data:A(this,fr).encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"){const m=this.getEvent(e);_(m,"unknown event","eventFragment",e),e=m}if(n!=null&&!e.anonymous){const m=e.topicHash;_(Je(n[0],32)&&n[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((m,g)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(i.push(ar.from({type:"bytes32",name:m.name})),a.push(!0)):(i.push(m),a.push(!1)):(s.push(m),a.push(!1))});const l=n!=null?A(this,fr).decode(i,xt(n)):null,c=A(this,fr).decode(s,r,!0),u=[],d=[];let f=0,h=0;return e.inputs.forEach((m,g)=>{let y=null;if(m.indexed)if(l==null)y=new GE(null);else if(a[g])y=new GE(l[h++]);else try{y=l[h++]}catch(w){y=w}else try{y=c[f++]}catch(w){y=w}u.push(y),d.push(m.name||null)}),sd.fromItems(u,d)}parseTransaction(e){const r=je(e.data,"tx.data"),n=ae(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(ee(r.slice(0,4)));if(!i)return null;const s=A(this,fr).decode(i.inputs,r.slice(4));return new aQ(i,i.selector,s,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new sQ(r,r.topicHash,this.decodeEventLog(r,e.data,e.topics))}parseError(e){const r=ee(e),n=this.getError(pt(r,0,4));if(!n)return null;const i=A(this,fr).decode(n.inputs,pt(r,4));return new oQ(n,n.selector,i)}static from(e){return e instanceof Wo?e:typeof e=="string"?new Wo(JSON.parse(e)):typeof e.formatJson=="function"?new Wo(e.formatJson()):typeof e.format=="function"?new Wo(e.format("json")):new Wo(e)}};Di=new WeakMap,Ri=new WeakMap,Mi=new WeakMap,fr=new WeakMap,qi=new WeakSet,Lm=function(e,r,n){if(Je(e)){const s=e.toLowerCase();for(const a of A(this,Mi).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,l]of A(this,Mi))a.split("(")[0]===e&&s.push(l);if(r){const a=r.length>0?r[r.length-1]:null;let l=r.length,c=!0;br.isTyped(a)&&a.type==="overrides"&&(c=!1,l--);for(let u=s.length-1;u>=0;u--){const d=s[u].inputs.length;d!==l&&(!c||d!==l-1)&&s.splice(u,1)}for(let u=s.length-1;u>=0;u--){const d=s[u].inputs;for(let f=0;f<r.length;f++)if(br.isTyped(r[f])){if(f>=d.length){if(r[f].type==="overrides")continue;s.splice(u,1);break}if(r[f].type!==d[f].baseType){s.splice(u,1);break}}}}if(s.length===1&&r&&r.length!==s[0].inputs.length){const a=r[r.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(l=>JSON.stringify(l.format())).join(", ");_(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=A(this,Mi).get(Vi.from(e).format());return i||null},_m=function(e,r,n){if(Je(e)){const s=e.toLowerCase();for(const a of A(this,Ri).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,l]of A(this,Ri))a.split("(")[0]===e&&s.push(l);if(r){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<r.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const l=s[a].inputs;for(let c=0;c<r.length;c++)if(br.isTyped(r[c])&&r[c].type!==l[c].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&n){const a=s.map(l=>JSON.stringify(l.format())).join(", ");_(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=A(this,Ri).get($i.from(e).format());return i||null};let Tb=Wo;const xO=BigInt(0);function nu(t){return t??null}function bt(t){return t==null?null:t.toString()}class YE{constructor(e,r,n){U(this,"gasPrice");U(this,"maxFeePerGas");U(this,"maxPriorityFeePerGas");me(this,{gasPrice:nu(e),maxFeePerGas:nu(r),maxPriorityFeePerGas:nu(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:r,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:bt(e),maxFeePerGas:bt(r),maxPriorityFeePerGas:bt(n)}}}function Bp(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=ee(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=ae(t[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=be(t[i],`request.${i}`));return t.accessList&&(e.accessList=oc(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>a5(i)?ee(i):Object.assign({},i))),e}var fs;class lQ{constructor(e,r){U(this,"provider");U(this,"number");U(this,"hash");U(this,"timestamp");U(this,"parentHash");U(this,"parentBeaconBlockRoot");U(this,"nonce");U(this,"difficulty");U(this,"gasLimit");U(this,"gasUsed");U(this,"stateRoot");U(this,"receiptsRoot");U(this,"blobGasUsed");U(this,"excessBlobGas");U(this,"miner");U(this,"prevRandao");U(this,"extraData");U(this,"baseFeePerGas");H(this,fs);O(this,fs,e.transactions.map(n=>typeof n!="string"?new g0(n,r):n)),me(this,{provider:r,hash:nu(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:nu(e.prevRandao),extraData:e.extraData,baseFeePerGas:nu(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return A(this,fs).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=A(this,fs).slice();return e.length===0?[]:(K(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:r,extraData:n,gasLimit:i,gasUsed:s,hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:g,timestamp:y,transactions:w}=this;return{_type:"Block",baseFeePerGas:bt(e),difficulty:bt(r),extraData:n,gasLimit:bt(i),gasUsed:bt(s),blobGasUsed:bt(this.blobGasUsed),excessBlobGas:bt(this.excessBlobGas),hash:a,miner:l,prevRandao:c,nonce:u,number:d,parentHash:f,timestamp:y,parentBeaconBlockRoot:h,stateRoot:m,receiptsRoot:g,transactions:w}}[Symbol.iterator](){let e=0;const r=this.transactions;return{next:()=>e<this.length?{value:r[e++],done:!1}:{value:void 0,done:!0}}}get length(){return A(this,fs).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let r;if(typeof e=="number")r=A(this,fs)[e];else{const n=e.toLowerCase();for(const i of A(this,fs))if(typeof i=="string"){if(i!==n)continue;r=i;break}else{if(i.hash!==n)continue;r=i;break}}if(r==null)throw new Error("no such tx");return typeof r=="string"?await this.provider.getTransaction(r):r}getPrefetchedTransaction(e){const r=this.prefetchedTransactions;if(typeof e=="number")return r[e];e=e.toLowerCase();for(const n of r)if(n.hash===e)return n;_(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return cQ(this)}}fs=new WeakMap;class rh{constructor(e,r){U(this,"provider");U(this,"transactionHash");U(this,"blockHash");U(this,"blockNumber");U(this,"removed");U(this,"address");U(this,"data");U(this,"topics");U(this,"index");U(this,"transactionIndex");this.provider=r;const n=Object.freeze(e.topics.slice());me(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:a,topics:l,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:r,blockNumber:n,data:i,index:s,removed:a,topics:l,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return K(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return K(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return uQ(this)}}var M0;class vO{constructor(e,r){U(this,"provider");U(this,"to");U(this,"from");U(this,"contractAddress");U(this,"hash");U(this,"index");U(this,"blockHash");U(this,"blockNumber");U(this,"logsBloom");U(this,"gasUsed");U(this,"blobGasUsed");U(this,"cumulativeGasUsed");U(this,"gasPrice");U(this,"blobGasPrice");U(this,"type");U(this,"status");U(this,"root");H(this,M0);O(this,M0,Object.freeze(e.logs.map(i=>new rh(i,r))));let n=xO;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),me(this,{provider:r,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return A(this,M0)}toJSON(){const{to:e,from:r,contractAddress:n,hash:i,index:s,blockHash:a,blockNumber:l,logsBloom:c,logs:u,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:l,contractAddress:n,cumulativeGasUsed:bt(this.cumulativeGasUsed),from:r,gasPrice:bt(this.gasPrice),blobGasUsed:bt(this.blobGasUsed),blobGasPrice:bt(this.blobGasPrice),gasUsed:bt(this.gasUsed),hash:i,index:s,logs:u,logsBloom:c,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return wO(this)}reorderedEvent(e){return K(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),bO(this,e)}}M0=new WeakMap;var Pa;const Tj=class Tj{constructor(e,r){U(this,"provider");U(this,"blockNumber");U(this,"blockHash");U(this,"index");U(this,"hash");U(this,"type");U(this,"to");U(this,"from");U(this,"nonce");U(this,"gasLimit");U(this,"gasPrice");U(this,"maxPriorityFeePerGas");U(this,"maxFeePerGas");U(this,"maxFeePerBlobGas");U(this,"data");U(this,"value");U(this,"chainId");U(this,"signature");U(this,"accessList");U(this,"blobVersionedHashes");U(this,"authorizationList");H(this,Pa);this.provider=r,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,O(this,Pa,-1)}toJSON(){const{blockNumber:e,blockHash:r,index:n,hash:i,type:s,to:a,from:l,nonce:c,data:u,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:r,blobVersionedHashes:h,chainId:bt(this.chainId),data:u,from:l,gasLimit:bt(this.gasLimit),gasPrice:bt(this.gasPrice),hash:i,maxFeePerGas:bt(this.maxFeePerGas),maxPriorityFeePerGas:bt(this.maxPriorityFeePerGas),maxFeePerBlobGas:bt(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:n,type:s,value:bt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const r=this.provider.getBlock(e);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await kr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,r){const n=e??1,i=r??0;let s=A(this,Pa),a=-1,l=s===-1;const c=async()=>{if(l)return null;const{blockNumber:h,nonce:m}=await kr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){s=h;return}if(l)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(a===-1&&(a=s-3,a<A(this,Pa)&&(a=A(this,Pa)));a<=h;){if(l)return null;const y=await this.provider.getBlock(a,!0);if(y==null)return;for(const w of y)if(w===this.hash)return;for(let w=0;w<y.length;w++){const x=await y.getTransaction(w);if(x.from===this.from&&x.nonce===this.nonce){if(l)return null;const v=await this.provider.getTransactionReceipt(x.hash);if(v==null||h-v.blockNumber+1<n)return;let b="replaced";x.data===this.data&&x.to===this.to&&x.value===this.value?b="repriced":x.data==="0x"&&x.from===x.to&&x.value===xO&&(b="cancelled"),K(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:b==="replaced"||b==="cancelled",reason:b,replacement:x.replaceableTransaction(s),hash:x.hash,receipt:v})}}a++}},u=h=>{if(h==null||h.status!==0)return h;K(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(n===0)return u(d);if(d){if(n===1||await d.confirmations()>=n)return u(d)}else if(await c(),n===0)return null;return await new Promise((h,m)=>{const g=[],y=()=>{g.forEach(x=>x())};if(g.push(()=>{l=!0}),i>0){const x=setTimeout(()=>{y(),m(nt("wait for transaction timeout","TIMEOUT"))},i);g.push(()=>{clearTimeout(x)})}const w=async x=>{if(await x.confirmations()>=n){y();try{h(u(x))}catch(v){m(v)}}};if(g.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),s>=0){const x=async()=>{try{await c()}catch(v){if(ir(v,"TRANSACTION_REPLACED")){y(),m(v);return}}l||this.provider.once("block",x)};g.push(()=>{this.provider.off("block",x)}),this.provider.once("block",x)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),wO(this)}reorderedEvent(e){return K(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),K(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),bO(this,e)}replaceableTransaction(e){_(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const r=new Tj(this,this.provider);return O(r,Pa,e),r}};Pa=new WeakMap;let g0=Tj;function cQ(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function bO(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function wO(t){return{orphan:"drop-transaction",tx:t}}function uQ(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class v5 extends rh{constructor(r,n,i){super(r,r.provider);U(this,"interface");U(this,"fragment");U(this,"args");const s=n.decodeEventLog(i,r.data,r.topics);me(this,{args:s,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class jO extends rh{constructor(r,n){super(r,r.provider);U(this,"error");me(this,{error:n})}}var Iu;class dQ extends vO{constructor(r,n,i){super(i,n);H(this,Iu);O(this,Iu,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?A(this,Iu).getEvent(r.topics[0]):null;if(n)try{return new v5(r,A(this,Iu),n)}catch(i){return new jO(r,i)}return r})}}Iu=new WeakMap;var L0;class b5 extends g0{constructor(r,n,i){super(i,n);H(this,L0);O(this,L0,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new dQ(A(this,L0),this.provider,i)}}L0=new WeakMap;class NO extends Y8{constructor(r,n,i,s){super(r,n,i);U(this,"log");me(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class fQ extends NO{constructor(e,r,n,i,s){super(e,r,n,new v5(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);me(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const qE=BigInt(0);function AO(t){return t&&typeof t.call=="function"}function EO(t){return t&&typeof t.estimateGas=="function"}function gy(t){return t&&typeof t.resolveName=="function"}function SO(t){return t&&typeof t.sendTransaction=="function"}function kO(t){if(t!=null){if(gy(t))return t;if(t.provider)return t.provider}}var _0;class hQ{constructor(e,r,n){H(this,_0);U(this,"fragment");if(me(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=Yl(e.runner,"resolveName"),s=gy(i)?i:null;O(this,_0,async function(){const a=await Promise.all(r.inputs.map((l,c)=>n[c]==null?null:l.walkAsync(n[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>Tr(h,s))):Tr(f,s):f)));return e.interface.encodeFilterTopics(r,a)}())}getTopicFilter(){return A(this,_0)}}_0=new WeakMap;function Yl(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function tl(t){return t==null?null:t.provider||null}async function PO(t,e){const r=br.dereference(t,"overrides");_(typeof r=="object","invalid overrides parameter","overrides",t);const n=Bp(r);return _(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),_(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function mQ(t,e,r){const n=Yl(t,"resolveName"),i=gy(n)?n:null;return await Promise.all(e.map((s,a)=>s.walkAsync(r[a],(l,c)=>(c=br.dereference(c,l),l==="address"?Tr(c,i):c))))}function pQ(t){const e=async function(a){const l=await PO(a,["data"]);l.to=await t.getAddress(),l.from&&(l.from=await Tr(l.from,kO(t.runner)));const c=t.interface,u=ae(l.value||qE,"overrides.value")===qE,d=(l.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&_(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),_(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data);const f=c.receive||c.fallback&&c.fallback.payable;return _(f||u,"cannot send value to non-payable fallback","overrides.value",l.value),_(c.fallback||d,"cannot send data to receive-only contract","overrides.data",l.data),l},r=async function(a){const l=Yl(t.runner,"call");K(AO(l),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await l.call(c)}catch(u){throw s5(u)&&u.data?t.interface.makeError(u.data,c):u}},n=async function(a){const l=t.runner;K(SO(l),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await l.sendTransaction(await e(a)),u=tl(t.runner);return new b5(t.interface,u,c)},i=async function(a){const l=Yl(t.runner,"estimateGas");return K(EO(l),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await l.estimateGas(await e(a))},s=async a=>await n(a);return me(s,{_contract:t,estimateGas:i,populateTransaction:e,send:n,staticCall:r}),s}function gQ(t,e){const r=function(...u){const d=t.interface.getFunction(e,u);return K(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},n=async function(...u){const d=r(...u);let f={};if(d.inputs.length+1===u.length&&(f=await PO(u.pop()),f.from&&(f.from=await Tr(f.from,kO(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await mQ(t.runner,d.inputs,u);return Object.assign({},f,await kr({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},i=async function(...u){const d=await l(...u);return d.length===1?d[0]:d},s=async function(...u){const d=t.runner;K(SO(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await n(...u)),h=tl(t.runner);return new b5(t.interface,h,f)},a=async function(...u){const d=Yl(t.runner,"estimateGas");return K(EO(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await n(...u))},l=async function(...u){const d=Yl(t.runner,"call");K(AO(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...u);let h="0x";try{h=await d.call(f)}catch(g){throw s5(g)&&g.data?t.interface.makeError(g.data,f):g}const m=r(...u);return t.interface.decodeFunctionResult(m,h)},c=async(...u)=>r(...u).constant?await i(...u):await s(...u);return me(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:a,populateTransaction:n,send:s,staticCall:i,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return K(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function yQ(t,e){const r=function(...i){const s=t.interface.getEvent(e,i);return K(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},n=function(...i){return new hQ(t,r(...i),i)};return me(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return K(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),n}const Fp=Symbol.for("_ethersInternal_contract"),CO=new WeakMap;function xQ(t,e){CO.set(t[Fp],e)}function rn(t){return CO.get(t[Fp])}function vQ(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function w5(t,e){let r,n=null;if(Array.isArray(e)){const s=function(a){if(Je(a,32))return a;const l=t.interface.getEvent(a);return _(l,"unknown fragment","name",a),l.topicHash};r=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?r=[null]:typeof e=="string"?Je(e,32)?r=[e]:(n=t.interface.getEvent(e),_(n,"unknown fragment","event",e),r=[n.topicHash]):vQ(e)?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):_(!1,"unknown event name","event",e);r=r.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(l=>l.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=r.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:n,tag:i,topics:r}}async function gf(t,e){const{subs:r}=rn(t);return r.get((await w5(t,e)).tag)||null}async function XE(t,e,r){const n=tl(t.runner);K(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await w5(t,r),{addr:l,subs:c}=rn(t);let u=c.get(s);if(!u){const f={address:l||t,topics:a},h=w=>{let x=i;if(x==null)try{x=t.interface.getEvent(w.topics[0])}catch{}if(x){const v=x,b=i?t.interface.decodeEventLog(i,w.data,w.topics):[];Ib(t,r,b,j=>new fQ(t,j,r,v,w))}else Ib(t,r,[],v=>new NO(t,v,r,w))};let m=[];u={tag:s,listeners:[],start:()=>{m.length||m.push(n.on(f,h))},stop:async()=>{if(m.length==0)return;let w=m;m=[],await Promise.all(w),n.off(f,h)}},c.set(s,u)}return u}let Ob=Promise.resolve();async function bQ(t,e,r,n){await Ob;const i=await gf(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:l})=>{const c=Array.from(r);n&&c.push(n(l?null:a));try{a.call(t,...c)}catch{}return!l}),i.listeners.length===0&&(i.stop(),rn(t).subs.delete(i.tag)),s>0}async function Ib(t,e,r,n){try{await Ob}catch{}const i=bQ(t,e,r,n);return Ob=i,await i}const Xh=["then"];var tP;tP=Fp;const Bf=class Bf{constructor(e,r,n,i){U(this,"target");U(this,"interface");U(this,"runner");U(this,"filters");U(this,tP);U(this,"fallback");_(typeof e=="string"||RT(e),"invalid value for Contract target","target",e),n==null&&(n=null);const s=Tb.from(r);me(this,{target:e,runner:n,interface:s}),Object.defineProperty(this,Fp,{value:{}});let a,l=null,c=null;if(i){const f=tl(n);c=new b5(this.interface,f,i)}let u=new Map;if(typeof e=="string")if(Je(e))l=e,a=Promise.resolve(e);else{const f=Yl(n,"resolveName");if(!gy(f))throw nt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw nt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return rn(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return rn(this).addr=f,f});xQ(this,{addrPromise:a,addr:l,deployTx:c,subs:u});const d=new Proxy({},{get:(f,h,m)=>{if(typeof h=="symbol"||Xh.indexOf(h)>=0)return Reflect.get(f,h,m);try{return this.getEvent(h)}catch(g){if(!ir(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>Xh.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return me(this,{filters:d}),me(this,{fallback:s.receive||s.fallback?pQ(this):null}),new Proxy(this,{get:(f,h,m)=>{if(typeof h=="symbol"||h in f||Xh.indexOf(h)>=0)return Reflect.get(f,h,m);try{return f.getFunction(h)}catch(g){if(!ir(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(f,h)=>typeof h=="symbol"||h in f||Xh.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new Bf(this.target,this.interface,e)}attach(e){return new Bf(e,this.interface,this.runner)}async getAddress(){return await rn(this).addrPromise}async getDeployedCode(){const e=tl(this.runner);K(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await e.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=tl(this.runner);return K(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",a)}catch(l){s(l)}};a()})}deploymentTransaction(){return rn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),gQ(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),yQ(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:s}=rn(this),a=i||await s,{fragment:l,topics:c}=await w5(this,e),u={address:a,topics:c,fromBlock:r,toBlock:n},d=tl(this.runner);return K(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(f=>{let h=l;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new v5(f,this.interface,h)}catch(m){return new jO(f,m)}return new rh(f,d)})}async on(e,r){const n=await XE(this,"on",e);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(e,r){const n=await XE(this,"once",e);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(e,...r){return await Ib(this,e,r,null)}async listenerCount(e){if(e){const i=await gf(this,e);return i?i.listeners.length:0}const{subs:r}=rn(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(e){if(e){const i=await gf(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:r}=rn(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:s})=>s));return n}async off(e,r){const n=await gf(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),rn(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const r=await gf(this,e);if(!r)return this;r.stop(),rn(this).subs.delete(r.tag)}else{const{subs:r}=rn(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return await this.off(e,r)}static buildClass(e){class r extends Bf{constructor(i,s=null){super(i,e,s)}}return r}static from(e,r,n){return n==null&&(n=null),new this(e,r,n)}};let Db=Bf;function wQ(){return Db}class Ce extends wQ(){}function gx(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):_(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class jQ{constructor(e){U(this,"name");me(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,r){throw new Error("unsupported coin")}async decodeAddress(e,r){throw new Error("unsupported coin")}}const TO=new RegExp("^(ipfs)://(.*)$","i"),JE=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),TO,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Ca,vl,Ta,wc,Tg,OO;const Gc=class Gc{constructor(e,r,n){H(this,Ta);U(this,"provider");U(this,"address");U(this,"name");H(this,Ca);H(this,vl);me(this,{provider:e,address:r,name:n}),O(this,Ca,null),O(this,vl,new Ce(r,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return A(this,Ca)==null&&O(this,Ca,(async()=>{try{return await A(this,vl).supportsInterface("0x9061b923")}catch(e){if(ir(e,"CALL_EXCEPTION"))return!1;throw O(this,Ca,null),e}})()),await A(this,Ca)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await q(this,Ta,wc).call(this,"addr(bytes32)");return s==null||s===l0?null:s}catch(s){if(ir(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const a=await q(this,Ta,wc).call(this,"addr(bytes32,uint)",[s]);if(Je(a,20))return Re(a)}let r=null;for(const s of this.provider.plugins)if(s instanceof jQ&&s.supportsCoinType(e)){r=s;break}if(r==null)return null;const n=await q(this,Ta,wc).call(this,"addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const i=await r.decodeAddress(e,n);if(i!=null)return i;K(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const r=await q(this,Ta,wc).call(this,"text(bytes32,string)",[e]);return r==null||r==="0x"?null:r}async getContentHash(){const e=await q(this,Ta,wc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const r=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const i=r[1]==="e3010170"?"ipfs":"ipns",s=parseInt(r[4],16);if(r[5].length===s*2)return`${i}://${AH("0x"+r[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;K(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const r=await this.getText("avatar");if(r==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:r});for(let n=0;n<JE.length;n++){const i=r.match(JE[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:r}),{linkage:e,url:r};case"ipfs":{const a=gx(r);return e.push({type:"ipfs",value:r}),e.push({type:"url",value:a}),{linkage:e,url:a}}case"erc721":case"erc1155":{const a=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:r});const l=await this.getAddress();if(l==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const u=c[1],d=new Ce(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const y=await d.ownerOf(u);if(l!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(s==="erc1155"){const y=await d.balanceOf(l,u);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let f=await d[a](u);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),s==="erc1155"&&(f=f.replace("{id}",ao(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=gx(f)),e.push({type:"metadata-url",value:f});let h={};const m=await new oo(f).send();m.assertOk();try{h=m.bodyJson}catch{try{e.push({type:"!metadata",value:m.bodyText})}catch{const x=m.body;return x&&e.push({type:"!metadata",value:ee(x)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let g=h.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(TO)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=gx(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const r=await e.getNetwork(),n=r.getPlugin("org.ethers.plugins.network.Ens");return K(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:r}}),n.address}static async fromName(e,r){var i;let n=r;for(;;){if(n===""||n==="."||r!=="eth"&&n==="eth")return null;const s=await q(i=Gc,Tg,OO).call(i,e,n);if(s!=null){const a=new Gc(e,s,r);return n!==r&&!await a.supportsWildcard()?null:a}n=n.split(".").slice(1).join(".")}}};Ca=new WeakMap,vl=new WeakMap,Ta=new WeakSet,wc=async function(e,r){r=(r||[]).slice();const n=A(this,vl).interface;r.unshift(Pb(this.name));let i=null;await this.supportsWildcard()&&(i=n.getFunction(e),K(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),r=[_K(this.name,255),n.encodeFunctionData(i,r)],e="resolve(bytes,bytes)"),r.push({enableCcipRead:!0});try{const s=await A(this,vl)[e](...r);return i?n.decodeFunctionResult(i,s)[0]:s}catch(s){if(!ir(s,"CALL_EXCEPTION"))throw s}return null},Tg=new WeakSet,OO=async function(e,r){const n=await Gc.getEnsAddress(e);try{const s=await new Ce(n,["function resolver(bytes32) view returns (address)"],e).resolver(Pb(r),{enableCcipRead:!0});return s===l0?null:s}catch(i){throw i}return null},H(Gc,Tg);let Up=Gc;const ZE=BigInt(0);function Ee(t,e){return function(r){return r==null?e:t(r)}}function y0(t,e){return r=>{if(e&&r==null)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map(n=>t(n))}}function nh(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r)){for(const a of e[i])if(a in r){s=a;break}}try{const a=t[i](r[s]);a!==void 0&&(n[i]=a)}catch(a){const l=a instanceof Error?a.message:"not-an-error";K(!1,`invalid value for value.${i} (${l})`,"BAD_DATA",{value:r})}}return n}}function NQ(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}_(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function fd(t){return _(Je(t,!0),"invalid data","value",t),t}function nr(t){return _(Je(t,32),"invalid hash","value",t),t}const AQ=nh({address:Re,blockHash:nr,blockNumber:be,data:fd,index:be,removed:Ee(NQ,!1),topics:y0(nr),transactionHash:nr,transactionIndex:be},{index:["logIndex"]});function EQ(t){return AQ(t)}const SQ=nh({hash:Ee(nr),parentHash:nr,parentBeaconBlockRoot:Ee(nr,null),number:be,timestamp:be,nonce:Ee(fd),difficulty:ae,gasLimit:ae,gasUsed:ae,stateRoot:Ee(nr,null),receiptsRoot:Ee(nr,null),blobGasUsed:Ee(ae,null),excessBlobGas:Ee(ae,null),miner:Ee(Re),prevRandao:Ee(nr,null),extraData:fd,baseFeePerGas:Ee(ae)},{prevRandao:["mixHash"]});function kQ(t){const e=SQ(t);return e.transactions=t.transactions.map(r=>typeof r=="string"?r:IO(r)),e}const PQ=nh({transactionIndex:be,blockNumber:be,transactionHash:nr,address:Re,topics:y0(nr),data:fd,index:be,blockHash:nr},{index:["logIndex"]});function CQ(t){return PQ(t)}const TQ=nh({to:Ee(Re,null),from:Ee(Re,null),contractAddress:Ee(Re,null),index:be,root:Ee(ee),gasUsed:ae,blobGasUsed:Ee(ae,null),logsBloom:Ee(fd),blockHash:nr,hash:nr,logs:y0(CQ),blockNumber:be,cumulativeGasUsed:ae,effectiveGasPrice:Ee(ae),blobGasPrice:Ee(ae,null),status:Ee(be),type:Ee(be,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function OQ(t){return TQ(t)}function IO(t){t.to&&ae(t.to)===ZE&&(t.to="0x0000000000000000000000000000000000000000");const e=nh({hash:nr,index:Ee(be,void 0),type:r=>r==="0x"||r==null?0:be(r),accessList:Ee(oc,null),blobVersionedHashes:Ee(y0(nr,!0),null),authorizationList:Ee(y0(r=>{let n;if(r.signature)n=r.signature;else{let i=r.yParity;i==="0x1b"?i=0:i==="0x1c"&&(i=1),n=Object.assign({},r,{yParity:i})}return{address:Re(r.address),chainId:ae(r.chainId),nonce:ae(r.nonce),signature:Yr.from(n)}},!1),null),blockHash:Ee(nr,null),blockNumber:Ee(be,null),transactionIndex:Ee(be,null),from:Re,gasPrice:Ee(ae),maxPriorityFeePerGas:Ee(ae),maxFeePerGas:Ee(ae),maxFeePerBlobGas:Ee(ae,null),gasLimit:ae,to:Ee(Re,null),value:ae,nonce:be,data:fd,creates:Ee(Re,null),chainId:Ee(ae,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=xG(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Yr.from(t.signature):e.signature=Yr.from(t),e.chainId==null){const r=e.signature.legacyChainId;r!=null&&(e.chainId=r)}return e.blockHash&&ae(e.blockHash)===ZE&&(e.blockHash=null),e}const IQ="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class ih{constructor(e){U(this,"name");me(this,{name:e})}clone(){return new ih(this.name)}}class yy extends ih{constructor(r,n){r==null&&(r=0);super(`org.ethers.network.plugins.GasCost#${r||0}`);U(this,"effectiveBlock");U(this,"txBase");U(this,"txCreate");U(this,"txDataZero");U(this,"txDataNonzero");U(this,"txAccessListStorageKey");U(this,"txAccessListAddress");const i={effectiveBlock:r};function s(a,l){let c=(n||{})[a];c==null&&(c=l),_(typeof c=="number",`invalud value for ${a}`,"costs",n),i[a]=c}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),me(this,i)}clone(){return new yy(this.effectiveBlock,this)}}class xy extends ih{constructor(r,n){super("org.ethers.plugins.network.Ens");U(this,"address");U(this,"targetNetwork");me(this,{address:r||IQ,targetNetwork:n??1})}clone(){return new xy(this.address,this.targetNetwork)}}var B0,F0;class DQ extends ih{constructor(r,n){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");H(this,B0);H(this,F0);O(this,B0,r),O(this,F0,n)}get url(){return A(this,B0)}get processFunc(){return A(this,F0)}clone(){return this}}B0=new WeakMap,F0=new WeakMap;const yx=new Map;var Du,Ru,Oa;const Kc=class Kc{constructor(e,r){H(this,Du);H(this,Ru);H(this,Oa);O(this,Du,e),O(this,Ru,ae(r)),O(this,Oa,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return A(this,Du)}set name(e){O(this,Du,e)}get chainId(){return A(this,Ru)}set chainId(e){O(this,Ru,ae(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ae(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ae(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ae(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(A(this,Oa).values())}attachPlugin(e){if(A(this,Oa).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return A(this,Oa).set(e.name,e.clone()),this}getPlugin(e){return A(this,Oa).get(e)||null}getPlugins(e){return this.plugins.filter(r=>r.name.split("#")[0]===e)}clone(){const e=new Kc(this.name,this.chainId);return this.plugins.forEach(r=>{e.attachPlugin(r.clone())}),e}computeIntrinsicGas(e){const r=this.getPlugin("org.ethers.plugins.network.GasCost")||new yy;let n=r.txBase;if(e.to==null&&(n+=r.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?n+=r.txDataZero:n+=r.txDataNonzero;if(e.accessList){const i=oc(e.accessList);for(const s in i)n+=r.txAccessListAddress+r.txAccessListStorageKey*i[s].storageKeys.length}return n}static from(e){if(RQ(),e==null)return Kc.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const r=yx.get(e);if(r)return r();if(typeof e=="bigint")return new Kc("unknown",e);_(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){_(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const r=new Kc(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&r.attachPlugin(new xy(e.ensAddress,e.ensNetwork)),r}_(!1,"invalid network","network",e)}static register(e,r){typeof e=="number"&&(e=BigInt(e));const n=yx.get(e);n&&_(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),yx.set(e,r)}};Du=new WeakMap,Ru=new WeakMap,Oa=new WeakMap;let zi=Kc;function eS(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let i=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||i++,n[1]=i.toString()}return BigInt(n[0]+n[1])}function tS(t){return new DQ(t,async(e,r,n)=>{n.setHeader("User-Agent","ethers");let i;try{const[s,a]=await Promise.all([n.send(),e()]);i=s;const l=i.bodyJson.standard;return{gasPrice:a.gasPrice,maxFeePerGas:eS(l.maxFee,9),maxPriorityFeePerGas:eS(l.maxPriorityFee,9)}}catch(s){K(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:i,error:s})}})}let rS=!1;function RQ(){if(rS)return;rS=!0;function t(e,r,n){const i=function(){const s=new zi(e,r);return n.ensNetwork!=null&&s.attachPlugin(new xy(null,n.ensNetwork)),s.attachPlugin(new yy),(n.plugins||[]).forEach(a=>{s.attachPlugin(a)}),s};zi.register(e,i),zi.register(r,i),n.altNames&&n.altNames.forEach(s=>{zi.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[tS("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[tS("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Rb(t){return JSON.parse(JSON.stringify(t))}var hs,Mn,Ia,Li,Mu,Bm;class MQ{constructor(e){H(this,Mu);H(this,hs);H(this,Mn);H(this,Ia);H(this,Li);O(this,hs,e),O(this,Mn,null),O(this,Ia,4e3),O(this,Li,-2)}get pollingInterval(){return A(this,Ia)}set pollingInterval(e){O(this,Ia,e)}start(){A(this,Mn)||(O(this,Mn,A(this,hs)._setTimeout(q(this,Mu,Bm).bind(this),A(this,Ia))),q(this,Mu,Bm).call(this))}stop(){A(this,Mn)&&(A(this,hs)._clearTimeout(A(this,Mn)),O(this,Mn,null))}pause(e){this.stop(),e&&O(this,Li,-2)}resume(){this.start()}}hs=new WeakMap,Mn=new WeakMap,Ia=new WeakMap,Li=new WeakMap,Mu=new WeakSet,Bm=async function(){try{const e=await A(this,hs).getBlockNumber();if(A(this,Li)===-2){O(this,Li,e);return}if(e!==A(this,Li)){for(let r=A(this,Li)+1;r<=e;r++){if(A(this,Mn)==null)return;await A(this,hs).emit("block",r)}O(this,Li,e)}}catch{}A(this,Mn)!=null&&O(this,Mn,A(this,hs)._setTimeout(q(this,Mu,Bm).bind(this),A(this,Ia)))};var bl,wl,Da;class j5{constructor(e){H(this,bl);H(this,wl);H(this,Da);O(this,bl,e),O(this,Da,!1),O(this,wl,r=>{this._poll(r,A(this,bl))})}async _poll(e,r){throw new Error("sub-classes must override this")}start(){A(this,Da)||(O(this,Da,!0),A(this,wl).call(this,-2),A(this,bl).on("block",A(this,wl)))}stop(){A(this,Da)&&(O(this,Da,!1),A(this,bl).off("block",A(this,wl)))}pause(e){this.stop()}resume(){this.start()}}bl=new WeakMap,wl=new WeakMap,Da=new WeakMap;var Lu,ms;class LQ extends j5{constructor(r,n){super(r);H(this,Lu);H(this,ms);O(this,Lu,n),O(this,ms,-2)}pause(r){r&&O(this,ms,-2),super.pause(r)}async _poll(r,n){const i=await n.getBlock(A(this,Lu));i!=null&&(A(this,ms)===-2?O(this,ms,i.number):i.number>A(this,ms)&&(n.emit(A(this,Lu),i.number),O(this,ms,i.number)))}}Lu=new WeakMap,ms=new WeakMap;var Og;class _Q extends j5{constructor(r,n){super(r);H(this,Og);O(this,Og,Rb(n))}async _poll(r,n){throw new Error("@TODO")}}Og=new WeakMap;var _u;class BQ extends j5{constructor(r,n){super(r);H(this,_u);O(this,_u,n)}async _poll(r,n){const i=await n.getTransactionReceipt(A(this,_u));i&&n.emit(A(this,_u),i)}}_u=new WeakMap;var ps,Bu,Fu,Ra,Ln,Ig,DO;class N5{constructor(e,r){H(this,Ig);H(this,ps);H(this,Bu);H(this,Fu);H(this,Ra);H(this,Ln);O(this,ps,e),O(this,Bu,Rb(r)),O(this,Fu,q(this,Ig,DO).bind(this)),O(this,Ra,!1),O(this,Ln,-2)}start(){A(this,Ra)||(O(this,Ra,!0),A(this,Ln)===-2&&A(this,ps).getBlockNumber().then(e=>{O(this,Ln,e)}),A(this,ps).on("block",A(this,Fu)))}stop(){A(this,Ra)&&(O(this,Ra,!1),A(this,ps).off("block",A(this,Fu)))}pause(e){this.stop(),e&&O(this,Ln,-2)}resume(){this.start()}}ps=new WeakMap,Bu=new WeakMap,Fu=new WeakMap,Ra=new WeakMap,Ln=new WeakMap,Ig=new WeakSet,DO=async function(e){if(A(this,Ln)===-2)return;const r=Rb(A(this,Bu));r.fromBlock=A(this,Ln)+1,r.toBlock=e;const n=await A(this,ps).getLogs(r);if(n.length===0){A(this,Ln)<e-60&&O(this,Ln,e-60);return}for(const i of n)A(this,ps).emit(A(this,Bu),i),O(this,Ln,i.blockNumber)};const FQ=BigInt(2),UQ=10;function Jh(t){return t&&typeof t.then=="function"}function Fm(t,e){return t+":"+JSON.stringify(e,(r,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const i=Object.keys(n);return i.sort(),i.reduce((s,a)=>(s[a]=n[a],s),{})}return n})}class RO{constructor(e){U(this,"name");me(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function $Q(t){return JSON.parse(JSON.stringify(t))}function Mb(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function xx(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Je(t,32)){const r=t.toLowerCase();return{type:"transaction",tag:Fm("tx",{hash:r}),hash:r}}if(t.orphan){const r=t;return{type:"orphan",tag:Fm("orphan",r),filter:$Q(r)}}if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map(i=>i==null?null:Array.isArray(i)?Mb(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(r.address){const i=[],s=[],a=l=>{Je(l)?i.push(l):s.push((async()=>{i.push(await Tr(l,e))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),s.length&&await Promise.all(s),n.address=Mb(i.map(l=>l.toLowerCase()))}return{filter:n,tag:Fm("event",n),type:"event"}}_(!1,"unknown ProviderEvent","event",t)}function vx(){return new Date().getTime()}const VQ={cacheTimeout:250,pollingInterval:4e3};var hr,Ma,mr,Uu,on,jl,La,gs,U0,_n,$u,Vu,Ne,Zr,Lb,_b,yf,Bb,xf,Um;class zQ{constructor(e,r){H(this,Ne);H(this,hr);H(this,Ma);H(this,mr);H(this,Uu);H(this,on);H(this,jl);H(this,La);H(this,gs);H(this,U0);H(this,_n);H(this,$u);H(this,Vu);if(O(this,Vu,Object.assign({},VQ,r||{})),e==="any")O(this,jl,!0),O(this,on,null);else if(e){const n=zi.from(e);O(this,jl,!1),O(this,on,Promise.resolve(n)),setTimeout(()=>{this.emit("network",n,null)},0)}else O(this,jl,!1),O(this,on,null);O(this,gs,-1),O(this,La,new Map),O(this,hr,new Map),O(this,Ma,new Map),O(this,mr,null),O(this,Uu,!1),O(this,U0,1),O(this,_n,new Map),O(this,$u,!1)}get pollingInterval(){return A(this,Vu).pollingInterval}get provider(){return this}get plugins(){return Array.from(A(this,Ma).values())}attachPlugin(e){if(A(this,Ma).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return A(this,Ma).set(e.name,e.connect(this)),this}getPlugin(e){return A(this,Ma).get(e)||null}get disableCcipRead(){return A(this,$u)}set disableCcipRead(e){O(this,$u,!!e)}async ccipReadFetch(e,r,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),a=[];for(let l=0;l<n.length;l++){const c=n[l],u=c.replace("{sender}",i).replace("{data}",s),d=new oo(u);c.indexOf("{data}")===-1&&(d.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:l,urls:n});let f="unknown error",h;try{h=await d.send()}catch(m){a.push(m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:m}});continue}try{const m=h.bodyJson;if(m.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:m}),m.data;m.message&&(f=m.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:m})}catch{}K(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),a.push(f)}K(!1,`error encountered during CCIP fetch: ${a.map(l=>JSON.stringify(l)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:a}})}_wrapBlock(e,r){return new lQ(kQ(e),this)}_wrapLog(e,r){return new rh(EQ(e),this)}_wrapTransactionReceipt(e,r){return new vO(OQ(e),this)}_wrapTransactionResponse(e,r){return new g0(IO(e),this)}_detectNetwork(){K(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){K(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=be(await q(this,Ne,Zr).call(this,{method:"getBlockNumber"}),"%response");return A(this,gs)>=0&&O(this,gs,e),e}_getAddress(e){return Tr(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Je(e))return Je(e,32)?e:hi(e);if(typeof e=="bigint"&&(e=be(e,"blockTag")),typeof e=="number")return e>=0?hi(e):A(this,gs)>=0?hi(A(this,gs)+e):this.getBlockNumber().then(r=>hi(r+e));_(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const r=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Mb(c.map(u=>u.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,i=(c,u,d)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(u!=null||d!=null))throw new Error("invalid filter");const h={};return f&&(h.address=f),r.length&&(h.topics=r),u&&(h.fromBlock=u),d&&(h.toBlock=d),n&&(h.blockHash=n),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let a;"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock));let l;return"toBlock"in e&&(l=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||a!=null&&typeof a!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(s),a,l]).then(c=>i(c[0],c[1],c[2])):i(s,a,l)}_getTransactionRequest(e){const r=Bp(e),n=[];if(["to","from"].forEach(i=>{if(r[i]==null)return;const s=Tr(r[i],this);Jh(s)?n.push(async function(){r[i]=await s}()):r[i]=s}),r.blockTag!=null){const i=this._getBlockTag(r.blockTag);Jh(i)?n.push(async function(){r.blockTag=await i}()):r.blockTag=i}return n.length?async function(){return await Promise.all(n),r}():r}async getNetwork(){if(A(this,on)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw A(this,on)===i&&O(this,on,null),s}})();return O(this,on,i),(await i).clone()}const e=A(this,on),[r,n]=await Promise.all([e,this._detectNetwork()]);return r.chainId!==n.chainId&&(A(this,jl)?(this.emit("network",n,r),A(this,on)===e&&O(this,on,Promise.resolve(n))):K(!1,`network changed: ${r.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),r.clone()}async getFeeData(){const e=await this.getNetwork(),r=async()=>{const{_block:i,gasPrice:s,priorityFee:a}=await kr({_block:q(this,Ne,Bb).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await q(this,Ne,Zr).call(this,{method:"getGasPrice"});return ae(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await q(this,Ne,Zr).call(this,{method:"getPriorityFee"});return ae(d,"%response")}catch{}return null})()});let l=null,c=null;const u=this._wrapBlock(i,e);return u&&u.baseFeePerGas&&(c=a??BigInt("1000000000"),l=u.baseFeePerGas*FQ+c),new YE(s,l,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const i=new oo(n.url),s=await n.processFunc(r,this,i);return new YE(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await r()}async estimateGas(e){let r=this._getTransactionRequest(e);return Jh(r)&&(r=await r),ae(await q(this,Ne,Zr).call(this,{method:"estimateGas",transaction:r}),"%response")}async call(e){const{tx:r,blockTag:n}=await kr({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await q(this,Ne,_b).call(this,q(this,Ne,Lb).call(this,r,n,e.enableCcipRead?0:-1))}async getBalance(e,r){return ae(await q(this,Ne,yf).call(this,{method:"getBalance"},e,r),"%response")}async getTransactionCount(e,r){return be(await q(this,Ne,yf).call(this,{method:"getTransactionCount"},e,r),"%response")}async getCode(e,r){return ee(await q(this,Ne,yf).call(this,{method:"getCode"},e,r))}async getStorage(e,r,n){const i=ae(r,"position");return ee(await q(this,Ne,yf).call(this,{method:"getStorage",position:i},e,n))}async broadcastTransaction(e){const{blockNumber:r,hash:n,network:i}=await kr({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=Op.from(e);if(s.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(r)}async getBlock(e,r){const{network:n,params:i}=await kr({network:this.getNetwork(),params:q(this,Ne,Bb).call(this,e,!!r)});return i==null?null:this._wrapBlock(i,n)}async getTransaction(e){const{network:r,params:n}=await kr({network:this.getNetwork(),params:q(this,Ne,Zr).call(this,{method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,r)}async getTransactionReceipt(e){const{network:r,params:n}=await kr({network:this.getNetwork(),params:q(this,Ne,Zr).call(this,{method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const i=await q(this,Ne,Zr).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(n,r)}async getTransactionResult(e){const{result:r}=await kr({network:this.getNetwork(),result:q(this,Ne,Zr).call(this,{method:"getTransactionResult",hash:e})});return r==null?null:ee(r)}async getLogs(e){let r=this._getFilter(e);Jh(r)&&(r=await r);const{network:n,params:i}=await kr({network:this.getNetwork(),params:q(this,Ne,Zr).call(this,{method:"getLogs",filter:r})});return i.map(s=>this._wrapLog(s,n))}_getProvider(e){K(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Up.fromName(this,e)}async getAvatar(e){const r=await this.getResolver(e);return r?await r.getAvatar():null}async resolveName(e){const r=await this.getResolver(e);return r?await r.getAddress():null}async lookupAddress(e){e=Re(e);const r=Pb(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await Up.getEnsAddress(this),s=await new Ce(n,["function resolver(bytes32) view returns (address)"],this).resolver(r);if(s==null||s===l0)return null;const l=await new Ce(s,["function name(bytes32) view returns (string)"],this).name(r);return await this.resolveName(l)!==e?null:l}catch(n){if(ir(n,"BAD_DATA")&&n.value==="0x"||ir(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,r,n){const i=r??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,a)=>{let l=null;const c=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=i){s(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};n!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c),a(nt("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){K(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const r=A(this,_n).get(e);r&&(r.timer&&clearTimeout(r.timer),A(this,_n).delete(e))}_setTimeout(e,r){r==null&&(r=0);const n=Bd(this,U0)._++,i=()=>{A(this,_n).delete(n),e()};if(this.paused)A(this,_n).set(n,{timer:null,func:i,time:r});else{const s=setTimeout(i,r);A(this,_n).set(n,{timer:s,func:i,time:vx()})}return n}_forEachSubscriber(e){for(const r of A(this,hr).values())e(r.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new RO(e.type);case"block":{const r=new MQ(this);return r.pollingInterval=this.pollingInterval,r}case"safe":case"finalized":return new LQ(this,e.type);case"event":return new N5(this,e.filter);case"transaction":return new BQ(this,e.hash);case"orphan":return new _Q(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,r){for(const n of A(this,hr).values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=r,n.started&&r.start(),A(this,mr)!=null&&r.pause(A(this,mr));break}}async on(e,r){const n=await q(this,Ne,Um).call(this,e);return n.listeners.push({listener:r,once:!1}),n.started||(n.subscriber.start(),n.started=!0,A(this,mr)!=null&&n.subscriber.pause(A(this,mr))),this}async once(e,r){const n=await q(this,Ne,Um).call(this,e);return n.listeners.push({listener:r,once:!0}),n.started||(n.subscriber.start(),n.started=!0,A(this,mr)!=null&&n.subscriber.pause(A(this,mr))),this}async emit(e,...r){const n=await q(this,Ne,xf).call(this,e,r);if(!n||n.listeners.length===0)return!1;const i=n.listeners.length;return n.listeners=n.listeners.filter(({listener:s,once:a})=>{const l=new Y8(this,a?null:s,e);try{s.call(this,...r,l)}catch{}return!a}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),A(this,hr).delete(n.tag)),i>0}async listenerCount(e){if(e){const n=await q(this,Ne,xf).call(this,e);return n?n.listeners.length:0}let r=0;for(const{listeners:n}of A(this,hr).values())r+=n.length;return r}async listeners(e){if(e){const n=await q(this,Ne,xf).call(this,e);return n?n.listeners.map(({listener:i})=>i):[]}let r=[];for(const{listeners:n}of A(this,hr).values())r=r.concat(n.map(({listener:i})=>i));return r}async off(e,r){const n=await q(this,Ne,xf).call(this,e);if(!n)return this;if(r){const i=n.listeners.map(({listener:s})=>s).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(!r||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),A(this,hr).delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:r,started:n,subscriber:i}=await q(this,Ne,Um).call(this,e);n&&i.stop(),A(this,hr).delete(r)}else for(const[r,{started:n,subscriber:i}]of A(this,hr))n&&i.stop(),A(this,hr).delete(r);return this}async addListener(e,r){return await this.on(e,r)}async removeListener(e,r){return this.off(e,r)}get destroyed(){return A(this,Uu)}destroy(){this.removeAllListeners();for(const e of A(this,_n).keys())this._clearTimeout(e);O(this,Uu,!0)}get paused(){return A(this,mr)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(O(this,gs,-1),A(this,mr)!=null){if(A(this,mr)==!!e)return;K(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(r=>r.pause(e)),O(this,mr,!!e);for(const r of A(this,_n).values())r.timer&&clearTimeout(r.timer),r.time=vx()-r.time}resume(){if(A(this,mr)!=null){this._forEachSubscriber(e=>e.resume()),O(this,mr,null);for(const e of A(this,_n).values()){let r=e.time;r<0&&(r=0),e.time=vx(),setTimeout(e.func,r)}}}}hr=new WeakMap,Ma=new WeakMap,mr=new WeakMap,Uu=new WeakMap,on=new WeakMap,jl=new WeakMap,La=new WeakMap,gs=new WeakMap,U0=new WeakMap,_n=new WeakMap,$u=new WeakMap,Vu=new WeakMap,Ne=new WeakSet,Zr=async function(e){const r=A(this,Vu).cacheTimeout;if(r<0)return await this._perform(e);const n=Fm(e.method,e);let i=A(this,La).get(n);return i||(i=this._perform(e),A(this,La).set(n,i),setTimeout(()=>{A(this,La).get(n)===i&&A(this,La).delete(n)},r)),await i},Lb=async function(e,r,n){K(n<UQ,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:r,enableCcipRead:!0})});const i=Bp(e);try{return ee(await this._perform({method:"call",transaction:i,blockTag:r}))}catch(s){if(!this.disableCcipRead&&s5(s)&&s.data&&n>=0&&r==="latest"&&i.to!=null&&pt(s.data,0,4)==="0x556f1830"){const a=s.data,l=await Tr(i.to,this);let c;try{c=QQ(pt(s.data,4))}catch(f){K(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:a}})}K(c.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(i,c.calldata,c.urls);K(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const d={to:l,data:xt([c.selector,KQ([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const f=await q(this,Ne,Lb).call(this,d,r,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:f}),f}}throw s}},_b=async function(e){const{value:r}=await kr({network:this.getNetwork(),value:e});return r},yf=async function(e,r,n){let i=this._getAddress(r),s=this._getBlockTag(n);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await q(this,Ne,_b).call(this,q(this,Ne,Zr).call(this,Object.assign(e,{address:i,blockTag:s})))},Bb=async function(e,r){if(Je(e,32))return await q(this,Ne,Zr).call(this,{method:"getBlock",blockHash:e,includeTransactions:r});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await q(this,Ne,Zr).call(this,{method:"getBlock",blockTag:n,includeTransactions:r})},xf=async function(e,r){let n=await xx(e,this);return n.type==="event"&&r&&r.length>0&&r[0].removed===!0&&(n=await xx({orphan:"drop-log",log:r[0]},this)),A(this,hr).get(n.tag)||null},Um=async function(e){const r=await xx(e,this),n=r.tag;let i=A(this,hr).get(n);return i||(i={subscriber:this._getSubscriber(r),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},A(this,hr).set(n,i)),i};function HQ(t,e){try{const r=Fb(t,e);if(r)return Pp(r)}catch{}return null}function Fb(t,e){if(t==="0x")return null;try{const r=be(pt(t,e,e+32)),n=be(pt(t,r,r+32));return pt(t,r+32,r+32+n)}catch{}return null}function nS(t){const e=_t(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function WQ(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const GQ=new Uint8Array([]);function KQ(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(GQ),r+=32;for(let n=0;n<t.length;n++){const i=je(t[n]);e[n]=nS(r),e.push(nS(i.length)),e.push(WQ(i)),r+=32+Math.ceil(i.length/32)*32}return xt(e)}const iS="0x0000000000000000000000000000000000000000000000000000000000000000";function QQ(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};K(eu(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=pt(t,0,32);K(pt(r,0,12)===pt(iS,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=pt(r,12);try{const n=[],i=be(pt(t,32,64)),s=be(pt(t,i,i+32)),a=pt(t,i+32);for(let l=0;l<s;l++){const c=HQ(a,l*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{K(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Fb(t,64);if(n==null)throw new Error("abort");e.calldata=n}catch{K(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}K(pt(t,100,128)===pt(iS,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=pt(t,96,100);try{const n=Fb(t,128);if(n==null)throw new Error("abort");e.extraData=n}catch{K(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Oo(t,e){if(t.provider)return t.provider;K(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function sS(t,e){let r=Bp(e);if(r.to!=null&&(r.to=Tr(r.to,t)),r.from!=null){const n=r.from;r.from=Promise.all([t.getAddress(),Tr(n,t)]).then(([i,s])=>(_(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else r.from=t.getAddress();return await kr(r)}class YQ{constructor(e){U(this,"provider");me(this,{provider:e||null})}async getNonce(e){return Oo(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await sS(this,e)}async populateTransaction(e){const r=Oo(this,"populateTransaction"),n=await sS(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const i=await this.provider.getNetwork();if(n.chainId!=null){const a=ae(n.chainId);_(a===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=i.chainId;const s=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||s)?_(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&s&&_(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const a=await r.getFeeData();K(a.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice)}else{const a=await r.getFeeData();if(n.type==null)if(a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const l=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=l,n.maxPriorityFeePerGas=l}else n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else a.gasPrice!=null?(K(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=a.gasPrice),n.type=0):K(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=a.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await kr(n)}async populateAuthorization(e){const r=Object.assign({},e);return r.chainId==null&&(r.chainId=(await Oo(this,"getNetwork").getNetwork()).chainId),r.nonce==null&&(r.nonce=await this.getNonce()),r}async estimateGas(e){return Oo(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Oo(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Oo(this,"resolveName").resolveName(e)}async sendTransaction(e){const r=Oo(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const i=Op.from(n);return await r.broadcastTransaction(await this.signTransaction(i))}authorize(e){K(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function qQ(t){return JSON.parse(JSON.stringify(t))}var Ar,_i,Nl,_a,Al,zu,po,Ub,$b;class MO{constructor(e){H(this,po);H(this,Ar);H(this,_i);H(this,Nl);H(this,_a);H(this,Al);H(this,zu);O(this,Ar,e),O(this,_i,null),O(this,Nl,q(this,po,Ub).bind(this)),O(this,_a,!1),O(this,Al,null),O(this,zu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,r){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){A(this,_a)||(O(this,_a,!0),q(this,po,Ub).call(this,-2))}stop(){A(this,_a)&&(O(this,_a,!1),O(this,zu,!0),q(this,po,$b).call(this),A(this,Ar).off("block",A(this,Nl)))}pause(e){e&&q(this,po,$b).call(this),A(this,Ar).off("block",A(this,Nl))}resume(){this.start()}}Ar=new WeakMap,_i=new WeakMap,Nl=new WeakMap,_a=new WeakMap,Al=new WeakMap,zu=new WeakMap,po=new WeakSet,Ub=async function(e){try{A(this,_i)==null&&O(this,_i,this._subscribe(A(this,Ar)));let r=null;try{r=await A(this,_i)}catch(s){if(!ir(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(r==null){O(this,_i,null),A(this,Ar)._recoverSubscriber(this,this._recover(A(this,Ar)));return}const n=await A(this,Ar).getNetwork();if(A(this,Al)||O(this,Al,n),A(this,Al).chainId!==n.chainId)throw new Error("chaid changed");if(A(this,zu))return;const i=await A(this,Ar).send("eth_getFilterChanges",[r]);await this._emitResults(A(this,Ar),i)}catch(r){console.log("@TODO",r)}A(this,Ar).once("block",A(this,Nl))},$b=function(){const e=A(this,_i);e&&(O(this,_i,null),e.then(r=>{A(this,Ar).destroyed||A(this,Ar).send("eth_uninstallFilter",[r])}))};var El;class XQ extends MO{constructor(r,n){super(r);H(this,El);O(this,El,qQ(n))}_recover(r){return new N5(r,A(this,El))}async _subscribe(r){return await r.send("eth_newFilter",[A(this,El)])}async _emitResults(r,n){for(const i of n)r.emit(A(this,El),r._wrapLog(i,r._network))}}El=new WeakMap;class JQ extends MO{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,r){for(const n of r)e.emit("pending",n)}}const ZQ="bigint,boolean,function,number,string,symbol".split(/,/g);function $m(t){if(t==null||ZQ.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map($m);if(typeof t=="object")return Object.keys(t).reduce((e,r)=>(e[r]=t[r],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function eY(t){return new Promise(e=>{setTimeout(e,t)})}function gc(t){return t&&t.toLowerCase()}function aS(t){return t&&typeof t.pollingInterval=="number"}const LO={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class bx extends YQ{constructor(r,n){super(r);U(this,"address");n=Re(n),me(this,{address:n})}connect(r){K(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(r){return await this.populateCall(r)}async sendUncheckedTransaction(r){const n=$m(r),i=[];if(n.from){const a=n.from;i.push((async()=>{const l=await Tr(a,this.provider);_(l!=null&&l.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=l})())}else n.from=this.address;if(n.gasLimit==null&&i.push((async()=>{n.gasLimit=await this.provider.estimateGas({...n,from:this.address})})()),n.to!=null){const a=n.to;i.push((async()=>{n.to=await Tr(a,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(n);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(r){const n=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(r);return await new Promise((s,a)=>{const l=[1e3,100];let c=0;const u=async()=>{try{const d=await this.provider.getTransaction(i);if(d!=null){s(d.replaceableTransaction(n));return}}catch(d){if(ir(d,"CANCELLED")||ir(d,"BAD_DATA")||ir(d,"NETWORK_ERROR")||ir(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=i,a(d);return}if(ir(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=i,c>10)){a(d);return}this.provider.emit("error",nt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},l.pop()||4e3)};u()})}async signTransaction(r){const n=$m(r);if(n.from){const s=await Tr(n.from,this.provider);_(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",r),n.from=s}else n.from=this.address;const i=this.provider.getRpcTransaction(n);return await this.provider.send("eth_signTransaction",[i])}async signMessage(r){const n=typeof r=="string"?Is(r):r;return await this.provider.send("personal_sign",[ee(n),this.address.toLowerCase()])}async signTypedData(r,n,i){const s=$m(i),a=await _p.resolveNames(r,n,s,async l=>{const c=await Tr(l);return _(c!=null,"TypedData does not support null address","value",l),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(_p.getPayload(a.domain,n,a.value))])}async unlock(r){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),r,null])}async _legacySignMessage(r){const n=typeof r=="string"?Is(r):r;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ee(n)])}}var Sl,Hu,ys,Bi,ui,Bn,Br,$0,Vb;class tY extends zQ{constructor(r,n){super(r,n);H(this,$0);H(this,Sl);H(this,Hu);H(this,ys);H(this,Bi);H(this,ui);H(this,Bn);H(this,Br);O(this,Hu,1),O(this,Sl,Object.assign({},LO,n||{})),O(this,ys,[]),O(this,Bi,null),O(this,Bn,null),O(this,Br,null);{let s=null;const a=new Promise(l=>{s=l});O(this,ui,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(_(!i||r!=="any","staticNetwork cannot be used on special network 'any'","options",n),i&&r!=null&&O(this,Bn,zi.from(r))):i&&(_(r==null||i.matches(r),"staticNetwork MUST match network object","options",n),O(this,Bn,i))}_getOption(r){return A(this,Sl)[r]}get _network(){return K(A(this,Bn),"network is not available yet","NETWORK_ERROR"),A(this,Bn)}async _perform(r){if(r.method==="call"||r.method==="estimateGas"){let i=r.transaction;if(i&&i.type!=null&&ae(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Object.assign({},r,{transaction:Object.assign({},i,{type:void 0})}))}}const n=this.getRpcRequest(r);return n!=null?await this.send(n.method,n.args):super._perform(r)}async _detectNetwork(){const r=this._getOption("staticNetwork");if(r)if(r===!0){if(A(this,Bn))return A(this,Bn)}else return r;return A(this,Br)?await A(this,Br):this.ready?(O(this,Br,(async()=>{try{const n=zi.from(ae(await this.send("eth_chainId",[])));return O(this,Br,null),n}catch(n){throw O(this,Br,null),n}})()),await A(this,Br)):(O(this,Br,(async()=>{const n={id:Bd(this,Hu)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:n});let i;try{i=(await this._send(n))[0],O(this,Br,null)}catch(s){throw O(this,Br,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return zi.from(ae(i.result));throw this.getRpcError(n,i)})()),await A(this,Br))}_start(){A(this,ui)==null||A(this,ui).resolve==null||(A(this,ui).resolve(),O(this,ui,null),(async()=>{for(;A(this,Bn)==null&&!this.destroyed;)try{O(this,Bn,await this._detectNetwork())}catch(r){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",nt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:r}})),await eY(1e3)}q(this,$0,Vb).call(this)})())}async _waitUntilReady(){if(A(this,ui)!=null)return await A(this,ui).promise}_getSubscriber(r){return r.type==="pending"?new JQ(this):r.type==="event"?this._getOption("polling")?new N5(this,r.filter):new XQ(this,r.filter):r.type==="orphan"&&r.filter.orphan==="drop-log"?new RO("orphan"):super._getSubscriber(r)}get ready(){return A(this,ui)==null}getRpcTransaction(r){const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(r[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),n[s]=hi(ae(r[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{r[i]!=null&&(n[i]=ee(r[i]))}),r.accessList&&(n.accessList=oc(r.accessList)),r.blobVersionedHashes&&(n.blobVersionedHashes=r.blobVersionedHashes.map(i=>i.toLowerCase())),r.authorizationList&&(n.authorizationList=r.authorizationList.map(i=>{const s=BT(i);return{address:s.address,nonce:hi(s.nonce),chainId:hi(s.chainId),yParity:hi(s.signature.yParity),r:hi(s.signature.r),s:hi(s.signature.s)}})),n}getRpcRequest(r){switch(r.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[gc(r.address),r.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[gc(r.address),r.blockTag]};case"getCode":return{method:"eth_getCode",args:[gc(r.address),r.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[gc(r.address),"0x"+r.position.toString(16),r.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[r.signedTransaction]};case"getBlock":if("blockTag"in r)return{method:"eth_getBlockByNumber",args:[r.blockTag,!!r.includeTransactions]};if("blockHash"in r)return{method:"eth_getBlockByHash",args:[r.blockHash,!!r.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[r.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[r.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(r.transaction),r.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(r.transaction)]};case"getLogs":return r.filter&&r.filter.address!=null&&(Array.isArray(r.filter.address)?r.filter.address=r.filter.address.map(gc):r.filter.address=gc(r.filter.address)),{method:"eth_getLogs",args:[r.filter]}}return null}getRpcError(r,n){const{method:i}=r,{error:s}=n;if(i==="eth_estimateGas"&&s.message){const c=s.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return nt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:r.params[0],info:{payload:r,error:s}});if(c.match(/nonce/i)&&c.match(/too low/i))return nt("nonce has already been used","NONCE_EXPIRED",{transaction:r.params[0],info:{payload:r,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=zb(s),u=p0.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",r.params[0],c?c.data:null);return u.info={error:s,payload:r},u}const a=JSON.stringify(nY(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return nt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:r,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=r.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return nt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return nt("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:s}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return nt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:s}});if(a.match(/only replay-protected/i))return nt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:s}}})}let l=!!a.match(/the method .* does not exist/i);return l||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(l=!0),l?nt("unsupported operation","UNSUPPORTED_OPERATION",{operation:r.method,info:{error:s,payload:r}}):nt("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:r})}send(r,n){if(this.destroyed)return Promise.reject(nt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r}));const i=Bd(this,Hu)._++,s=new Promise((a,l)=>{A(this,ys).push({resolve:a,reject:l,payload:{method:r,params:n,id:i,jsonrpc:"2.0"}})});return q(this,$0,Vb).call(this),s}async getSigner(r){r==null&&(r=0);const n=this.send("eth_accounts",[]);if(typeof r=="number"){const s=await n;if(r>=s.length)throw new Error("no such account");return new bx(this,s[r])}const{accounts:i}=await kr({network:this.getNetwork(),accounts:n});r=Re(r);for(const s of i)if(Re(s)===r)return new bx(this,r);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(n=>new bx(this,n))}destroy(){A(this,Bi)&&(clearTimeout(A(this,Bi)),O(this,Bi,null));for(const{payload:r,reject:n}of A(this,ys))n(nt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:r.method}));O(this,ys,[]),super.destroy()}}Sl=new WeakMap,Hu=new WeakMap,ys=new WeakMap,Bi=new WeakMap,ui=new WeakMap,Bn=new WeakMap,Br=new WeakMap,$0=new WeakSet,Vb=function(){if(A(this,Bi))return;const r=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");O(this,Bi,setTimeout(()=>{O(this,Bi,null);const n=A(this,ys);for(O(this,ys,[]);n.length;){const i=[n.shift()];for(;n.length&&i.length!==A(this,Sl).batchMaxCount;)if(i.push(n.shift()),JSON.stringify(i.map(a=>a.payload)).length>A(this,Sl).batchMaxSize){n.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const a=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:a});for(const{resolve:l,reject:c,payload:u}of i){if(this.destroyed){c(nt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=a.filter(f=>f.id===u.id)[0];if(d==null){const f=nt("missing response for request","BAD_DATA",{value:a,info:{payload:u}});this.emit("error",f),c(f);continue}if("error"in d){c(this.getRpcError(u,d));continue}l(d.result)}}catch(a){this.emit("debug",{action:"receiveRpcError",error:a});for(const{reject:l}of i)l(a)}})()}},r))};var Ba;class rY extends tY{constructor(r,n){super(r,n);H(this,Ba);let i=this._getOption("pollingInterval");i==null&&(i=LO.pollingInterval),O(this,Ba,i)}_getSubscriber(r){const n=super._getSubscriber(r);return aS(n)&&(n.pollingInterval=A(this,Ba)),n}get pollingInterval(){return A(this,Ba)}set pollingInterval(r){if(!Number.isInteger(r)||r<0)throw new Error("invalid interval");O(this,Ba,r),this._forEachSubscriber(n=>{aS(n)&&(n.pollingInterval=A(this,Ba))})}}Ba=new WeakMap;function zb(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Je(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const r=zb(t[e]);if(r)return r}return null}if(typeof t=="string")try{return zb(JSON.parse(t))}catch{}return null}function Hb(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const r in t)Hb(t[r],e);if(typeof t=="string")try{return Hb(JSON.parse(t),e)}catch{}}}function nY(t){const e=[];return Hb(t,e),e}var Wu,Gu;const Go=class Go extends rY{constructor(r,n,i){const s=Object.assign({},i??{},{batchMaxCount:1});_(r&&r.request,"invalid EIP-1193 provider","ethereum",r);super(n,s);H(this,Wu);H(this,Gu);O(this,Gu,null),i&&i.providerInfo&&O(this,Gu,i.providerInfo),O(this,Wu,async(a,l)=>{const c={method:a,params:l};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await r.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const d=new Error(u.message);throw d.code=u.code,d.data=u.data,d.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}get providerInfo(){return A(this,Gu)}async send(r,n){return await this._start(),await super.send(r,n)}async _send(r){_(!Array.isArray(r),"EIP-1193 does not support batch request","payload",r);try{const n=await A(this,Wu).call(this,r.method,r.params||[]);return[{id:r.id,result:n}]}catch(n){return[{id:r.id,error:{code:n.code,data:n.data,message:n.message}}]}}getRpcError(r,n){switch(n=JSON.parse(JSON.stringify(n)),n.error.code||-1){case 4001:n.error.message=`ethers-user-denied: ${n.error.message}`;break;case 4200:n.error.message=`ethers-unsupported: ${n.error.message}`;break}return super.getRpcError(r,n)}async hasSigner(r){r==null&&(r=0);const n=await this.send("eth_accounts",[]);return typeof r=="number"?n.length>r:(r=r.toLowerCase(),n.filter(i=>i.toLowerCase()===r).length!==0)}async getSigner(r){if(r==null&&(r=0),!await this.hasSigner(r))try{await A(this,Wu).call(this,"eth_requestAccounts",[])}catch(n){const i=n.payload;throw this.getRpcError(i,{id:i.id,error:n})}return await super.getSigner(r)}static async discover(r){if(r==null&&(r={}),r.provider)return new Go(r.provider);const n=r.window?r.window:typeof window<"u"?window:null;if(n==null)return null;const i=r.anyProvider;if(i&&n.ethereum)return new Go(n.ethereum);if(!("addEventListener"in n&&"dispatchEvent"in n&&"removeEventListener"in n))return null;const s=r.timeout?r.timeout:300;return s===0?null:await new Promise((a,l)=>{let c=[];const u=h=>{c.push(h.detail),i&&d()},d=()=>{if(clearTimeout(f),c.length)if(r&&r.filter){const h=r.filter(c.map(m=>Object.assign({},m.info)));if(h==null)a(null);else if(h instanceof Go)a(h);else{let m=null;if(h.uuid&&(m=c.filter(y=>h.uuid===y.info.uuid)[0]),m){const{provider:g,info:y}=m;a(new Go(g,void 0,{providerInfo:y}))}else l(nt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:h}))}}else{const{provider:h,info:m}=c[0];a(new Go(h,void 0,{providerInfo:m}))}else a(null);n.removeEventListener("eip6963:announceProvider",u)},f=setTimeout(()=>{d()},s);n.addEventListener("eip6963:announceProvider",u),n.dispatchEvent(new Event("eip6963:requestProvider"))})}};Wu=new WeakMap,Gu=new WeakMap;let st=Go;class iY{constructor(){this.errorHistory=[],this.retryAttempts=new Map,this.maxRetryAttempts=3,this.retryDelay=1e3}handleError(e,r={},n={}){try{const{showToast:i=!0,logError:s=!0,showRetry:a=!1,retryAction:l=null,component:c="unknown",operation:u="unknown"}=n,d=this.normalizeError(e),f=ue.getCurrentUser(),h=(f==null?void 0:f.accountType)||"guest",m={...r,userRole:h,component:c,operation:u,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};s&&this.logError(d,m);const g=this.getRoleSpecificMessage(d,h,m);return i&&this.showErrorToast(g,{showRetry:a,retryAction:l,error:d,context:m}),{error:d,message:g,context:m}}catch(i){return console.error("Error in error handler:",i),te.error("An unexpected error occurred. Please try again."),{error:e,message:"An unexpected error occurred",context:{}}}}normalizeError(e){return typeof e=="string"?{message:e,code:"GENERIC_ERROR",type:"user_error"}:e instanceof Error?{message:e.message,code:e.code||"UNKNOWN_ERROR",type:this.categorizeError(e),stack:e.stack,name:e.name}:e&&typeof e=="object"?{message:e.message||"Unknown error",code:e.code||"UNKNOWN_ERROR",type:e.type||"unknown",...e}:{message:"An unknown error occurred",code:"UNKNOWN_ERROR",type:"unknown"}}categorizeError(e){const r=e.message.toLowerCase();return r.includes("network")||r.includes("fetch")||r.includes("connection")?"network_error":r.includes("authentication")||r.includes("unauthorized")||r.includes("login")?"auth_error":r.includes("permission")||r.includes("access denied")||r.includes("forbidden")?"permission_error":r.includes("validation")||r.includes("invalid")||r.includes("required")?"validation_error":r.includes("transaction")||r.includes("gas")||r.includes("contract")||r.includes("wallet")?"blockchain_error":r.includes("file")||r.includes("upload")||r.includes("ipfs")?"upload_error":"user_error"}getRoleSpecificMessage(e,r,n){const i=this.getBaseErrorMessage(e),s=this.getRoleSpecificGuidance(e,r,n);return{title:this.getErrorTitle(e),message:i,guidance:s,severity:this.getErrorSeverity(e),actionable:this.isErrorActionable(e,r)}}getBaseErrorMessage(e){return{USER_NOT_AUTHENTICATED:"Please log in to continue",SESSION_EXPIRED:"Your session has expired. Please log in again",INVALID_CREDENTIALS:"Invalid email or password",INSUFFICIENT_PERMISSIONS:"You do not have permission to perform this action",VERIFIER_REQUIRED:"This action requires verifier privileges",ACCESS_DENIED:"Access denied",FILE_TOO_LARGE:"File is too large. Maximum size is 10MB",INVALID_FILE_TYPE:"Invalid file type. Please upload PDF, DOC, DOCX, TXT, JPG, or PNG files",UPLOAD_FAILED:"File upload failed. Please try again",IPFS_ERROR:"Failed to store file on IPFS network",DOCUMENT_NOT_FOUND:"Document not found",DOCUMENT_ALREADY_ATTESTED:"Document has already been attested",DOCUMENT_ALREADY_MINTED:"Document has already been minted",INVALID_DOCUMENT_STATUS:"Document is not in the correct status for this operation",WALLET_NOT_CONNECTED:"Please connect your wallet to continue",TRANSACTION_FAILED:"Transaction failed. Please try again",INSUFFICIENT_FUNDS:"Insufficient funds to complete the transaction",USER_REJECTED_TRANSACTION:"Transaction was rejected",NETWORK_ERROR:"Network connection error. Please check your internet connection",CONTRACT_NOT_DEPLOYED:"Smart contract not deployed. Please check configuration",VALIDATION_ERROR:"Please check your input and try again",REQUIRED_FIELD_MISSING:"Please fill in all required fields",INVALID_INPUT:"Invalid input provided",GENERIC_ERROR:"An error occurred. Please try again",UNKNOWN_ERROR:"An unexpected error occurred"}[e.code]||e.message||"An unexpected error occurred"}getRoleSpecificGuidance(e,r,n){const{operation:i,component:s}=n,a={individual:{upload_error:"As an individual user, you can upload documents for verification. Make sure your file meets the requirements and try again.",permission_error:"Individual users can upload documents but cannot perform verifications or minting. Contact a verifier if you need assistance.",auth_error:"Please ensure you are logged in with your individual account.",blockchain_error:"Connect your wallet to interact with the blockchain. Individual users can view their documents and credit balance."},business:{upload_error:"As a business user, you can upload project documents for verification. Ensure your documentation is complete and meets the requirements.",permission_error:"Business users can upload documents but cannot perform verifications or minting. Work with authorized verifiers for document processing.",auth_error:"Please ensure you are logged in with your business account.",blockchain_error:"Connect your business wallet to track your documents and credits."},verifier:{upload_error:"As a verifier, you typically review documents rather than upload them. Use the Verifier Dashboard to manage document reviews.",permission_error:"Verifiers have access to document review, attestation, and minting functions. Make sure you are using the correct interface.",auth_error:"Please ensure you are logged in with your verifier account.",blockchain_error:"Verifiers need wallet access for attestations and minting. Ensure your wallet is connected and you have sufficient gas fees.",attestation_error:"Check that the document is in pending status and all required fields are completed before attesting.",minting_error:"Ensure the document has been properly attested before attempting to mint credits."},guest:{auth_error:"Please create an account or log in to access this feature.",permission_error:"You need to be logged in to perform this action. Please create an account or sign in."}},l=a[r]||a.guest;return e.type&&l[e.type]?l[e.type]:i==="document_upload"&&l.upload_error?l.upload_error:i==="document_attestation"&&l.attestation_error?l.attestation_error:i==="credit_minting"&&l.minting_error?l.minting_error:this.getDefaultGuidance(e,r)}getDefaultGuidance(e,r){return e.type==="network_error"?"Check your internet connection and try again. If the problem persists, the service may be temporarily unavailable.":e.type==="validation_error"?"Please review the form fields and ensure all required information is provided correctly.":r==="guest"?"Please create an account or log in to access this feature.":"If this problem continues, please contact support for assistance."}getErrorTitle(e){return{auth_error:"Authentication Required",permission_error:"Access Denied",upload_error:"Upload Failed",blockchain_error:"Blockchain Error",network_error:"Connection Error",validation_error:"Invalid Input",user_error:"Action Failed"}[e.type]||"Error"}getErrorSeverity(e){return{auth_error:"high",permission_error:"medium",blockchain_error:"high",network_error:"medium",validation_error:"low",upload_error:"medium"}[e.type]||"medium"}isErrorActionable(e,r){return e.type==="validation_error"||e.type==="auth_error"?!0:e.type==="permission_error"?r==="guest":e.type==="upload_error"?!0:e.type!=="network_error"}showErrorToast(e,r={}){const{showRetry:n=!1,retryAction:i=null,error:s,context:a}=r,l={duration:this.getToastDuration(e.severity),style:this.getToastStyle(e.severity),position:"top-right"};let c=e.message;e.guidance&&(c+=`

💡 ${e.guidance}`);const u=te.error(c,l);n&&i&&e.actionable&&setTimeout(()=>{te.error(`${c}

💡 Click this message to try again`,{...l,duration:1e4,onClick:()=>{this.handleRetry(i,s,a)}}),te.dismiss(u)},100)}getToastDuration(e){return{low:4e3,medium:6e3,high:8e3}[e]||5e3}getToastStyle(e){const r={low:{background:"#FEF3C7",color:"#92400E",border:"1px solid #F59E0B"},medium:{background:"#FEE2E2",color:"#991B1B",border:"1px solid #EF4444"},high:{background:"#DC2626",color:"#FFFFFF",border:"1px solid #B91C1C"}};return r[e]||r.medium}async handleRetry(e,r,n){const i=`${n.component}-${n.operation}`,s=this.retryAttempts.get(i)||0;if(s>=this.maxRetryAttempts){te.error("Maximum retry attempts reached. Please refresh the page or contact support.");return}this.retryAttempts.set(i,s+1);const a=this.retryDelay*Math.pow(2,s);te.loading(`Retrying... (Attempt ${s+1}/${this.maxRetryAttempts})`,{duration:a});try{await new Promise(l=>setTimeout(l,a)),await e(),this.retryAttempts.delete(i),te.success("Operation completed successfully!")}catch(l){this.handleError(l,{...n,isRetry:!0,retryAttempt:s+1},{showRetry:s+1<this.maxRetryAttempts,retryAction:e})}}handleDocumentUploadError(e,r,n={}){const i={...n,operation:"document_upload",component:"DocumentUpload"},s=this.handleError(e,i,{showToast:!0,showRetry:!0,retryAction:n.retryAction});return console.error(`📄 Document upload failed for ${r}:`,{error:s.error,context:i,userRole:r}),s}handleBlockchainError(e,r,n={}){var a,l,c,u;const i={...n,operation:r,component:"BlockchainService",type:"blockchain_error"};let s={...e};return(a=e.message)!=null&&a.includes("user rejected")?(s.code="USER_REJECTED_TRANSACTION",s.type="user_action"):(l=e.message)!=null&&l.includes("insufficient funds")?(s.code="INSUFFICIENT_FUNDS",s.type="blockchain_error"):(c=e.message)!=null&&c.includes("gas")?(s.code="GAS_ERROR",s.type="blockchain_error"):(u=e.message)!=null&&u.includes("network")&&(s.code="NETWORK_ERROR",s.type="network_error"),this.handleError(s,i,{showToast:!0,showRetry:r!=="user_rejected",retryAction:n.retryAction})}handleIPFSError(e,r={}){const n={...r,operation:"ipfs_upload",component:"IPFSService",type:"upload_error"};return this.handleError(e,n,{showToast:!0,showRetry:!0,retryAction:r.retryAction})}handlePermissionError(e,r,n={}){const i={message:`You do not have permission to ${e}`,code:"INSUFFICIENT_PERMISSIONS",type:"permission_error"},s={...n,operation:e,component:"PermissionCheck",attemptedAction:e};return this.handleError(i,s,{showToast:!0,showRetry:!1})}logError(e,r){const n={error:e,context:r,timestamp:new Date().toISOString(),sessionId:this.getSessionId()};this.errorHistory.push(n),this.errorHistory.length>50&&this.errorHistory.shift();try{const i=JSON.parse(localStorage.getItem("cblock_error_logs")||"[]");i.push(n),i.length>100&&i.splice(0,i.length-100),localStorage.setItem("cblock_error_logs",JSON.stringify(i))}catch(i){console.warn("Failed to store error log:",i)}console.error("🚨 Error logged:",n)}getSessionId(){let e=sessionStorage.getItem("cblock_session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("cblock_session_id",e)),e}getErrorHistory(){return[...this.errorHistory]}clearErrorHistory(){this.errorHistory=[],this.retryAttempts.clear(),localStorage.removeItem("cblock_error_logs"),console.log("🗑️ Error history cleared")}getErrorStats(){const e={total:this.errorHistory.length,byType:{},byComponent:{},byRole:{},recentErrors:this.errorHistory.slice(-10)};return this.errorHistory.forEach(r=>{const{error:n,context:i}=r;e.byType[n.type]=(e.byType[n.type]||0)+1,e.byComponent[i.component]=(e.byComponent[i.component]||0)+1,e.byRole[i.userRole]=(e.byRole[i.userRole]||0)+1}),e}}const Nt=new iY;class sY{constructor(){this.defaultDuration=5e3,this.position="top-right"}success(e,r={}){const n=ue.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"success",i,r);return te.success(s,{duration:r.duration||this.defaultDuration,position:r.position||this.position,style:{background:"#10B981",color:"white",fontWeight:"500",...r.style},icon:r.icon||"✅",...r})}error(e,r={}){const n=ue.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"error",i,r);return te.error(s,{duration:r.duration||this.defaultDuration*1.5,position:r.position||this.position,style:{background:"#EF4444",color:"white",fontWeight:"500",...r.style},icon:r.icon||"❌",...r})}warning(e,r={}){const n=ue.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"warning",i,r);return te.error(s,{duration:r.duration||this.defaultDuration,position:r.position||this.position,style:{background:"#F59E0B",color:"white",fontWeight:"500",...r.style},icon:r.icon||"⚠️",...r})}info(e,r={}){const n=ue.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"info",i,r);return te.success(s,{duration:r.duration||this.defaultDuration,position:r.position||this.position,style:{background:"#3B82F6",color:"white",fontWeight:"500",...r.style},icon:r.icon||"ℹ️",...r})}loading(e,r={}){const n=ue.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest",s=this.enhanceMessage(e,"loading",i,r);return te.loading(s,{position:r.position||this.position,style:{background:"#6B7280",color:"white",fontWeight:"500",...r.style},...r})}enhanceMessage(e,r,n,i={}){if(!i.roleSpecific)return e;this.getRoleContext(n);const s=this.getRoleGuidance(r,n,i.operation);return s?`${e}

💡 ${s}`:e}getRoleContext(e){const r={verifier:{name:"Verifier",icon:"🛡️",permissions:["review documents","attest documents","mint credits"]},business:{name:"Business User",icon:"🏢",permissions:["upload documents","track projects","view credits"]},individual:{name:"Individual User",icon:"👤",permissions:["upload documents","track submissions","view credits"]},guest:{name:"Guest",icon:"👋",permissions:["view public information","create account"]}};return r[e]||r.guest}getRoleGuidance(e,r,n){const s={success:{verifier:{document_upload:"Document uploaded successfully. It will appear in your verifier dashboard for review.",attestation:"Document attested successfully. You can now mint carbon credits for this project.",minting:"Carbon credits minted successfully. Credits have been allocated to the document uploader.",default:"Operation completed successfully in your verifier interface."},business:{document_upload:"Business document uploaded successfully. A verifier will review it for attestation.",credit_received:"Carbon credits have been allocated to your business account.",default:"Business operation completed successfully."},individual:{document_upload:"Document uploaded successfully. A verifier will review it for attestation.",credit_received:"Carbon credits have been allocated to your account.",default:"Operation completed successfully."},guest:{registration:"Account created successfully. You can now upload documents and track credits.",login:"Logged in successfully. Welcome to the carbon credit platform.",default:"Welcome! Create an account to access all features."}},error:{verifier:{permission_error:"Ensure you are using the verifier dashboard and have proper permissions.",blockchain_error:"Check your wallet connection and ensure you have sufficient gas fees.",default:"If this continues, check your verifier permissions and wallet connection."},business:{upload_error:"Check your document format and size. Business documents should include project details.",permission_error:"Business users can upload documents but cannot perform verifications.",default:"Ensure your business account is properly configured and try again."},individual:{upload_error:"Check your document format and size. Ensure all required project information is included.",permission_error:"Individual users can upload documents but cannot perform verifications.",default:"Check your account settings and document requirements."},guest:{auth_error:"Please create an account or log in to access this feature.",default:"Create an account to access the full carbon credit platform."}},warning:{verifier:{default:"Review the warning and ensure all verifier requirements are met."},business:{default:"Review the warning and ensure your business documentation is complete."},individual:{default:"Review the warning and ensure your document meets all requirements."},guest:{default:"Consider creating an account for full access to platform features."}}}[e]||{},a=s[r]||s.guest||{};return a[n]||a.default}documentUploadSuccess(e,r){const n={verifier:`Document "${e}" uploaded. It's now available in your verifier dashboard.`,business:`Business document "${e}" uploaded successfully and submitted for verification.`,individual:`Document "${e}" uploaded successfully and submitted for verification.`,guest:"Document uploaded. Please create an account to track its verification status."},i=n[r]||n.individual;return this.success(i,{icon:"📄",roleSpecific:!0,operation:"document_upload",duration:6e3})}documentUploadError(e,r){const n={verifier:"Document upload failed. Verifiers typically review documents rather than upload them.",business:"Business document upload failed. Please check your file format and project details.",individual:"Document upload failed. Please check your file format and project information.",guest:"Upload failed. Create an account to upload and track documents."},s=`${n[r]||n.individual}

Error: ${e}`;return this.error(s,{icon:"📄❌",roleSpecific:!0,operation:"upload_error",duration:8e3})}documentAttestationSuccess(e,r){const n={verifier:`Document "${e}" attested successfully. You can now mint carbon credits.`,business:`Your business document "${e}" has been attested and is ready for minting.`,individual:`Your document "${e}" has been attested and is ready for minting.`,guest:"Document attested. Create an account to track your document status."},i=n[r]||n.individual;return this.success(i,{icon:"✅",roleSpecific:!0,operation:"attestation",duration:7e3})}creditMintingSuccess(e,r,n){const i={verifier:`Successfully minted ${e} carbon credits for "${n}". Credits allocated to document uploader.`,business:`${e} carbon credits have been minted for your business project "${n}".`,individual:`${e} carbon credits have been minted for your project "${n}".`,guest:`${e} carbon credits minted. Create an account to track your credits.`},s=i[r]||i.individual;return this.success(s,{icon:"🪙",roleSpecific:!0,operation:"minting",duration:8e3})}permissionError(e,r){const n={verifier:`Verifier permission required for ${e}. Ensure you're using the correct interface.`,business:`Business users cannot ${e}. This action requires verifier privileges.`,individual:`Individual users cannot ${e}. This action requires verifier privileges.`,guest:`Please log in to ${e}. Create an account for full access.`},i=n[r]||n.guest;return this.error(i,{icon:"🚫",roleSpecific:!0,operation:"permission_error",duration:6e3})}transactionPending(e,r){const n={verifier:`Verifier ${e} transaction submitted. Please wait for blockchain confirmation.`,business:`Business ${e} transaction submitted. Please wait for confirmation.`,individual:`Your ${e} transaction submitted. Please wait for confirmation.`,guest:"Transaction submitted. Create an account to track transaction status."},i=n[r]||n.individual;return this.loading(i,{icon:"⛓️",id:`transaction-${e}`})}transactionSuccess(e,r,n){const i={verifier:`Verifier ${e} completed successfully on blockchain.`,business:`Business ${e} completed successfully.`,individual:`Your ${e} completed successfully.`,guest:`${e} completed. Create an account to track future transactions.`},s=i[r]||i.individual;return te.dismiss(`transaction-${e}`),this.success(s,{icon:"⛓️✅",roleSpecific:!0,operation:"blockchain_success",duration:7e3})}transactionError(e,r,n){const i={verifier:`Verifier ${e} failed. Check your wallet connection and gas fees.`,business:`Business ${e} failed. Please try again.`,individual:`Your ${e} failed. Please try again.`,guest:`${e} failed. Create an account for better transaction support.`},a=`${i[n]||i.individual}

Error: ${r}`;return te.dismiss(`transaction-${e}`),this.error(a,{icon:"⛓️❌",roleSpecific:!0,operation:"blockchain_error",duration:8e3})}welcomeMessage(e,r){const n={verifier:`Welcome back, ${r}! You have verifier privileges to review documents and mint credits.`,business:`Welcome back, ${r}! Upload your business project documents for verification.`,individual:`Welcome back, ${r}! Upload your project documents to earn carbon credits.`,guest:"Welcome! Create an account to upload documents and earn carbon credits."},i=n[e]||n.guest;return this.info(i,{icon:"👋",roleSpecific:!0,operation:"login",duration:5e3})}custom(e,r={}){const n=ue.getCurrentUser(),i=(n==null?void 0:n.accountType)||"guest";return te.custom(s=>o.jsx(aY,{toast:s,content:e,userRole:i,...r}),{duration:r.duration||this.defaultDuration,position:r.position||this.position,...r})}dismiss(e){return te.dismiss(e)}dismissAll(){return te.dismiss()}}function aY({toast:t,content:e,userRole:r,type:n="info",icon:i=null}){const s=f=>{const h={verifier:"from-indigo-500 to-purple-600",business:"from-blue-500 to-cyan-600",individual:"from-green-500 to-emerald-600",guest:"from-gray-500 to-gray-600"};return h[f]||h.guest},a=f=>({verifier:Tt,business:ac,individual:Ft,guest:Ft})[f]||Ft,l=f=>({success:ze,error:Tl,warning:Ve,info:xn,loading:He})[f]||xn,c=a(r),u=l(n),d=s(r);return o.jsxs(I.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},className:`max-w-md w-full bg-white shadow-lg rounded-lg pointer-events-auto flex ring-1 ring-black ring-opacity-5 ${t.visible?"animate-enter":"animate-leave"}`,children:[o.jsx("div",{className:`w-2 bg-gradient-to-b ${d} rounded-l-lg`}),o.jsx("div",{className:"flex-1 p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center bg-gradient-to-r ${d}`,children:o.jsx(u,{className:"w-4 h-4 text-white"})}),o.jsx("div",{className:"w-6 h-6 text-gray-400",children:o.jsx(c,{})})]}),o.jsxs("div",{className:"ml-3 flex-1",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:e}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1 capitalize",children:[r," Account"]})]}),o.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:o.jsxs("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>te.dismiss(t.id),children:[o.jsx("span",{className:"sr-only",children:"Close"}),o.jsx(Tl,{className:"h-5 w-5"})]})})]})})]})}const Ue=new sY;class oY{constructor(){this.defaultConfig={maxRetries:3,baseDelay:1e3,maxDelay:1e4,backoffFactor:2,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","SERVER_ERROR","RATE_LIMITED","BLOCKCHAIN_CONGESTION"]}}async executeWithRetry(e,r={}){const n={...this.defaultConfig,...r};let i;for(let s=0;s<=n.maxRetries;s++)try{const a=await e();return s>0&&te.success(`Operation succeeded after ${s} retries`),a}catch(a){if(i=a,!this.isRetryableError(a,n.retryableErrors))throw a;if(s===n.maxRetries)break;const c=Math.min(n.baseDelay*Math.pow(n.backoffFactor,s),n.maxDelay)+Math.random()*1e3;te.loading(`Retrying operation... (${s+1}/${n.maxRetries})`,{duration:c}),await this.delay(c)}throw Nt.handleError(i,{context:"retry_service",maxRetriesExceeded:!0,totalAttempts:n.maxRetries+1}),i}isRetryableError(e,r){return r.includes(e.type)?!0:e.status?[408,429,500,502,503,504].includes(e.status):e.code?["NETWORK_ERROR","TIMEOUT","SERVER_ERROR","REPLACEMENT_UNDERPRICED","NONCE_EXPIRED"].includes(e.code):[/network error/i,/timeout/i,/rate limit/i,/congestion/i,/temporary/i].some(i=>i.test(e.message||""))}delay(e){return new Promise(r=>setTimeout(r,e))}async retryBlockchainTransaction(e,r={}){const n={...this.defaultConfig,maxRetries:5,gasMultiplier:1.1,...r};let i=r.initialGasPrice;const s=async()=>{try{return await e(i)}catch(a){throw this.isGasRelatedError(a)&&(i=i?Math.floor(i*n.gasMultiplier):void 0),a}};return this.executeWithRetry(s,n)}isGasRelatedError(e){return[/gas/i,/underpriced/i,/insufficient funds/i,/out of gas/i].some(n=>n.test(e.message||""))}async executeWithCircuitBreaker(e,r,n={}){const i={failureThreshold:5,resetTimeout:6e4,...n};this.circuitStates||(this.circuitStates=new Map);const s=this.circuitStates.get(e)||{failures:0,lastFailure:null,state:"CLOSED"};if(s.state==="OPEN"){if(Date.now()-s.lastFailure<i.resetTimeout)throw new Error(`Circuit breaker is OPEN for ${e}`);s.state="HALF_OPEN"}try{const a=await this.executeWithRetry(r,n);return s.failures=0,s.state="CLOSED",this.circuitStates.set(e,s),a}catch(a){throw s.failures++,s.lastFailure=Date.now(),s.failures>=i.failureThreshold&&(s.state="OPEN",te.error(`Circuit breaker opened for ${e}`)),this.circuitStates.set(e,s),a}}}const x0=new oY,oS=[{inputs:[{internalType:"address",name:"_verifierRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"verifier",type:"address"}],name:"MintedWithAttestation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"ATTESTATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"attestations",outputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"verifier",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithAttestation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"verifierRegistry",outputs:[{internalType:"contract IVerifierRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"}],$a=[{inputs:[{internalType:"address",name:"_carbon",type:"address"},{internalType:"address",name:"_cert",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Bought",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"listingId",type:"uint256"},{indexed:!1,internalType:"address",name:"seller",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"Listed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"certId",type:"uint256"}],name:"Retired",type:"event"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"listingId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"buy",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"carbon",outputs:[{internalType:"contract CarbonCredit",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cert",outputs:[{internalType:"contract RetirementCertificate",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"feesAccrued",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"pricePerUnit",type:"uint256"}],name:"list",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"listings",outputs:[{internalType:"address",name:"seller",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"pricePerUnit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextListingId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"metadataURI",type:"string"}],name:"retire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawFees",outputs:[],stateMutability:"nonpayable",type:"function"}],Wb=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fromTokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_toTokenId",type:"uint256"}],name:"BatchMetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"MetadataUpdate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"metadataURI",type:"string"}],name:"mintCertificate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],$p=[{inputs:[{internalType:"address",name:"_governanceExecutor",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"verifier",type:"address"}],name:"VerifierAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"verifier",type:"address"}],name:"VerifierRemoved",type:"event"},{inputs:[{internalType:"address",name:"verifier",type:"address"}],name:"addVerifier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"governanceExecutor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"isVerifier",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"verifier",type:"address"}],name:"removeVerifier",outputs:[],stateMutability:"nonpayable",type:"function"}];class lY{constructor(){this.provider=null,this.signer=null,this.contracts={},this.isInitialized=!1}async initialize(){try{if(!window.ethereum)throw new Error("Please install MetaMask to use this application");this.provider=new st(window.ethereum);const e=await this.provider.getNetwork(),r=BigInt("11155111");e.chainId!==r&&await this.switchToSepoliaNetwork(),await this.initializeContracts(),this.isInitialized=!0,console.log("Blockchain service initialized successfully")}catch(e){throw console.error("Failed to initialize blockchain service:",e),e}}async switchToSepoliaNetwork(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0xaa36a7"}]})}catch(e){if(e.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0xaa36a7",chainName:"Sepolia Test Network",nativeCurrency:{name:"SepoliaETH",symbol:"ETH",decimals:18},rpcUrls:["https://eth-sepolia.g.alchemy.com/v2/vwQ5RS0603U_kfZB5C_fw"],blockExplorerUrls:["https://sepolia.etherscan.io/"]}]});else throw e}}async initializeContracts(){const e={carbon:"0xe74f9e14F5858a92eD59ECF21866afc42101a45E",marketplace:"0x076d107Ca3757C37e63cC894F2F75E068B975A97",retirementCert:"0x898c8C590223d697d0226B1F68D4abCC04a66e6F",verifierRegistry:"0xD009D4EA4B9f546261433a75A32353a60d750200",documentRegistry:void 0};if(!Object.values(e).some(n=>n&&n!=="0x0000000000000000000000000000000000000000")){console.warn("Smart contract addresses not configured. Please deploy contracts and update .env file.");return}try{e.carbon&&e.carbon!=="0x0000000000000000000000000000000000000000"&&(this.contracts.carbon=new Ce(e.carbon,oS,this.provider)),e.marketplace&&e.marketplace!=="0x0000000000000000000000000000000000000000"&&(this.contracts.marketplace=new Ce(e.marketplace,$a,this.provider)),e.retirementCert&&e.retirementCert!=="0x0000000000000000000000000000000000000000"&&(this.contracts.retirementCert=new Ce(e.retirementCert,Wb,this.provider)),e.verifierRegistry&&e.verifierRegistry!=="0x0000000000000000000000000000000000000000"&&(this.contracts.verifierRegistry=new Ce(e.verifierRegistry,$p,this.provider)),e.documentRegistry&&e.documentRegistry}catch(n){console.error("Error initializing contracts:",n)}}async connectWallet(){try{if(this.isInitialized||await this.initialize(),(await window.ethereum.request({method:"eth_requestAccounts"})).length===0)throw new Error("No accounts found");this.signer=await this.provider.getSigner();const r=await this.signer.getAddress();return await this.initializeContractsWithSigner(),{address:r,provider:this.provider,signer:this.signer}}catch(e){throw console.error("Failed to connect wallet:",e),e}}async initializeContractsWithSigner(){if(!this.signer)return;const e={carbon:"0xe74f9e14F5858a92eD59ECF21866afc42101a45E",marketplace:"0x076d107Ca3757C37e63cC894F2F75E068B975A97",retirementCert:"0x898c8C590223d697d0226B1F68D4abCC04a66e6F",verifierRegistry:"0xD009D4EA4B9f546261433a75A32353a60d750200",documentRegistry:void 0};try{e.carbon&&e.carbon!=="0x0000000000000000000000000000000000000000"&&(this.contracts.carbonSigner=new Ce(e.carbon,oS,this.signer)),e.marketplace&&e.marketplace!=="0x0000000000000000000000000000000000000000"&&(this.contracts.marketplaceSigner=new Ce(e.marketplace,$a,this.signer)),e.retirementCert&&e.retirementCert!=="0x0000000000000000000000000000000000000000"&&(this.contracts.retirementCertSigner=new Ce(e.retirementCert,Wb,this.signer)),e.verifierRegistry&&e.verifierRegistry!=="0x0000000000000000000000000000000000000000"&&(this.contracts.verifierRegistrySigner=new Ce(e.verifierRegistry,$p,this.signer)),e.documentRegistry&&e.documentRegistry}catch(r){console.error("Error initializing contracts with signer:",r)}}async getTokenBalance(e,r){try{if(!this.contracts.carbon)throw new Error("Carbon contract not initialized");const n=await this.contracts.carbon.balanceOf(e,r);return Number(n.toString())}catch(n){return console.error("Error getting token balance:",n),0}}async getUserTokens(e){try{if(!this.contracts.carbon)return[];const r=await this.contracts.carbon.nextTokenId(),n=[];for(let i=1;i<Number(r);i++){const s=await this.getTokenBalance(e,i);if(s>0){const a=await this.contracts.carbon.uri(i);n.push({tokenId:i,balance:s,uri:a,metadata:null})}}return n}catch(r){return console.error("Error getting user tokens:",r),[]}}async mintCarbonCredits(e){try{if(!this.contracts.carbonSigner)throw new Error("Carbon contract with signer not initialized");const{recipient:r,gsProjectId:n,gsSerial:i,vintage:s,quantity:a,ipfsHash:l,nonce:c,signature:u}=e;console.log("🪙 Minting carbon credits:",{recipient:r,gsProjectId:n,gsSerial:i,ipfsHash:l,quantity:a.toString()});const d=Ue.transactionPending("credit minting","verifier");try{const f=await x0.retryBlockchainTransaction(h=>this.contracts.carbonSigner.mintWithAttestation(n,i,l,BigInt(a),r,u,h?{gasPrice:h}:{}),{maxRetries:3,initialGasPrice:null});return console.log("⛓️ Minting transaction submitted:",f.hash),Ue.transactionSuccess("credit minting","verifier",f.hash),{hash:f.hash,transaction:f}}catch(f){throw Ue.transactionError("credit minting",f.message,"verifier"),Nt.handleBlockchainError(f,"credit_minting",{recipient:r,gsProjectId:n,quantity:a.toString(),retryAction:()=>this.mintCarbonCredits(e)})}}catch(r){throw console.error("Error minting carbon credits:",r),r}}async mintCarbonCreditsWithDocumentTracking(e,r,n=null){try{console.log("🪙 Minting carbon credits with document tracking:",{documentId:r,recipient:e.recipient,quantity:e.quantity});const i=await this.mintCarbonCredits(e),s=await i.transaction.wait();let a=null;try{for(const c of s.logs)try{const u=this.contracts.carbon.interface.parseLog(c);if(u.name==="TransferSingle"&&u.args.to===e.recipient){a=Number(u.args.id);break}}catch{continue}}catch(c){console.warn("Could not extract token ID from events:",c)}const l={...i,receipt:s,tokenId:a,documentId:r,recipient:e.recipient,amount:e.quantity};if(n)try{const{default:c}=await i5(async()=>{const{default:d}=await Promise.resolve().then(()=>Zde);return{default:d}},void 0);console.log("💰 Processing automatic credit allocation...");const u=await c.processAutomaticAllocation(l,n);l.allocation=u,console.log("✅ Automatic credit allocation completed successfully")}catch(c){console.error("⚠️ Credit allocation failed, but minting was successful:",c),l.allocationError=c.message}return l}catch(i){throw console.error("Error minting carbon credits with document tracking:",i),i}}async getMarketplaceListings(){try{if(!this.contracts.marketplace)return[];const e=await this.contracts.marketplace.nextListingId(),r=[],n=Number(e);for(let i=1;i<=n;i++)try{const s=await this.contracts.marketplace.listings(i);Number(s.amount)>0&&r.push({id:i,seller:s.seller,tokenId:Number(s.tokenId),amount:Number(s.amount),pricePerToken:Number(a0(s.pricePerUnit)),active:!0})}catch{continue}return r}catch(e){return console.error("Error getting marketplace listings:",e),[]}}async listCarbonCredits(e,r,n){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");await(await this.contracts.carbonSigner.setApprovalForAll("0x076d107Ca3757C37e63cC894F2F75E068B975A97",!0)).wait();const s=await this.contracts.marketplaceSigner.list(e,r,fb(n.toString()));return{hash:s.hash,transaction:s}}catch(i){throw console.error("Error listing carbon credits:",i),i}}async buyCarbonCredits(e,r){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");const n=await this.contracts.marketplace.listings(e),i=BigInt(n.pricePerUnit)*BigInt(r);console.log("🛒 Buying tokens:",{listingId:e,amount:r,pricePerUnit:n.pricePerUnit.toString(),totalCost:i.toString()});const s=await this.contracts.marketplaceSigner.buy(e,r,{value:i,gasLimit:5e5});return{hash:s.hash,transaction:s}}catch(n){throw console.error("Error buying carbon credits:",n),n}}async retireCarbonCredits(e,r,n){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");const{beneficiary:i,retirementMessage:s,ipfsHash:a}=n,l=await this.contracts.marketplaceSigner.retire(e,r,i||"",s||"",a||"");return{hash:l.hash,transaction:l}}catch(i){throw console.error("Error retiring carbon credits:",i),i}}async getRetirementCertificates(e){try{if(!this.contracts.retirementCert)return[];const r=await this.contracts.retirementCert.balanceOf(e),n=[];for(let i=0;i<Number(r);i++)try{const s=await this.contracts.retirementCert.tokenOfOwnerByIndex(e,i),a=await this.contracts.retirementCert.tokenURI(s);n.push({tokenId:Number(s),uri:a})}catch{continue}return n}catch(r){return console.error("Error getting retirement certificates:",r),[]}}isConfigured(){return["0xe74f9e14F5858a92eD59ECF21866afc42101a45E","0x076d107Ca3757C37e63cC894F2F75E068B975A97"].some(r=>r&&r!=="0x0000000000000000000000000000000000000000")}async getNetwork(){return this.provider?await this.provider.getNetwork():null}formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:""}async takeDownListing(e){try{if(!this.contracts.marketplaceSigner)throw new Error("Marketplace contract with signer not initialized");const r=await this.contracts.marketplace.listings(e),n=Number(r.amount),i=BigInt(r.pricePerUnit)*BigInt(n);console.log("🗑️ Taking down listing:",{listingId:e,fullAmount:n,pricePerUnit:r.pricePerUnit.toString(),totalCost:i.toString()});const s=await this.contracts.marketplaceSigner.buy(e,n,{value:i,gasLimit:5e5});return{hash:s.hash,transaction:s}}catch(r){throw console.error("Error taking down listing:",r),r}}async waitForTransaction(e,r=1){if(!this.provider)throw new Error("Provider not initialized");return await this.provider.waitForTransaction(e,r)}async registerDocument(e){try{if(!this.contracts.documentRegistrySigner)throw new Error("DocumentRegistry contract with signer not initialized. Please ensure the contract is deployed and configured.");const{cid:r,projectName:n,projectType:i,description:s,location:a,estimatedCredits:l}=e;if(!r||!n)throw new Error("CID and project name are required");console.log("📄 Registering document:",{cid:r,projectName:n,projectType:i||"",description:s||"",location:a||"",estimatedCredits:l||0});const c=await this.contracts.documentRegistrySigner.registerDocument(r,n,i||"",s||"",a||"",BigInt(l||0)),u=await c.wait();let d=null;for(const f of u.logs)try{const h=this.contracts.documentRegistry.interface.parseLog(f);if(h.name==="DocumentRegistered"){d=Number(h.args.documentId);break}}catch{continue}return{hash:c.hash,transaction:c,receipt:u,documentId:d}}catch(r){throw console.error("Error registering document:",r),r.message.includes("EmptyCID")?new Error("Document CID cannot be empty"):r.message.includes("EmptyProjectName")?new Error("Project name cannot be empty"):r.message.includes("not initialized")?r:new Error(`Failed to register document: ${r.message}`)}}async getAllDocuments(){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),[];console.log("📋 Fetching all documents from registry...");const r=(await this.contracts.documentRegistry.getAllDocuments()).map((n,i)=>({id:i+1,cid:n.cid,uploader:n.uploader,projectName:n.projectName,projectType:n.projectType,description:n.description,location:n.location,estimatedCredits:Number(n.estimatedCredits),timestamp:Number(n.timestamp),isAttested:n.isAttested,verifier:n.verifier,attestedAt:Number(n.attestedAt),uploadedAt:new Date(Number(n.timestamp)*1e3).toISOString(),attestedAtFormatted:n.attestedAt>0?new Date(Number(n.attestedAt)*1e3).toISOString():null}));return console.log(`📋 Retrieved ${r.length} documents`),r}catch(e){if(console.error("Error getting all documents:",e),e.message.includes("not initialized"))return[];throw new Error(`Failed to fetch documents: ${e.message}`)}}async getUserDocuments(e){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),[];if(!e)throw new Error("User address is required");console.log(`📋 Fetching documents for user: ${e}`);const n=(await this.contracts.documentRegistry.getUserDocumentsWithDetails(e)).map((i,s)=>({cid:i.cid,uploader:i.uploader,projectName:i.projectName,projectType:i.projectType,description:i.description,location:i.location,estimatedCredits:Number(i.estimatedCredits),timestamp:Number(i.timestamp),isAttested:i.isAttested,verifier:i.verifier,attestedAt:Number(i.attestedAt),uploadedAt:new Date(Number(i.timestamp)*1e3).toISOString(),attestedAtFormatted:i.attestedAt>0?new Date(Number(i.attestedAt)*1e3).toISOString():null}));return console.log(`📋 Retrieved ${n.length} documents for user`),n}catch(r){if(console.error("Error getting user documents:",r),r.message.includes("not initialized"))return[];throw new Error(`Failed to fetch user documents: ${r.message}`)}}async getDocumentsByStatus(e=!1){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),[];console.log(`📋 Fetching ${e?"attested":"unattested"} documents...`);const n=(await this.contracts.documentRegistry.getDocumentsByStatus(e)).map((i,s)=>({cid:i.cid,uploader:i.uploader,projectName:i.projectName,projectType:i.projectType,description:i.description,location:i.location,estimatedCredits:Number(i.estimatedCredits),timestamp:Number(i.timestamp),isAttested:i.isAttested,verifier:i.verifier,attestedAt:Number(i.attestedAt),uploadedAt:new Date(Number(i.timestamp)*1e3).toISOString(),attestedAtFormatted:i.attestedAt>0?new Date(Number(i.attestedAt)*1e3).toISOString():null}));return console.log(`📋 Retrieved ${n.length} ${e?"attested":"unattested"} documents`),n}catch(r){if(console.error("Error getting documents by status:",r),r.message.includes("not initialized"))return[];throw new Error(`Failed to fetch documents by status: ${r.message}`)}}async getSigner(){try{return this.signer||await this.connectWallet(),this.signer}catch(e){throw console.error("Error getting signer:",e),new Error("Failed to get wallet signer")}}async getNonce(e){try{if(!this.contracts.carbon)throw new Error("Carbon contract not initialized");const r=await this.contracts.carbon.nonces(e);return Number(r)}catch(r){return console.error("Error getting nonce:",r),0}}getContractAddress(e){var n,i,s,a,l,c,u,d;return{carbonCredit:((n=this.contracts.carbon)==null?void 0:n.target)||((i=this.contracts.carbon)==null?void 0:i.address),documentRegistry:((s=this.contracts.documentRegistry)==null?void 0:s.target)||((a=this.contracts.documentRegistry)==null?void 0:a.address),verifierRegistry:((l=this.contracts.verifierRegistry)==null?void 0:l.target)||((c=this.contracts.verifierRegistry)==null?void 0:c.address),marketplace:((u=this.contracts.marketplace)==null?void 0:u.target)||((d=this.contracts.marketplace)==null?void 0:d.address)}[e]||null}async attestDocument(e){try{if(!this.contracts.documentRegistrySigner)throw new Error("DocumentRegistry contract with signer not initialized. Please ensure the contract is deployed and configured.");if(!e||e<=0)throw new Error("Valid document ID is required");console.log(`✅ Attesting document ID: ${e}`);const r=await this.contracts.documentRegistrySigner.attestDocument(e);return{hash:r.hash,transaction:r}}catch(r){throw console.error("Error attesting document:",r),r.message.includes("NotVerifier")?new Error("Only registered verifiers can attest documents"):r.message.includes("DocumentNotFound")?new Error("Document not found"):r.message.includes("DocumentAlreadyAttested")?new Error("Document has already been attested"):r.message.includes("not initialized")?r:new Error(`Failed to attest document: ${r.message}`)}}async getDocument(e){try{if(!this.contracts.documentRegistry)throw new Error("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured.");if(!e||e<=0)throw new Error("Valid document ID is required");console.log(`📄 Fetching document ID: ${e}`);const r=await this.contracts.documentRegistry.getDocument(e);return{id:e,cid:r.cid,uploader:r.uploader,projectName:r.projectName,projectType:r.projectType,description:r.description,location:r.location,estimatedCredits:Number(r.estimatedCredits),timestamp:Number(r.timestamp),isAttested:r.isAttested,verifier:r.verifier,attestedAt:Number(r.attestedAt),uploadedAt:new Date(Number(r.timestamp)*1e3).toISOString(),attestedAtFormatted:r.attestedAt>0?new Date(Number(r.attestedAt)*1e3).toISOString():null}}catch(r){throw console.error("Error getting document:",r),r.message.includes("DocumentNotFound")?new Error("Document not found"):r.message.includes("not initialized")?r:new Error(`Failed to fetch document: ${r.message}`)}}async getTotalDocuments(){try{if(!this.contracts.documentRegistry)return console.warn("DocumentRegistry contract not initialized. Please ensure the contract is deployed and configured."),0;const e=await this.contracts.documentRegistry.getTotalDocuments();return Number(e)}catch(e){if(console.error("Error getting total documents:",e),e.message.includes("not initialized"))return 0;throw new Error(`Failed to get total documents: ${e.message}`)}}isDocumentRegistryAvailable(){return!1}}const de=new lY,wx={individual:["upload_document","view_own_documents","view_credits"],business:["upload_document","view_own_documents","view_credits"],verifier:["view_all_documents","attest_document","mint_credits","view_verifier_dashboard"]},jx=["individual","business","verifier"];class cY{constructor(){this.isAuthenticated=!1,this.currentUser=null,this.users=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_users");if(e){const r=JSON.parse(e);this.users=new Map(r)}}catch(e){console.error("Failed to load users from storage:",e),this.users=new Map}}saveToStorage(){try{const e=Array.from(this.users.entries());localStorage.setItem("cblock_users",JSON.stringify(e))}catch(e){console.error("Failed to save users to storage:",e)}}hashPassword(e){let r=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);r=(r<<5)-r+i,r=r&r}return r.toString()}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}validatePassword(e){return e.length<6?{valid:!1,message:"Password must be at least 6 characters long"}:{valid:!0}}async register(e){const{firstName:r,lastName:n,email:i,password:s,confirmPassword:a,organization:l,accountType:c,walletAddress:u}=e;if(!r||!n||!i||!s)throw new Error("Please fill in all required fields");if(!this.validateEmail(i))throw new Error("Please enter a valid email address");if(s!==a)throw new Error("Passwords do not match");const d=this.validatePassword(s);if(!d.valid)throw new Error(d.message);const f=this.validateAccountType(c);if(!f.valid)throw new Error(f.message);if(this.users.has(i))throw new Error("An account with this email already exists");const h={id:Date.now().toString(),name:`${r} ${n}`,firstName:r,lastName:n,email:i,organization:l||"",accountType:f.accountType,walletAddress:u||"",passwordHash:this.hashPassword(s),createdAt:new Date().toISOString(),isVerified:!1,profile:{avatar:null,bio:"",location:"",website:""}};this.users.set(i,h),this.saveToStorage();const{passwordHash:m,...g}=h;return g}async login(e,r){if(!e||!r)throw new Error("Please enter both email and password");if(!this.validateEmail(e))throw new Error("Please enter a valid email address");const n=this.users.get(e);if(!n)throw new Error("Invalid email or password");const i=this.hashPassword(r);if(n.passwordHash!==i)throw new Error("Invalid email or password");n.lastLogin=new Date().toISOString(),this.users.set(e,n),this.saveToStorage(),this.currentUser=n,this.isAuthenticated=!0;const{passwordHash:s,...a}=n;return a}logout(){this.currentUser=null,this.isAuthenticated=!1,localStorage.removeItem("cblock_user_session")}getCurrentUser(){if(!this.currentUser)return null;const{passwordHash:e,...r}=this.currentUser;return r}isUserAuthenticated(){return this.isAuthenticated&&this.currentUser!==null}getUserRole(){return this.currentUser?this.currentUser.accountType||"individual":null}hasPermission(e){var n;const r=this.getUserRole();return r&&((n=wx[r])==null?void 0:n.includes(e))||!1}isVerifier(){return this.getUserRole()==="verifier"}validateAccountType(e){return e?jx.includes(e)?{valid:!0,accountType:e}:{valid:!1,message:`Invalid account type. Must be one of: ${jx.join(", ")}`}:{valid:!0,accountType:"individual"}}getAvailableAccountTypes(){return[...jx]}getRolePermissions(e){return wx[e]||[]}getAllRolePermissions(){return{...wx}}async updateProfile(e){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");const r=this.users.get(this.currentUser.email);if(!r)throw new Error("User not found");if(e.accountType!==void 0){const a=this.validateAccountType(e.accountType);if(!a.valid)throw new Error(a.message);r.accountType=a.accountType}["firstName","lastName","organization","walletAddress"].forEach(a=>{e[a]!==void 0&&(r[a]=e[a])}),e.profile&&(r.profile={...r.profile,...e.profile}),r.updatedAt=new Date().toISOString(),(e.firstName||e.lastName)&&(r.name=`${r.firstName} ${r.lastName}`),this.users.set(r.email,r),this.saveToStorage(),this.currentUser=r;const{passwordHash:i,...s}=r;return s}async changePassword(e,r){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");const n=this.users.get(this.currentUser.email);if(!n)throw new Error("User not found");const i=this.hashPassword(e);if(n.passwordHash!==i)throw new Error("Current password is incorrect");const s=this.validatePassword(r);if(!s.valid)throw new Error(s.message);return n.passwordHash=this.hashPassword(r),n.updatedAt=new Date().toISOString(),this.users.set(n.email,n),this.saveToStorage(),{success:!0}}async connectWallet(){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");try{const e=await de.connectWallet();return await this.updateProfile({walletAddress:e.address}),e}catch(e){throw console.error("Failed to connect wallet:",e),e}}async getUserStats(e){var r;if(!e&&((r=this.currentUser)!=null&&r.walletAddress)&&(e=this.currentUser.walletAddress),!e)return{totalTokens:0,totalValue:0,retiredTokens:0,certificatesCount:0};try{const n=await de.getUserTokens(e),i=await de.getRetirementCertificates(e),s=n.reduce((c,u)=>c+u.balance,0),a=s*35,l=Math.floor(s*.1);return{totalTokens:s,totalValue:a,retiredTokens:l,certificatesCount:i.length,tokens:n,certificates:i}}catch(n){return console.error("Error getting user stats:",n),{totalTokens:0,totalValue:0,retiredTokens:0,certificatesCount:0,tokens:[],certificates:[]}}}async resetPassword(e){if(!this.validateEmail(e))throw new Error("Please enter a valid email address");const r=this.users.get(e);if(!r)throw new Error("No account found with this email address");const n=Math.random().toString(36).slice(-8);return r.passwordHash=this.hashPassword(n),r.updatedAt=new Date().toISOString(),this.users.set(e,r),this.saveToStorage(),{success:!0,message:"Password reset successful",tempPassword:n}}getAllUsers(){return Array.from(this.users.values()).map(r=>{const{passwordHash:n,...i}=r;return i})}async deleteAccount(e){if(!this.isAuthenticated||!this.currentUser)throw new Error("User not authenticated");const r=this.users.get(this.currentUser.email);if(!r)throw new Error("User not found");const n=this.hashPassword(e);if(r.passwordHash!==n)throw new Error("Password is incorrect");return this.users.delete(this.currentUser.email),this.saveToStorage(),this.logout(),{success:!0}}hasConnectedWallet(){var e;return((e=this.currentUser)==null?void 0:e.walletAddress)&&this.currentUser.walletAddress!==""}initializeSession(){try{const e=localStorage.getItem("cblock_user_session");if(e){const r=JSON.parse(e),n=this.users.get(r.email);if(n)return this.currentUser=n,this.isAuthenticated=!0,this.getCurrentUser();{const i={id:r.id,name:r.name||`${r.firstName} ${r.lastName}`,firstName:r.firstName,lastName:r.lastName,email:r.email,organization:r.organization||"",accountType:r.accountType||"individual",walletAddress:r.walletAddress||"",passwordHash:"",createdAt:new Date().toISOString(),isVerified:!0,profile:{avatar:null,bio:"",location:"",website:""}};return this.users.set(r.email,i),this.currentUser=i,this.isAuthenticated=!0,this.saveToStorage(),this.getCurrentUser()}}}catch(e){console.error("Failed to initialize session:",e)}return null}saveSession(){if(this.currentUser){const e={email:this.currentUser.email,name:`${this.currentUser.firstName} ${this.currentUser.lastName}`,firstName:this.currentUser.firstName,lastName:this.currentUser.lastName,organization:this.currentUser.organization,accountType:this.currentUser.accountType,walletAddress:this.currentUser.walletAddress,id:this.currentUser.id,timestamp:Date.now()};localStorage.setItem("cblock_user_session",JSON.stringify(e))}}}const ue=new cY,_O=p.createContext(),BO=()=>p.useContext(_O),uY=({children:t})=>{const[e,r]=p.useState([]);p.useEffect(()=>{const s=localStorage.getItem("notifications");if(s)try{r(JSON.parse(s))}catch{console.error("Failed to parse notifications from localStorage")}},[]),p.useEffect(()=>{localStorage.setItem("notifications",JSON.stringify(e))},[e]);const n=s=>{const a={id:Date.now().toString(),...s,timestamp:new Date().toISOString()};r(l=>[a,...l])},i=s=>{r(a=>a.filter(l=>l.id!==s))};return o.jsx(_O.Provider,{value:{notifications:e,addNotification:n,removeNotification:i},children:t})},Vm=({message:t="Access Denied",userRole:e=null,attemptedPage:r=null,requiredRoles:n=[],requiredPermissions:i=[],showLoginButton:s=!1,isRedirecting:a=!1,onLogin:l=null,onNavigate:c=null})=>{const u=()=>{l?l():window.location.reload()},d=()=>{c?c("dashboard"):window.history.back()},f=g=>({verifierDashboard:"Verifier Dashboard",mintCredits:"Upload Documents",mint:"Mint Credits",tokens:"My Tokens",portfolio:"Portfolio",market:"Marketplace",retire:"Retire Credits",analytics:"Analytics",settings:"Settings"})[g]||g,h=g=>({individual:"Individual User",business:"Business User",verifier:"Verifier"})[g]||g,m=g=>({upload_document:"Upload Documents",view_own_documents:"View Own Documents",view_credits:"View Credits",view_all_documents:"View All Documents",attest_document:"Attest Documents",mint_credits:"Mint Credits",view_verifier_dashboard:"Access Verifier Dashboard"})[g]||g;return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-carbon-50 via-white to-primary-50 p-4",children:o.jsx(I.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.4,ease:"easeOut"},className:"max-w-md w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-carbon-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:o.jsx(nd,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Access Restricted"}),o.jsx("p",{className:"text-red-100 text-sm",children:"Insufficient permissions"})]})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(I.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Ve,{className:"w-8 h-8 text-red-600"})}),o.jsx("h2",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-carbon-600 text-sm leading-relaxed",children:r?`You don't have permission to access ${f(r)}.`:t}),a&&o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 p-3 bg-blue-50 rounded-lg",children:o.jsx("p",{className:"text-blue-700 text-sm",children:"Redirecting you to an appropriate page..."})})]}),e&&o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-carbon-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Ft,{className:"w-4 h-4 text-carbon-500"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Your Role"})]}),o.jsx("p",{className:"text-sm text-carbon-600",children:h(e)})]}),n.length>0&&o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Tt,{className:"w-4 h-4 text-blue-500"}),o.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Required Roles"})]}),o.jsx("div",{className:"space-y-1",children:n.map((g,y)=>o.jsxs("p",{className:"text-sm text-blue-600",children:["• ",h(g)]},y))})]}),i.length>0&&o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-purple-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Tt,{className:"w-4 h-4 text-purple-500"}),o.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Required Permissions"})]}),o.jsx("div",{className:"space-y-1",children:i.map((g,y)=>o.jsxs("p",{className:"text-sm text-purple-600",children:["• ",m(g)]},y))})]}),o.jsxs("div",{className:"space-y-3",children:[s&&o.jsxs(I.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2",children:[o.jsx("span",{children:"Login to Continue"}),o.jsx(Hl,{className:"w-4 h-4"})]}),!a&&o.jsx(I.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s?.7:.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"w-full bg-carbon-100 hover:bg-carbon-200 text-carbon-700 font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Go to Dashboard"})]}),o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center",children:o.jsx("p",{className:"text-xs text-carbon-500",children:"Need help? Contact your administrator to request access."})})]})]})})})},yc=({allowedRoles:t=[],requiredPermissions:e=[],children:r,user:n=null,fallbackMessage:i=null,fallback:s=null,requireAuthentication:a=!0})=>{const l=n||ue.getCurrentUser();if(a&&!ue.isUserAuthenticated())return s||o.jsx(Vm,{message:i||"Please log in to access this content",showLoginButton:!0});if(t.length===0&&e.length===0)return r;if(t.length>0){const c=(l==null?void 0:l.accountType)||"individual";if(!t.includes(c))return s||o.jsx(Vm,{message:i||`Access denied. This content requires one of the following roles: ${t.join(", ")}`,userRole:c,requiredRoles:t})}if(e.length>0&&!e.every(u=>ue.hasPermission(u))){const u=(l==null?void 0:l.accountType)||"individual";return s||o.jsx(Vm,{message:i||"Access denied. You don't have the required permissions for this content.",userRole:u,requiredPermissions:e})}return o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:r})},$r={UPLOAD_DOCUMENT:"upload_document",VIEW_CREDITS:"view_credits",VIEW_ALL_DOCUMENTS:"view_all_documents",VIEW_VERIFIER_DASHBOARD:"view_verifier_dashboard"},le={INDIVIDUAL:"individual",BUSINESS:"business",VERIFIER:"verifier"},dY={dashboard:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[]},tokens:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[$r.VIEW_CREDITS]},mint:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS],requiredPermissions:[$r.UPLOAD_DOCUMENT]},mintCredits:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS],requiredPermissions:[$r.UPLOAD_DOCUMENT]},verifierDashboard:{allowedRoles:[le.VERIFIER],requiredPermissions:[$r.VIEW_VERIFIER_DASHBOARD,$r.VIEW_ALL_DOCUMENTS]},market:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[]},retire:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[$r.VIEW_CREDITS]},analytics:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[]},settings:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[]},portfolio:{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[$r.VIEW_CREDITS]}},fY=(t,e=null)=>{const r=e||ue.getCurrentUser(),n=dY[t];if(!n)return!0;if(!ue.isUserAuthenticated())return!1;const i=(r==null?void 0:r.accountType)||le.INDIVIDUAL;return n.allowedRoles.length>0&&!n.allowedRoles.includes(i)?!1:n.requiredPermissions.length>0?n.requiredPermissions.every(s=>ue.hasPermission(s)):!0},hY=(t,e=null)=>ue.hasPermission(t),mY=(t,e=null)=>t.every(r=>hY(r,e)),FO=(t,e=null)=>{const r=e||ue.getCurrentUser();return((r==null?void 0:r.accountType)||le.INDIVIDUAL)===t},pY=(t,e=null)=>t.some(r=>FO(r,e)),co=(t=null)=>{const e=t||ue.getCurrentUser();return(e==null?void 0:e.accountType)||le.INDIVIDUAL},gY=(t=null)=>{const e=co(t);return ue.getRolePermissions(e)},zm=(t=null)=>FO(le.VERIFIER,t),yY=(t=null)=>{switch(co(t)){case le.VERIFIER:return"verifierDashboard";case le.INDIVIDUAL:case le.BUSINESS:return"dashboard";default:return"dashboard"}},xY=(t,e=null)=>t.filter(r=>!r.allowedRoles&&!r.requiredPermissions?!0:!(r.allowedRoles&&r.allowedRoles.length>0&&!pY(r.allowedRoles,e)||r.requiredPermissions&&r.requiredPermissions.length>0&&!mY(r.requiredPermissions,e))),Hm=t=>({[le.INDIVIDUAL]:"Individual User",[le.BUSINESS]:"Business User",[le.VERIFIER]:"Verifier"})[t]||t,UO=(t=null)=>{const e=t||ue.getCurrentUser(),r=co(e),n=p.useCallback(f=>fY(f,e),[e]),i=p.useCallback((f,h,m=null)=>{n(f)?h(f):m?m(f,r):console.warn(`Access denied to page: ${f} for role: ${r}`)},[n,r]),s=p.useCallback(()=>yY(e),[e]),a=p.useCallback(f=>xY(f,e),[e]),l=p.useCallback((f,h)=>{if(zm(e)&&(f==="mint"||f==="mintCredits"))return h("verifierDashboard"),!0;if(!zm(e)&&f==="verifierDashboard")return h("dashboard"),!0;if(!n(f)){const m=s();return h(m),!0}return!1},[e,n,s]),c=p.useMemo(()=>a([{name:"Dashboard",href:"dashboard",icon:"HomeIcon",description:"Overview of your portfolio",allowedRoles:["individual","business","verifier"]},{name:"My Tokens",href:"tokens",icon:"WalletIcon",description:"View your carbon credits",allowedRoles:["individual","business","verifier"],requiredPermissions:["view_credits"]},{name:"Upload Documents",href:"mintCredits",icon:"PlusCircleIcon",description:"Upload documents for verification",allowedRoles:["individual","business"],requiredPermissions:["upload_document"]},{name:"Verifier Dashboard",href:"verifierDashboard",icon:"ShieldCheckIcon",description:"Review and verify documents",allowedRoles:["verifier"],requiredPermissions:["view_verifier_dashboard"]},{name:"Marketplace",href:"market",icon:"ShoppingBagIcon",description:"Buy and sell credits",allowedRoles:["individual","business","verifier"]},{name:"Retire Credits",href:"retire",icon:"ArrowRightOnRectangleIcon",description:"Retire credits for impact",allowedRoles:["individual","business","verifier"],requiredPermissions:["view_credits"]},{name:"Analytics",href:"analytics",icon:"ChartBarIcon",description:"Market insights and trends",allowedRoles:["individual","business","verifier"]}]),[a]),u=p.useCallback(()=>{switch(r){case"verifier":return{title:"Welcome to your Verifier Dashboard",description:"Review and verify documents submitted by users to mint carbon credits.",primaryAction:"View Documents",primaryActionPage:"verifierDashboard"};case"business":return{title:"Welcome to CBlock Business",description:"Upload your business documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"mintCredits"};case"individual":default:return{title:"Welcome to CBlock",description:"Upload your environmental impact documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"mintCredits"}}},[r]),d=p.useCallback(f=>!n(f),[n]);return{userRole:r,currentUser:e,checkPageAccess:n,canAccessPage:n,navigateWithAccessControl:i,getLandingPage:s,getFilteredNavigation:a,getRoleBasedNavigation:c,handleRoleBasedRedirect:l,shouldRedirectFromCurrentPage:d,getRoleWelcomeMessage:u,isVerifier:zm(e),isIndividual:r==="individual",isBusiness:r==="business"}};function vY({user:t,showPermissions:e=!1,compact:r=!1}){const n=co(t),i=gY(t),s=Hm(n),a=()=>{switch(n){case"individual":return Ft;case"business":return ac;case"verifier":return Tt;default:return Ft}},l=()=>{switch(n){case"individual":return"text-blue-600 bg-blue-50 border-blue-200";case"business":return"text-purple-600 bg-purple-50 border-purple-200";case"verifier":return"text-green-600 bg-green-50 border-green-200";default:return"text-carbon-600 bg-carbon-50 border-carbon-200"}},c=a();return r?o.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium border ${l()}`,title:`Role: ${s}`,children:[o.jsx(c,{className:"w-3 h-3 mr-1"}),s]}):o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`p-3 rounded-lg border ${l()}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(c,{className:"w-5 h-5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-sm",children:"Current Role"}),o.jsx("p",{className:"text-xs opacity-80",children:s})]}),e&&o.jsx("button",{className:"p-1 hover:bg-black/5 rounded transition-colors",title:"View permissions",children:o.jsx(xn,{className:"w-4 h-4"})})]}),e&&i.length>0&&o.jsxs(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3 pt-3 border-t border-current/20",children:[o.jsx("h5",{className:"text-xs font-medium mb-2",children:"Permissions:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:i.map(u=>o.jsx("span",{className:"text-xs px-2 py-1 bg-black/10 rounded-full",children:u.replace(/_/g," ").toLowerCase()},u))})]})]})}function bY({user:t,className:e=""}){return o.jsx(vY,{user:t,compact:!0,className:e})}function wY({user:t,onNavigate:e}){const r=co(t),i=(()=>{switch(r){case"verifier":return{title:"Welcome to your Verifier Dashboard",description:"Review and verify documents submitted by users to mint carbon credits.",primaryAction:"View Documents",primaryActionPage:"verifierDashboard",icon:Tt,gradient:"from-green-500 to-emerald-600"};case"business":return{title:"Welcome to CBlock Business",description:"Upload your business documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"mintCredits",icon:ac,gradient:"from-purple-500 to-indigo-600"};case"individual":default:return{title:"Welcome to CBlock",description:"Upload your environmental impact documents for verification and carbon credit minting.",primaryAction:"Upload Documents",primaryActionPage:"mintCredits",icon:Ft,gradient:"from-blue-500 to-cyan-600"}}})(),s=i.icon;return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-carbon-200",children:[o.jsx("div",{className:`w-16 h-16 mx-auto mb-4 bg-gradient-to-r ${i.gradient} rounded-2xl flex items-center justify-center`,children:o.jsx(s,{className:"w-8 h-8 text-white"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-2",children:i.title}),o.jsx("p",{className:"text-carbon-600 mb-6 max-w-md mx-auto",children:i.description}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e&&e(i.primaryActionPage),className:`inline-flex items-center px-6 py-3 bg-gradient-to-r ${i.gradient} text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200`,children:[o.jsx(s,{className:"w-5 h-5 mr-2"}),i.primaryAction]})]})}function jY({user:t,onNavigate:e}){const r=co(t),i=(()=>{switch(r){case"verifier":return[{title:"Review Documents",description:"View and verify submitted documents",icon:Tt,action:"verifierDashboard",color:"from-green-500 to-emerald-600"},{title:"Analytics",description:"View verification statistics",icon:mn,action:"analytics",color:"from-blue-500 to-indigo-600"},{title:"My Tokens",description:"View your carbon credits",icon:rx,action:"tokens",color:"from-purple-500 to-pink-600"}];case"business":return[{title:"Upload Documents",description:"Submit business documents for verification",icon:GA,action:"mintCredits",color:"from-purple-500 to-indigo-600"},{title:"Portfolio",description:"View your carbon credit portfolio",icon:mn,action:"portfolio",color:"from-blue-500 to-cyan-600"},{title:"Marketplace",description:"Buy and sell carbon credits",icon:rx,action:"market",color:"from-green-500 to-teal-600"}];case"individual":default:return[{title:"Upload Documents",description:"Submit your environmental impact documents",icon:GA,action:"mintCredits",color:"from-blue-500 to-cyan-600"},{title:"My Tokens",description:"View your earned carbon credits",icon:rx,action:"tokens",color:"from-green-500 to-emerald-600"},{title:"Portfolio",description:"Track your environmental impact",icon:mn,action:"portfolio",color:"from-purple-500 to-pink-600"}]}})();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-carbon-50 via-white to-primary-50 p-4 sm:p-8",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:o.jsx(wY,{user:t,onNavigate:e})}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900 mb-6 text-center",children:"Quick Actions"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map((s,a)=>{const l=s.icon;return o.jsxs(I.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+a*.1},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>e&&e(s.action),className:"p-6 bg-white rounded-2xl shadow-lg border border-carbon-200 hover:shadow-xl transition-all duration-200 text-left group",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${s.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-200`,children:o.jsx(l,{className:"w-6 h-6 text-white"})}),o.jsx("h4",{className:"text-lg font-semibold text-carbon-900 mb-2 group-hover:text-primary-700 transition-colors",children:s.title}),o.jsx("p",{className:"text-carbon-600 text-sm mb-4",children:s.description}),o.jsxs("div",{className:"flex items-center text-primary-600 text-sm font-medium group-hover:text-primary-700 transition-colors",children:["Get Started",o.jsx(Hl,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]},s.action)})})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-lg border border-carbon-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-4",children:r==="verifier"?"Verifier Tips":"Getting Started Tips"}),o.jsx("div",{className:"space-y-3",children:r==="verifier"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Review documents carefully and verify all required information before attestation."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Use the dashboard filters to efficiently manage large volumes of documents."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Credits are automatically allocated to document uploaders after successful minting."})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Ensure your documents are clear and contain all required project information."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Credits will be automatically allocated to your account after verification."})]}),o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),o.jsx("p",{className:"text-carbon-700 text-sm",children:"Track your document status and credit balance in your portfolio."})]})]})})]})]})})}function NY({user:t,currentPage:e,onPageChange:r,children:n,showLandingPage:i=!1}){const[s,a]=p.useState(!1),[l,c]=p.useState(!1),{checkPageAccess:u,handleRoleBasedRedirect:d,getLandingPage:f,userRole:h}=UO(t);return p.useEffect(()=>{if(!t||!e)return;if(u(e))c(!1),a(!1);else{c(!0);const g=setTimeout(()=>{a(!0);const y=f();setTimeout(()=>{r(y),c(!1),a(!1)},1e3)},2e3);return()=>clearTimeout(g)}},[e,t,u,f,r]),p.useEffect(()=>{t&&e&&d(e,r)&&console.log(`User redirected from ${e} due to role restrictions`)},[e,t,d,r]),i?o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(jY,{user:t,onNavigate:r})},"landing-page"):l?o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsx(Vm,{userRole:h,attemptedPage:e,isRedirecting:s,onNavigate:r})},"access-denied"):o.jsx(Bt,{mode:"wait",children:o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n},e)})}class ii extends Nd.Component{constructor(r){super(r);U(this,"handleRetry",()=>{this.setState(r=>({hasError:!1,error:null,errorInfo:null,retryCount:r.retryCount+1}))});U(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null,retryCount:0}}static getDerivedStateFromError(r){return{hasError:!0}}componentDidCatch(r,n){const i=ue.getCurrentUser(),s=(i==null?void 0:i.accountType)||"guest",a={component:this.props.componentName||"Unknown",userRole:s,errorBoundary:!0,props:this.props.context||{},componentStack:n.componentStack};Nt.handleError(r,a,{showToast:!1,logError:!0}),this.setState({error:r,errorInfo:n,hasError:!0})}render(){if(this.state.hasError){const r=ue.getCurrentUser(),n=(r==null?void 0:r.accountType)||"guest";return o.jsx(AY,{error:this.state.error,errorInfo:this.state.errorInfo,userRole:n,componentName:this.props.componentName,onRetry:this.handleRetry,onGoHome:this.handleGoHome,retryCount:this.state.retryCount,maxRetries:this.props.maxRetries||3})}return this.props.children}}function AY({error:t,errorInfo:e,userRole:r,componentName:n,onRetry:i,onGoHome:s,retryCount:a,maxRetries:l}){const c=h=>({verifier:Tt,business:ac,individual:Ft,guest:Ft})[h]||Ft,d=((h,m)=>{const g={verifier:{title:"Verifier Dashboard Error",description:"There was an issue with the verifier interface. This may affect document review and attestation functions.",suggestions:["Try refreshing the page to reload the verifier dashboard","Check if your wallet is properly connected","Ensure you have the necessary verifier permissions","Contact system administrator if the issue persists"]},business:{title:"Business Account Error",description:"There was an issue with the business user interface. This may affect document uploads and project management.",suggestions:["Try refreshing the page to reload your business dashboard","Check your internet connection","Ensure your business account is properly configured","Try uploading documents again after refresh"]},individual:{title:"Individual Account Error",description:"There was an issue with the individual user interface. This may affect document uploads and credit tracking.",suggestions:["Try refreshing the page to reload your dashboard","Check your internet connection","Ensure your account is properly set up","Try uploading documents again after refresh"]},guest:{title:"Application Error",description:"There was an issue loading the application. Please try logging in or creating an account.",suggestions:["Try refreshing the page","Create an account or log in to access full features","Check your internet connection","Contact support if the issue continues"]}};return g[h]||g.guest})(r),f=c(r);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 flex items-center justify-center p-4",children:o.jsxs(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl border border-red-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:o.jsx(Ve,{className:"w-7 h-7 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:d.title}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx(f,{className:"w-4 h-4 text-white/80"}),o.jsxs("span",{className:"text-white/80 text-sm capitalize",children:[r," Account"]})]})]})]})}),o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{children:o.jsx("p",{className:"text-gray-700 leading-relaxed",children:d.description})}),o.jsxs("details",{className:"bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("summary",{className:"px-4 py-3 cursor-pointer text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Technical Details (Click to expand)"}),o.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Component:"}),o.jsx("code",{className:"ml-2 text-xs bg-gray-100 px-2 py-1 rounded font-mono",children:n||"Unknown"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Error:"}),o.jsx("code",{className:"ml-2 text-xs bg-red-50 px-2 py-1 rounded font-mono text-red-700",children:(t==null?void 0:t.message)||"Unknown error"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Retry Count:"}),o.jsxs("span",{className:"ml-2 text-xs text-gray-600",children:[a," / ",l]})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"What you can try:"}),o.jsx("ul",{className:"space-y-2",children:d.suggestions.map((h,m)=>o.jsxs("li",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("span",{className:"text-xs font-medium text-blue-600",children:m+1})}),o.jsx("span",{className:"text-gray-700 text-sm",children:h})]},m))})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200",children:[a<l&&o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"flex-1 inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-lg",children:[o.jsx(He,{className:"w-5 h-5"}),o.jsx("span",{children:"Try Again"})]}),o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:"flex-1 inline-flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white font-semibold rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-lg",children:[o.jsx(rd,{className:"w-5 h-5"}),o.jsx("span",{children:"Go to Home"})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-5 h-5 text-blue-600 mt-0.5",children:"ℹ️"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Need more help?"}),o.jsxs("p",{className:"text-blue-700",children:["If this error continues to occur, please take a screenshot and contact our support team. Include your account type (",r,") and what you were trying to do when the error occurred."]})]})]})})]})})]})})}function EY({size:t="medium",message:e="Loading...",userRole:r=null,operation:n=null,showProgress:i=!1,progress:s=0}){const a={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12"},c=r&&n?((u,d)=>{const f={verifier:{document_review:"Loading documents for verification...",attestation:"Processing document attestation...",minting:"Minting carbon credits...",dashboard:"Loading verifier dashboard...",default:"Loading verifier interface..."},business:{document_upload:"Uploading business project document...",dashboard:"Loading business dashboard...",portfolio:"Loading project portfolio...",default:"Loading business interface..."},individual:{document_upload:"Uploading project document...",dashboard:"Loading your dashboard...",portfolio:"Loading your documents...",default:"Loading your interface..."},guest:{login:"Signing you in...",registration:"Creating your account...",default:"Loading application..."}},h=f[u]||f.guest;return h[d]||h.default||e})(r,n):e;return o.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center space-y-3",children:[o.jsx(I.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`${a[t]} text-primary-500`,children:o.jsx(He,{})}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:c}),i&&o.jsxs("div",{className:"mt-2 w-48",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[Math.round(s),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx(I.div,{className:"bg-primary-500 h-2 rounded-full",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3}})})]})]})]})}function SY({stage:t="preparing",progress:e=0,fileName:r="",userRole:n="individual"}){const i={preparing:{icon:Ui,title:"Preparing Upload",description:"Validating document and metadata..."},uploading:{icon:Om,title:"Uploading to IPFS",description:`Storing ${r} on decentralized network...`},registering:{icon:ze,title:"Registering Document",description:"Recording document on blockchain..."},completing:{icon:ze,title:"Finalizing",description:"Completing document submission..."}},s=i[t]||i.preparing,a=s.icon,l=c=>{const u={individual:"Your document is being submitted for verification by authorized verifiers.",business:"Your business project document is being submitted for verification.",verifier:"Document is being processed in the verification system."};return u[c]||u.individual};return o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 p-6 max-w-md mx-auto",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(I.div,{animate:{scale:[1,1.1,1],rotate:t==="uploading"?[0,360]:0},transition:{duration:t==="uploading"?2:1.5,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto",children:o.jsx(a,{className:"w-8 h-8 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s.title}),o.jsx("p",{className:"text-sm text-gray-600",children:s.description})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[Math.round(e),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx(I.div,{className:"bg-primary-500 h-2 rounded-full",initial:{width:0},animate:{width:`${e}%`},transition:{duration:.5}})})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-xs text-blue-700",children:["💡 ",l(n)]})})]})})}function kY({userRole:t="individual"}){const e=s=>({verifier:Tt,business:ac,individual:Ft,guest:Ft})[s]||Ft,r=s=>{const a={verifier:{title:"Loading Verifier Dashboard",items:["Fetching pending documents...","Loading attestation tools...","Checking verifier permissions...","Initializing minting interface..."]},business:{title:"Loading Business Dashboard",items:["Loading your projects...","Fetching document status...","Calculating credit estimates...","Preparing upload interface..."]},individual:{title:"Loading Your Dashboard",items:["Loading your documents...","Checking credit balance...","Fetching verification status...","Preparing project interface..."]},guest:{title:"Loading Application",items:["Initializing interface...","Loading authentication...","Preparing registration...","Setting up features..."]}};return a[s]||a.guest},n=e(t),i=r(t);return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 max-w-md w-full",children:o.jsxs("div",{className:"text-center space-y-6",children:[o.jsx(I.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto",children:o.jsx(n,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:i.title}),o.jsxs("p",{className:"text-sm text-gray-600 capitalize",children:[t," Account"]})]}),o.jsx("div",{className:"space-y-3",children:i.items.map((s,a)=>o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:a*.2},className:"flex items-center space-x-3 text-left",children:[o.jsx(I.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear",delay:a*.1},className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full"}),o.jsx("span",{className:"text-sm text-gray-700",children:s})]},a))}),o.jsx("div",{className:"flex justify-center space-x-2",children:[0,1,2,3].map(s=>o.jsx(I.div,{animate:{scale:[1,1.5,1],opacity:[.3,1,.3]},transition:{duration:1.2,repeat:1/0,delay:s*.15},className:"w-2 h-2 bg-blue-500 rounded-full"},s))})]})})})}function $O({show:t=!1,message:e="Loading...",userRole:r=null,operation:n=null,transparent:i=!1}){return o.jsx(Bt,{children:t&&o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center ${i?"bg-black/20":"bg-white/80"} backdrop-blur-sm`,children:o.jsx(EY,{size:"large",message:e,userRole:r,operation:n})})})}function PY({address:t,onConnect:e}){const[r,n]=p.useState(!1),[i,s]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(null);p.useEffect(()=>{t&&window.ethereum&&d()},[t]);const d=async()=>{try{const m=new st(window.ethereum),g=await m.getBalance(t),y=await m.getNetwork();s(a0(g)),l(y.name)}catch(m){console.error("Error fetching wallet info:",m)}},f=async()=>{if(!window.ethereum){u("MetaMask not found. Please install MetaMask.");return}n(!0),u(null);try{await window.ethereum.request({method:"eth_requestAccounts"});const y=await(await new st(window.ethereum).getSigner()).getAddress();e(y)}catch(m){console.error("Connection error:",m),u(m.message||"Failed to connect wallet")}finally{n(!1)}},h=m=>m?`${m.slice(0,6)}...${m.slice(-4)}`:"";return t?o.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-primary-50 rounded-xl p-4 border border-primary-200",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(ze,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"text-sm font-semibold text-primary-900",children:"Connected"}),a&&o.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-primary-200 text-primary-800 rounded-full",children:a})]}),o.jsx("p",{className:"text-xs text-primary-700 font-mono",children:h(t)}),i&&o.jsxs("p",{className:"text-xs text-primary-600",children:[parseFloat(i).toFixed(4)," ETH"]})]})]})}):o.jsxs("div",{className:"space-y-3",children:[c&&o.jsxs(I.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center space-x-2 text-red-600 text-sm bg-red-50 rounded-lg p-3",children:[o.jsx(Ve,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:c})]}),o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f,disabled:r,className:"w-full flex items-center justify-center space-x-2 bg-primary-600 text-white rounded-xl py-3 px-4 font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[o.jsx(Ot,{className:"w-5 h-5"}),o.jsx("span",{children:r?"Connecting...":"Connect Wallet"})]}),o.jsx("p",{className:"text-xs text-carbon-500 text-center",children:"Connect your MetaMask wallet to get started"})]})}function CY({user:t,onClick:e}){const{notifications:r}=BO();if(!t||t.accountType!=="verifier")return null;const n=r.length;return o.jsxs("button",{onClick:e,className:"relative p-2 rounded-lg hover:bg-carbon-100 transition-colors",children:[o.jsx(nz,{className:"w-6 h-6 text-carbon-600"}),n>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:n>9?"9+":n})]})}function TY({items:t=[],onNavigate:e,className:r=""}){return!t||t.length===0?null:o.jsx(I.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`flex items-center space-x-2 text-sm ${r}`,"aria-label":"Breadcrumb",children:o.jsx("ol",{className:"flex items-center space-x-2",children:t.map((n,i)=>{const s=i===t.length-1,a=i===0;return o.jsxs("li",{className:"flex items-center",children:[i>0&&o.jsx(H8,{className:"w-4 h-4 text-carbon-400 mx-2"}),s?o.jsxs("span",{className:"text-carbon-900 font-medium flex items-center",children:[a&&n.icon==="home"&&o.jsx(rd,{className:"w-4 h-4 mr-1"}),n.label]}):o.jsxs("button",{onClick:()=>e&&e(n.href),className:"text-carbon-600 hover:text-carbon-900 transition-colors flex items-center hover:underline",children:[a&&n.icon==="home"&&o.jsx(rd,{className:"w-4 h-4 mr-1"}),n.label]})]},n.href||i)})})})}const OY=(t,e)=>(()=>{const n=[{label:"Dashboard",href:"dashboard",icon:"home"}];switch(t){case"verifierDashboard":return[...n,{label:"Verifier Dashboard",href:"verifierDashboard"}];case"mintCredits":return e==="verifier"?[...n,{label:"Verifier Dashboard",href:"verifierDashboard"},{label:"Upload Documents",href:"mintCredits"}]:[...n,{label:"Upload Documents",href:"mintCredits"}];case"tokens":return[...n,{label:"My Tokens",href:"tokens"}];case"portfolio":return[...n,{label:"Portfolio",href:"portfolio"}];case"market":return[...n,{label:"Marketplace",href:"market"}];case"retire":return[...n,{label:"Retire Credits",href:"retire"}];case"analytics":return[...n,{label:"Analytics",href:"analytics"}];case"settings":return[...n,{label:"Settings",href:"settings"}];default:return n}})(),VO={HomeIcon:rd,PlusCircleIcon:As,ShoppingBagIcon:ji,ArrowRightOnRectangleIcon:z8,WalletIcon:Ot,ChartBarIcon:mn,ShieldCheckIcon:Tt};function IY({children:t,currentPage:e,onPageChange:r,walletAddress:n,onConnectWallet:i,user:s,onLogout:a}){var w,x;const[l,c]=p.useState(!1),{getRoleBasedNavigation:u,navigateWithAccessControl:d,handleRoleBasedRedirect:f,userRole:h}=UO(s),m=OY(e,h),g=u;p.useEffect(()=>{s&&e&&f(e,r)&&console.log(`User redirected from ${e} due to role restrictions`)},[e,s,f,r]);const y=v=>{d(v,r,(b,j)=>{console.warn(`Access denied to ${b} for role ${j}`)})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-carbon-50 via-white to-primary-50",children:[o.jsx(Bt,{mode:"wait",children:l&&o.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 lg:hidden",children:[o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-carbon-900/80 backdrop-blur-sm",onClick:()=>c(!1)},"mobile-sidebar-backdrop"),o.jsxs(I.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-72 bg-white shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-carbon-200",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"🌱"})}),o.jsx("h1",{className:"text-xl font-bold gradient-text",children:"CBlock"})]}),o.jsx("button",{onClick:()=>c(!1),className:"p-2 rounded-lg hover:bg-carbon-100 transition-colors",children:o.jsx(n5,{className:"w-6 h-6 text-carbon-600"})})]}),o.jsx(DY,{navigation:g,currentPage:e,onPageChange:r,handleNavigation:y,onClose:()=>c(!1)})]},"mobile-sidebar-content")]},"mobile-sidebar")}),o.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-40 lg:w-72 lg:flex lg:flex-col",children:o.jsxs("div",{className:"flex flex-col flex-1 bg-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center px-6 py-6 border-b border-carbon-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"🌱"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"CBlock"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Carbon Marketplace"})]})]}),o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:g.map(v=>{const b=e===v.href;return o.jsxs(I.button,{whileHover:{x:4},whileTap:{scale:.98},onClick:()=>y(v.href),className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 group ${b?"bg-primary-50 text-primary-700 ring-1 ring-primary-200":"text-carbon-700 hover:bg-carbon-50 hover:text-carbon-900"}`,children:[Nd.createElement(VO[v.icon]||rd,{className:`w-6 h-6 mr-3 transition-colors ${b?"text-primary-600":"text-carbon-500 group-hover:text-carbon-700"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",children:v.name}),o.jsx("div",{className:"text-xs opacity-70",children:v.description})]})]},v.name)})}),o.jsxs("div",{className:"p-4 border-t border-carbon-200 space-y-3",children:[s&&o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-carbon-50 rounded-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-white font-semibold text-sm",children:((w=s.name)==null?void 0:w.charAt(0).toUpperCase())||((x=s.email)==null?void 0:x.charAt(0).toUpperCase())})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-semibold text-carbon-900 truncate",children:s.name||"User"}),o.jsx("p",{className:"text-xs text-carbon-600 truncate",children:s.email}),o.jsx(bY,{user:s})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>r("settings"),className:"p-1.5 text-carbon-400 hover:text-carbon-600 transition-colors",title:"Settings",children:o.jsx(wz,{className:"w-4 h-4"})}),o.jsx("button",{onClick:a,className:"p-1.5 text-carbon-400 hover:text-carbon-600 transition-colors",title:"Logout",children:o.jsx(z8,{className:"w-4 h-4"})})]})]}),o.jsx(PY,{address:n,onConnect:i})]})]})}),o.jsxs("div",{className:"lg:pl-72",children:[o.jsxs("div",{className:"sticky top-0 z-30 flex items-center justify-between px-4 py-3 bg-white/80 backdrop-blur-sm border-b border-carbon-200 lg:hidden",children:[o.jsx("button",{onClick:()=>c(!0),className:"p-2 rounded-lg hover:bg-carbon-100 transition-colors",children:o.jsx(ZV,{className:"w-6 h-6 text-carbon-600"})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold",children:"🌱"})}),o.jsx("h1",{className:"text-lg font-bold gradient-text",children:"CBlock"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(CY,{user:s,onClick:()=>r("mint")}),o.jsx("div",{className:"w-2"})," "]})]}),o.jsxs("main",{className:"flex-1",children:[m.length>1&&o.jsx("div",{className:"bg-white border-b border-carbon-200 px-4 py-3 lg:px-8",children:o.jsx(TY,{items:m,onNavigate:y,className:"max-w-7xl mx-auto"})}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"min-h-screen",children:t},e)]})]})]})}function DY({navigation:t,currentPage:e,onPageChange:r,onClose:n,handleNavigation:i}){return o.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:t.map(s=>{const a=e===s.href;return o.jsxs(I.button,{whileTap:{scale:.98},onClick:()=>{i(s.href),n()},className:`w-full flex items-center px-4 py-3 rounded-xl text-left transition-all duration-200 ${a?"bg-primary-50 text-primary-700 ring-1 ring-primary-200":"text-carbon-700 hover:bg-carbon-50 hover:text-carbon-900"}`,children:[Nd.createElement(VO[s.icon]||rd,{className:`w-6 h-6 mr-3 transition-colors ${a?"text-primary-600":"text-carbon-500"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold",children:s.name}),o.jsx("div",{className:"text-xs opacity-70",children:s.description})]})]},s.name)})})}function RY({onShowAuth:t}){const e=[{icon:Tt,title:"Verified Credits",description:"All carbon credits are verified by accredited organizations with blockchain transparency"},{icon:s0,title:"Global Impact",description:"Connect with environmental projects worldwide and track your climate impact"},{icon:so,title:"Secure Trading",description:"Trade carbon credits securely with smart contracts and instant settlements"},{icon:mn,title:"Real-time Analytics",description:"Monitor market trends, price movements, and your portfolio performance"}],r=[{number:"10M+",label:"CO₂ Tons Offset"},{number:"500+",label:"Verified Projects"},{number:"50K+",label:"Active Users"},{number:"99.9%",label:"Uptime"}],[n,i]=p.useState("hero");return p.useEffect(()=>{const s=()=>{const a=["hero","features","testimonials","pricing","cta"],l=window.scrollY+100;a.forEach(c=>{const u=document.getElementById(c);if(u){const{offsetTop:d,offsetHeight:f}=u;l>=d&&l<d+f&&i(c)}})};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-cyan-50 overflow-hidden",children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-6 bg-white/80 backdrop-blur-md border-b border-primary-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"🌱"})}),o.jsx("span",{className:"text-2xl font-bold gradient-text",children:"CBlock"})]}),o.jsxs(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"hidden md:flex items-center space-x-8",children:[o.jsx("a",{href:"#features",className:"text-carbon-600 hover:text-primary-600 transition-colors",children:"Features"}),o.jsx("a",{href:"#testimonials",className:"text-carbon-600 hover:text-primary-600 transition-colors",children:"Testimonials"}),o.jsx("a",{href:"#pricing",className:"text-carbon-600 hover:text-primary-600 transition-colors",children:"Pricing"}),o.jsx("button",{onClick:()=>t("login"),className:"text-carbon-700 hover:text-primary-600 transition-colors font-medium",children:"Sign In"}),o.jsx("button",{onClick:()=>t("signup"),className:"btn-primary",children:"Get Started"})]})]})}),o.jsxs("section",{id:"hero",className:"relative pt-20",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-gradient-to-br from-primary-400/20 to-cyan-400/20 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-tr from-cyan-400/20 to-primary-400/20 rounded-full blur-3xl animate-pulse delay-1000"}),o.jsx("div",{className:"absolute top-20 left-10 opacity-20",children:o.jsx(I.div,{animate:{y:[-10,10,-10],rotate:[0,5,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"text-6xl",children:"🌍"})}),o.jsx("div",{className:"absolute top-40 right-20 opacity-30",children:o.jsx(I.div,{animate:{y:[10,-10,10],rotate:[0,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:1},className:"text-4xl",children:"♻️"})}),o.jsx("div",{className:"absolute bottom-40 left-1/4 opacity-25",children:o.jsx(I.div,{animate:{y:[-15,15,-15],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2},className:"text-5xl",children:"🌿"})})]}),o.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-32",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{className:"text-center lg:text-left",children:[o.jsxs(I.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsx(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1},className:"inline-flex items-center px-4 py-2 mb-6 bg-gradient-to-r from-primary-500/10 to-cyan-500/10 border border-primary-200 rounded-full text-primary-700 text-sm font-medium",children:"🚀 Powered by Ethereum & IPFS"}),o.jsxs("h1",{className:"text-6xl lg:text-7xl font-bold text-carbon-900 leading-tight mb-6",children:["The Future of",o.jsx("span",{className:"gradient-text block",children:"Carbon Trading"})]}),o.jsx("p",{className:"text-xl lg:text-2xl text-carbon-600 mb-8 max-w-2xl leading-relaxed",children:"Trade verified carbon credits on the world's most transparent blockchain-powered marketplace. Make a real impact on climate change while building your sustainable portfolio."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex items-center space-x-2 p-3 bg-white/50 rounded-lg backdrop-blur-sm",children:[o.jsx(vt,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Blockchain Verified"})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center space-x-2 p-3 bg-white/50 rounded-lg backdrop-blur-sm",children:[o.jsx(vt,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Zero Fees"})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex items-center space-x-2 p-3 bg-white/50 rounded-lg backdrop-blur-sm",children:[o.jsx(vt,{className:"w-5 h-5 text-primary-600"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Global Impact"})]})]})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-12",children:[o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"btn-primary text-lg px-8 py-4 flex items-center justify-center group",children:["Start Trading",o.jsx(Hl,{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.open("/assets/CBlock.mp4","_blank"),className:"btn-secondary text-lg px-8 py-4 flex items-center justify-center group",children:[o.jsx(tH,{className:"w-5 h-5 mr-2"}),"Watch Demo"]})]}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((s,a)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-carbon-900",children:s.number}),o.jsx("div",{className:"text-sm text-carbon-600",children:s.label})]},a))})]}),o.jsx(I.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.3},className:"relative",children:o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 transform rotate-2 hover:rotate-0 transition-transform duration-500",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm",children:"🌱"})}),o.jsx("span",{className:"font-semibold text-carbon-900",children:"Portfolio Overview"})]}),o.jsx("div",{className:"text-sm text-carbon-500",children:"Live"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-4 text-white",children:[o.jsx("div",{className:"text-2xl font-bold",children:"1,250"}),o.jsx("div",{className:"text-primary-100",children:"Credits Owned"})]}),o.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 to-cyan-600 rounded-lg p-4 text-white",children:[o.jsx("div",{className:"text-2xl font-bold",children:"$43,750"}),o.jsx("div",{className:"text-cyan-100",children:"Portfolio Value"})]})]}),o.jsx("div",{className:"h-20 bg-gradient-to-r from-primary-50 to-cyan-50 rounded-lg flex items-end justify-between p-3",children:[40,65,45,80,60,90,75].map((s,a)=>o.jsx("div",{className:"bg-gradient-to-t from-primary-500 to-cyan-500 rounded-sm w-4 transition-all duration-500 hover:scale-110",style:{height:`${s}%`}},a))})]}),o.jsx(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8},className:"absolute -top-6 -right-6 bg-white rounded-xl shadow-lg p-4 border border-primary-100",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Market Active"})]})}),o.jsx(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1},className:"absolute -bottom-6 -left-6 bg-white rounded-xl shadow-lg p-4 border border-cyan-100",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hH,{className:"w-4 h-4 text-cyan-500"}),o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"2.4k Online"})]})})]})})]})})]}),o.jsxs("section",{id:"features",className:"py-24 bg-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-carbon-900 mb-4",children:"Why Choose CBlock?"}),o.jsx("p",{className:"text-xl text-carbon-600 max-w-3xl mx-auto",children:"Join thousands of organizations and individuals making a real difference in the fight against climate change."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((s,a)=>o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:a*.1,duration:.6},className:"text-center group",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx(s.icon,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-carbon-900 mb-3",children:s.title}),o.jsx("p",{className:"text-carbon-600",children:s.description})]},a))})]})]}),o.jsx("section",{id:"testimonials",className:"py-24 bg-gradient-to-br from-carbon-50 to-primary-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-carbon-900 mb-4",children:"Trusted by Climate Leaders"}),o.jsx("p",{className:"text-xl text-carbon-600 max-w-3xl mx-auto",children:"Join organizations making a measurable impact on global climate action."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{quote:"CBlock has revolutionized how we approach carbon offsetting. The transparency and verification process gives us complete confidence.",author:"Sarah Chen",role:"Sustainability Director",company:"TechCorp Global",avatar:"SC"},{quote:"The blockchain integration ensures every credit is authentic. We've offset 10,000+ tons through the platform with full traceability.",author:"Michael Rodriguez",role:"Environmental Manager",company:"Green Industries",avatar:"MR"},{quote:"Outstanding user experience and real impact. The marketplace makes carbon trading accessible and transparent for everyone.",author:"Dr. Emily Watson",role:"Climate Researcher",company:"Climate Institute",avatar:"EW"}].map((s,a)=>o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:a*.1,duration:.6},className:"bg-white p-6 rounded-2xl shadow-lg border border-carbon-200 hover:shadow-xl transition-shadow duration-300",children:[o.jsx("div",{className:"flex items-center mb-4",children:[1,2,3,4,5].map(l=>o.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l))}),o.jsxs("blockquote",{className:"text-carbon-700 mb-6 italic",children:['"',s.quote,'"']}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-white font-semibold",children:s.avatar})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-carbon-900",children:s.author}),o.jsx("div",{className:"text-sm text-carbon-600",children:s.role}),o.jsx("div",{className:"text-sm text-primary-600",children:s.company})]})]})]},a))})]})}),o.jsxs("section",{id:"pricing",className:"py-24 bg-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-carbon-900 mb-4",children:"Simple, Transparent Pricing"}),o.jsx("p",{className:"text-xl text-carbon-600 max-w-3xl mx-auto",children:"Choose the plan that fits your carbon trading needs. All plans include full access to our blockchain-powered marketplace."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.1,duration:.6},className:"bg-white border border-carbon-200 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 mb-2",children:"Explorer"}),o.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"Free"}),o.jsx("p",{className:"text-carbon-600",children:"Perfect for getting started"})]}),o.jsxs("ul",{className:"space-y-4 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Browse marketplace"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"View portfolio analytics"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Basic market insights"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Up to 10 transactions/month"})]})]}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"w-full btn-secondary",children:"Get Started Free"})]}),o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"bg-gradient-to-br from-primary-50 to-cyan-50 border-2 border-primary-200 rounded-2xl p-8 shadow-xl relative",children:[o.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:o.jsx("span",{className:"bg-gradient-to-r from-primary-500 to-cyan-500 text-white px-4 py-2 rounded-full text-sm font-semibold",children:"Most Popular"})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 mb-2",children:"Professional"}),o.jsxs("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:["$29",o.jsx("span",{className:"text-lg text-carbon-600",children:"/month"})]}),o.jsx("p",{className:"text-carbon-600",children:"For active traders and organizations"})]}),o.jsxs("ul",{className:"space-y-4 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Unlimited transactions"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Advanced analytics & reporting"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Priority support"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"API access"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Custom integrations"})]})]}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"w-full btn-primary",children:"Start Pro Trial"})]}),o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"bg-white border border-carbon-200 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 mb-2",children:"Enterprise"}),o.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-2",children:"Custom"}),o.jsx("p",{className:"text-carbon-600",children:"Tailored solutions for large organizations"})]}),o.jsxs("ul",{className:"space-y-4 mb-8",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Everything in Professional"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Dedicated account manager"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"Custom reporting & dashboards"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"White-label solutions"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),o.jsx("span",{className:"text-carbon-700",children:"SLA guarantees"})]})]}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("signup"),className:"w-full btn-secondary",children:"Contact Sales"})]})]}),o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mt-16 max-w-3xl mx-auto",children:[o.jsx("h3",{className:"text-2xl font-bold text-carbon-900 text-center mb-8",children:"Frequently Asked Questions"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-carbon-900 mb-2",children:"Are there any hidden fees?"}),o.jsx("p",{className:"text-carbon-600",children:"No hidden fees. All pricing is transparent, and transaction fees are clearly displayed before any trade."})]}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-carbon-900 mb-2",children:"Can I change plans anytime?"}),o.jsx("p",{className:"text-carbon-600",children:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately."})]}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-6",children:[o.jsx("h4",{className:"font-semibold text-carbon-900 mb-2",children:"Is there a free trial?"}),o.jsx("p",{className:"text-carbon-600",children:"Yes, all paid plans come with a 14-day free trial. No credit card required to start."})]})]})]})]})]}),o.jsxs("section",{id:"cta",className:"py-24 bg-gradient-to-r from-primary-600 to-cyan-600 relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white/10 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white/10 rounded-full blur-xl animate-pulse delay-1000"})]}),o.jsx("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:o.jsxs(I.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},children:[o.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:"Ready to Make an Impact?"}),o.jsx("p",{className:"text-2xl text-primary-100 mb-12 leading-relaxed",children:"Join the carbon credit revolution and start trading verified environmental assets today."}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"50K+"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"Active Users"})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.3},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"10M+"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"CO₂ Offset"})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"500+"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"Projects"})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.5},className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:"99.9%"}),o.jsx("div",{className:"text-primary-100 text-sm",children:"Uptime"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(I.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>t("signup"),className:"bg-white text-primary-600 px-10 py-5 rounded-xl font-bold text-lg hover:bg-primary-50 transition-all duration-300 flex items-center justify-center shadow-2xl",children:["Create Account",o.jsx(Hl,{className:"w-5 h-5 ml-2"})]}),o.jsx(I.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>t("login"),className:"border-2 border-white text-white px-10 py-5 rounded-xl font-bold text-lg hover:bg-white hover:text-primary-600 transition-all duration-300 shadow-2xl",children:"Sign In"})]}),o.jsxs("div",{className:"mt-12 flex flex-wrap justify-center items-center gap-8 opacity-80",children:[o.jsxs("div",{className:"text-primary-100 text-sm flex items-center",children:[o.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Enterprise Security"]}),o.jsxs("div",{className:"text-primary-100 text-sm flex items-center",children:[o.jsx(s0,{className:"w-5 h-5 mr-2"}),"Global Compliance"]}),o.jsxs("div",{className:"text-primary-100 text-sm flex items-center",children:[o.jsx(vt,{className:"w-5 h-5 mr-2"}),"ISO Certified"]})]})]})})]})]})}function MY({onShowAuth:t,onLogin:e}){const[r,n]=p.useState({email:"",password:"",rememberMe:!1}),[i,s]=p.useState(!1),[a,l]=p.useState(!1),c=async d=>{d.preventDefault(),l(!0);try{const f=await ue.login(r.email,r.password);ue.saveSession(),X.success(`Welcome back, ${f.firstName}! Redirecting to dashboard...`),setTimeout(()=>{var h;e({email:f.email,name:`${f.firstName} ${f.lastName}`,firstName:f.firstName,lastName:f.lastName,organization:f.organization,accountType:f.accountType,walletAddress:f.walletAddress,avatar:((h=f.profile)==null?void 0:h.avatar)||null,id:f.id})},1e3)}catch(f){X.error(f.message||"Login failed. Please try again.")}finally{l(!1)}},u=d=>{const{name:f,value:h,type:m,checked:g}=d.target;n(y=>({...y,[f]:m==="checkbox"?g:h}))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-cyan-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[o.jsx(I.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"hidden lg:block",children:o.jsxs("div",{className:"max-w-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"🌱"})}),o.jsx("span",{className:"text-3xl font-bold gradient-text",children:"CBlock"})]}),o.jsxs("h1",{className:"text-4xl font-bold text-carbon-900 mb-6",children:["Welcome back to the future of",o.jsx("span",{className:"gradient-text block",children:"carbon trading"})]}),o.jsx("p",{className:"text-lg text-carbon-600 mb-8",children:"Continue your journey in sustainable investing and make a real impact on climate change."}),o.jsx("div",{className:"space-y-4",children:["Access your carbon credit portfolio","Monitor real-time market data","Trade with verified environmental projects","Track your climate impact"].map((d,f)=>o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+f*.1},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center",children:o.jsx(vt,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-carbon-700",children:d})]},f))})]})}),o.jsx(I.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-carbon-100",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-carbon-900",children:"Sign In"}),o.jsx("button",{onClick:()=>t("welcome"),className:"p-2 hover:bg-carbon-100 rounded-lg transition-colors",children:o.jsx(V8,{className:"w-5 h-5 text-carbon-600"})})]}),o.jsxs("p",{className:"text-carbon-600",children:["New to CBlock?"," ",o.jsx("button",{onClick:()=>t("signup"),className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Create an account"})]})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:u,className:"input-field pl-10",placeholder:"john@example.com",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:u,className:"input-field pl-10 pr-10",placeholder:"Enter your password",required:!0}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:i?o.jsx(Sp,{className:"w-5 h-5"}):o.jsx(Wl,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:"rememberMe",checked:r.rememberMe,onChange:u,className:"w-4 h-4 text-primary-600 border-carbon-300 rounded focus:ring-primary-500"}),o.jsx("span",{className:"ml-2 text-sm text-carbon-700",children:"Remember me"})]}),o.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})]}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"w-full btn-primary py-3 text-lg relative",children:a?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing In..."]}):"Sign In"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-carbon-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-carbon-500",children:"Or continue with"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",className:"flex items-center justify-center px-4 py-3 border border-carbon-300 rounded-lg hover:bg-carbon-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})})]}),o.jsx("div",{className:"mt-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:o.jsxs("p",{className:"text-sm text-primary-700",children:[o.jsx("strong",{children:"Demo Mode:"})," Use any email and password to sign in."]})})]})})]})})}function LY({onShowAuth:t,onLogin:e}){var y,w;const[r,n]=p.useState({firstName:"",lastName:"",email:"",organization:"",accountType:"individual",password:"",confirmPassword:"",acceptTerms:!1,newsletter:!0,walletAddress:""}),[i,s]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[d,f]=p.useState(!1),h=async()=>{try{const x=await de.connectWallet();n(v=>({...v,walletAddress:x.address})),f(!0),X.success("🦊 Wallet connected successfully!")}catch(x){X.error(x.message||"Failed to connect wallet. Please try again.")}},m=async x=>{x.preventDefault(),u(!0);try{if(!r.acceptTerms){X.error("Please accept the terms and conditions"),u(!1);return}const v=await ue.register({firstName:r.firstName,lastName:r.lastName,email:r.email,password:r.password,confirmPassword:r.confirmPassword,organization:r.organization,accountType:r.accountType,walletAddress:r.walletAddress}),b=await ue.login(r.email,r.password);ue.saveSession(),X.success(`🎉 Account created successfully! Welcome to CBlock, ${v.firstName}!`),setTimeout(()=>{var j;e({email:b.email,name:`${b.firstName} ${b.lastName}`,firstName:b.firstName,lastName:b.lastName,organization:b.organization,accountType:b.accountType,walletAddress:b.walletAddress,avatar:((j=b.profile)==null?void 0:j.avatar)||null,id:b.id})},1e3)}catch(v){X.error(v.message||"Registration failed. Please try again.")}finally{u(!1)}},g=x=>{const{name:v,value:b,type:j,checked:E}=x.target;n(S=>({...S,[v]:j==="checkbox"?E:b}))};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-cyan-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[o.jsx(I.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},className:"hidden lg:block",children:o.jsxs("div",{className:"max-w-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"🌱"})}),o.jsx("span",{className:"text-3xl font-bold gradient-text",children:"CBlock"})]}),o.jsxs("h1",{className:"text-4xl font-bold text-carbon-900 mb-6",children:["Join the",o.jsx("span",{className:"gradient-text block",children:"carbon revolution"})]}),o.jsx("p",{className:"text-lg text-carbon-600 mb-8",children:"Create your account and start making a positive impact on climate change through verified carbon credit trading."}),o.jsx("div",{className:"space-y-4",children:["Trade verified carbon credits globally","Access real-time market analytics","Connect with environmental projects","Track your climate impact dashboard","Join a community of climate action leaders"].map((x,v)=>o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+v*.1},className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center",children:o.jsx(vt,{className:"w-3 h-3 text-white"})}),o.jsx("span",{className:"text-carbon-700",children:x})]},v))})]})}),o.jsx(I.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},className:"w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-carbon-100",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-3xl font-bold text-carbon-900",children:"Create Account"}),o.jsx("button",{onClick:()=>t("welcome"),className:"p-2 hover:bg-carbon-100 rounded-lg transition-colors",children:o.jsx(V8,{className:"w-5 h-5 text-carbon-600"})})]}),o.jsxs("p",{className:"text-carbon-600",children:["Already have an account?"," ",o.jsx("button",{onClick:()=>t("login"),className:"text-primary-600 hover:text-primary-700 font-semibold",children:"Sign in"})]})]}),o.jsxs("form",{onSubmit:m,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-4",children:"Account Type"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{type:"individual",title:"Individual",description:"Personal offsetting",icon:"👤"},{type:"business",title:"Business",description:"Corporate sustainability",icon:"🏢"},{type:"verifier",title:"Verifier",description:"Gold Standard certified",icon:"✅"}].map(x=>o.jsxs("button",{type:"button",onClick:()=>n(v=>({...v,accountType:x.type})),className:`p-3 rounded-lg border-2 text-left transition-all duration-200 ${r.accountType===x.type?"border-primary-500 bg-primary-50 text-primary-700":"border-carbon-200 hover:border-primary-300 hover:bg-primary-50/50"}`,children:[o.jsx("div",{className:"text-xl mb-1",children:x.icon}),o.jsx("div",{className:"text-sm font-semibold text-carbon-900",children:x.title}),o.jsx("div",{className:"text-xs text-carbon-600",children:x.description})]},x.type))})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:g,className:"input-field pl-10",placeholder:"John",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Last Name"}),o.jsx("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:g,className:"input-field",placeholder:"Doe",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Dz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:g,className:"input-field pl-10",placeholder:"john@example.com",required:!0})]})]}),(r.accountType==="business"||r.accountType==="verifier")&&o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"organization",className:"block text-sm font-semibold text-carbon-700 mb-2",children:["Organization Name ",r.accountType==="verifier"?"(Required)":"(Optional)"]}),o.jsxs("div",{className:"relative",children:[o.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"text",id:"organization",name:"organization",value:r.organization,onChange:g,className:"input-field pl-10",placeholder:"Your company or organization",required:r.accountType==="verifier"})]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:r.password,onChange:g,className:"input-field pl-10 pr-10",placeholder:"Create password",required:!0}),o.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:i?o.jsx(Sp,{className:"w-5 h-5"}):o.jsx(Wl,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:a?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:"input-field pl-10 pr-10",placeholder:"Confirm password",required:!0}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:a?o.jsx(Sp,{className:"w-5 h-5"}):o.jsx(Wl,{className:"w-5 h-5"})})]})]})]}),o.jsxs("div",{className:"border-t border-carbon-200 pt-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"🦊 Connect Wallet"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Connect your Ethereum wallet to trade carbon credits on the blockchain."})]}),d?o.jsxs("div",{className:"flex items-center p-4 bg-green-50 border border-green-200 rounded-lg mb-4",children:[o.jsx(vt,{className:"w-6 h-6 text-green-600 mr-3"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-green-900",children:"Wallet Connected ✅"}),o.jsxs("div",{className:"text-sm text-green-700 font-mono",children:[(y=r.walletAddress)==null?void 0:y.slice(0,6),"...",(w=r.walletAddress)==null?void 0:w.slice(-4)]})]})]}):o.jsxs(I.button,{type:"button",onClick:h,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn-secondary flex items-center justify-center py-3 mb-4",children:[o.jsx("div",{className:"w-6 h-6 mr-3",children:o.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full",children:[o.jsx("path",{fill:"#E17726",d:"M37.3 6.4L22.8 1.7c-.9-.3-1.8-.3-2.6 0L5.7 6.4c-1.4.5-2.3 1.8-2.3 3.3v20.6c0 1.5.9 2.8 2.3 3.3l14.5 4.7c.4.1.9.2 1.3.2s.9-.1 1.3-.2l14.5-4.7c1.4-.5 2.3-1.8 2.3-3.3V9.7c0-1.5-.9-2.8-2.3-3.3z"}),o.jsx("path",{fill:"#E27625",d:"M22.8 1.7L37.3 6.4c1.4.5 2.3 1.8 2.3 3.3v20.6c0 1.5-.9 2.8-2.3 3.3L22.8 38.3c-.4.1-.9.2-1.3.2V1.5c.5 0 .9.1 1.3.2z"})]})}),"Connect MetaMask Wallet"]}),o.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-white text-xs",children:"ℹ"})}),o.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Blockchain Features"})]}),o.jsxs("ul",{className:"text-sm text-primary-600 space-y-1",children:[o.jsx("li",{children:"• Trade verified carbon credits on Ethereum Sepolia testnet"}),o.jsx("li",{children:"• Generate immutable retirement certificates"}),o.jsx("li",{children:"• Access to exclusive marketplace features"})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",name:"acceptTerms",checked:r.acceptTerms,onChange:g,className:"w-4 h-4 text-primary-600 border-carbon-300 rounded focus:ring-primary-500 mt-1",required:!0}),o.jsxs("span",{className:"text-sm text-carbon-700",children:["I agree to the"," ",o.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Privacy Policy"})]})]}),o.jsxs("label",{className:"flex items-start space-x-3",children:[o.jsx("input",{type:"checkbox",name:"newsletter",checked:r.newsletter,onChange:g,className:"w-4 h-4 text-primary-600 border-carbon-300 rounded focus:ring-primary-500 mt-1"}),o.jsx("span",{className:"text-sm text-carbon-700",children:"Send me updates about new features and market insights"})]})]}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,className:"w-full btn-primary py-3 text-lg relative",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Account..."]}):"Create Account"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-carbon-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-carbon-500",children:"Or sign up with"})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",className:"flex items-center justify-center px-4 py-3 border border-carbon-300 rounded-lg hover:bg-carbon-50 transition-colors",children:[o.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285f4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})})]}),o.jsx("div",{className:"mt-6 p-4 bg-primary-50 rounded-lg border border-primary-200",children:o.jsxs("p",{className:"text-sm text-primary-700",children:[o.jsx("strong",{children:"Demo Mode:"})," Fill in the form with any information to create a demo account."]})})]})})]})})}function zO(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=zO(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=zO(t))&&(n&&(n+=" "),n+=e);return n}var vy={},HO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(HO);var A5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(A5);var E5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(E5);var by={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}t.toPath=e})(by);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HO,r=A5,n=E5,i=by;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||e.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}t.get=s})(vy);var _Y=vy.get;const uo=Zi(_Y);var WO={exports:{}},Ke={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5=Symbol.for("react.transitional.element"),k5=Symbol.for("react.portal"),wy=Symbol.for("react.fragment"),jy=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Ay=Symbol.for("react.consumer"),Ey=Symbol.for("react.context"),Sy=Symbol.for("react.forward_ref"),ky=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Cy=Symbol.for("react.memo"),Ty=Symbol.for("react.lazy"),BY=Symbol.for("react.view_transition"),FY=Symbol.for("react.client.reference");function Xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case S5:switch(t=t.type,t){case wy:case Ny:case jy:case ky:case Py:case BY:return t;default:switch(t=t&&t.$$typeof,t){case Ey:case Sy:case Ty:case Cy:return t;case Ay:return t;default:return e}}case k5:return e}}}Ke.ContextConsumer=Ay;Ke.ContextProvider=Ey;Ke.Element=S5;Ke.ForwardRef=Sy;Ke.Fragment=wy;Ke.Lazy=Ty;Ke.Memo=Cy;Ke.Portal=k5;Ke.Profiler=Ny;Ke.StrictMode=jy;Ke.Suspense=ky;Ke.SuspenseList=Py;Ke.isContextConsumer=function(t){return Xn(t)===Ay};Ke.isContextProvider=function(t){return Xn(t)===Ey};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===S5};Ke.isForwardRef=function(t){return Xn(t)===Sy};Ke.isFragment=function(t){return Xn(t)===wy};Ke.isLazy=function(t){return Xn(t)===Ty};Ke.isMemo=function(t){return Xn(t)===Cy};Ke.isPortal=function(t){return Xn(t)===k5};Ke.isProfiler=function(t){return Xn(t)===Ny};Ke.isStrictMode=function(t){return Xn(t)===jy};Ke.isSuspense=function(t){return Xn(t)===ky};Ke.isSuspenseList=function(t){return Xn(t)===Py};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===wy||t===Ny||t===jy||t===ky||t===Py||typeof t=="object"&&t!==null&&(t.$$typeof===Ty||t.$$typeof===Cy||t.$$typeof===Ey||t.$$typeof===Ay||t.$$typeof===Sy||t.$$typeof===FY||t.getModuleId!==void 0)};Ke.typeOf=Xn;WO.exports=Ke;var UY=WO.exports,Yt=t=>t===0?0:t>0?1:-1,vn=t=>typeof t=="number"&&t!=+t,rl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,re=t=>(typeof t=="number"||t instanceof Number)&&!vn(t),Xi=t=>re(t)||typeof t=="string",$Y=0,v0=t=>{var e=++$Y;return"".concat(t||"").concat(e)},Rr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&typeof e!="string")return n;var s;if(rl(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return vn(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},GO=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1},lS=(t,e)=>re(t)&&re(e)?r=>t+r*(e-t):()=>e;function mi(t,e,r){return re(t)&&re(e)?t+r*(e-t):e}function KO(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):uo(n,e))===r)}var rt=t=>t===null||typeof t>"u",sh=t=>rt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),VY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function P5(t){if(typeof t!="string")return!1;var e=VY;return e.includes(t)}var zY=["viewBox","children"],cS=["points","pathLength"],Nx={svg:zY,polygon:cS,polyline:cS},C5=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(p.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{P5(i)&&(n[i]=s=>r[i](r,s))}),n},HY=(t,e,r)=>n=>(t(e,r,n),null),Oy=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];P5(i)&&typeof s=="function"&&(n||(n={}),n[i]=HY(s,e,r))}),n},WY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function QO(t){if(typeof t!="string")return!1;var e=WY;return e.includes(t)}function Xs(t){var e=Object.entries(t).filter(r=>{var[n]=r;return QO(n)});return Object.fromEntries(e)}var uS=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",dS=null,Ax=null,YO=t=>{if(t===dS&&Array.isArray(Ax))return Ax;var e=[];return p.Children.forEach(t,r=>{rt(r)||(UY.isFragment(r)?e=e.concat(YO(r.props.children)):e.push(r))}),Ax=e,dS=t,e};function ah(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>uS(i)):n=[uS(e)],YO(t).forEach(i=>{var s=uo(i,"type.displayName")||uo(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var qO=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,GY=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=n&&(Nx==null?void 0:Nx[n]))!==null&&i!==void 0?i:[],a=e.startsWith("data-"),l=typeof t!="function"&&(!!n&&s.includes(e)||QO(e)),c=!!r&&P5(e);return a||l||c},at=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(p.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;GY((a=n)===null||a===void 0?void 0:a[s],s,e,r)&&(i[s]=n[s])}),i},KY=["children","width","height","viewBox","className","style","title","desc"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gb.apply(null,arguments)}function QY(t,e){if(t==null)return{};var r,n,i=YY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function YY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var XO=p.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=t,d=QY(t,KY),f=s||{width:n,height:i,x:0,y:0},h=De("recharts-surface",a);return p.createElement("svg",Gb({},at(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),qY=["children","className"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kb.apply(null,arguments)}function XY(t,e){if(t==null)return{};var r,n,i=JY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jr=p.forwardRef((t,e)=>{var{children:r,className:n}=t,i=XY(t,qY),s=De("recharts-layer",n);return p.createElement("g",Kb({className:s},at(i,!0),{ref:e}),r)}),ZY=p.createContext(null);function Ye(t){return function(){return t}}const JO=Math.cos,Vp=Math.sin,Ei=Math.sqrt,zp=Math.PI,Iy=2*zp,Qb=Math.PI,Yb=2*Qb,Fo=1e-6,eq=Yb-Fo;function ZO(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function tq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ZO;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class rq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ZO:tq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-e,u=i-r,d=a-e,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>Fo)if(!(Math.abs(f*c-u*d)>Fo)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-a,g=i-l,y=c*c+u*u,w=m*m+g*g,x=Math.sqrt(y),v=Math.sqrt(h),b=s*Math.tan((Qb-Math.acos((y+h-w)/(2*x*v)))/2),j=b/v,E=b/x;Math.abs(j-1)>Fo&&this._append`L${e+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=e+E*c},${this._y1=r+E*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fo||Math.abs(this._y1-d)>Fo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Yb+Yb),h>eq?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fo&&this._append`A${n},${n},0,${+(h>=Qb)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function T5(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new rq(e)}function O5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function e9(t){this._context=t}e9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dy(t){return new e9(t)}function t9(t){return t[0]}function r9(t){return t[1]}function n9(t,e){var r=Ye(!0),n=null,i=Dy,s=null,a=T5(l);t=typeof t=="function"?t:t===void 0?t9:Ye(t),e=typeof e=="function"?e:e===void 0?r9:Ye(e);function l(c){var u,d=(c=O5(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ye(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ye(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ye(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Zh(t,e,r){var n=null,i=Ye(!0),s=null,a=Dy,l=null,c=T5(u);t=typeof t=="function"?t:t===void 0?t9:Ye(+t),e=typeof e=="function"?e:Ye(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?r9:Ye(+r);function u(f){var h,m,g,y=(f=O5(f)).length,w,x=!1,v,b=new Array(y),j=new Array(y);for(s==null&&(l=a(v=c())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}x&&(b[h]=+t(w,h,f),j[h]=+e(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return n9().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ye(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ye(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ye(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ye(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ye(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class i9{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function nq(t){return new i9(t,!0)}function iq(t){return new i9(t,!1)}const I5={draw(t,e){const r=Ei(e/zp);t.moveTo(r,0),t.arc(0,0,r,0,Iy)}},sq={draw(t,e){const r=Ei(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},s9=Ei(1/3),aq=s9*2,oq={draw(t,e){const r=Ei(e/aq),n=r*s9;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},lq={draw(t,e){const r=Ei(e),n=-r/2;t.rect(n,n,r,r)}},cq=.8908130915292852,a9=Vp(zp/10)/Vp(7*zp/10),uq=Vp(Iy/10)*a9,dq=-JO(Iy/10)*a9,fq={draw(t,e){const r=Ei(e*cq),n=uq*r,i=dq*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=Iy*s/5,l=JO(a),c=Vp(a);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},Ex=Ei(3),hq={draw(t,e){const r=-Ei(e/(Ex*3));t.moveTo(0,r*2),t.lineTo(-Ex*r,-r),t.lineTo(Ex*r,-r),t.closePath()}},Cn=-.5,Tn=Ei(3)/2,qb=1/Ei(12),mq=(qb/2+1)*3,pq={draw(t,e){const r=Ei(e/mq),n=r/2,i=r*qb,s=n,a=r*qb+r,l=-s,c=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(Cn*n-Tn*i,Tn*n+Cn*i),t.lineTo(Cn*s-Tn*a,Tn*s+Cn*a),t.lineTo(Cn*l-Tn*c,Tn*l+Cn*c),t.lineTo(Cn*n+Tn*i,Cn*i-Tn*n),t.lineTo(Cn*s+Tn*a,Cn*a-Tn*s),t.lineTo(Cn*l+Tn*c,Cn*c-Tn*l),t.closePath()}};function gq(t,e){let r=null,n=T5(i);t=typeof t=="function"?t:Ye(t||I5),e=typeof e=="function"?e:Ye(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ye(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ye(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Hp(){}function Wp(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function o9(t){this._context=t}o9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yq(t){return new o9(t)}function l9(t){this._context=t}l9.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xq(t){return new l9(t)}function c9(t){this._context=t}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vq(t){return new c9(t)}function u9(t){this._context=t}u9.prototype={areaStart:Hp,areaEnd:Hp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bq(t){return new u9(t)}function fS(t){return t<0?-1:1}function hS(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(fS(s)+fS(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function mS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Sx(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,a-l*r,s,a)}function Gp(t){this._context=t}Gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Sx(this,this._t0,mS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Sx(this,mS(this,r=hS(this,t,e)),r);break;default:Sx(this,this._t0,r=hS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function d9(t){this._context=new f9(t)}(d9.prototype=Object.create(Gp.prototype)).point=function(t,e){Gp.prototype.point.call(this,e,t)};function f9(t){this._context=t}f9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function wq(t){return new Gp(t)}function jq(t){return new d9(t)}function h9(t){this._context=t}h9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=pS(t),i=pS(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pS(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Nq(t){return new h9(t)}function Ry(t,e){this._context=t,this._t=e}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Aq(t){return new Ry(t,.5)}function Eq(t){return new Ry(t,0)}function Sq(t){return new Ry(t,1)}function hd(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,l=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Xb(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function kq(t,e){return t[e]}function Pq(t){const e=[];return e.key=t,e}function Cq(){var t=Ye([]),e=Xb,r=hd,n=kq;function i(s){var a=Array.from(t.apply(this,arguments),Pq),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=O5(e(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ye(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ye(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Xb:typeof s=="function"?s:Ye(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??hd,i):r},i}function Tq(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}hd(t,e)}}function Oq(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=t[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}hd(t,e)}}function Iq(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=t[e[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var y=t[e[g]],w=y[n][1]||0,x=y[n-1][1]||0;m+=w-x}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,hd(t,e)}}var Dq=["type","size","sizeType"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jb.apply(null,arguments)}function gS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gS(Object(r),!0).forEach(function(n){Rq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rq(t,e,r){return(e=Mq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mq(t){var e=Lq(t,"string");return typeof e=="symbol"?e:e+""}function Lq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _q(t,e){if(t==null)return{};var r,n,i=Bq(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bq(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var m9={symbolCircle:I5,symbolCross:sq,symbolDiamond:oq,symbolSquare:lq,symbolStar:fq,symbolTriangle:hq,symbolWye:pq},Fq=Math.PI/180,Uq=t=>{var e="symbol".concat(sh(t));return m9[e]||I5},$q=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*Fq;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Vq=(t,e)=>{m9["symbol".concat(sh(t))]=e},p9=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=_q(t,Dq),s=yS(yS({},i),{},{type:e,size:r,sizeType:n}),a=()=>{var f=Uq(e),h=gq().type(f).size($q(r,n,e));return h()},{className:l,cx:c,cy:u}=s,d=at(s,!0);return c===+c&&u===+u&&r===+r?p.createElement("path",Jb({},d,{className:De("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};p9.registerSymbol=Vq;var g9={},y9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(y9);var D5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(D5);var x9={},My={},v9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(v9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v9;function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(My);var b9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(b9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=My,r=b9;function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(x9);var w9={},j9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vy;function r(n){return function(i){return e.get(i,n)}}t.property=r})(j9);var N9={},kx={},Px={},R5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(R5);var M5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(M5);var Ly={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Ly);var xS;function zq(){return xS||(xS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5(),r=R5,n=M5,i=Ly;function s(f,h,m){return typeof m!="function"?e.isMatch(f,h):a(f,h,function g(y,w,x,v,b,j){const E=m(y,w,x,v,b,j);return E!==void 0?!!E:a(y,w,g,j)},new Map)}function a(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,g);case"function":return Object.keys(h).length>0?a(f,{...h},m,g):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let w=0;w<y.length;w++){const x=y[w];if(!n.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!m(f[x],h[x],x,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,w]of h.entries()){const x=f.get(y);if(m(x,w,y,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let w=0;w<h.length;w++){const x=h[w];let v=!1;for(let b=0;b<f.length;b++){if(y.has(b))continue;const j=f[b];let E=!1;if(m(j,x,w,f,h,g)&&(E=!0),E){y.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}t.isMatchWith=s,t.isSetMatch=d}(Px)),Px}var vS;function L5(){return vS||(vS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zq();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r}(kx)),kx}var A9={},_5={},B5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(B5);var _y={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(_y);var By={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",w="[object Uint8Array]",x="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",E="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",N="[object BigInt64Array]",C="[object Float32Array]",R="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=h,t.arrayTag=d,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=y,t.dateTag=l,t.errorTag=g,t.float32ArrayTag=C,t.float64ArrayTag=R,t.functionTag=f,t.int16ArrayTag=S,t.int32ArrayTag=k,t.int8ArrayTag=E,t.mapTag=c,t.numberTag=n,t.objectTag=m,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=v,t.uint32ArrayTag=b,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=x})(By);var E9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(E9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B5,r=_y,n=By,i=M5,s=E9;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const y=g==null?void 0:g(d,f,h,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let x=0;x<d.length;x++)w[x]=l(d[x],x,h,m,g);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[x,v]of d)w.set(x,l(v,x,h,m,g));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const x of d)w.add(l(x,void 0,h,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let x=0;x<d.length;x++)w[x]=l(d[x],x,h,m,g);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,g),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,g),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,g),w}return d}function c(d,f,h=d,m,g){const y=[...Object.keys(f),...e.getSymbols(f)];for(let w=0;w<y.length;w++){const x=y[w],v=Object.getOwnPropertyDescriptor(d,x);(v==null||v.writable)&&(d[x]=l(f[x],x,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(_5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_5;function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(A9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5(),r=A9;function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(N9);var S9={},k9={},P9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_5,r=By;function n(i,s){return e.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case r.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(P9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P9;function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(k9);var C9={},F5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(F5);var T9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_y;function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(T9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=A5,r=F5,n=T9,i=by;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=s})(C9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5(),r=E5,n=k9,i=vy,s=C9;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:e.isMatch(d,c)}}t.matchesProperty=a})(S9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D5,r=j9,n=N9,i=S9;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(w9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y9,r=D5,n=x9,i=w9;function s(a,l=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(l)):[]}t.uniqBy=s})(g9);var Hq=g9.uniqBy;const bS=Zi(Hq);function Wq(t,e,r){return e===!0?bS(t,r):typeof e=="function"?bS(t,e):t}var O9={exports:{}},I9={},D9={exports:{}},R9={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=p;function Gq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kq=typeof Object.is=="function"?Object.is:Gq,Qq=md.useState,Yq=md.useEffect,qq=md.useLayoutEffect,Xq=md.useDebugValue;function Jq(t,e){var r=e(),n=Qq({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return qq(function(){i.value=r,i.getSnapshot=e,Cx(i)&&s({inst:i})},[t,r,e]),Yq(function(){return Cx(i)&&s({inst:i}),t(function(){Cx(i)&&s({inst:i})})},[t]),Xq(r),r}function Cx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kq(t,r)}catch{return!0}}function Zq(t,e){return e()}var eX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zq:Jq;R9.useSyncExternalStore=md.useSyncExternalStore!==void 0?md.useSyncExternalStore:eX;D9.exports=R9;var tX=D9.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=p,rX=tX;function nX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iX=typeof Object.is=="function"?Object.is:nX,sX=rX.useSyncExternalStore,aX=Fy.useRef,oX=Fy.useEffect,lX=Fy.useMemo,cX=Fy.useDebugValue;I9.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=aX(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=lX(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,iX(d,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(d=m,g):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var l=sX(t,s[0],s[1]);return oX(function(){a.hasValue=!0,a.value=l},[l]),cX(l),l};O9.exports=I9;var uX=O9.exports,U5=p.createContext(null),dX=t=>t,Et=()=>{var t=p.useContext(U5);return t?t.store.dispatch:dX},Wm=()=>{},fX=()=>Wm,hX=(t,e)=>t===e;function ce(t){var e=p.useContext(U5);return uX.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fX,e?e.store.getState:Wm,e?e.store.getState:Wm,e?t:Wm,hX)}function mX(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function pX(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function gX(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var wS=t=>Array.isArray(t)?t:[t];function yX(t){const e=Array.isArray(t[0])?t[0]:t;return gX(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function xX(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var vX=class{constructor(t){this.value=t}deref(){return this.value}},bX=typeof WeakRef<"u"?WeakRef:vX,wX=0,jS=1;function em(){return{s:wX,v:void 0,o:null,p:null}}function M9(t,e={}){let r=em();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const w=y.get(g);w===void 0?(l=em(),y.set(g,l)):l=w}else{let y=l.p;y===null&&(l.p=y=new Map);const w=y.get(g);w===void 0?(l=em(),y.set(g,l)):l=w}}const u=l;let d;if(l.s===jS)d=l.v;else if(d=t.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new bX(d):d}return u.s=jS,u.v=d,d}return a.clearCache=()=>{r=em(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function jX(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),mX(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=M9,argsMemoizeOptions:g=[]}=d,y=wS(h),w=wS(g),x=yX(i),v=f(function(){return s++,u.apply(null,arguments)},...y),b=m(function(){a++;const E=xX(x,arguments);return l=v.apply(null,E),l},...w);return Object.assign(b,{resultFunc:u,memoizedResultFunc:v,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=jX(M9),NX=Object.assign((t,e=V)=>{pX(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>NX}),L9={},_9={},B9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),l=e(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=r})(B9);var F9={},$5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})($5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(F9);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B9,r=F9,n=by;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let y=m;for(let w=0;w<g.length&&y!=null;++w)y=y[g[w]];return y},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const w=e.compareValues(m.criteria[y],g.criteria[y],l[y]);if(w!==0)return w}return 0}).map(m=>m.original)}t.orderBy=i})(_9);var U9={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}t.flatten=e})(U9);var V5={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5,r=My,n=R5,i=Ly;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}t.isIterateeCall=s})(V5);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_9,r=U9,n=V5;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(L9);var AX=L9.sortBy;const Uy=Zi(AX);var $9=t=>t.legend.settings,EX=t=>t.legend.size,SX=t=>t.legend.payload;V([SX,$9],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?Uy(n,r):n});var tm=1;function kX(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>tm||Math.abs(a.left-e.left)>tm||Math.abs(a.top-e.top)>tm||Math.abs(a.width-e.width)>tm)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function er(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PX=typeof Symbol=="function"&&Symbol.observable||"@@observable",NS=PX,Tx=()=>Math.random().toString(36).substring(7).split("").join("."),CX={INIT:`@@redux/INIT${Tx()}`,REPLACE:`@@redux/REPLACE${Tx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Tx()}`},Kp=CX;function z5(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function V9(t,e,r){if(typeof t!="function")throw new Error(er(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(er(1));return r(V9)(t,e)}let n=t,i=e,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,x)=>{a.set(x,w)}))}function d(){if(c)throw new Error(er(3));return i}function f(w){if(typeof w!="function")throw new Error(er(4));if(c)throw new Error(er(5));let x=!0;u();const v=l++;return a.set(v,w),function(){if(x){if(c)throw new Error(er(6));x=!1,u(),a.delete(v),s=null}}}function h(w){if(!z5(w))throw new Error(er(7));if(typeof w.type>"u")throw new Error(er(8));if(typeof w.type!="string")throw new Error(er(17));if(c)throw new Error(er(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(er(10));n=w,h({type:Kp.REPLACE})}function g(){const w=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(er(11));function v(){const j=x;j.next&&j.next(d())}return v(),{unsubscribe:w(v)}},[NS](){return this}}}return h({type:Kp.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[NS]:g}}function TX(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Kp.INIT})>"u")throw new Error(er(12));if(typeof r(void 0,{type:Kp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function z9(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{TX(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(er(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Qp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function OX(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(er(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(a));return s=Qp(...l)(i.dispatch),{...i,dispatch:s}}}function H9(t){return z5(t)&&"type"in t&&typeof t.type=="string"}var W9=Symbol.for("immer-nothing"),AS=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function yi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var pd=Object.getPrototypeOf;function ql(t){return!!t&&!!t[bn]}function Hs(t){var e;return t?G9(t)||Array.isArray(t)||!!t[AS]||!!((e=t.constructor)!=null&&e[AS])||Vy(t)||zy(t):!1}var IX=Object.prototype.constructor.toString();function G9(t){if(!t||typeof t!="object")return!1;const e=pd(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===IX}function Yp(t,e){$y(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function $y(t){const e=t[bn];return e?e.type_:Array.isArray(t)?1:Vy(t)?2:zy(t)?3:0}function Zb(t,e){return $y(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function K9(t,e,r){const n=$y(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function DX(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Vy(t){return t instanceof Map}function zy(t){return t instanceof Set}function Uo(t){return t.copy_||t.base_}function ew(t,e){if(Vy(t))return new Map(t);if(zy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=G9(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[bn];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(pd(t),n)}else{const n=pd(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function H5(t,e=!1){return Hy(t)||ql(t)||!Hs(t)||($y(t)>1&&(t.set=t.add=t.clear=t.delete=RX),Object.freeze(t),e&&Object.entries(t).forEach(([r,n])=>H5(n,!0))),t}function RX(){yi(2)}function Hy(t){return Object.isFrozen(t)}var MX={};function Xl(t){const e=MX[t];return e||yi(0,t),e}var b0;function Q9(){return b0}function LX(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ES(t,e){e&&(Xl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tw(t){rw(t),t.drafts_.forEach(_X),t.drafts_=null}function rw(t){t===b0&&(b0=t.parent_)}function SS(t){return b0=LX(b0,t)}function _X(t){const e=t[bn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function kS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[bn].modified_&&(tw(e),yi(4)),Hs(t)&&(t=qp(e,t),e.parent_||Xp(e,t)),e.patches_&&Xl("Patches").generateReplacementPatches_(r[bn].base_,t,e.patches_,e.inversePatches_)):t=qp(e,r,[]),tw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==W9?t:void 0}function qp(t,e,r){if(Hy(e))return e;const n=e[bn];if(!n)return Yp(e,(i,s)=>PS(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Xp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Yp(s,(l,c)=>PS(t,n,i,l,c,r,a)),Xp(t,i,!1),r&&t.patches_&&Xl("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function PS(t,e,r,n,i,s,a){if(ql(i)){const l=s&&e&&e.type_!==3&&!Zb(e.assigned_,n)?s.concat(n):void 0,c=qp(t,i,l);if(K9(r,n,c),ql(c))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Hs(i)&&!Hy(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;qp(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Xp(t,i)}}function Xp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&H5(e,r)}function BX(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Q9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=W5;r&&(i=[n],s=w0);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var W5={get(t,e){if(e===bn)return t;const r=Uo(t);if(!Zb(r,e))return FX(t,r,e);const n=r[e];return t.finalized_||!Hs(n)?n:n===Ox(t.base_,e)?(Ix(t),t.copy_[e]=iw(n,t)):n},has(t,e){return e in Uo(t)},ownKeys(t){return Reflect.ownKeys(Uo(t))},set(t,e,r){const n=Y9(Uo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=Ox(Uo(t),e),s=i==null?void 0:i[bn];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(DX(r,i)&&(r!==void 0||Zb(t.base_,e)))return!0;Ix(t),nw(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ox(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Ix(t),nw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Uo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){yi(11)},getPrototypeOf(t){return pd(t.base_)},setPrototypeOf(){yi(12)}},w0={};Yp(W5,(t,e)=>{w0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});w0.deleteProperty=function(t,e){return w0.set.call(this,t,e,void 0)};w0.set=function(t,e,r){return W5.set.call(this,t[0],e,r,t[0])};function Ox(t,e){const r=t[bn];return(r?Uo(r):t)[e]}function FX(t,e,r){var i;const n=Y9(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function Y9(t,e){if(!(e in t))return;let r=pd(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=pd(r)}}function nw(t){t.modified_||(t.modified_=!0,t.parent_&&nw(t.parent_))}function Ix(t){t.copy_||(t.copy_=ew(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&yi(6),n!==void 0&&typeof n!="function"&&yi(7);let i;if(Hs(e)){const s=SS(this),a=iw(e,void 0);let l=!0;try{i=r(a),l=!1}finally{l?tw(s):rw(s)}return ES(s,n),kS(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===W9&&(i=void 0),this.autoFreeze_&&H5(i,!0),n){const s=[],a=[];Xl("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else yi(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let n,i;return[this.produce(e,r,(a,l)=>{n=a,i=l}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Hs(t)||yi(8),ql(t)&&(t=Rs(t));const e=SS(this),r=iw(t,void 0);return r[bn].isManual_=!0,rw(e),r}finishDraft(t,e){const r=t&&t[bn];(!r||!r.isManual_)&&yi(9);const{scope_:n}=r;return ES(n,e),kS(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Xl("Patches").applyPatches_;return ql(t)?n(t,e):this.produce(t,i=>n(i,e))}};function iw(t,e){const r=Vy(t)?Xl("MapSet").proxyMap_(t,e):zy(t)?Xl("MapSet").proxySet_(t,e):BX(t,e);return(e?e.scope_:Q9()).drafts_.push(r),r}function Rs(t){return ql(t)||yi(10,t),q9(t)}function q9(t){if(!Hs(t)||Hy(t))return t;const e=t[bn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=ew(t,e.scope_.immer_.useStrictShallowCopy_)}else r=ew(t,!0);return Yp(r,(n,i)=>{K9(r,n,q9(i))}),e&&(e.finalized_=!1),r}var wn=new UX,X9=wn.produce;wn.produceWithPatches.bind(wn);wn.setAutoFreeze.bind(wn);wn.setUseStrictShallowCopy.bind(wn);wn.applyPatches.bind(wn);wn.createDraft.bind(wn);wn.finishDraft.bind(wn);function J9(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var $X=J9(),VX=J9,zX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qp:Qp.apply(null,arguments)};function Yn(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(pn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>H9(n)&&n.type===t,r}var Z9=class vf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,vf.prototype)}static get[Symbol.species](){return vf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new vf(...e[0].concat(this)):new vf(...e.concat(this))}};function CS(t){return Hs(t)?X9(t,()=>{}):t}function rm(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function HX(t){return typeof t=="boolean"}var WX=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Z9;return r&&(HX(r)?a.push($X):a.push(VX(r.extraArgument))),a},GX="RTK_autoBatch",TS=t=>e=>{setTimeout(e,t)},KX=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:TS(10):t.type==="callback"?t.queueNotification:TS(t.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[GX]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},QX=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new Z9(t);return n&&i.push(KX(typeof n=="object"?n:void 0)),i};function YX(t){const e=WX(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof r=="function")l=r;else if(z5(r))l=z9(r);else throw new Error(pn(1));let c;typeof n=="function"?c=n(e):c=e();let u=Qp;i&&(u=zX({trace:!1,...typeof i=="object"&&i}));const d=OX(...c),f=QX(d);let h=typeof a=="function"?a(f):f();const m=u(...h);return V9(l,s,m)}function eI(t){const e={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(pn(28));if(l in e)throw new Error(pn(29));return e[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function qX(t){return typeof t=="function"}function XX(t,e){let[r,n,i]=eI(e),s;if(qX(t))s=()=>CS(t());else{const l=CS(t);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(ql(d)){const m=f(d,c);return m===void 0?d:m}else{if(Hs(d))return X9(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var JX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZX=(t=21)=>{let e="",r=t;for(;r--;)e+=JX[Math.random()*64|0];return e},eJ=Symbol.for("rtk-slice-createasyncthunk");function tJ(t,e){return`${t}/${e}`}function rJ({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[eJ];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(pn(11));const l=(typeof i.reducers=="function"?i.reducers(iJ()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,E){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(pn(12));if(S in u.sliceCaseReducersByType)throw new Error(pn(13));return u.sliceCaseReducersByType[S]=E,d},addMatcher(j,E){return u.sliceMatchers.push({matcher:j,reducer:E}),d},exposeAction(j,E){return u.actionCreators[j]=E,d},exposeCaseReducer(j,E){return u.sliceCaseReducersByName[j]=E,d}};c.forEach(j=>{const E=l[j],S={reducerName:j,type:tJ(s,j),createNotation:typeof i.reducers=="function"};aJ(E)?lJ(S,E,d,e):sJ(S,E,d)});function f(){const[j={},E=[],S=void 0]=typeof i.extraReducers=="function"?eI(i.extraReducers):[i.extraReducers],k={...j,...u.sliceCaseReducersByType};return XX(i.initialState,N=>{for(let C in k)N.addCase(C,k[C]);for(let C of u.sliceMatchers)N.addMatcher(C.matcher,C.reducer);for(let C of E)N.addMatcher(C.matcher,C.reducer);S&&N.addDefaultCase(S)})}const h=j=>j,m=new Map,g=new WeakMap;let y;function w(j,E){return y||(y=f()),y(j,E)}function x(){return y||(y=f()),y.getInitialState()}function v(j,E=!1){function S(N){let C=N[j];return typeof C>"u"&&E&&(C=rm(g,S,x)),C}function k(N=h){const C=rm(m,E,()=>new WeakMap);return rm(C,N,()=>{const R={};for(const[D,B]of Object.entries(i.selectors??{}))R[D]=nJ(B,N,()=>rm(g,N,x),E);return R})}return{reducerPath:j,getSelectors:k,get selectors(){return k(S)},selectSlice:S}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...v(a),injectInto(j,{reducerPath:E,...S}={}){const k=E??a;return j.inject({reducerPath:k,reducer:w},S),{...b,...v(k,!0)}}};return b}}function nJ(t,e,r,n){function i(s,...a){let l=e(s);return typeof l>"u"&&n&&(l=r()),t(l,...a)}return i.unwrapped=t,i}var En=rJ();function iJ(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function sJ({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!oJ(n))throw new Error(pn(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Yn(t,a):Yn(t))}function aJ(t){return t._reducerDefinitionType==="asyncThunk"}function oJ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lJ({type:t,reducerName:e},r,n,i){if(!i)throw new Error(pn(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(t,s,d);n.exposeAction(e,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:a||nm,pending:l||nm,rejected:c||nm,settled:u||nm})}function nm(){}var cJ="task",tI="listener",rI="completed",G5="cancelled",uJ=`task-${G5}`,dJ=`task-${rI}`,sw=`${tI}-${G5}`,fJ=`${tI}-${rI}`,Wy=class{constructor(t){U(this,"name","TaskAbortError");U(this,"message");this.code=t,this.message=`${cJ} ${G5} (reason: ${t})`}},K5=(t,e)=>{if(typeof t!="function")throw new TypeError(pn(32))},Jp=()=>{},nI=(t,e=Jp)=>(t.catch(e),t),iI=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Dl=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Rl=t=>{if(t.aborted){const{reason:e}=t;throw new Wy(e)}};function sI(t,e){let r=Jp;return new Promise((n,i)=>{const s=()=>i(new Wy(t.reason));if(t.aborted){s();return}r=iI(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Jp})}var hJ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Wy?"cancelled":"rejected",error:r}}finally{e==null||e()}},Zp=t=>e=>nI(sI(t,e).then(r=>(Rl(t),r))),aI=t=>{const e=Zp(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:iu}=Object,OS={},Gy="listenerMiddleware",mJ=(t,e)=>{const r=n=>iI(t,()=>Dl(n,t.reason));return(n,i)=>{K5(n);const s=new AbortController;r(s);const a=hJ(async()=>{Rl(t),Rl(s.signal);const l=await n({pause:Zp(s.signal),delay:aI(s.signal),signal:s.signal});return Rl(s.signal),l},()=>Dl(s,dJ));return i!=null&&i.autoJoin&&e.push(a.catch(Jp)),{result:Zp(t)(a),cancel(){Dl(s,uJ)}}}},pJ=(t,e)=>{const r=async(n,i)=>{Rl(e);let s=()=>{};const l=[new Promise((c,u)=>{let d=t({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await sI(e,Promise.race(l));return Rl(e),c}finally{s()}};return(n,i)=>nI(r(n,i))},oI=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Yn(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(pn(21));return K5(s),{predicate:i,type:e,effect:s}},lI=iu(t=>{const{type:e,predicate:r,effect:n}=oI(t);return{id:ZX(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pn(22))}}},{withTypes:()=>lI}),IS=(t,e)=>{const{type:r,effect:n,predicate:i}=oI(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},aw=t=>{t.pending.forEach(e=>{Dl(e,sw)})},gJ=t=>()=>{t.forEach(aw),t.clear()},DS=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},cI=iu(Yn(`${Gy}/add`),{withTypes:()=>cI}),yJ=Yn(`${Gy}/removeAll`),uI=iu(Yn(`${Gy}/remove`),{withTypes:()=>uI}),xJ=(...t)=>{console.error(`${Gy}/error`,...t)},oh=(t={})=>{const e=new Map,{extra:r,onError:n=xJ}=t;K5(n);const i=d=>(d.unsubscribe=()=>e.delete(d.id),e.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&aw(d)}),s=d=>{const f=IS(e,d)??lI(d);return i(f)};iu(s,{withTypes:()=>s});const a=d=>{const f=IS(e,d);return f&&(f.unsubscribe(),d.cancelActive&&aw(f)),!!f};iu(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const g=new AbortController,y=pJ(s,g.signal),w=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,iu({},h,{getOriginalState:m,condition:(x,v)=>y(x,v).then(Boolean),take:y,delay:aI(g.signal),pause:Zp(g.signal),extra:r,signal:g.signal,fork:mJ(g.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{e.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,v,b)=>{x!==g&&(Dl(x,sw),b.delete(x))})},cancel:()=>{Dl(g,sw),d.pending.delete(g)},throwIfCancelled:()=>{Rl(g.signal)}})))}catch(x){x instanceof Wy||DS(n,x,{raisedBy:"effect"})}finally{await Promise.all(w),Dl(g,fJ),d.pending.delete(g)}},c=gJ(e);return{middleware:d=>f=>h=>{if(!H9(h))return f(h);if(cI.match(h))return s(h.payload);if(yJ.match(h)){c();return}if(uI.match(h))return a(h.payload);let m=d.getState();const g=()=>{if(m===OS)throw new Error(pn(23));return m};let y;try{if(y=f(h),e.size>0){const w=d.getState(),x=Array.from(e.values());for(const v of x){let b=!1;try{b=v.predicate(h,w,m)}catch(j){b=!1,DS(n,j,{raisedBy:"predicate"})}b&&l(v,h,d,g)}}}finally{m=OS}return y},startListening:s,stopListening:a,clearListeners:c}};function pn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var vJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dI=En({name:"chartLayout",initialState:vJ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:bJ,setLayout:wJ,setChartSize:jJ,setScale:NJ}=dI.actions,AJ=dI.reducer;function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){EJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EJ(t,e,r){return(e=SJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SJ(t){var e=kJ(t,"string");return typeof e=="symbol"?e:e+""}function kJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eg=Math.PI/180,PJ=t=>t*180/Math.PI,It=(t,e,r,n)=>({x:t+Math.cos(-eg*n)*r,y:e+Math.sin(-eg*n)*r}),fI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},CJ=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},TJ=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=CJ({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:PJ(c),angleInRadian:c}},OJ=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},IJ=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},DJ=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:s}=TJ({x:r,y:n},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=OJ(e),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?MS(MS({},e),{},{radius:i,angle:IJ(d,e)}):null};function hI(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function LS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(r),!0).forEach(function(n){RJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RJ(t,e,r){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:e+""}function LJ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function We(t,e,r){return rt(t)||rt(e)?r:Xi(e)?uo(t,e,r):typeof e=="function"?e(t):r}var _J=(t,e,r,n,i)=>{var s,a=-1,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Yt(d-u)!==Yt(f-d)){var m=[];if(Yt(f-d)===Yt(i[1]-i[0])){h=f;var g=d+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var y=f+i[1]-i[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(t>w[0]&&t<=w[1]||t>=m[0]&&t<=m[1]){({index:a}=r[c]);break}}else{var x=Math.min(u,f),v=Math.max(u,f);if(t>(x+d)/2&&t<=(v+d)/2){({index:a}=r[c]);break}}}else if(e){for(var b=0;b<l;b++)if(b===0&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b>0&&b<l-1&&t>(e[b].coordinate+e[b-1].coordinate)/2&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b===l-1&&t>(e[b].coordinate+e[b-1].coordinate)/2){({index:a}=e[b]);break}}return a},BJ=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&re(t[s]))return zn(zn({},t),{},{[s]:t[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&re(t[a]))return zn(zn({},t),{},{[a]:t[a]+(i||0)})}return t},jo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",mI=(t,e,r,n)=>{if(n)return t.map(l=>l.coordinate);var i,s,a=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(e),s||a.push(r),a},pI=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=t;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=m==="angleAxis"&&s&&s.length>=2?Yt(s[0]-s[1])*2*y:y,f||h){var w=(f||h||[]).map((x,v)=>{var b=n?n.indexOf(x):x;return{coordinate:a(b)+y,value:x,offset:y,index:v}});return w.filter(x=>!vn(x.coordinate))}return c&&u?u.map((x,v)=>({coordinate:a(x)+y,value:x,index:v,offset:y})):a.ticks&&d!=null?a.ticks(d).map((x,v)=>({coordinate:a(x)+y,value:x,offset:y,index:v})):a.domain().map((x,v)=>({coordinate:a(x)+y,value:n?n[x]:x,index:v,offset:y}))},_S=1e-4,FJ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-_S,s=Math.max(n[0],n[1])+_S,a=t(e[0]),l=t(e[r-1]);(a<i||a>s||l<i||l>s)&&t.domain([e[0],e[r-1]])}},UJ=(t,e)=>{if(!e||e.length!==2||!re(e[0])||!re(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!re(t[0])||t[0]<r)&&(i[0]=r),(!re(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},$J=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0,a=0;a<e;++a){var l=vn(t[a][r][1])?t[a][r][0]:t[a][r][1];l>=0?(t[a][r][0]=i,t[a][r][1]=i+l,i=t[a][r][1]):(t[a][r][0]=s,t[a][r][1]=s+l,s=t[a][r][1])}},VJ=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,s=0;s<e;++s){var a=vn(t[s][r][1])?t[s][r][0]:t[s][r][1];a>=0?(t[s][r][0]=i,t[s][r][1]=i+a,i=t[s][r][1]):(t[s][r][0]=0,t[s][r][1]=0)}},zJ={sign:$J,expand:Tq,none:hd,silhouette:Oq,wiggle:Iq,positive:VJ},HJ=(t,e,r)=>{var n=zJ[r],i=Cq().keys(e).value((s,a)=>+We(s,a,0)).order(Xb).offset(n);return i(t)};function WJ(t){return t==null?void 0:String(t)}function BS(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!rt(i[e.dataKey])){var l=KO(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=We(i,rt(a)?e.dataKey:a);return rt(c)?null:e.scale(c)}var FS=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:s,index:a}=t;if(e.type==="category")return r[a]?r[a].coordinate+n:null;var l=We(s,e.dataKey,e.scale.domain()[a]);return rt(l)?null:e.scale(l)-i/2+n},GJ=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},KJ=t=>{var e=t.flat(2).filter(re);return[Math.min(...e),Math.max(...e)]},QJ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],YJ=(t,e,r)=>{if(t!=null)return QJ(Object.keys(t).reduce((n,i)=>{var s=t[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=hI(u,e,r),f=KJ(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},US=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$S=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j0=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=Uy(e,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function VS(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return zn(zn({},e),{},{dataKey:r,payload:n,value:i,name:s})}function Pd(t,e){if(t)return String(t);if(typeof e=="string")return e}function qJ(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return n?DJ({x:t,y:e},n):null}var XJ=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=n;return zn(zn(zn({},n),It(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return zn(zn(zn({},n),It(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},JJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Js=t=>t.layout.width,Zs=t=>t.layout.height,ZJ=t=>t.layout.scale,gI=t=>t.layout.margin,Q5=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Y5=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),yI="data-recharts-item-index",xI="data-recharts-item-data-key",Ky=60;function zS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zS(Object(r),!0).forEach(function(n){eZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eZ(t,e,r){return(e=tZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tZ(t){var e=rZ(t,"string");return typeof e=="symbol"?e:e+""}function rZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nZ=t=>t.brush.height,Ut=V([Js,Zs,gI,nZ,Q5,Y5,$9,EX],(t,e,r,n,i,s,a,l)=>{var c=s.reduce((g,y)=>{var{orientation:w}=y;if(!y.mirror&&!y.hide){var x=typeof y.width=="number"?y.width:Ky;return la(la({},g),{},{[w]:g[w]+x})}return g},{left:r.left||0,right:r.right||0}),u=i.reduce((g,y)=>{var{orientation:w}=y;return!y.mirror&&!y.hide?la(la({},g),{},{[w]:uo(g,"".concat(w))+y.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=la(la({},u),c),f=d.bottom;d.bottom+=n,d=BJ(d,a,l);var h=t-d.left-d.right,m=e-d.top-d.bottom;return la(la({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),iZ=V(Ut,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),vI=V(Js,Zs,(t,e)=>({x:0,y:0,width:t,height:e})),sZ=p.createContext(null),Jr=()=>p.useContext(sZ)!=null,Qy=t=>t.brush,Yy=V([Qy,Ut,gI],(t,e,r)=>({height:t.height,x:re(t.x)?t.x:e.left,y:re(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:re(t.width)?t.width:e.width})),q5=()=>{var t,e=Jr(),r=ce(iZ),n=ce(Yy),i=(t=ce(Qy))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},aZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},bI=()=>{var t;return(t=ce(Ut))!==null&&t!==void 0?t:aZ},wI=()=>ce(Js),jI=()=>ce(Zs),ke=t=>t.layout.layoutType,qy=()=>ce(ke),oZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NI=En({name:"legend",initialState:oZ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Rs(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:Afe,setLegendSettings:Efe,addLegendPayload:AI,removeLegendPayload:EI}=NI.actions,lZ=NI.reducer;function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ow.apply(null,arguments)}function HS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(r),!0).forEach(function(n){cZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cZ(t,e,r){return(e=uZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uZ(t){var e=dZ(t,"string");return typeof e=="symbol"?e:e+""}function dZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fZ(t){return Array.isArray(t)&&Xi(t[0])&&Xi(t[1])?t.join(" ~ "):t}var hZ=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=t,m=()=>{if(s&&s.length){var E={padding:0,margin:0},S=(l?Uy(s,l):s).map((k,N)=>{if(k.type==="none")return null;var C=k.formatter||a||fZ,{value:R,name:D}=k,B=R,z=D;if(C){var Q=C(R,D,k,N,s);if(Array.isArray(Q))[B,z]=Q;else if(Q!=null)B=Q;else return null}var T=Dx({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:T},Xi(z)?p.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Xi(z)?p.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,p.createElement("span",{className:"recharts-tooltip-item-value"},B),p.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:E},S)}return null},g=Dx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=Dx({margin:0},i),w=!rt(d),x=w?d:"",v=De("recharts-default-tooltip",c),b=De("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(x=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",ow({className:v,style:g},j),p.createElement("p",{className:b,style:y},p.isValidElement(x)?x:"".concat(x)),m())},Jd="recharts-tooltip-wrapper",mZ={visibility:"hidden"};function pZ(t){var{coordinate:e,translateX:r,translateY:n}=t;return De(Jd,{["".concat(Jd,"-right")]:re(r)&&e&&re(e.x)&&r>=e.x,["".concat(Jd,"-left")]:re(r)&&e&&re(e.x)&&r<e.x,["".concat(Jd,"-bottom")]:re(n)&&e&&re(e.y)&&n>=e.y,["".concat(Jd,"-top")]:re(n)&&e&&re(e.y)&&n<e.y})}function WS(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=t;if(s&&re(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(e[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,w=h+u;return y>w?Math.max(d,h):Math.max(f,h)}function gZ(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yZ(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=t,u,d,f;return a.height>0&&a.width>0&&r?(d=WS({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=WS({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=gZ({translateX:d,translateY:f,useTranslate3d:l})):u=mZ,{cssProperties:u,cssClasses:pZ({translateX:d,translateY:f,coordinate:r})}}function GS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function im(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GS(Object(r),!0).forEach(function(n){lw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lw(t,e,r){return(e=xZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xZ(t){var e=vZ(t,"string");return typeof e=="symbol"?e:e+""}function vZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bZ extends p.PureComponent{constructor(){super(...arguments),lw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:w,hasPortalFromProps:x}=this.props,{cssClasses:v,cssProperties:b}=yZ({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=x?{}:im(im({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),E=im(im({},j),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},g);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:E,ref:w},s)}}var wZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),cc={isSsr:wZ()},SI=()=>ce(t=>t.rootProps.accessibilityLayer);function jn(t){return Number.isFinite(t)}function gd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(null,arguments)}function KS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(r),!0).forEach(function(n){jZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jZ(t,e,r){return(e=NZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NZ(t){var e=AZ(t,"string");return typeof e=="symbol"?e:e+""}function AZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YS={curveBasisClosed:xq,curveBasisOpen:vq,curveBasis:yq,curveBumpX:nq,curveBumpY:iq,curveLinearClosed:bq,curveLinear:Dy,curveMonotoneX:wq,curveMonotoneY:jq,curveNatural:Nq,curveStep:Aq,curveStepAfter:Sq,curveStepBefore:Eq},sm=t=>jn(t.x)&&jn(t.y),Zd=t=>t.x,ef=t=>t.y,EZ=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(sh(t));return(r==="curveMonotone"||r==="curveBump")&&e?YS["".concat(r).concat(e==="vertical"?"Y":"X")]:YS[r]||Dy},SZ=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=EZ(e,i),l=s?r.filter(sm):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>sm(f)):n,d=l.map((f,h)=>QS(QS({},f),{},{base:u[h]}));return i==="vertical"?c=Zh().y(ef).x1(Zd).x0(f=>f.base.x):c=Zh().x(Zd).y1(ef).y0(f=>f.base.y),c.defined(sm).curve(a),c(d)}return i==="vertical"&&re(n)?c=Zh().y(ef).x1(Zd).x0(n):re(n)?c=Zh().x(Zd).y1(ef).y0(n):c=n9().x(Zd).y(ef),c.defined(sm).curve(a),c(l)},X5=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var s=r&&r.length?SZ(t):n;return p.createElement("path",cw({},Xs(t),C5(t),{className:De("recharts-curve",e),d:s===null?void 0:s,ref:i}))},kZ=["x","y","top","left","width","height","className"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uw.apply(null,arguments)}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PZ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){CZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CZ(t,e,r){return(e=TZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TZ(t){var e=OZ(t,"string");return typeof e=="symbol"?e:e+""}function OZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IZ(t,e){if(t==null)return{};var r,n,i=DZ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function DZ(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var RZ=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),MZ=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=IZ(t,kZ),u=PZ({x:e,y:r,top:n,left:i,width:s,height:a},c);return!re(e)||!re(r)||!re(s)||!re(a)||!re(n)||!re(i)?null:p.createElement("path",uw({},at(u,!0),{className:De("recharts-cross",l),d:RZ(e,r,s,a,n,i)}))};function LZ(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){BZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BZ(t,e,r){return(e=FZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FZ(t){var e=UZ(t,"string");return typeof e=="symbol"?e:e+""}function UZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sn(t,e){var r=_Z({},t),n=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var kI={},PI={},CI={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}t.isPlainObject=e})(CI);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CI,r=B5,n=_y,i=By,s=Ly;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,g,y){const w=y(u,d,f,h,m,g);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,g,y)}return c(u,d,g,y)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),g=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const x=u.valueOf(),v=d.valueOf();return s.eq(x,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const y=f.get(u),w=f.get(d);if(y!=null&&w!=null)return y===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[x,v]of u.entries())if(!d.has(x)||!l(v,d.get(x),x,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const x=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<x.length;b++){const j=x[b],E=v.findIndex(S=>l(j,S,void 0,u,d,f,h));if(E===-1)return!1;v.splice(E,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let x=0;x<u.length;x++)if(!l(u[x],d[x],x,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||e.isPlainObject(u)&&e.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const E=v[j],S=u[E];if(!Object.hasOwn(d,E))return!1;const k=d[E];if(!l(S,k,E,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}t.isEqualWith=a})(PI);var TI={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(TI);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PI,r=TI;function n(i,s){return e.isEqualWith(i,s,r.noop)}t.isEqual=n})(kI);var $Z=kI.isEqual;const VZ=Zi($Z);var tg=1e-4,OI=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],II=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),JS=(t,e)=>r=>{var n=OI(t,e);return II(n,r)},zZ=(t,e)=>r=>{var n=OI(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return II(i,r)},ZS=function(){for(var e,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([e,n,r,i]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([e,n,r,i]=a);var u=JS(e,r),d=JS(n,i),f=zZ(e,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var y=g>1?1:g,w=y,x=0;x<8;++x){var v=u(w)-y,b=f(w);if(Math.abs(v-y)<tg||b<tg)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},HZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<tg&&Math.abs(f)<tg?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},DI=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZS(t);case"spring":return HZ();default:if(t.split("(")[0]==="cubic-bezier")return ZS(t)}return typeof t=="function"?t:null};function e3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(r),!0).forEach(function(n){WZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WZ(t,e,r){return(e=GZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GZ(t){var e=KZ(t,"string");return typeof e=="symbol"?e:e+""}function KZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QZ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),YZ=(t,e,r)=>t.map(n=>"".concat(QZ(n)," ").concat(e,"ms ").concat(r)).join(","),qZ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),N0=(t,e)=>Object.keys(e).reduce((r,n)=>t3(t3({},r),{},{[n]:t(n,e[n])}),{});function r3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(r),!0).forEach(function(n){XZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XZ(t,e,r){return(e=JZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JZ(t){var e=ZZ(t,"string");return typeof e=="symbol"?e:e+""}function ZZ(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rg=(t,e,r)=>t+(e-t)*r,dw=t=>{var{from:e,to:r}=t;return e!==r},RI=(t,e,r)=>{var n=N0((i,s)=>{if(dw(s)){var[a,l]=t(s.from,s.to,s.velocity);return rr(rr({},s),{},{from:a,velocity:l})}return s},e);return r<1?N0((i,s)=>dw(s)?rr(rr({},s),{},{velocity:rg(s.velocity,n[i].velocity,r),from:rg(s.from,n[i].from,r)}):s,e):RI(t,n,r-1)};function eee(t,e,r,n,i,s){var a,l=n.reduce((h,m)=>rr(rr({},h),{},{[m]:{from:t[m],velocity:0,to:e[m]}}),{}),c=()=>N0((h,m)=>m.from,l),u=()=>!Object.values(l).filter(dw).length,d=null,f=h=>{a||(a=h);var m=h-a,g=m/r.dt;l=RI(r,l,g),i(rr(rr(rr({},t),e),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function tee(t,e,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>rr(rr({},f),{},{[h]:[t[h],e[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=N0((y,w)=>rg(...w,r(h)),c);if(s(rr(rr(rr({},t),e),m)),h<1)l=a.setTimeout(d);else{var g=N0((y,w)=>rg(...w,r(1)),c);s(rr(rr(rr({},t),e),g))}};return()=>(l=a.setTimeout(d),()=>{l()})}const MI=(t,e,r,n,i,s)=>{var a=qZ(t,e);return r.isStepper===!0?eee(t,e,r,a,i,s):tee(t,e,r,n,a,i,s)};function ree(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,u),c);return}s(c),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class nee{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function iee(){return ree(new nee)}var see=p.createContext(iee);function LI(t,e){var r=p.useContext(see);return p.useMemo(()=>e??r(t),[t,e,r])}var aee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fw.apply(null,arguments)}function oee(t,e){if(t==null)return{};var r,n,i=lee(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lee(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function n3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n3(Object(r),!0).forEach(function(n){nl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nl(t,e,r){return(e=cee(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cee(t){var e=uee(t,"string");return typeof e=="symbol"?e:e+""}function uee(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class J5 extends p.PureComponent{constructor(e,r){super(e,r),nl(this,"mounted",!1),nl(this,"manager",void 0),nl(this,"stopJSAnimation",null),nl(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:r}=this.props;this.mounted=!0,!(!e||!r)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(VZ(e.to,a)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:e.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(ca(ca({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=e,u=MI(r,n,DI(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(e){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(e);return}var d=i?{[i]:s}:s,f=YZ(Object.keys(d),n,a);this.manager.start([l,r,ca(ca({},d),{},{transition:f}),n,c])}render(){var e=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:g}=e,y=oee(e,aee),w=p.Children.count(r),x=this.state.style;if(typeof r=="function")return r(x);if(!l||w===0||i<=0)return r;var v=b=>{var{style:j={},className:E}=b.props,S=p.cloneElement(b,ca(ca({},y),{},{style:ca(ca({},j),x),className:E}));return S};return w===1?v(p.Children.only(r)):p.createElement("div",null,p.Children.map(r,b=>v(b)))}}nl(J5,"displayName","Animate");nl(J5,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function ng(t){var e,r=LI((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return p.createElement(J5,fw({},t,{animationManager:r}))}function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ig.apply(null,arguments)}var i3=(t,e,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(t,",").concat(e+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+l*d[0],",").concat(e)),u+="L ".concat(t+r-l*d[1],",").concat(e),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(e+a*d[1])),u+="L ".concat(t+r,",").concat(e+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-l*d[2],",").concat(e+n)),u+="L ".concat(t+l*d[3],",").concat(e+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(e+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(e,`
            L `).concat(t+r-l*m,",").concat(e,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r,",").concat(e+a*m,`
            L `).concat(t+r,",").concat(e+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+r-l*m,",").concat(e+n,`
            L `).concat(t+l*m,",").concat(e+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(e+n-a*m," Z")}else u="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},dee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_I=t=>{var e=Sn(t,dee),r=p.useRef(null),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var x=r.current.getTotalLength();x&&i(x)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=e;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=De("recharts-rectangle",d);return y?p.createElement(ng,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:y},x=>{var{width:v,height:b,x:j,y:E}=x;return p.createElement(ng,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:f},p.createElement("path",ig({},at(e,!0),{className:w,d:i3(j,E,v,b,u),ref:r})))}):p.createElement("path",ig({},at(e,!0),{className:w,d:i3(s,a,l,c,u)}))};function BI(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=It(e,r,n,i),l=It(e,r,n,s);return{points:[a,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(null,arguments)}var fee=(t,e)=>{var r=Yt(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},am=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,u=l*(a?1:-1)+n,d=Math.asin(l/u)/eg,f=c?i:i+s*d,h=It(e,r,u,f),m=It(e,r,n,f),g=c?i-s*d:i,y=It(e,r,u*Math.cos(d*eg),g);return{center:h,circleTangency:m,lineTangency:y,theta:d}},FI=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,l=fee(s,a),c=s+l,u=It(e,r,i,s),d=It(e,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=It(e,r,n,s),m=It(e,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(e,",").concat(r," Z");return f},hee=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=t,d=Yt(u-c),{circleTangency:f,lineTangency:h,theta:m}=am({cx:e,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:y,theta:w}=am({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(x<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):FI({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:E}=am({cx:e,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:k,theta:N}=am({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),C=l?Math.abs(c-u):Math.abs(c-u)-E-N;if(C<0&&s===0)return"".concat(v,"L").concat(e,",").concat(r,"Z");v+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(C>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(e,",").concat(r,"Z");return v},mee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UI=t=>{var e=Sn(t,mee),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=e;if(s<i||u===d)return null;var h=De("recharts-sector",f),m=s-i,g=Rr(a,m,0,!0),y;return g>0&&Math.abs(u-d)<360?y=hee({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=FI({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),p.createElement("path",hw({},at(e,!0),{className:h,d:y}))};function pee(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=e,h=It(l,c,u,f),m=It(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return BI(e);return[{x:n,y:i},{x:s,y:a}]}var $I={},VI={},zI={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$5;function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(zI);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zI;function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(VI);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V5,r=VI;function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}t.range=n})($I);var gee=$I.range;const HI=Zi(gee);function Ja(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z5(t){let e,r,n;t.length!==2?(e=Ja,r=(l,c)=>Ja(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ja||t===yee?t:xee,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function xee(){return 0}function WI(t){return t===null?NaN:+t}function*vee(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const bee=Z5(Ja),lh=bee.right;Z5(WI).center;class s3 extends Map{constructor(e,r=Nee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(a3(this,e))}has(e){return super.has(a3(this,e))}set(e,r){return super.set(wee(this,e),r)}delete(e){return super.delete(jee(this,e))}}function a3({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function wee({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function jee({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Nee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Aee(t=Ja){if(t===Ja)return GI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function GI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Eee=Math.sqrt(50),See=Math.sqrt(10),kee=Math.sqrt(2);function sg(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Eee?10:s>=See?5:s>=kee?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?sg(t,e,r*2):[l,c,u]}function mw(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?sg(e,t,r):sg(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function pw(t,e,r){return e=+e,t=+t,r=+r,sg(t,e,r)[2]}function gw(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?pw(e,t,r):pw(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function o3(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l3(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function KI(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?GI:Aee(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(e-u*f/c+h)),g=Math.min(n,Math.floor(e+(c-u)*f/c+h));KI(t,e,m,g,i)}const s=t[e];let a=r,l=n;for(tf(t,r,e),i(t[n],s)>0&&tf(t,r,n);a<l;){for(tf(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?tf(t,r,l):(++l,tf(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function tf(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Pee(t,e,r){if(t=Float64Array.from(vee(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return l3(t);if(e>=1)return o3(t);var n,i=(n-1)*e,s=Math.floor(i),a=o3(KI(t,s).subarray(0,s+1)),l=l3(t.subarray(s+1));return a+(l-a)*(i-s)}}function Cee(t,e,r=WI){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function Tee(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Jn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ea(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yw=Symbol("implicit");function e6(){var t=new s3,e=[],r=[],n=yw;function i(s){let a=t.get(s);if(a===void 0){if(n!==yw)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new s3;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return e6(e,r).unknown(n)},Jn.apply(i,arguments),i}function t6(){var t=e6().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,m=i<n,g=m?i:n,y=m?n:i;s=(y-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(y-g-s*(h-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var w=Tee(h).map(function(x){return g+s*x});return r(m?w.reverse():w)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return t6(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Jn.apply(f(),arguments)}function QI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QI(e())},t}function Oee(){return QI(t6.apply(null,arguments).paddingInner(1))}function r6(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function YI(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ch(){}var A0=.7,ag=1/A0,su="\\s*([+-]?\\d+)\\s*",E0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iee=/^#([0-9a-f]{3,8})$/,Dee=new RegExp(`^rgb\\(${su},${su},${su}\\)$`),Ree=new RegExp(`^rgb\\(${Yi},${Yi},${Yi}\\)$`),Mee=new RegExp(`^rgba\\(${su},${su},${su},${E0}\\)$`),Lee=new RegExp(`^rgba\\(${Yi},${Yi},${Yi},${E0}\\)$`),_ee=new RegExp(`^hsl\\(${E0},${Yi},${Yi}\\)$`),Bee=new RegExp(`^hsla\\(${E0},${Yi},${Yi},${E0}\\)$`),c3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r6(ch,S0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:u3,formatHex:u3,formatHex8:Fee,formatHsl:Uee,formatRgb:d3,toString:d3});function u3(){return this.rgb().formatHex()}function Fee(){return this.rgb().formatHex8()}function Uee(){return qI(this).formatHsl()}function d3(){return this.rgb().formatRgb()}function S0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Iee.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?f3(e):r===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?om(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?om(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Dee.exec(t))?new Wr(e[1],e[2],e[3],1):(e=Ree.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mee.exec(t))?om(e[1],e[2],e[3],e[4]):(e=Lee.exec(t))?om(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_ee.exec(t))?p3(e[1],e[2]/100,e[3]/100,1):(e=Bee.exec(t))?p3(e[1],e[2]/100,e[3]/100,e[4]):c3.hasOwnProperty(t)?f3(c3[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function f3(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function om(t,e,r,n){return n<=0&&(t=e=r=NaN),new Wr(t,e,r,n)}function $ee(t){return t instanceof ch||(t=S0(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function xw(t,e,r,n){return arguments.length===1?$ee(t):new Wr(t,e,r,n??1)}function Wr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}r6(Wr,xw,YI(ch,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?A0:Math.pow(A0,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(Ml(this.r),Ml(this.g),Ml(this.b),og(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h3,formatHex:h3,formatHex8:Vee,formatRgb:m3,toString:m3}));function h3(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function Vee(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function m3(){const t=og(this.opacity);return`${t===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${t===1?")":`, ${t})`}`}function og(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ml(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function il(t){return t=Ml(t),(t<16?"0":"")+t.toString(16)}function p3(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,r,n)}function qI(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof ch||(t=S0(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-e)/l+2:a=(e-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new xi(a,l,c,t.opacity)}function zee(t,e,r,n){return arguments.length===1?qI(t):new xi(t,e,r,n??1)}function xi(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}r6(xi,zee,YI(ch,{brighter(t){return t=t==null?ag:Math.pow(ag,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?A0:Math.pow(A0,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Wr(Rx(t>=240?t-240:t+120,i,n),Rx(t,i,n),Rx(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new xi(g3(this.h),lm(this.s),lm(this.l),og(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=og(this.opacity);return`${t===1?"hsl(":"hsla("}${g3(this.h)}, ${lm(this.s)*100}%, ${lm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g3(t){return t=(t||0)%360,t<0?t+360:t}function lm(t){return Math.max(0,Math.min(1,t||0))}function Rx(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const n6=t=>()=>t;function Hee(t,e){return function(r){return t+r*e}}function Wee(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Gee(t){return(t=+t)==1?XI:function(e,r){return r-e?Wee(e,r,t):n6(isNaN(e)?r:e)}}function XI(t,e){var r=e-t;return r?Hee(t,r):n6(isNaN(t)?e:t)}const y3=function t(e){var r=Gee(e);function n(i,s){var a=r((i=xw(i)).r,(s=xw(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=XI(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function Kee(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Qee(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Yee(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Cd(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function qee(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function lg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Xee(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Cd(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mx=new RegExp(vw.source,"g");function Jee(t){return function(){return t}}function Zee(t){return function(e){return t(e)+""}}function ete(t,e){var r=vw.lastIndex=Mx.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(n=vw.exec(t))&&(i=Mx.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:lg(n,i)})),r=Mx.lastIndex;return r<e.length&&(s=e.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?Zee(c[0].x):Jee(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Cd(t,e){var r=typeof e,n;return e==null||r==="boolean"?n6(e):(r==="number"?lg:r==="string"?(n=S0(e))?(e=n,y3):ete:e instanceof S0?y3:e instanceof Date?qee:Qee(e)?Kee:Array.isArray(e)?Yee:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xee:lg)(t,e)}function i6(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function tte(t,e){e===void 0&&(e=t,t=Cd);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function rte(t){return function(){return t}}function cg(t){return+t}var x3=[0,1];function Ir(t){return t}function bw(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:rte(isNaN(e)?NaN:.5)}function nte(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function ite(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=bw(i,n),s=r(a,s)):(n=bw(n,i),s=r(s,a)),function(l){return s(n(l))}}function ste(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=bw(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(l){var c=lh(t,l,1,n)-1;return s[c](i[c](l))}}function uh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xy(){var t=x3,e=x3,r=Cd,n,i,s,a=Ir,l,c,u;function d(){var h=Math.min(t.length,e.length);return a!==Ir&&(a=nte(t[0],t[h-1])),l=h>2?ste:ite,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(n),e,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(e,t.map(n),lg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,cg),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),r=i6,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Ir,d()):a!==Ir},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function s6(){return Xy()(Ir,Ir)}function ate(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ug(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function yd(t){return t=ug(Math.abs(t)),t?t[1]:NaN}function ote(t,e){return function(r,n){for(var i=r.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function lte(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var cte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k0(t){if(!(e=cte.exec(t)))throw new Error("invalid format: "+t);var e;return new a6({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}k0.prototype=a6.prototype;function a6(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}a6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ute(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var JI;function dte(t,e){var r=ug(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(JI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+ug(t,Math.max(0,e+s-1))[0]}function v3(t,e){var r=ug(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const b3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ate,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>v3(t*100,e),r:v3,s:dte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function w3(t){return t}var j3=Array.prototype.map,N3=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fte(t){var e=t.grouping===void 0||t.thousands===void 0?w3:ote(j3.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?w3:lte(j3.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=k0(f);var h=f.fill,m=f.align,g=f.sign,y=f.symbol,w=f.zero,x=f.width,v=f.comma,b=f.precision,j=f.trim,E=f.type;E==="n"?(v=!0,E="g"):b3[E]||(b===void 0&&(b=12),j=!0,E="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",k=y==="$"?n:/[%p]/.test(E)?a:"",N=b3[E],C=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(D){var B=S,z=k,Q,T,M;if(E==="c")z=N(D)+z,D="";else{D=+D;var F=D<0||1/D<0;if(D=isNaN(D)?c:N(Math.abs(D),b),j&&(D=ute(D)),F&&+D==0&&g!=="+"&&(F=!1),B=(F?g==="("?g:l:g==="-"||g==="("?"":g)+B,z=(E==="s"?N3[8+JI/3]:"")+z+(F&&g==="("?")":""),C){for(Q=-1,T=D.length;++Q<T;)if(M=D.charCodeAt(Q),48>M||M>57){z=(M===46?i+D.slice(Q+1):D.slice(Q))+z,D=D.slice(0,Q);break}}}v&&!w&&(D=e(D,1/0));var P=B.length+D.length+z.length,L=P<x?new Array(x-P+1).join(h):"";switch(v&&w&&(D=e(L+D,L.length?x-z.length:1/0),L=""),m){case"<":D=B+D+z+L;break;case"=":D=B+L+D+z;break;case"^":D=L.slice(0,P=L.length>>1)+B+D+z+L.slice(P);break;default:D=L+B+D+z;break}return s(D)}return R.toString=function(){return f+""},R}function d(f,h){var m=u((f=k0(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(yd(h)/3)))*3,y=Math.pow(10,-g),w=N3[8+g/3];return function(x){return m(y*x)+w}}return{format:u,formatPrefix:d}}var cm,o6,ZI;hte({thousands:",",grouping:[3],currency:["$",""]});function hte(t){return cm=fte(t),o6=cm.format,ZI=cm.formatPrefix,cm}function mte(t){return Math.max(0,-yd(Math.abs(t)))}function pte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yd(e)/3)))*3-yd(Math.abs(t)))}function gte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yd(e)-yd(t))+1}function eD(t,e,r,n){var i=gw(t,e,r),s;switch(n=k0(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=pte(i,a))&&(n.precision=s),ZI(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=gte(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=mte(i))&&(n.precision=s-(n.type==="%")*2);break}}return o6(n)}function No(t){var e=t.domain;return t.ticks=function(r){var n=e();return mw(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return eD(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=pw(a,l,r),u===c)return n[i]=a,n[s]=l,e(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function tD(){var t=s6();return t.copy=function(){return uh(t,tD())},Jn.apply(t,arguments),No(t)}function rD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,cg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return rD(t).unknown(e)},t=arguments.length?Array.from(t,cg):[0,1],No(r)}function nD(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function A3(t){return Math.log(t)}function E3(t){return Math.exp(t)}function yte(t){return-Math.log(-t)}function xte(t){return-Math.exp(-t)}function vte(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bte(t){return t===10?vte:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S3(t){return(e,r)=>-t(-e,r)}function l6(t){const e=t(A3,E3),r=e.domain;let n=10,i,s;function a(){return i=wte(n),s=bte(n),r()[0]<0?(i=S3(i),s=S3(s),t(yte,xte)):t(A3,E3),e}return e.base=function(l){return arguments.length?(n=+l,a()):n},e.domain=function(l){return arguments.length?(r(l),a()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,y;const w=l==null?10:+l;let x=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(y=h<0?g/s(-h):g*s(h),!(y<u)){if(y>d)break;x.push(y)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(y=h>0?g/s(-h):g*s(h),!(y<u)){if(y>d)break;x.push(y)}x.length*2<w&&(x=mw(u,d,w))}else x=mw(h,m,Math.min(m-h,w)).map(s);return f?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=k0(c)).precision==null&&(c.trim=!0),c=o6(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(nD(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function iD(){const t=l6(Xy()).domain([1,10]);return t.copy=()=>uh(t,iD()).base(t.base()),Jn.apply(t,arguments),t}function k3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function c6(t){var e=1,r=t(k3(e),P3(e));return r.constant=function(n){return arguments.length?t(k3(e=+n),P3(e)):e},No(r)}function sD(){var t=c6(Xy());return t.copy=function(){return uh(t,sD()).constant(t.constant())},Jn.apply(t,arguments)}function C3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function jte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Nte(t){return t<0?-t*t:t*t}function u6(t){var e=t(Ir,Ir),r=1;function n(){return r===1?t(Ir,Ir):r===.5?t(jte,Nte):t(C3(r),C3(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},No(e)}function d6(){var t=u6(Xy());return t.copy=function(){return uh(t,d6()).exponent(t.exponent())},Jn.apply(t,arguments),t}function Ate(){return d6.apply(null,arguments).exponent(.5)}function T3(t){return Math.sign(t)*t*t}function Ete(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function aD(){var t=s6(),e=[0,1],r=!1,n;function i(s){var a=Ete(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(T3(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,cg)).map(T3)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return aD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Jn.apply(i,arguments),No(i)}function oD(){var t=[],e=[],r=[],n;function i(){var a=0,l=Math.max(1,e.length);for(r=new Array(l-1);++a<l;)r[a-1]=Cee(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:e[lh(r,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ja),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return oD().domain(t).range(e).unknown(n)},Jn.apply(s,arguments)}function lD(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[lh(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return lD().domain([t,e]).range(i).unknown(s)},Jn.apply(No(a),arguments)}function cD(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[lh(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cD().domain(t).range(e).unknown(r)},Jn.apply(i,arguments)}const Lx=new Date,_x=new Date;function $t(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<a);return c},i.filter=s=>$t(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(Lx.setTime(+s),_x.setTime(+a),t(Lx),t(_x),Math.floor(r(Lx,_x))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const dg=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);dg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):dg);dg.range;const Ss=1e3,Wn=Ss*60,ks=Wn*60,Ws=ks*24,f6=Ws*7,O3=Ws*30,Bx=Ws*365,sl=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCSeconds());sl.range;const h6=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getMinutes());h6.range;const m6=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wn)},(t,e)=>(e-t)/Wn,t=>t.getUTCMinutes());m6.range;const p6=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ss-t.getMinutes()*Wn)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getHours());p6.range;const g6=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ks)},(t,e)=>(e-t)/ks,t=>t.getUTCHours());g6.range;const dh=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wn)/Ws,t=>t.getDate()-1);dh.range;const Jy=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ws,t=>t.getUTCDate()-1);Jy.range;const uD=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ws,t=>Math.floor(t/Ws));uD.range;function uc(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wn)/f6)}const Zy=uc(0),fg=uc(1),Ste=uc(2),kte=uc(3),xd=uc(4),Pte=uc(5),Cte=uc(6);Zy.range;fg.range;Ste.range;kte.range;xd.range;Pte.range;Cte.range;function dc(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/f6)}const e1=dc(0),hg=dc(1),Tte=dc(2),Ote=dc(3),vd=dc(4),Ite=dc(5),Dte=dc(6);e1.range;hg.range;Tte.range;Ote.range;vd.range;Ite.range;Dte.range;const y6=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());y6.range;const x6=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());x6.range;const Gs=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Gs.range;const Ks=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ks.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ks.range;function dD(t,e,r,n,i,s){const a=[[sl,1,Ss],[sl,5,5*Ss],[sl,15,15*Ss],[sl,30,30*Ss],[s,1,Wn],[s,5,5*Wn],[s,15,15*Wn],[s,30,30*Wn],[i,1,ks],[i,3,3*ks],[i,6,6*ks],[i,12,12*ks],[n,1,Ws],[n,2,2*Ws],[r,1,f6],[e,1,O3],[e,3,3*O3],[t,1,Bx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Z5(([,,w])=>w).right(a,h);if(m===a.length)return t.every(gw(u/Bx,d/Bx,f));if(m===0)return dg.every(Math.max(gw(u,d,f),1));const[g,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(y)}return[l,c]}const[Rte,Mte]=dD(Ks,x6,e1,uD,g6,m6),[Lte,_te]=dD(Gs,y6,Zy,dh,p6,h6);function Fx(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ux(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Bte(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,u=nf(i),d=sf(i),f=nf(s),h=sf(s),m=nf(a),g=sf(a),y=nf(l),w=sf(l),x=nf(c),v=sf(c),b={a:F,A:P,b:L,B:W,c:null,d:_3,e:_3,f:ore,g:yre,G:vre,H:ire,I:sre,j:are,L:fD,m:lre,M:cre,p:$,q:G,Q:U3,s:$3,S:ure,u:dre,U:fre,V:hre,w:mre,W:pre,x:null,X:null,y:gre,Y:xre,Z:bre,"%":F3},j={a:fe,A:pe,b:ne,B:ye,c:null,d:B3,e:B3,f:Are,g:Rre,G:Lre,H:wre,I:jre,j:Nre,L:mD,m:Ere,M:Sre,p:Le,q:Jt,Q:U3,s:$3,S:kre,u:Pre,U:Cre,V:Tre,w:Ore,W:Ire,x:null,X:null,y:Dre,Y:Mre,Z:_re,"%":F3},E={a:R,A:D,b:B,B:z,c:Q,d:M3,e:M3,f:ere,g:R3,G:D3,H:L3,I:L3,j:qte,L:Zte,m:Yte,M:Xte,p:C,q:Qte,Q:rre,s:nre,S:Jte,u:zte,U:Hte,V:Wte,w:Vte,W:Gte,x:T,X:M,y:R3,Y:D3,Z:Kte,"%":tre};b.x=S(r,b),b.X=S(n,b),b.c=S(e,b),j.x=S(r,j),j.X=S(n,j),j.c=S(e,j);function S(Z,he){return function(xe){var Y=[],Qe=-1,Pe=0,lr=Z.length,cr,Po,Oj;for(xe instanceof Date||(xe=new Date(+xe));++Qe<lr;)Z.charCodeAt(Qe)===37&&(Y.push(Z.slice(Pe,Qe)),(Po=I3[cr=Z.charAt(++Qe)])!=null?cr=Z.charAt(++Qe):Po=cr==="e"?" ":"0",(Oj=he[cr])&&(cr=Oj(xe,Po)),Y.push(cr),Pe=Qe+1);return Y.push(Z.slice(Pe,Qe)),Y.join("")}}function k(Z,he){return function(xe){var Y=rf(1900,void 0,1),Qe=N(Y,Z,xe+="",0),Pe,lr;if(Qe!=xe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(he&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Pe=Ux(rf(Y.y,0,1)),lr=Pe.getUTCDay(),Pe=lr>4||lr===0?hg.ceil(Pe):hg(Pe),Pe=Jy.offset(Pe,(Y.V-1)*7),Y.y=Pe.getUTCFullYear(),Y.m=Pe.getUTCMonth(),Y.d=Pe.getUTCDate()+(Y.w+6)%7):(Pe=Fx(rf(Y.y,0,1)),lr=Pe.getDay(),Pe=lr>4||lr===0?fg.ceil(Pe):fg(Pe),Pe=dh.offset(Pe,(Y.V-1)*7),Y.y=Pe.getFullYear(),Y.m=Pe.getMonth(),Y.d=Pe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),lr="Z"in Y?Ux(rf(Y.y,0,1)).getUTCDay():Fx(rf(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(lr+5)%7:Y.w+Y.U*7-(lr+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Ux(Y)):Fx(Y)}}function N(Z,he,xe,Y){for(var Qe=0,Pe=he.length,lr=xe.length,cr,Po;Qe<Pe;){if(Y>=lr)return-1;if(cr=he.charCodeAt(Qe++),cr===37){if(cr=he.charAt(Qe++),Po=E[cr in I3?he.charAt(Qe++):cr],!Po||(Y=Po(Z,xe,Y))<0)return-1}else if(cr!=xe.charCodeAt(Y++))return-1}return Y}function C(Z,he,xe){var Y=u.exec(he.slice(xe));return Y?(Z.p=d.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function R(Z,he,xe){var Y=m.exec(he.slice(xe));return Y?(Z.w=g.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function D(Z,he,xe){var Y=f.exec(he.slice(xe));return Y?(Z.w=h.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function B(Z,he,xe){var Y=x.exec(he.slice(xe));return Y?(Z.m=v.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function z(Z,he,xe){var Y=y.exec(he.slice(xe));return Y?(Z.m=w.get(Y[0].toLowerCase()),xe+Y[0].length):-1}function Q(Z,he,xe){return N(Z,e,he,xe)}function T(Z,he,xe){return N(Z,r,he,xe)}function M(Z,he,xe){return N(Z,n,he,xe)}function F(Z){return a[Z.getDay()]}function P(Z){return s[Z.getDay()]}function L(Z){return c[Z.getMonth()]}function W(Z){return l[Z.getMonth()]}function $(Z){return i[+(Z.getHours()>=12)]}function G(Z){return 1+~~(Z.getMonth()/3)}function fe(Z){return a[Z.getUTCDay()]}function pe(Z){return s[Z.getUTCDay()]}function ne(Z){return c[Z.getUTCMonth()]}function ye(Z){return l[Z.getUTCMonth()]}function Le(Z){return i[+(Z.getUTCHours()>=12)]}function Jt(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var he=S(Z+="",b);return he.toString=function(){return Z},he},parse:function(Z){var he=k(Z+="",!1);return he.toString=function(){return Z},he},utcFormat:function(Z){var he=S(Z+="",j);return he.toString=function(){return Z},he},utcParse:function(Z){var he=k(Z+="",!0);return he.toString=function(){return Z},he}}}var I3={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,Fte=/^%/,Ute=/[\\^$*+?|[\]().{}]/g;function Ie(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function $te(t){return t.replace(Ute,"\\$&")}function nf(t){return new RegExp("^(?:"+t.map($te).join("|")+")","i")}function sf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Vte(t,e,r){var n=Xt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function zte(t,e,r){var n=Xt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Hte(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Wte(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Gte(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function D3(t,e,r){var n=Xt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function R3(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kte(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qte(t,e,r){var n=Xt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Yte(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function M3(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function qte(t,e,r){var n=Xt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function L3(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Xte(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Jte(t,e,r){var n=Xt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Zte(t,e,r){var n=Xt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ere(t,e,r){var n=Xt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tre(t,e,r){var n=Fte.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function rre(t,e,r){var n=Xt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function nre(t,e,r){var n=Xt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function _3(t,e){return Ie(t.getDate(),e,2)}function ire(t,e){return Ie(t.getHours(),e,2)}function sre(t,e){return Ie(t.getHours()%12||12,e,2)}function are(t,e){return Ie(1+dh.count(Gs(t),t),e,3)}function fD(t,e){return Ie(t.getMilliseconds(),e,3)}function ore(t,e){return fD(t,e)+"000"}function lre(t,e){return Ie(t.getMonth()+1,e,2)}function cre(t,e){return Ie(t.getMinutes(),e,2)}function ure(t,e){return Ie(t.getSeconds(),e,2)}function dre(t){var e=t.getDay();return e===0?7:e}function fre(t,e){return Ie(Zy.count(Gs(t)-1,t),e,2)}function hD(t){var e=t.getDay();return e>=4||e===0?xd(t):xd.ceil(t)}function hre(t,e){return t=hD(t),Ie(xd.count(Gs(t),t)+(Gs(t).getDay()===4),e,2)}function mre(t){return t.getDay()}function pre(t,e){return Ie(fg.count(Gs(t)-1,t),e,2)}function gre(t,e){return Ie(t.getFullYear()%100,e,2)}function yre(t,e){return t=hD(t),Ie(t.getFullYear()%100,e,2)}function xre(t,e){return Ie(t.getFullYear()%1e4,e,4)}function vre(t,e){var r=t.getDay();return t=r>=4||r===0?xd(t):xd.ceil(t),Ie(t.getFullYear()%1e4,e,4)}function bre(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ie(e/60|0,"0",2)+Ie(e%60,"0",2)}function B3(t,e){return Ie(t.getUTCDate(),e,2)}function wre(t,e){return Ie(t.getUTCHours(),e,2)}function jre(t,e){return Ie(t.getUTCHours()%12||12,e,2)}function Nre(t,e){return Ie(1+Jy.count(Ks(t),t),e,3)}function mD(t,e){return Ie(t.getUTCMilliseconds(),e,3)}function Are(t,e){return mD(t,e)+"000"}function Ere(t,e){return Ie(t.getUTCMonth()+1,e,2)}function Sre(t,e){return Ie(t.getUTCMinutes(),e,2)}function kre(t,e){return Ie(t.getUTCSeconds(),e,2)}function Pre(t){var e=t.getUTCDay();return e===0?7:e}function Cre(t,e){return Ie(e1.count(Ks(t)-1,t),e,2)}function pD(t){var e=t.getUTCDay();return e>=4||e===0?vd(t):vd.ceil(t)}function Tre(t,e){return t=pD(t),Ie(vd.count(Ks(t),t)+(Ks(t).getUTCDay()===4),e,2)}function Ore(t){return t.getUTCDay()}function Ire(t,e){return Ie(hg.count(Ks(t)-1,t),e,2)}function Dre(t,e){return Ie(t.getUTCFullYear()%100,e,2)}function Rre(t,e){return t=pD(t),Ie(t.getUTCFullYear()%100,e,2)}function Mre(t,e){return Ie(t.getUTCFullYear()%1e4,e,4)}function Lre(t,e){var r=t.getUTCDay();return t=r>=4||r===0?vd(t):vd.ceil(t),Ie(t.getUTCFullYear()%1e4,e,4)}function _re(){return"+0000"}function F3(){return"%"}function U3(t){return+t}function $3(t){return Math.floor(+t/1e3)}var xc,gD,yD;Bre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bre(t){return xc=Bte(t),gD=xc.format,xc.parse,yD=xc.utcFormat,xc.utcParse,xc}function Fre(t){return new Date(t)}function Ure(t){return t instanceof Date?+t:+new Date(+t)}function v6(t,e,r,n,i,s,a,l,c,u){var d=s6(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function E(S){return(c(S)<S?m:l(S)<S?g:a(S)<S?y:s(S)<S?w:n(S)<S?i(S)<S?x:v:r(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Ure)):h().map(Fre)},d.ticks=function(S){var k=h();return t(k[0],k[k.length-1],S??10)},d.tickFormat=function(S,k){return k==null?E:u(k)},d.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=e(k[0],k[k.length-1],S??10)),S?h(nD(k,S)):d},d.copy=function(){return uh(d,v6(t,e,r,n,i,s,a,l,c,u))},d}function $re(){return Jn.apply(v6(Lte,_te,Gs,y6,Zy,dh,p6,h6,sl,gD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Vre(){return Jn.apply(v6(Rte,Mte,Ks,x6,e1,Jy,g6,m6,sl,yD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function t1(){var t=0,e=1,r,n,i,s,a=Ir,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(Cd),u.rangeRound=d(i6),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Ao(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xD(){var t=No(t1()(Ir));return t.copy=function(){return Ao(t,xD())},ea.apply(t,arguments)}function vD(){var t=l6(t1()).domain([1,10]);return t.copy=function(){return Ao(t,vD()).base(t.base())},ea.apply(t,arguments)}function bD(){var t=c6(t1());return t.copy=function(){return Ao(t,bD()).constant(t.constant())},ea.apply(t,arguments)}function b6(){var t=u6(t1());return t.copy=function(){return Ao(t,b6()).exponent(t.exponent())},ea.apply(t,arguments)}function zre(){return b6.apply(null,arguments).exponent(.5)}function wD(){var t=[],e=Ir;function r(n){if(n!=null&&!isNaN(n=+n))return e((lh(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ja),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Pee(t,s/n))},r.copy=function(){return wD(e).domain(t)},ea.apply(r,arguments)}function r1(){var t=0,e=.5,r=1,n=1,i,s,a,l,c,u=Ir,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,r]=y,i=d(t=+t),s=d(e=+e),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[t,e,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(w){var x,v,b;return arguments.length?([x,v,b]=w,u=tte(y,[x,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Cd),m.rangeRound=g(i6),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(t),s=y(e),a=y(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function jD(){var t=No(r1()(Ir));return t.copy=function(){return Ao(t,jD())},ea.apply(t,arguments)}function ND(){var t=l6(r1()).domain([.1,1,10]);return t.copy=function(){return Ao(t,ND()).base(t.base())},ea.apply(t,arguments)}function AD(){var t=c6(r1());return t.copy=function(){return Ao(t,AD()).constant(t.constant())},ea.apply(t,arguments)}function w6(){var t=u6(r1());return t.copy=function(){return Ao(t,w6()).exponent(t.exponent())},ea.apply(t,arguments)}function Hre(){return w6.apply(null,arguments).exponent(.5)}const bf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t6,scaleDiverging:jD,scaleDivergingLog:ND,scaleDivergingPow:w6,scaleDivergingSqrt:Hre,scaleDivergingSymlog:AD,scaleIdentity:rD,scaleImplicit:yw,scaleLinear:tD,scaleLog:iD,scaleOrdinal:e6,scalePoint:Oee,scalePow:d6,scaleQuantile:oD,scaleQuantize:lD,scaleRadial:aD,scaleSequential:xD,scaleSequentialLog:vD,scaleSequentialPow:b6,scaleSequentialQuantile:wD,scaleSequentialSqrt:zre,scaleSequentialSymlog:bD,scaleSqrt:Ate,scaleSymlog:sD,scaleThreshold:cD,scaleTime:$re,scaleUtc:Vre,tickFormat:eD},Symbol.toStringTag,{value:"Module"}));var Eo=t=>t.chartData,j6=V([Eo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),n1=(t,e,r,n)=>n?j6(t):Eo(t);function bd(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(jn(e)&&jn(r))return!0}return!1}function V3(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Wre(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(jn(r))i=r;else if(typeof r=="function")return;if(jn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(bd(a))return a}}function Gre(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(bd(n))return V3(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(re(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&US.test(i)){var c=US.exec(i);if(c==null||e==null)a=void 0;else{var u=+c[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(re(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&$S.test(s)){var d=$S.exec(s);if(d==null||e==null)l=void 0;else{var f=+d[1];l=e[1]+f}}else l=e==null?void 0:e[1];var h=[a,l];if(bd(h))return e==null?h:V3(h,e,r)}}}var Td=1e9,Kre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},A6,ot=!0,qn="[DecimalError] ",Ll=qn+"Invalid argument: ",N6=qn+"Exponent out of range: ",Od=Math.floor,$o=Math.pow,Qre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dn,Wt=1e7,et=7,ED=9007199254740991,mg=Od(ED/et),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*et;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(t){return Ms(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,r=e.constructor;return Ge(Ms(e,new r(t),0,1),r.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return Dt(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(dn))throw Error(qn+"NaN");if(r.s<1)throw Error(qn+(r.s?"NaN":"-Infinity"));return r.eq(dn)?new n(0):(ot=!1,e=Ms(P0(r,s),P0(t,s),s),ot=!0,Ge(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PD(e,t):SD(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(qn+"NaN");return r.s?(ot=!1,e=Ms(r,t,0,1).times(t),ot=!0,r.minus(e)):Ge(new n(r),i)};oe.naturalExponential=oe.exp=function(){return kD(this)};oe.naturalLogarithm=oe.ln=function(){return P0(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?SD(e,t):PD(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ll+t);if(e=Dt(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};oe.squareRoot=oe.sqrt=function(){var t,e,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qn+"NaN")}for(t=Dt(l),ot=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Hi(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Od((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Ms(l,s,a+2)).times(.5),Hi(s.d).slice(0,a)===(e=Hi(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Ge(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;a+=4}return ot=!0,Ge(n,r)};oe.times=oe.mul=function(t){var e,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+e,s[i--]=l%Wt|0,e=l/Wt|0;s[i]=(s[i]+e)%Wt|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ot?Ge(t,f.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ji(t,0,Td),e===void 0?e=n.rounding:Ji(e,0,8),Ge(r,t+Dt(r)+1,e))};oe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Jl(n,!0):(Ji(t,0,Td),e===void 0?e=i.rounding:Ji(e,0,8),n=Ge(new i(n),t+1,e),r=Jl(n,!0,t+1)),r};oe.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Jl(i):(Ji(t,0,Td),e===void 0?e=s.rounding:Ji(e,0,8),n=Ge(new s(i),t+Dt(i)+1,e),r=Jl(n.abs(),!1,t+Dt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return Ge(new e(t),Dt(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(dn);if(l=new c(l),!l.s){if(t.s<1)throw Error(qn+"Infinity");return l}if(l.eq(dn))return l;if(n=c.precision,t.eq(dn))return Ge(l,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=l.s,a){if((r=d<0?-d:d)<=ED){for(i=new c(dn),e=Math.ceil(n/et+4),ot=!1;r%2&&(i=i.times(l),H3(i.d,e)),r=Od(r/2),r!==0;)l=l.times(l),H3(l.d,e);return ot=!0,t.s<0?new c(dn).div(i):Ge(i,n)}}else if(s<0)throw Error(qn+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ot=!1,i=t.times(P0(l,n+u)),ot=!0,i=kD(i),i.s=s,i};oe.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=Dt(i),n=Jl(i,r<=s.toExpNeg||r>=s.toExpPos)):(Ji(t,1,Td),e===void 0?e=s.rounding:Ji(e,0,8),i=Ge(new s(i),t,e),r=Dt(i),n=Jl(i,t<=r||r<=s.toExpNeg,t)),n};oe.toSignificantDigits=oe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ji(t,1,Td),e===void 0?e=n.rounding:Ji(e,0,8)),Ge(new n(r),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),r=t.constructor;return Jl(t,e<=r.toExpNeg||e>=r.toExpPos)};function SD(t,e){var r,n,i,s,a,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ot?Ge(e,f):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/et),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Wt|0,c[s]%=Wt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,ot?Ge(e,f):e}function Ji(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ll+t)}function Hi(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=et-n.length,r&&(s+=pa(r)),s+=n;a=t[e],n=a+"",r=et-n.length,r&&(s+=pa(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ms=function(){function t(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%Wt|0,a=s/Wt|0;return a&&n.unshift(a),n}function e(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Wt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,g,y,w,x,v,b,j,E,S,k,N,C=n.constructor,R=n.s==i.s?1:-1,D=n.d,B=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(qn+"Division by zero");for(c=n.e-i.e,k=B.length,E=D.length,m=new C(R),g=m.d=[],u=0;B[u]==(D[u]||0);)++u;if(B[u]>(D[u]||0)&&--c,s==null?v=s=C.precision:a?v=s+(Dt(n)-Dt(i))+1:v=s,v<0)return new C(0);if(v=v/et+2|0,u=0,k==1)for(d=0,B=B[0],v++;(u<E||d)&&v--;u++)b=d*Wt+(D[u]||0),g[u]=b/B|0,d=b%B|0;else{for(d=Wt/(B[0]+1)|0,d>1&&(B=t(B,d),D=t(D,d),k=B.length,E=D.length),j=k,y=D.slice(0,k),w=y.length;w<k;)y[w++]=0;N=B.slice(),N.unshift(0),S=B[0],B[1]>=Wt/2&&++S;do d=0,l=e(B,y,k,w),l<0?(x=y[0],k!=w&&(x=x*Wt+(y[1]||0)),d=x/S|0,d>1?(d>=Wt&&(d=Wt-1),f=t(B,d),h=f.length,w=y.length,l=e(f,y,h,w),l==1&&(d--,r(f,k<h?N:B,h))):(d==0&&(l=d=1),f=B.slice()),h=f.length,h<w&&f.unshift(0),r(y,f,w),l==-1&&(w=y.length,l=e(B,y,k,w),l<1&&(d++,r(y,k<w?N:B,w))),w=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[w++]=D[j]||0:(y=[D[j]],w=1);while((j++<E||y[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Ge(m,a?s+Dt(m)+1:s)}}();function kD(t,e){var r,n,i,s,a,l,c=0,u=0,d=t.constructor,f=d.precision;if(Dt(t)>16)throw Error(N6+Dt(t));if(!t.s)return new d(dn);for(ot=!1,l=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log($o(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(dn),d.precision=l;;){if(i=Ge(i.times(t),l),r=r.times(++c),a=s.plus(Ms(i,r,l)),Hi(a.d).slice(0,l)===Hi(s.d).slice(0,l)){for(;u--;)s=Ge(s.times(s),l);return d.precision=f,e==null?(ot=!0,Ge(s,f)):s}s=a}}function Dt(t){for(var e=t.e*et,r=t.d[0];r>=10;r/=10)e++;return e}function $x(t,e,r){if(e>t.LN10.sd())throw ot=!0,r&&(t.precision=r),Error(qn+"LN10 precision limit exceeded");return Ge(new t(t.LN10),e)}function pa(t){for(var e="";t--;)e+="0";return e}function P0(t,e){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=t,g=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(qn+(m.s?"NaN":"-Infinity"));if(m.eq(dn))return new y(0);if(e==null?(ot=!1,u=w):u=e,m.eq(10))return e==null&&(ot=!0),$x(y,u);if(u+=h,y.precision=u,r=Hi(g),n=r.charAt(0),s=Dt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Hi(m.d),n=r.charAt(0),f++;s=Dt(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1))}else return c=$x(y,u+2,w).times(s+""),m=P0(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=w,e==null?(ot=!0,Ge(m,w)):m;for(l=a=m=Ms(m.minus(dn),m.plus(dn),u),d=Ge(m.times(m),u),i=3;;){if(a=Ge(a.times(d),u),c=l.plus(Ms(a,new y(i),u)),Hi(c.d).slice(0,u)===Hi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus($x(y,u+2,w).times(s+""))),l=Ms(l,new y(f),u),y.precision=w,e==null?(ot=!0,Ge(l,w)):l;l=c,i+=2}}function z3(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Od(r/et),t.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=et;n<i;)t.d.push(+e.slice(n,n+=et));e=e.slice(n),n=et-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ot&&(t.e>mg||t.e<-mg))throw Error(N6+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ge(t,e,r){var n,i,s,a,l,c,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=et,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/et),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=et,i=n-et+a}if(r!==void 0&&(s=$o(10,a-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/$o(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=Dt(t),f.length=1,e=e-s-1,f[0]=$o(10,(et-e%et)%et),t.e=Od(-e/et)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=$o(10,et-n),f[d]=i>0?(u/$o(10,a-i)%$o(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Wt&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Wt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(ot&&(t.e>mg||t.e<-mg))throw Error(N6+Dt(t));return t}function PD(t,e){var r,n,i,s,a,l,c,u,d,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ot?Ge(e,m):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/et),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Wt-1;--c[s],c[i]+=Wt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ot?Ge(e,m):e):new h(0)}function Jl(t,e,r){var n,i=Dt(t),s=Hi(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+pa(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+pa(-i-1)+s,r&&(n=r-a)>0&&(s+=pa(n))):i>=a?(s+=pa(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+pa(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=pa(n))),t.s<0?"-"+s:s}function H3(t,e){if(t.length>e)return t.length=e,!0}function CD(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ll+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return z3(a,s.toString())}else if(typeof s!="string")throw Error(Ll+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Qre.test(s))z3(a,s);else throw Error(Ll+s)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CD,i.config=i.set=Yre,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Yre(t){if(!t||typeof t!="object")throw Error(qn+"Object expected");var e,r,n,i=["precision",1,Td,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Od(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ll+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ll+r+": "+n);return this}var A6=CD(Kre);dn=new A6(1);const _e=A6;var qre=t=>t,TD={},OD=t=>t===TD,W3=t=>function e(){return arguments.length===0||arguments.length===1&&OD(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},ID=(t,e)=>t===1?e:W3(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==TD).length;return s>=t?e(...n):ID(t-s,W3(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>OD(d)?l.shift():d);return e(...u,...l)}))}),i1=t=>ID(t.length,t),ww=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},Xre=i1((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),Jre=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return qre;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},jw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),DD=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e&&i.every((a,l)=>{var c;return a===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,r=t(...i)),r}};function RD(t){var e;return t===0?e=1:e=Math.floor(new _e(t).abs().log(10).toNumber())+1,e}function MD(t,e,r){for(var n=new _e(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}i1((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});i1((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});i1((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var LD=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},_D=(t,e,r)=>{if(t.lte(0))return new _e(0);var n=RD(t.toNumber()),i=new _e(10).pow(n),s=t.div(i),a=n!==1?.05:.1,l=new _e(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return e?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},Zre=(t,e,r)=>{var n=new _e(1),i=new _e(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new _e(10).pow(RD(t)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(t)))}else t===0?i=new _e(Math.floor((e-1)/2)):r||(i=new _e(Math.floor(t)));var a=Math.floor((e-1)/2),l=Jre(Xre(c=>i.add(new _e(c-a).mul(n)).toNumber()),ww);return l(0,e)},BD=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=_D(new _e(r).sub(e).div(n-1),i,s),l;e<=0&&r>=0?l=new _e(0):(l=new _e(e).add(r).div(2),l=l.sub(new _e(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),u=Math.ceil(new _e(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?BD(e,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new _e(c).mul(a)),tickMax:l.add(new _e(u).mul(a))})};function ene(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=LD([e,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...ww(0,n-1).map(()=>1/0)]:[...ww(0,n-1).map(()=>-1/0),l];return e>r?jw(c):c}if(a===l)return Zre(a,n,i);var{step:u,tickMin:d,tickMax:f}=BD(a,l,s,i,0),h=MD(d,f.add(new _e(.1).mul(u)),u);return e>r?jw(h):h}function tne(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=LD([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(e,2),c=_D(new _e(a).sub(s).div(l-1),i,0),u=[...MD(new _e(s),new _e(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?jw(u):u}var rne=DD(ene),nne=DD(tne),FD=t=>t.rootProps.maxBarSize,ine=t=>t.rootProps.barGap,UD=t=>t.rootProps.barCategoryGap,sne=t=>t.rootProps.barSize,fh=t=>t.rootProps.stackOffset,E6=t=>t.options.chartName,S6=t=>t.rootProps.syncId,$D=t=>t.rootProps.syncMethod,k6=t=>t.options.eventEmitter,vs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},cn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},s1=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},ane={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:vs.reversed,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:vs.type,unit:void 0},one={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:cn.type,unit:void 0},lne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vs.scale,tick:vs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cne={allowDataOverflow:cn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:cn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:cn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,ticks:void 0,type:"category",unit:void 0},P6=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?lne:ane,C6=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?cne:one,a1=t=>t.polarOptions,T6=V([Js,Zs,Ut],fI),VD=V([a1,T6],(t,e)=>{if(t!=null)return Rr(t.innerRadius,e,0)}),zD=V([a1,T6],(t,e)=>{if(t!=null)return Rr(t.outerRadius,e,e*.8)}),une=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},HD=V([a1],une);V([P6,HD],s1);var WD=V([T6,VD,zD],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});V([C6,WD],s1);var GD=V([ke,a1,VD,zD,Js,Zs],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=e;return{cx:Rr(a,i,i/2),cy:Rr(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),lt=(t,e)=>e,hh=(t,e,r)=>r;function O6(t){return t==null?void 0:t.id}var Vt=t=>{var e=ke(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Id=t=>t.tooltip.settings.axisId,zt=t=>{var e=Vt(t),r=Id(t);return mh(t,e,r)};function KD(t,e,r){var{chartData:n=[]}=e,i=r==null?void 0:r.dataKey,s=new Map;return t.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=O6(a);c.forEach((d,f)=>{var h=i==null?f:String(We(d,i,null)),m=We(d,a.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:m}),s.set(h,g)})}}),Array.from(s.values())}function o1(t){return t.stackId!=null&&t.dataKey!=null}function G3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(r),!0).forEach(function(n){dne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dne(t,e,r){return(e=fne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=hne(t,"string");return typeof e=="symbol"?e:e+""}function hne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nw=[0,"auto"],en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ta=(t,e)=>{var r=t.cartesianAxis.xAxis[e];return r??en},tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Nw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ky},So=(t,e)=>{var r=t.cartesianAxis.yAxis[e];return r??tn},mne={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},I6=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??mne},St=(t,e,r)=>{switch(e){case"xAxis":return ta(t,r);case"yAxis":return So(t,r);case"zAxis":return I6(t,r);case"angleAxis":return P6(t,r);case"radiusAxis":return C6(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},pne=(t,e,r)=>{switch(e){case"xAxis":return ta(t,r);case"yAxis":return So(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},mh=(t,e,r)=>{switch(e){case"xAxis":return ta(t,r);case"yAxis":return So(t,r);case"angleAxis":return P6(t,r);case"radiusAxis":return C6(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},QD=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function D6(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var l1=t=>t.graphicalItems.cartesianItems,gne=V([lt,hh],D6),R6=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),ph=V([l1,St,gne],R6),YD=V([ph],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(o1)),qD=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),XD=V([ph],qD),M6=t=>t.map(e=>e.data).filter(Boolean).flat(1),yne=V([ph],M6),L6=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},_6=V([yne,n1],L6),B6=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:We(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:We(i,n)}))):t.map(n=>({value:n})),c1=V([_6,St,ph],B6);function JD(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function fc(t){return t.filter(e=>Xi(e)||e instanceof Date).map(Number).filter(e=>vn(e)===!1)}function xne(t,e,r){return!r||typeof e!="number"||vn(e)?[]:r.length?fc(r.flatMap(n=>{var i=We(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!jn(s)||!jn(a)))return[e-s,e+a]})):[]}var vne=V([YD,n1,zt],KD),ZD=(t,e,r)=>{var n={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(O6);return[a,{stackedData:HJ(t,c,r),graphicalItems:l}]}))},Aw=V([vne,YD,fh],ZD),eR=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var s=YJ(t,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},bne=V([Aw,Eo,lt],eR),tR=(t,e,r,n,i)=>r.length>0?t.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>JD(i,f)),d=We(s,(c=e.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:xne(s,d,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:We(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),u1=t=>t.errorBars,rR=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>JD(r,n));V([XD,u1,lt],rR);var wne=V([_6,St,XD,u1,lt],tR);function jne(t){var{value:e}=t;if(Xi(e)||e instanceof Date)return e}var K3=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=fc(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nne=(t,e,r)=>{var n=t.map(jne).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&GO(n))?HI(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},F6=t=>{var e;if(t==null||!("domain"in t))return Nw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=fc(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:Nw},gg=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},nR=t=>t.referenceElements.dots,Dd=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ane=V([nR,lt,hh],Dd),iR=t=>t.referenceElements.areas,Ene=V([iR,lt,hh],Dd),sR=t=>t.referenceElements.lines,Sne=V([sR,lt,hh],Dd),aR=(t,e)=>{var r=fc(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kne=V(Ane,lt,aR),oR=(t,e)=>{var r=fc(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pne=V([Ene,lt],oR),lR=(t,e)=>{var r=fc(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Cne=V(Sne,lt,lR),Tne=V(kne,Cne,Pne,(t,e,r)=>gg(t,r,e)),cR=V([St],F6),U6=(t,e,r,n,i,s,a)=>{var l=Wre(e,t.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?gg(r,i,K3(n)):gg(i,K3(n));return Gre(e,u,t.allowDataOverflow)},One=V([St,cR,bne,wne,Tne,ke,lt],U6),Ine=[0,1],$6=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,u=jo(e,s);return u&&l==null?HI(0,r.length):c==="category"?Nne(n,t,u):i==="expand"?Ine:a}},V6=V([St,ke,_6,c1,fh,lt,One],$6),uR=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(sh(s));return l in bf?l:"point"}}},Rd=V([St,ke,QD,E6,lt],uR);function Dne(t){if(t!=null){if(t in bf)return bf[t]();var e="scale".concat(sh(t));if(e in bf)return bf[e]()}}function z6(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Dne(e);if(i!=null){var s=i.domain(r).range(n);return FJ(s),s}}}var H6=(t,e,r)=>{var n=F6(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&bd(t))return rne(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&bd(t))return nne(t,e.tickCount,e.allowDecimals)}},W6=V([V6,mh,Rd],H6),G6=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&bd(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return e},Rne=V([St,V6,W6,lt],G6),Mne=V(c1,St,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(fc(t.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),dR=V(Mne,ke,UD,Ut,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!jn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Rr(r,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),Lne=(t,e)=>{var r=ta(t,e);return r==null||typeof r.padding!="string"?0:dR(t,"xAxis",e,r.padding)},_ne=(t,e)=>{var r=So(t,e);return r==null||typeof r.padding!="string"?0:dR(t,"yAxis",e,r.padding)},Bne=V(ta,Lne,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Fne=V(So,_ne,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Une=V([Ut,Bne,Yy,Qy,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),$ne=V([Ut,ke,Fne,Yy,Qy,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),gh=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Une(t,r,n);case"yAxis":return $ne(t,r,n);case"zAxis":return(i=I6(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return HD(t);case"radiusAxis":return WD(t,r);default:return}},fR=V([St,gh],s1),Md=V([St,Rd,Rne,fR],z6);V([ph,u1,lt],rR);function hR(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var d1=(t,e)=>e,f1=(t,e,r)=>r,Vne=V(Q5,d1,f1,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(hR)),zne=V(Y5,d1,f1,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(hR)),mR=(t,e)=>({width:t.width,height:e.height}),Hne=(t,e)=>{var r=typeof e.width=="number"?e.width:Ky;return{width:r,height:t.height}},pR=V(Ut,ta,mR),Wne=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Gne=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},Kne=V(Zs,Ut,Vne,d1,f1,(t,e,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=mR(e,l);a==null&&(a=Wne(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),Qne=V(Js,Ut,zne,d1,f1,(t,e,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=Hne(e,l);a==null&&(a=Gne(e,n,t));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),Yne=(t,e)=>{var r=Ut(t),n=ta(t,e);if(n!=null){var i=Kne(t,n.orientation,n.mirror),s=i[e];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},qne=(t,e)=>{var r=Ut(t),n=So(t,e);if(n!=null){var i=Qne(t,n.orientation,n.mirror),s=i[e];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},gR=V(Ut,So,(t,e)=>{var r=typeof e.width=="number"?e.width:Ky;return{width:r,height:t.height}}),Q3=(t,e,r)=>{switch(e){case"xAxis":return pR(t,r).width;case"yAxis":return gR(t,r).height;default:return}},yR=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=jo(t,n),c=e.map(u=>u.value);if(a&&l&&s==="category"&&i&&GO(c))return c}},K6=V([ke,c1,St,lt],yR),xR=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=jo(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},Q6=V([ke,c1,mh,lt],xR),Y3=V([ke,pne,Rd,Md,K6,Q6,gh,W6,lt],(t,e,r,n,i,s,a,l,c)=>{if(e==null)return null;var u=jo(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),Xne=(t,e,r,n,i,s,a,l,c)=>{if(!(e==null||n==null)){var u=jo(t,c),{type:d,ticks:f,tickCount:h}=e,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?Yt(s[0]-s[1])*2*g:g;var y=f||i;if(y){var w=y.map((x,v)=>{var b=a?a.indexOf(x):x;return{index:v,coordinate:n(b)+g,value:x,offset:g}});return w.filter(x=>!vn(x.coordinate))}return u&&l?l.map((x,v)=>({coordinate:n(x)+g,value:x,index:v,offset:g})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+g,value:x,offset:g})):n.domain().map((x,v)=>({coordinate:n(x)+g,value:a?a[x]:x,index:v,offset:g}))}},vR=V([ke,mh,Rd,Md,W6,gh,K6,Q6,lt],Xne),Jne=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var l=jo(t,a),{tickCount:c}=e,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Yt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},fo=V([ke,mh,Md,gh,K6,Q6,lt],Jne),ho=V(St,Md,(t,e)=>{if(!(t==null||e==null))return pg(pg({},t),{},{scale:e})}),Zne=V([St,Rd,V6,fR],z6);V((t,e,r)=>I6(t,r),Zne,(t,e)=>{if(!(t==null||e==null))return pg(pg({},t),{},{scale:e})});var eie=V([ke,Q5,Y5],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bR=t=>t.options.defaultTooltipEventType,wR=t=>t.options.validateTooltipEventTypes;function jR(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function Y6(t,e){var r=bR(t),n=wR(t);return jR(e,r,n)}function tie(t){return ce(e=>Y6(e,t))}var NR=(t,e)=>{var r,n=Number(e);if(!(vn(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},rie=t=>t.tooltip.settings,ba={active:!1,index:null,dataKey:void 0,coordinate:void 0},nie={itemInteraction:{click:ba,hover:ba},axisInteraction:{click:ba,hover:ba},keyboardInteraction:ba,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},AR=En({name:"tooltip",initialState:nie,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Rs(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:iie,removeTooltipEntrySettings:sie,setTooltipSettingsState:aie,setActiveMouseOverItemIndex:ER,mouseLeaveItem:oie,mouseLeaveChart:SR,setActiveClickItemIndex:lie,setMouseOverAxisIndex:kR,setMouseClickAxisIndex:cie,setSyncInteraction:Ew,setKeyboardInteraction:Sw}=AR.actions,uie=AR.reducer;function q3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function um(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q3(Object(r),!0).forEach(function(n){die(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function die(t,e,r){return(e=fie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=hie(t,"string");return typeof e=="symbol"?e:e+""}function hie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mie(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function pie(t){return t.index!=null}var PR=(t,e,r,n)=>{if(e==null)return ba;var i=mie(t,e,r);if(i==null)return ba;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(pie(i)){if(s)return um(um({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return um(um({},ba),{},{coordinate:i.coordinate})},q6=(t,e)=>{var r=t==null?void 0:t.index;if(r==null)return null;var n=Number(r);if(!jn(n))return r;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(n,s)))},CR=(t,e,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},TR=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},yh=t=>t.options.tooltipPayloadSearcher,Ld=t=>t.tooltip;function X3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(r),!0).forEach(function(n){gie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gie(t,e,r){return(e=yie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yie(t){var e=xie(t,"string");return typeof e=="symbol"?e:e+""}function xie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vie(t,e){return t??e}var OR=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return t.reduce((h,m)=>{var g,{dataDefinedOnItem:y,settings:w}=m,x=vie(y,l),v=Array.isArray(x)?hI(x,u,d):x,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,E;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?E=KO(v,n.dataKey,i):E=s(v,e,c,j),Array.isArray(E))E.forEach(k=>{var N=J3(J3({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(VS({tooltipEntrySettings:N,dataKey:k.dataKey,payload:k.payload,value:We(k.payload,k.dataKey),name:k.name}))});else{var S;h.push(VS({tooltipEntrySettings:w,dataKey:b,payload:E,value:We(E,b),name:(S=We(E,j))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},X6=V([zt,ke,QD,E6,Vt],uR),bie=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),wie=V([Vt,Id],D6),xh=V([bie,zt,wie],R6),jie=V([xh],t=>t.filter(o1)),Nie=V([xh],M6),_d=V([Nie,Eo],L6),Aie=V([jie,Eo,zt],KD),J6=V([_d,zt,xh],B6),Eie=V([zt],F6),Sie=V([xh],t=>t.filter(o1)),kie=V([Aie,Sie,fh],ZD),Pie=V([kie,Eo,Vt],eR),Cie=V([xh],qD),Tie=V([_d,zt,Cie,u1,Vt],tR),Oie=V([nR,Vt,Id],Dd),Iie=V([Oie,Vt],aR),Die=V([iR,Vt,Id],Dd),Rie=V([Die,Vt],oR),Mie=V([sR,Vt,Id],Dd),Lie=V([Mie,Vt],lR),_ie=V([Iie,Lie,Rie],gg),Bie=V([zt,Eie,Pie,Tie,_ie,ke,Vt],U6),IR=V([zt,ke,_d,J6,fh,Vt,Bie],$6),Fie=V([IR,zt,X6],H6),Uie=V([zt,IR,Fie,Vt],G6),DR=t=>{var e=Vt(t),r=Id(t),n=!1;return gh(t,e,r,n)},RR=V([zt,DR],s1),MR=V([zt,X6,Uie,RR],z6),$ie=V([ke,J6,zt,Vt],yR),Vie=V([ke,J6,zt,Vt],xR),zie=(t,e,r,n,i,s,a,l)=>{if(e){var{type:c}=e,u=jo(t,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Yt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},ra=V([ke,zt,X6,MR,DR,$ie,Vie,Vt],zie),Z6=V([bR,wR,rie],(t,e,r)=>jR(r.shared,t,e)),LR=t=>t.tooltip.settings.trigger,ej=t=>t.tooltip.settings.defaultIndex,h1=V([Ld,Z6,LR,ej],PR),mo=V([h1,_d],q6),_R=V([ra,mo],NR),BR=V([h1],t=>{if(t)return t.dataKey}),FR=V([Ld,Z6,LR,ej],TR),Hie=V([Js,Zs,ke,Ut,ra,ej,FR,yh],CR),Wie=V([h1,Hie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Gie=V([h1],t=>t.active),Kie=V([FR,mo,Eo,zt,_R,yh,Z6],OR),Qie=V([Kie],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function Z3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z3(Object(r),!0).forEach(function(n){Yie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yie(t,e,r){return(e=qie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qie(t){var e=Xie(t,"string");return typeof e=="symbol"?e:e+""}function Xie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jie=()=>ce(zt),Zie=()=>{var t=Jie(),e=ce(ra),r=ce(MR);return j0(ek(ek({},t),{},{scale:r}),e)},ese=()=>ce(E6),tj=(t,e)=>e,UR=(t,e,r)=>r,rj=(t,e,r,n)=>n,tse=V(ra,t=>Uy(t,e=>e.coordinate)),nj=V([Ld,tj,UR,rj],PR),$R=V([nj,_d],q6),rse=(t,e,r)=>{if(e!=null){var n=Ld(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},VR=V([Ld,tj,UR,rj],TR),yg=V([Js,Zs,ke,Ut,ra,rj,VR,yh],CR),nse=V([nj,yg],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),zR=V(ra,$R,NR),ise=V([VR,$R,Eo,zt,zR,yh,tj],OR),sse=V([nj],t=>({isActive:t.active,activeIndex:t.index})),ase=(t,e,r,n,i,s,a,l)=>{if(!(!t||!e||!n||!i||!s)){var c=qJ(t.chartX,t.chartY,e,r,l);if(c){var u=JJ(c,e),d=_J(u,a,s,n,i),f=XJ(e,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function kw(){return kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kw.apply(null,arguments)}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){ose(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ose(t,e,r){return(e=lse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lse(t){var e=cse(t,"string");return typeof e=="symbol"?e:e+""}function cse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function use(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=t,d=e,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=MZ;else if(u==="BarChart")m=LZ(a,d,i,s),g=_I;else if(a==="radial"){var{cx:y,cy:w,radius:x,startAngle:v,endAngle:b}=BI(d);m={cx:y,cy:w,startAngle:v,endAngle:b,innerRadius:x,outerRadius:x},g=UI}else m={points:pee(a,d,i)},g=X5;var j=typeof l=="object"&&"className"in l?l.className:void 0,E=dm(dm(dm(dm({stroke:"#ccc",pointerEvents:"none"},i),m),at(l,!1)),{},{payload:f,payloadIndex:h,className:De("recharts-tooltip-cursor",j)});return p.isValidElement(l)?p.cloneElement(l,E):p.createElement(g,E)}function dse(t){var e=Zie(),r=bI(),n=qy(),i=ese();return p.createElement(use,kw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var HR=p.createContext(null),fse=()=>p.useContext(HR),WR={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],x=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,g),!0}for(b=1,v=new Array(x-1);b<x;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,E;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),x){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(E=1,v=new Array(x-1);E<x;E++)v[E-1]=arguments[E];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var y=0,w=[],x=g.length;y<x;y++)(g[y].fn!==d||h&&!g[y].once||f&&g[y].context!==f)&&w.push(g[y]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(WR);var hse=WR.exports;const mse=Zi(hse);var C0=new mse,Pw="recharts.syncEvent.tooltip",rk="recharts.syncEvent.brush";function ij(t,e){if(e){var r=Number.parseInt(e,10);if(!vn(r))return t==null?void 0:t[r]}}var pse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},GR=En({name:"options",initialState:pse,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gse=GR.reducer,{createEventEmitter:yse}=GR.actions;function xse(t){return t.tooltip.syncInteraction}var vse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KR=En({name:"chartData",initialState:vse,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:nk,setDataStartEndIndexes:bse,setComputedData:Sfe}=KR.actions,wse=KR.reducer,QR=()=>{};function jse(){var t=ce(S6),e=ce(k6),r=Et(),n=ce($D),i=ce(ra),s=qy(),a=q5(),l=ce(c=>c.rootProps.className);p.useEffect(()=>{if(t==null)return QR;var c=(u,d,f)=>{if(e!==f&&t===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(i,m);h=i[g]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:y}=d.payload;if(h==null||d.payload.active===!1||y==null||a==null){r(Ew({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:x}=y,v=Math.min(w,a.x+a.width),b=Math.min(x,a.y+a.height),j={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},E=Ew({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(E)}}};return C0.on(Pw,c),()=>{C0.off(Pw,c)}},[l,r,e,t,n,i,s,a])}function Nse(){var t=ce(S6),e=ce(k6),r=Et();p.useEffect(()=>{if(t==null)return QR;var n=(i,s,a)=>{e!==a&&t===i&&r(bse(s))};return C0.on(rk,n),()=>{C0.off(rk,n)}},[r,e,t])}function Ase(){var t=Et();p.useEffect(()=>{t(yse())},[t]),jse(),Nse()}function Ese(t,e,r,n,i,s){var a=ce(h=>rse(h,t,e)),l=ce(k6),c=ce(S6),u=ce($D),d=ce(xse),f=d==null?void 0:d.active;p.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Ew({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});C0.emit(Pw,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){Sse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sse(t,e,r){return(e=kse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kse(t){var e=Pse(t,"string");return typeof e=="symbol"?e:e+""}function Pse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cse(t){return t.dataKey}function Tse(t,e){return p.isValidElement(t)?p.cloneElement(t,e):typeof t=="function"?p.createElement(t,e):p.createElement(hZ,e)}var ak=[],Ose={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!cc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $c(t){var e=Sn(t,Ose),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:y,shared:w,trigger:x,defaultIndex:v,portal:b,axisId:j}=e,E=Et(),S=typeof v=="number"?String(v):v;p.useEffect(()=>{E(aie({shared:w,trigger:x,axisId:j,active:r,defaultIndex:S}))},[E,w,x,j,r,S]);var k=q5(),N=SI(),C=tie(w),{activeIndex:R,isActive:D}=ce(ne=>sse(ne,C,x,S)),B=ce(ne=>ise(ne,C,x,S)),z=ce(ne=>zR(ne,C,x,S)),Q=ce(ne=>nse(ne,C,x,S)),T=B,M=fse(),F=r??D,[P,L]=kX([T,F]),W=C==="axis"?z:void 0;Ese(C,x,Q,W,R,F);var $=b??M;if($==null)return null;var G=T??ak;F||(G=ak),l&&G.length&&(G=Wq(T.filter(ne=>ne.value!=null&&(ne.hide!==!0||e.includeHidden)),d,Cse));var fe=G.length>0,pe=p.createElement(bZ,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:F,coordinate:Q,hasPayload:fe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:g,lastBoundingBox:P,innerRef:L,hasPortalFromProps:!!b},Tse(a,sk(sk({},e),{},{payload:G,label:W,active:F,coordinate:Q,accessibilityLayer:N})));return p.createElement(p.Fragment,null,m4.createPortal(pe,$),F&&p.createElement(dse,{cursor:y,tooltipEventType:C,coordinate:Q,payload:T,index:R}))}var YR={},qR={},XR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),a=void 0,l=null},w=()=>{d()},x=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return x.schedule=m,x.cancel=y,x.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),x}t.debounce=e})(XR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XR;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=e.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}t.debounce=r})(qR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qR;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:l})}t.throttle=r})(YR);var Ise=YR.throttle;const Dse=Zi(Ise);var Lf=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){Rse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rse(t,e,r){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vc=p.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=t,y=p.useRef(null),w=p.useRef();w.current=m,p.useImperativeHandle(e,()=>y.current);var[x,v]=p.useState({containerWidth:n.width,containerHeight:n.height}),b=p.useCallback((E,S)=>{v(k=>{var N=Math.round(E),C=Math.round(S);return k.containerWidth===N&&k.containerHeight===C?k:{containerWidth:N,containerHeight:C}})},[]);p.useEffect(()=>{var E=C=>{var R,{width:D,height:B}=C[0].contentRect;b(D,B),(R=w.current)===null||R===void 0||R.call(w,D,B)};d>0&&(E=Dse(E,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(E),{width:k,height:N}=y.current.getBoundingClientRect();return b(k,N),S.observe(y.current),()=>{S.disconnect()}},[b,d]);var j=p.useMemo(()=>{var{containerWidth:E,containerHeight:S}=x;if(E<0||S<0)return null;Lf(rl(i)||rl(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Lf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=rl(i)?E:i,N=rl(s)?S:s;return r&&r>0&&(k?N=k/r:N&&(k=N*r),c&&N>c&&(N=c)),Lf(k>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,N,i,s,a,l,r),p.Children.map(u,C=>p.cloneElement(C,{width:k,height:N,style:Vx({width:k,height:N},C.props.style)}))},[r,u,s,c,l,a,x,i]);return p.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:Vx(Vx({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:y},p.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),vh=t=>null;vh.displayName="Cell";function _se(t,e,r){return(e=Bse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bse(t){var e=Fse(t,"string");return typeof e=="symbol"?e:e+""}function Fse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Use{constructor(e){_se(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $se(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){Vse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vse(t,e,r){return(e=zse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zse(t){var e=Hse(t,"string");return typeof e=="symbol"?e:e+""}function Hse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wse={cacheSize:2e3,enableCache:!0},JR=$se({},Wse),ck=new Use(JR.cacheSize),Gse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uk="recharts_measurement_span";function Kse(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var dk=(t,e)=>{try{var r=document.getElementById(uk);r||(r=document.createElement("span"),r.setAttribute("id",uk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Gse,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},_f=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cc.isSsr)return{width:0,height:0};if(!JR.enableCache)return dk(e,r);var n=Kse(e,r),i=ck.get(n);if(i)return i;var s=dk(e,r);return ck.set(n,s),s},fk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qse=Object.keys(ZR),zc="NaN";function Xse(t,e){return t*ZR[e]}class Fr{static parse(e){var r,[,n,i]=(r=Yse.exec(e))!==null&&r!==void 0?r:[];return new Fr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,vn(e)&&(this.unit=""),r!==""&&!Qse.test(r)&&(this.num=NaN,this.unit=""),qse.includes(r)&&(this.num=Xse(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Fr(NaN,""):new Fr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return vn(this.num)}}function eM(t){if(t.includes(zc))return zc;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=fk.exec(e))!==null&&r!==void 0?r:[],a=Fr.parse(n??""),l=Fr.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return zc;e=e.replace(fk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,h]=(u=hk.exec(e))!==null&&u!==void 0?u:[],m=Fr.parse(d??""),g=Fr.parse(h??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return zc;e=e.replace(hk,y.toString())}return e}var mk=/\(([^()]*)\)/;function Jse(t){for(var e=t,r;(r=mk.exec(e))!=null;){var[,n]=r;e=e.replace(mk,eM(n))}return e}function Zse(t){var e=t.replace(/\s+/g,"");return e=Jse(e),e=eM(e),e}function eae(t){try{return Zse(t)}catch{return zc}}function zx(t){var e=eae(t.slice(5,-1));return e===zc?"":e}var tae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rae=["dx","dy","angle","className","breakAll"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(null,arguments)}function pk(t,e){if(t==null)return{};var r,n,i=nae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tM=/[ \f\n\r\t\v\u2028\u2029]+/,rM=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];rt(e)||(r?i=e.toString().split(""):i=e.toString().split(tM));var s=i.map(l=>({word:l,width:_f(l,n).width})),a=r?0:_f(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},iae=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,u=re(s),d=a,f=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((B,z)=>{var{word:Q,width:T}=z,M=B[B.length-1];if(M&&(n==null||i||M.width+T+r<Number(n)))M.words.push(Q),M.width+=T+r;else{var F={words:[Q],width:T};B.push(F)}return B},[])},h=f(e),m=R=>R.reduce((D,B)=>D.width>B.width?D:B);if(!u||i)return h;var g=h.length>s||m(h).width>Number(n);if(!g)return h;for(var y="…",w=R=>{var D=d.slice(0,R),B=rM({breakAll:c,style:l,children:D+y}).wordsWithComputedWidth,z=f(B),Q=z.length>s||m(z).width>Number(n);return[Q,z]},x=0,v=d.length-1,b=0,j;x<=v&&b<=d.length-1;){var E=Math.floor((x+v)/2),S=E-1,[k,N]=w(S),[C]=w(E);if(!k&&!C&&(x=E+1),k&&C&&(v=E-1),!k&&C){j=N;break}b++}return j||h},gk=t=>{var e=rt(t)?[]:t.toString().split(tM);return[{words:e}]},sae=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!cc.isSsr){var l,c,u=rM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return gk(n);return iae({breakAll:s,children:n,maxLines:a,style:i},l,c,e,r)}return gk(n)},yk="#808080",m1=p.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=yk}=t,d=pk(t,tae),f=p.useMemo(()=>sae({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:g,className:y,breakAll:w}=d,x=pk(d,rae);if(!Xi(r)||!Xi(n))return null;var v=r+(re(h)?h:0),b=n+(re(m)?m:0),j;switch(c){case"start":j=zx("calc(".concat(s,")"));break;case"middle":j=zx("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=zx("calc(".concat(f.length-1," * -").concat(i,")"));break}var E=[];if(a){var S=f[0].width,{width:k}=d;E.push("scale(".concat(re(k)?k/S:1,")"))}return g&&E.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),E.length&&(x.transform=E.join(" ")),p.createElement("text",Cw({},at(x,!0),{ref:e,x:v,y:b,className:De("recharts-text",y),textAnchor:l,fill:u.includes("url")?yk:u}),f.map((N,C)=>{var R=N.words.join(w?"":" ");return p.createElement("tspan",{x:v,dy:C===0?j:i,key:"".concat(R,"-").concat(C)},R)}))});m1.displayName="Text";var aae=["offset"],oae=["labelRef"];function xk(t,e){if(t==null)return{};var r,n,i=lae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cae(t,e,r){return(e=uae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uae(t){var e=dae(t,"string");return typeof e=="symbol"?e:e+""}function dae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bs.apply(null,arguments)}var fae=t=>{var{value:e,formatter:r}=t,n=rt(t.children)?e:t.children;return typeof r=="function"?r(n):n},sj=t=>t!=null&&typeof t=="function",hae=(t,e)=>{var r=Yt(e-t),n=Math.min(Math.abs(e-t),360);return r*n},mae=(t,e,r,n)=>{var{position:i,offset:s,className:a}=t,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,g=(u+d)/2,y=hae(f,h),w=y>=0?1:-1,x,v;i==="insideStart"?(x=f+w*s,v=m):i==="insideEnd"?(x=h-w*s,v=!m):i==="end"&&(x=h+w*s,v=m),v=y<=0?v:!v;var b=It(l,c,g,x),j=It(l,c,g,x+(v?1:-1)*359),E="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=rt(t.id)?v0("recharts-radial-line-"):t.id;return p.createElement("text",bs({},r,{dominantBaseline:"central",className:De("recharts-radial-bar-label",a)}),p.createElement("defs",null,p.createElement("path",{id:S,d:E})),p.createElement("textPath",{xlinkHref:"#".concat(S)},e))},pae=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=It(n,i,a+e,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:g}=It(n,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},gae=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,{x:s,y:a,width:l,height:c}=e,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,g=m*n,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var x={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return mt(mt({},x),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return mt(mt({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-g,y:a+c/2,textAnchor:y,verticalAnchor:"middle"};return mt(mt({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return mt(mt({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var E=r?{width:l,height:c}:{};return i==="insideLeft"?mt({x:s+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},E):i==="insideRight"?mt({x:s+l-g,y:a+c/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideTop"?mt({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},E):i==="insideBottom"?mt({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},E):i==="insideTopLeft"?mt({x:s+g,y:a+d,textAnchor:w,verticalAnchor:h},E):i==="insideTopRight"?mt({x:s+l-g,y:a+d,textAnchor:y,verticalAnchor:h},E):i==="insideBottomLeft"?mt({x:s+g,y:a+c-d,textAnchor:w,verticalAnchor:f},E):i==="insideBottomRight"?mt({x:s+l-g,y:a+c-d,textAnchor:y,verticalAnchor:f},E):i&&typeof i=="object"&&(re(i.x)||rl(i.x))&&(re(i.y)||rl(i.y))?mt({x:s+Rr(i.x,l),y:a+Rr(i.y,c),textAnchor:"end",verticalAnchor:"end"},E):mt({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},E)},yae=t=>"cx"in t&&re(t.cx);function un(t){var{offset:e=5}=t,r=xk(t,aae),n=mt({offset:e},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=ce(GD),m=q5(),g=s==="center"?m:h??m,y=i||g;if(!y||rt(a)&&rt(l)&&!p.isValidElement(c)&&typeof c!="function")return null;var w=mt(mt({},n),{},{viewBox:y});if(p.isValidElement(c)){var{labelRef:x}=w,v=xk(w,oae);return p.cloneElement(c,v)}var b;if(typeof c=="function"){if(b=p.createElement(c,w),p.isValidElement(b))return b}else b=fae(n);var j=yae(y),E=at(n,!0);if(j&&(s==="insideStart"||s==="insideEnd"||s==="end"))return mae(n,b,E,y);var S=j?pae(y,n.offset,n.position):gae(n,y);return p.createElement(m1,bs({ref:f,className:De("recharts-label",u)},E,S,{breakAll:d}),b)}un.displayName="Label";var nM=t=>{var{cx:e,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:g,height:y,clockWise:w,labelViewBox:x}=t;if(x)return x;if(re(g)&&re(y)){if(re(d)&&re(f))return{x:d,y:f,width:g,height:y};if(re(h)&&re(m))return{x:h,y:m,width:g,height:y}}if(re(d)&&re(f))return{x:d,y:f,width:0,height:0};if(re(e)&&re(r))return{cx:e,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(t.viewBox)return t.viewBox},xae=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?p.createElement(un,bs({key:"label-implicit"},n)):Xi(t)?p.createElement(un,bs({key:"label-implicit",value:t},n)):p.isValidElement(t)?t.type===un?p.cloneElement(t,mt({key:"label-implicit"},n)):p.createElement(un,bs({key:"label-implicit",content:t},n)):sj(t)?p.createElement(un,bs({key:"label-implicit",content:t},n)):t&&typeof t=="object"?p.createElement(un,bs({},t,{key:"label-implicit"},n)):null},vae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:i,labelRef:s}=e,a=nM(e),l=ah(i,un).map((u,d)=>p.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=xae(e.label,r||a,s);return[c,...l]};un.parseViewBox=nM;un.renderCallByParent=vae;var iM={},sM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(sM);var aM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(aM);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sM,r=aM,n=My;function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(iM);var bae=iM.last;const wae=Zi(bae);var jae=["valueAccessor"],Nae=["data","dataKey","clockWise","id","textBreakAll"];function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(null,arguments)}function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){Aae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aae(t,e,r){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jk(t,e){if(t==null)return{};var r,n,i=kae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Pae=t=>Array.isArray(t.value)?wae(t.value):t.value;function Za(t){var{valueAccessor:e=Pae}=t,r=jk(t,jae),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=jk(r,Nae);return!n||!n.length?null:p.createElement(jr,{className:"recharts-label-list"},n.map((u,d)=>{var f=rt(i)?e(u,d):We(u&&u.payload,i),h=rt(a)?{}:{id:"".concat(a,"-").concat(d)};return p.createElement(un,xg({},at(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:un.parseViewBox(rt(s)?u:wk(wk({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Za.displayName="LabelList";function Cae(t,e){return t?t===!0?p.createElement(Za,{key:"labelList-implicit",data:e}):p.isValidElement(t)||sj(t)?p.createElement(Za,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?p.createElement(Za,xg({data:e},t,{key:"labelList-implicit"})):null:null}function Tae(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:n}=t,i=ah(n,Za).map((a,l)=>p.cloneElement(a,{data:e,key:"labelList-".concat(l)}));if(!r)return i;var s=Cae(t.label,e);return[s,...i]}Za.renderCallByParent=Tae;function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(null,arguments)}var oM=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=De("recharts-dot",i);return e===+e&&r===+r&&n===+n?p.createElement("circle",Tw({},Xs(t),C5(t),{className:s,cx:e,cy:r,r:n})):null},lM=t=>t.graphicalItems.polarItems,Oae=V([lt,hh],D6),aj=V([lM,St,Oae],R6),Iae=V([aj],M6),oj=V([Iae,j6],L6),Dae=V([oj,St,aj],B6),Rae=V([oj,St,aj],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=We(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:We(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]}))),Nk=()=>{},Mae=V([St,cR,Nk,Rae,Nk,ke,lt],U6),cM=V([St,ke,oj,Dae,fh,lt,Mae],$6),Lae=V([cM,St,Rd],H6);V([St,cM,Lae,lt],G6);var _ae={radiusAxis:{},angleAxis:{}},uM=En({name:"polarAxis",initialState:_ae,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:kfe,removeRadiusAxis:Pfe,addAngleAxis:Cfe,removeAngleAxis:Tfe}=uM.actions,Bae=uM.reducer;function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){Fae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fae(t,e,r){return(e=Uae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uae(t){var e=$ae(t,"string");return typeof e=="symbol"?e:e+""}function $ae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vae=(t,e)=>e,lj=V([lM,Vae],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),zae=[],cj=(t,e,r)=>(r==null?void 0:r.length)===0?zae:r,dM=V([j6,lj,cj],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>Ek(Ek({},e.presentationProps),s.props))),i!=null)return i}}),Hae=V([dM,lj,cj],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=We(n,e.nameKey,e.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=e.fill,{value:Pd(a,e.dataKey),color:l,payload:n,type:e.legendType}})}),Wae=V([dM,lj,cj,Ut],(t,e,r,n)=>{if(!(e==null||t==null))return Loe({offset:n,pieSettings:e,displayedData:t,cells:r})}),fM={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(fM);var Gae=fM.isPlainObject;const Kae=Zi(Gae);function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vg.apply(null,arguments)}var Sk=(t,e,r,n,i)=>{var s=r-n,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+r,",").concat(e),a+="L ".concat(t+r-s/2,",").concat(e+i),a+="L ".concat(t+r-s/2-n,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},Qae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yae=t=>{var e=Sn(t,Qae),r=p.useRef(),[n,i]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=e,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=e;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var y=De("recharts-trapezoid",d);return g?p.createElement(ng,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:g},w=>{var{upperWidth:x,lowerWidth:v,height:b,x:j,y:E}=w;return p.createElement(ng,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},p.createElement("path",vg({},at(e,!0),{className:y,d:Sk(j,E,x,v,b),ref:r})))}):p.createElement("g",null,p.createElement("path",vg({},at(e,!0),{className:y,d:Sk(s,a,l,c,u)})))},qae=["option","shapeType","propTransformer","activeClassName","isActive"];function Xae(t,e){if(t==null)return{};var r,n,i=Jae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Jae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){Zae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zae(t,e,r){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function roe(t,e){return bg(bg({},e),t)}function noe(t,e){return t==="symbols"}function Pk(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return p.createElement(_I,r);case"trapezoid":return p.createElement(Yae,r);case"sector":return p.createElement(UI,r);case"symbols":if(noe(e))return p.createElement(p9,r);break;default:return null}}function ioe(t){return p.isValidElement(t)?t.props:t}function hM(t){var{option:e,shapeType:r,propTransformer:n=roe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=Xae(t,qae),l;if(p.isValidElement(e))l=p.cloneElement(e,bg(bg({},a),ioe(e)));else if(typeof e=="function")l=e(a);else if(Kae(e)&&typeof e!="boolean"){var c=n(e,a);l=p.createElement(Pk,{shapeType:r,elementProps:c})}else{var u=a;l=p.createElement(Pk,{shapeType:r,elementProps:u})}return s?p.createElement(jr,{className:i},l):l}var uj=(t,e)=>{var r=Et();return(n,i)=>s=>{t==null||t(n,i,s),r(ER({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}},dj=t=>{var e=Et();return(r,n)=>i=>{t==null||t(r,n,i),e(oie())}},fj=(t,e)=>{var r=Et();return(n,i)=>s=>{t==null||t(n,i,s),r(lie({activeIndex:String(i),activeDataKey:e,activeCoordinate:n.tooltipPosition}))}};function hj(t){var{fn:e,args:r}=t,n=Et(),i=Jr();return p.useEffect(()=>{if(!i){var s=e(r);return n(iie(s)),()=>{n(sie(s))}}},[e,r,n,i]),null}var mM=()=>{};function pM(t){var{legendPayload:e}=t,r=Et(),n=Jr();return p.useEffect(()=>n?mM:(r(AI(e)),()=>{r(EI(e))}),[r,n,e]),null}function soe(t){var{legendPayload:e}=t,r=Et(),n=ce(ke);return p.useEffect(()=>n!=="centric"&&n!=="radial"?mM:(r(AI(e)),()=>{r(EI(e))}),[r,n,e]),null}function mj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(v0(e)),n=p.useRef(t);return n.current!==t&&(r.current=v0(e),n.current=t),r.current}var Hx,aoe=()=>{var[t]=p.useState(()=>v0("uid-"));return t},ooe=(Hx=k7.useId)!==null&&Hx!==void 0?Hx:aoe;function loe(t,e){var r=ooe();return e||(t?"".concat(t,"-").concat(r):r)}var coe=p.createContext(void 0),pj=t=>{var{id:e,type:r,children:n}=t,i=loe("recharts-".concat(r),e);return p.createElement(coe.Provider,{value:i},n(i))},uoe={cartesianItems:[],polarItems:[]},gM=En({name:"graphicalItems",initialState:uoe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Rs(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Rs(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Rs(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:doe,replaceCartesianGraphicalItem:foe,removeCartesianGraphicalItem:hoe,addPolarGraphicalItem:moe,removePolarGraphicalItem:poe}=gM.actions,goe=gM.reducer;function yM(t){var e=Et(),r=p.useRef(null);return p.useEffect(()=>{r.current===null?e(doe(t)):r.current!==t&&e(foe({prev:r.current,next:t})),r.current=t},[e,t]),p.useEffect(()=>()=>{r.current&&(e(hoe(r.current)),r.current=null)},[e]),null}function yoe(t){var e=Et();return p.useEffect(()=>(e(moe(t)),()=>{e(poe(t))}),[e,t]),null}function xoe(){}var voe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ck={t:0},Wx={t:1};function gj(t){var e=Sn(t,voe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=e,d=LI("JavascriptAnimate",e.animationManager),[f,h]=p.useState(r?Ck:Wx),m=p.useRef(null);return p.useEffect(()=>{r||h(Wx)},[r]),p.useEffect(()=>{if(!r||!n)return xoe;var g=MI(Ck,Wx,DI(s),i,h,d.getTimeoutController()),y=()=>{m.current=g()};return d.start([c,a,y,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var boe=["onMouseEnter","onClick","onMouseLeave"],woe=["id"],joe=["id"];function yj(t,e){if(t==null)return{};var r,n,i=Noe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Noe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(r),!0).forEach(function(n){Aoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Aoe(t,e,r){return(e=Eoe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eoe(t){var e=Soe(t,"string");return typeof e=="symbol"?e:e+""}function Soe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qs(){return Qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qs.apply(null,arguments)}function koe(t){var e=p.useMemo(()=>ah(t.children,vh),[t.children]),r=ce(n=>Hae(n,t.id,e));return r==null?null:p.createElement(soe,{legendPayload:r})}function Poe(t){var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:Pd(l,e),hide:c,type:u,color:a,unit:""}}}var Coe=(t,e)=>t>e?"start":t<e?"end":"middle",Toe=(t,e,r)=>typeof e=="function"?e(t):Rr(e,r,r*.8),Ooe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,l=fI(s,a),c=i+Rr(t.cx,s,s/2),u=n+Rr(t.cy,a,a/2),d=Rr(t.innerRadius,l,0),f=Toe(r,t.outerRadius,l),h=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Ioe=(t,e)=>{var r=Yt(e-t),n=Math.min(Math.abs(e-t),360);return r*n},Doe=(t,e)=>{if(p.isValidElement(t))return p.cloneElement(t,e);if(typeof t=="function")return t(e);var r=De("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return p.createElement(X5,Qs({},e,{type:"linear",className:r}))},Roe=(t,e,r)=>{if(p.isValidElement(t))return p.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),p.isValidElement(n)))return n;var i=De("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return p.createElement(m1,Qs({},e,{alignmentBaseline:"middle",className:i}),n)};function Moe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var l=Xs(r),c=at(i,!1),u=at(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=e.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,y=It(h.cx,h.cy,h.outerRadius+d,g),w=yt(yt(yt(yt({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:Coe(y.x,h.cx)},y),x=yt(yt(yt(yt({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[It(h.cx,h.cy,h.outerRadius,g),y],key:"line"});return p.createElement(jr,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&Doe(s,x),Roe(i,w,We(h,a)))});return p.createElement(jr,{className:"recharts-pie-labels"},f)}function xM(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=t,a=ce(mo),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=yj(i,boe),f=uj(l,i.dataKey),h=dj(u),m=fj(c,i.dataKey);return e==null?null:p.createElement(p.Fragment,null,e.map((g,y)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&e.length!==1)return null;var w=r&&String(y)===a,x=a?n:null,v=w?r:x,b=yt(yt({},g),{},{stroke:g.stroke,tabIndex:-1,[yI]:y,[xI]:i.dataKey});return p.createElement(jr,Qs({tabIndex:-1,className:"recharts-pie-sector"},Oy(d,g,y),{onMouseEnter:f(g,y),onMouseLeave:h(g,y),onClick:m(g,y),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(y)}),p.createElement(hM,Qs({option:v,isActive:w,shapeType:"sector"},b)))}),p.createElement(Moe,{sectors:e,props:i,showLabels:s}))}function Loe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Ioe(l,c),g=Math.abs(m),y=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(S=>We(S,u,0)!==0).length,x=(g>=360?w:w-1)*y,v=g-w*h-x,b=n.reduce((S,k)=>{var N=We(k,u,0);return S+(re(N)?N:0)},0),j;if(b>0){var E;j=n.map((S,k)=>{var N=We(S,u,0),C=We(S,d,k),R=Ooe(r,s,S),D=(re(N)?N:0)/b,B,z=yt(yt({},S),i&&i[k]&&i[k].props);k?B=E.endAngle+Yt(m)*y*(N!==0?1:0):B=l;var Q=B+Yt(m)*((N!==0?h:0)+D*v),T=(B+Q)/2,M=(R.innerRadius+R.outerRadius)/2,F=[{name:C,value:N,payload:z,dataKey:u,type:f}],P=It(R.cx,R.cy,M,T);return E=yt(yt(yt(yt({},r.presentationProps),{},{percent:D,cornerRadius:a,name:C,tooltipPayload:F,midAngle:T,middleRadius:M,tooltipPosition:P},z),R),{},{value:We(S,u),startAngle:B,endAngle:Q,payload:z,paddingAngle:Yt(m)*y}),E})}return j}function _oe(t){var{props:e,previousSectorsRef:r}=t,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=e,h=mj(e,"recharts-pie-"),m=r.current,[g,y]=p.useState(!0),w=p.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),x=p.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return p.createElement(gj,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:x,onAnimationEnd:w,key:h},v=>{var b=[],j=n&&n[0],E=j.startAngle;return n.forEach((S,k)=>{var N=m&&m[k],C=k>0?uo(S,"paddingAngle",0):0;if(N){var R=lS(N.endAngle-N.startAngle,S.endAngle-S.startAngle),D=yt(yt({},S),{},{startAngle:E+C,endAngle:E+R(v)+C});b.push(D),E=D.endAngle}else{var{endAngle:B,startAngle:z}=S,Q=lS(0,B-z),T=Q(v),M=yt(yt({},S),{},{startAngle:E+C,endAngle:E+T+C});b.push(M),E=M.endAngle}}),r.current=b,p.createElement(jr,null,p.createElement(xM,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:e,showLabels:!g}))})}function Boe(t){var{sectors:e,isAnimationActive:r,activeShape:n,inactiveShape:i}=t,s=p.useRef(null),a=s.current;return r&&e&&e.length&&(!a||a!==e)?p.createElement(_oe,{props:t,previousSectorsRef:s}):p.createElement(xM,{sectors:e,activeShape:n,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function Foe(t){var{hide:e,className:r,rootTabIndex:n}=t,i=De("recharts-pie",r);return e?null:p.createElement(jr,{tabIndex:n,className:i},p.createElement(Boe,t))}var Uoe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!cc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function $oe(t){var{id:e}=t,r=yj(t,woe),n=p.useMemo(()=>ah(t.children,vh),[t.children]),i=ce(s=>Wae(s,e,n));return p.createElement(p.Fragment,null,p.createElement(hj,{fn:Poe,args:yt(yt({},t),{},{sectors:i})}),p.createElement(Foe,Qs({},r,{sectors:i})))}function vM(t){var e=Sn(t,Uoe),{id:r}=e,n=yj(e,joe),i=Xs(n);return p.createElement(pj,{id:r,type:"pie"},s=>p.createElement(p.Fragment,null,p.createElement(yoe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),p.createElement(koe,Qs({},n,{id:s})),p.createElement($oe,Qs({},n,{id:s})),n.children))}vM.displayName="Pie";var Voe=V([Ut],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),zoe=V([Voe,Js,Zs],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),xj=()=>ce(zoe),Hoe=()=>ce(Qie);function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){Woe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Woe(t,e,r){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Goe(t){var e=Koe(t,"string");return typeof e=="symbol"?e:e+""}function Koe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qoe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var a=Ik(Ik({index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},at(i,!1)),C5(i)),l;return p.isValidElement(i)?l=p.cloneElement(i,a):typeof i=="function"?l=i(a):l=p.createElement(oM,a),p.createElement(jr,{className:"recharts-active-dot"},l)};function Yoe(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,s=ce(mo),a=Hoe();if(e==null||a==null)return null;var l=e.find(c=>a.includes(c.payload));return rt(l)?null:Qoe({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}var qoe="Invariant failed";function Xoe(t,e){throw new Error(qoe)}var Joe=["x","y"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ow.apply(null,arguments)}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){Zoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zoe(t,e,r){return(e=ele(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ele(t){var e=tle(t,"string");return typeof e=="symbol"?e:e+""}function tle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rle(t,e){if(t==null)return{};var r,n,i=nle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nle(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ile(t,e){var{x:r,y:n}=t,i=rle(t,Joe),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return af(af(af(af(af({},e),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function bM(t){return p.createElement(hM,Ow({shapeType:"rectangle",propTransformer:ile,activeClassName:"recharts-active-bar"},t))}var sle=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(e))return e;var s=re(n)||rt(n);return s?e(n,i):(s||Xoe(),r)}},ale={},wM=En({name:"errorBars",initialState:ale,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Ofe,removeErrorBar:Ife}=wM.actions,ole=wM.reducer,lle=["children"];function cle(t,e){if(t==null)return{};var r,n,i=ule(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ule(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var dle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fle=p.createContext(dle);function jM(t){var{children:e}=t,r=cle(t,lle);return p.createElement(fle.Provider,{value:r},e)}function vj(t,e){var r,n,i=ce(u=>ta(u,t)),s=ce(u=>So(u,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:en.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:tn.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function NM(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=xj(),{needClipX:s,needClipY:a,needClip:l}=vj(e,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var hle=["onMouseEnter","onMouseLeave","onClick"],mle=["value","background","tooltipPosition"],ple=["id"],gle=["onMouseEnter","onClick","onMouseLeave"];function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(null,arguments)}function Rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(r),!0).forEach(function(n){yle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yle(t,e,r){return(e=xle(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xle(t){var e=vle(t,"string");return typeof e=="symbol"?e:e+""}function vle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wg(t,e){if(t==null)return{};var r,n,i=ble(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ble(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var wle=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Pd(r,e),payload:t}]};function jle(t){var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:Pd(s,e),hide:a,type:t.tooltipType,color:t.fill,unit:l}}}function Nle(t){var e=ce(mo),{data:r,dataKey:n,background:i,allOtherBarProps:s}=t,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=wg(s,hle),d=uj(a,n),f=dj(l),h=fj(c,n);if(!i||r==null)return null;var m=at(i,!1);return p.createElement(p.Fragment,null,r.map((g,y)=>{var{value:w,background:x,tooltipPosition:v}=g,b=wg(g,mle);if(!x)return null;var j=d(g,y),E=f(g,y),S=h(g,y),k=xr(xr(xr(xr(xr({option:i,isActive:String(y)===e},b),{},{fill:"#eee"},x),m),Oy(u,g,y)),{},{onMouseEnter:j,onMouseLeave:E,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return p.createElement(bM,wd({key:"background-bar-".concat(y)},k))}))}function AM(t){var{data:e,props:r,showLabels:n}=t,i=Xs(r),{id:s}=i,a=wg(i,ple),{shape:l,dataKey:c,activeBar:u}=r,d=ce(mo),f=ce(BR),{onMouseEnter:h,onClick:m,onMouseLeave:g}=r,y=wg(r,gle),w=uj(h,c),x=dj(g),v=fj(m,c);return e?p.createElement(p.Fragment,null,e.map((b,j)=>{var E=u&&String(j)===d&&(f==null||c===f),S=E?u:l,k=xr(xr(xr({},a),b),{},{isActive:E,option:S,index:j,dataKey:c});return p.createElement(jr,wd({className:"recharts-bar-rectangle"},Oy(y,b,j),{onMouseEnter:w(b,j),onMouseLeave:x(b,j),onClick:v(b,j),key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(j)}),p.createElement(bM,k))}),n&&Za.renderCallByParent(r,e)):null}function Ale(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=e,f=r.current,h=mj(e,"recharts-bar-"),[m,g]=p.useState(!1),y=p.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),w=p.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return p.createElement(gj,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:w,key:h},x=>{var v=x===1?n:n==null?void 0:n.map((b,j)=>{var E=f&&f[j];if(E)return xr(xr({},b),{},{x:mi(E.x,b.x,x),y:mi(E.y,b.y,x),width:mi(E.width,b.width,x),height:mi(E.height,b.height,x)});if(i==="horizontal"){var S=mi(0,b.height,x);return xr(xr({},b),{},{y:b.y+b.height-S,height:S})}var k=mi(0,b.width,x);return xr(xr({},b),{},{width:k})});return x>0&&(r.current=v??null),v==null?null:p.createElement(jr,null,p.createElement(AM,{props:e,data:v,showLabels:!m}))})}function Ele(t){var{data:e,isAnimationActive:r}=t,n=p.useRef(null);return r&&e&&e.length&&(n.current==null||n.current!==e)?p.createElement(Ale,{previousRectanglesRef:n,props:t}):p.createElement(AM,{props:t,data:e,showLabels:!0})}var EM=0,Sle=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:We(t,e)}};class kle extends p.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(e)return null;var d=De("recharts-bar",i),f=u;return p.createElement(jr,{className:d,id:u},l&&p.createElement("defs",null,p.createElement(NM,{clipPathId:f,xAxisId:s,yAxisId:a})),p.createElement(jr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Nle,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(Ele,this.props)),this.props.children)}}var Ple={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!cc.isSsr,legendType:"rect",minPointSize:EM,xAxisId:0,yAxisId:0};function Cle(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=t,{needClip:f}=vj(e,r),h=qy(),m=Jr(),g=ah(t.children,vh),y=ce(v=>rce(v,e,r,m,t.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var w,x=y==null?void 0:y[0];return x==null||x.height==null||x.width==null?w=0:w=h==="vertical"?x.height/2:x.width/2,p.createElement(jM,{xAxisId:e,yAxisId:r,data:y,dataPointFormatter:Sle,errorBarOffset:w},p.createElement(kle,wd({},t,{layout:h,needClip:f,data:y,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Tle(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=t,g=e==="horizontal"?l:a,y=d?g.scale.domain():null,w=GJ({numericAxis:g});return f.map((x,v)=>{var b,j,E,S,k,N;d?b=UJ(d[v],y):(b=We(x,r),Array.isArray(b)||(b=[w,b]));var C=sle(n,EM)(b[1],v);if(e==="horizontal"){var R,[D,B]=[l.scale(b[0]),l.scale(b[1])];j=FS({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:x,index:v}),E=(R=B??D)!==null&&R!==void 0?R:void 0,S=i.size;var z=D-B;if(k=vn(z)?0:z,N={x:j,y:h.top,width:S,height:h.height},Math.abs(C)>0&&Math.abs(k)<Math.abs(C)){var Q=Yt(k||C)*(Math.abs(C)-Math.abs(k));E-=Q,k+=Q}}else{var[T,M]=[a.scale(b[0]),a.scale(b[1])];if(j=T,E=FS({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:x,index:v}),S=M-T,k=i.size,N={x:h.left,y:E,width:h.width,height:k},Math.abs(C)>0&&Math.abs(S)<Math.abs(C)){var F=Yt(S||C)*(Math.abs(C)-Math.abs(S));S+=F}}if(j==null||E==null||S==null||k==null)return null;var P=xr(xr({},x),{},{x:j,y:E,width:S,height:k,value:d?b:b[1],payload:x,background:N,tooltipPosition:{x:j+S/2,y:E+k/2}},m&&m[v]&&m[v].props);return P}).filter(Boolean)}function jg(t){var e=Sn(t,Ple),r=Jr();return p.createElement(pj,{id:e.id,type:"bar"},n=>p.createElement(p.Fragment,null,p.createElement(pM,{legendPayload:wle(e)}),p.createElement(hj,{fn:jle,args:e}),p.createElement(yM,{type:"bar",id:n,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:WJ(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:r}),p.createElement(Cle,wd({},e,{id:n}))))}jg.displayName="Bar";function Mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(r),!0).forEach(function(n){Ole(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ole(t,e,r){return(e=Ile(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ile(t){var e=Dle(t,"string");return typeof e=="symbol"?e:e+""}function Dle(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rle=(t,e)=>e,Mle=(t,e,r)=>r,Lle=(t,e,r,n)=>n,_le=(t,e,r,n,i)=>i,bh=V([l1,_le],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),Ble=V([bh],t=>t==null?void 0:t.maxBarSize),Fle=(t,e,r,n,i,s)=>s,Lk=(t,e,r)=>{var n=r??t;if(!rt(n))return Rr(n,e,0)},Ule=V([ke,l1,Rle,Mle,Lle],(t,e,r,n,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),$le=(t,e,r,n)=>{var i=ke(t);return i==="horizontal"?Aw(t,"yAxis",r,n):Aw(t,"xAxis",e,n)},Vle=(t,e,r)=>{var n=ke(t);return n==="horizontal"?Q3(t,"xAxis",e):Q3(t,"yAxis",r)},zle=(t,e,r)=>{var n={},i=t.filter(o1),s=t.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=Lk(e,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=Lk(e,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},Hle=V([Ule,sne,Vle],zle),Wle=(t,e,r,n,i)=>{var s,a,l=bh(t,e,r,n,i);if(l!=null){var c=ke(t),u=FD(t),{maxBarSize:d}=l,f=rt(d)?u:d,h,m;return c==="horizontal"?(h=ho(t,"xAxis",e,n),m=fo(t,"xAxis",e,n)):(h=ho(t,"yAxis",r,n),m=fo(t,"yAxis",r,n)),(s=(a=j0(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},SM=(t,e,r,n)=>{var i=ke(t),s,a;return i==="horizontal"?(s=ho(t,"xAxis",e,n),a=fo(t,"xAxis",e,n)):(s=ho(t,"yAxis",r,n),a=fo(t,"yAxis",r,n)),j0(s,a)};function Gle(t,e,r,n,i){var s=n.length;if(!(s<1)){var a=Rr(t,r,0,!0),l,c=[];if(jn(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((x,v)=>x+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((x,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},E=[...x,j];return m=E[E.length-1].position,E},c)}else{var g=Rr(e,r,0,!0);r-2*g-(s-1)*a<=0&&(a=0);var y=(r-2*g-(s-1)*a)/s;y>1&&(y>>=0);var w=jn(i)?Math.min(y,i):y;l=n.reduce((x,v,b)=>[...x,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(y+a)*b+(y-w)/2,size:w}}],c)}return l}}var Kle=(t,e,r,n,i,s,a)=>{var l=rt(a)?e:a,c=Gle(r,n,i!==s?i:s,t,l);return i!==s&&c!=null&&(c=c.map(u=>fm(fm({},u),{},{position:fm(fm({},u.position),{},{offset:u.position.offset-i/2})}))),c},Qle=V([Hle,FD,ine,UD,Wle,SM,Ble],Kle),Yle=(t,e,r,n)=>ho(t,"xAxis",e,n),qle=(t,e,r,n)=>ho(t,"yAxis",r,n),Xle=(t,e,r,n)=>fo(t,"xAxis",e,n),Jle=(t,e,r,n)=>fo(t,"yAxis",r,n),Zle=V([Qle,bh],(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}}),ece=(t,e)=>{var r=O6(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},tce=V([$le,bh],ece),rce=V([Ut,Yle,qle,Xle,Jle,Zle,ke,n1,SM,tce,bh,Fle],(t,e,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||n==null||i==null||c==null)){var{data:y}=d,w;if(y!=null&&y.length>0?w=y:w=h==null?void 0:h.slice(m,g+1),w!=null)return Tle({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:t,cells:f})}}),kM=t=>{var{chartData:e}=t,r=Et(),n=Jr();return p.useEffect(()=>n?()=>{}:(r(nk(e)),()=>{r(nk(void 0))}),[e,r,n]),null},_k={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PM=En({name:"brush",initialState:_k,reducers:{setBrushSettings(t,e){return e.payload==null?_k:e.payload}}}),{setBrushSettings:Dfe}=PM.actions,nce=PM.reducer;function ice(t,e,r){return(e=sce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sce(t){var e=ace(t,"string");return typeof e=="symbol"?e:e+""}function ace(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bj{static create(e){return new bj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}ice(bj,"EPS",1e-4);function oce(t){return(t%180+180)%180}var lce=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=oce(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},cce={dots:[],areas:[],lines:[]},CM=En({name:"referenceElements",initialState:cce,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Rs(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Rs(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Rs(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:Rfe,removeDot:Mfe,addArea:Lfe,removeArea:_fe,addLine:Bfe,removeLine:Ffe}=CM.actions,uce=CM.reducer,dce=p.createContext(void 0),fce=t=>{var{children:e}=t,[r]=p.useState("".concat(v0("recharts"),"-clip")),n=xj();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return p.createElement(dce.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function Gx(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function TM(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function hce(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lce(n,r)}function mce(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function Ng(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function pce(t,e){return TM(t,e+1)}function gce(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=e,c=0,u=1,d=a,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:TM(n,u)};var y=c,w,x=()=>(w===void 0&&(w=r(g,y)),w),v=g.coordinate,b=c===0||Ng(t,v,x,d,l);b||(c=0,d=a,u+=1),b&&(d=v+t*(x()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(r),!0).forEach(function(n){yce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yce(t,e,r){return(e=xce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bce(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,u=function(h){var m=s[h],g,y=()=>(g===void 0&&(g=r(m,h)),g);if(h===a-1){var w=t*(m.coordinate+t*y()/2-c);s[h]=m=gr(gr({},m),{},{tickCoord:w>0?m.coordinate-w*t:m.coordinate})}else s[h]=m=gr(gr({},m),{},{tickCoord:m.coordinate});var x=Ng(t,m.tickCoord,y,l,c);x&&(c=m.tickCoord-t*(y()/2+i),s[h]=gr(gr({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function wce(t,e,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=e;if(s){var d=n[l-1],f=r(d,l-1),h=t*(d.coordinate+t*f/2-u);a[l-1]=d=gr(gr({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var m=Ng(t,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-t*(f/2+i),a[l-1]=gr(gr({},d),{},{isShow:!0}))}for(var g=s?l-1:l,y=function(v){var b=a[v],j,E=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=t*(b.coordinate-t*E()/2-c);a[v]=b=gr(gr({},b),{},{tickCoord:S<0?b.coordinate-S*t:b.coordinate})}else a[v]=b=gr(gr({},b),{},{tickCoord:b.coordinate});var k=Ng(t,b.tickCoord,E,c,u);k&&(c=b.tickCoord+t*(E()/2+i),a[v]=gr(gr({},b),{},{isShow:!0}))},w=0;w<g;w++)y(w);return a}function wj(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(re(c)||cc.isSsr){var h;return(h=pce(i,re(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?_f(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var E=typeof u=="function"?u(b.value,j):b.value;return g==="width"?hce(_f(E,{fontSize:e,letterSpacing:r}),y,f):_f(E,{fontSize:e,letterSpacing:r})[g]},x=i.length>=2?Yt(i[1].coordinate-i[0].coordinate):1,v=mce(s,x,g);return c==="equidistantPreserveStart"?gce(x,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=wce(x,v,w,i,a,c==="preserveStartEnd"):m=bce(x,v,w,i,a),m.filter(b=>b.isShow))}var jce=["viewBox"],Nce=["viewBox"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(null,arguments)}function Fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(r),!0).forEach(function(n){jj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uk(t,e){if(t==null)return{};var r,n,i=Ace(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ace(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jj(t,e,r){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ece(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ko extends p.Component{constructor(e){super(e),this.tickRefs=p.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,r){var{viewBox:n}=e,i=Uk(e,jce),s=this.props,{viewBox:a}=s,l=Uk(s,Nce);return!Gx(n,a)||!Gx(i,l)||!Gx(r,this.state)}getTickLineCoord(e){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,g,y,w=c?-1:1,x=e.tickSize||l,v=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=f=e.coordinate,m=n+ +!c*s,h=m-w*x,y=h-w*u,g=v;break;case"left":h=m=e.coordinate,f=r+ +!c*i,d=f-w*x,g=d-w*u,y=v;break;case"right":h=m=e.coordinate,f=r+ +c*i,d=f+w*x,g=d+w*u,y=v;break;default:d=f=e.coordinate,m=n+ +c*s,h=m+w*x,y=h+w*u,g=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:g,y}}}getTickTextAnchor(){var{orientation:e,mirror:r}=this.props,n;switch(e){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:e,mirror:r}=this.props;switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=Rt(Rt(Rt({},at(this.props,!1)),at(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=Rt(Rt({},c),{},{x1:e,y1:r+u*i,x2:e+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=Rt(Rt({},c),{},{x1:e+d*n,y1:r,x2:e+d*n,y2:r+i})}return p.createElement("line",Hc({},c,{className:De("recharts-cartesian-axis-line",uo(l,"className"))}))}static renderTickItem(e,r,n){var i,s=De(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(e))i=p.cloneElement(e,Rt(Rt({},r),{},{className:s}));else if(typeof e=="function")i=e(Rt(Rt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=De(a,e.className)),i=p.createElement(m1,Hc({},r,{className:a}),n)}return i}renderTicks(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=wj(Rt(Rt({},this.props),{},{ticks:n}),e,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Xs(this.props),g=at(a,!1),y=Rt(Rt({},m),{},{fill:"none"},at(i,!1)),w=d.map((x,v)=>{var{line:b,tick:j}=this.getTickLineCoord(x),E=Rt(Rt(Rt(Rt({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),j),{},{index:v,payload:x,visibleTicksCount:d.length,tickFormatter:l,padding:u});return p.createElement(jr,Hc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Oy(this.props,x,v)),i&&p.createElement("line",Hc({},y,b,{className:De("recharts-cartesian-axis-tick-line",uo(i,"className"))})),a&&ko.renderTickItem(a,E,"".concat(typeof l=="function"?l(x.value,v):x.value).concat(c||"")))});return w.length>0?p.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:e,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:p.createElement(jr,{className:De("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),un.renderCallByParent(this.props))}}jj(ko,"displayName","CartesianAxis");jj(ko,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kce=["x1","y1","x2","y2","key"],Pce=["offset"],Cce=["xAxisId","yAxisId"],Tce=["xAxisId","yAxisId"];function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){Oce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oce(t,e,r){return(e=Ice(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ice(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},al.apply(null,arguments)}function Ag(t,e){if(t==null)return{};var r,n,i=Rce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rce(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Mce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=t;return p.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function OM(t,e){var r;if(p.isValidElement(t))r=p.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=e,c=Ag(e,kce),u=Xs(c),{offset:d}=u,f=Ag(u,Pce);r=p.createElement("line",al({},f,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function Lce(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Ag(t,Cce),c=i.map((u,d)=>{var f=vr(vr({},l),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return OM(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function _ce(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,l=Ag(t,Tce),c=i.map((u,d)=>{var f=vr(vr({},l),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return OM(n,f)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Bce(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var y=h%e.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Fce(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var y=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Uce=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return mI(wj(vr(vr(vr({},ko.defaultProps),r),{},{ticks:pI(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},$ce=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return mI(wj(vr(vr(vr({},ko.defaultProps),r),{},{ticks:pI(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},Vce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function au(t){var e=wI(),r=jI(),n=bI(),i=vr(vr({},Sn(t,Vce)),{},{x:re(t.x)?t.x:n.left,y:re(t.y)?t.y:n.top,width:re(t.width)?t.width:n.width,height:re(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,g=Jr(),y=ce(C=>Y3(C,"xAxis",s,g)),w=ce(C=>Y3(C,"yAxis",a,g));if(!re(u)||u<=0||!re(d)||d<=0||!re(l)||l!==+l||!re(c)||c!==+c)return null;var x=i.verticalCoordinatesGenerator||Uce,v=i.horizontalCoordinatesGenerator||$ce,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof v=="function"){var E=h&&h.length,S=v({yAxis:w?vr(vr({},w),{},{ticks:E?h:w.ticks}):void 0,width:e,height:r,offset:n},E?!0:f);Lf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof x=="function"){var k=m&&m.length,N=x({xAxis:y?vr(vr({},y),{},{ticks:k?m:y.ticks}):void 0,width:e,height:r,offset:n},k?!0:f);Lf(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(Mce,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),p.createElement(Bce,al({},i,{horizontalPoints:b})),p.createElement(Fce,al({},i,{verticalPoints:j})),p.createElement(Lce,al({},i,{offset:n,horizontalPoints:b,xAxis:y,yAxis:w})),p.createElement(_ce,al({},i,{offset:n,verticalPoints:j,xAxis:y,yAxis:w})))}au.displayName="CartesianGrid";var IM=(t,e,r,n)=>ho(t,"xAxis",e,n),DM=(t,e,r,n)=>fo(t,"xAxis",e,n),RM=(t,e,r,n)=>ho(t,"yAxis",r,n),MM=(t,e,r,n)=>fo(t,"yAxis",r,n),zce=V([ke,IM,RM,DM,MM],(t,e,r,n,i)=>jo(t,"xAxis")?j0(e,n,!1):j0(r,i,!1)),Hce=(t,e,r,n,i)=>i;function Wce(t){return t.type==="line"}var Gce=V([l1,Hce],(t,e)=>t.filter(Wce).find(r=>r.id===e)),Kce=V([ke,IM,RM,DM,MM,Gce,zce,n1],(t,e,r,n,i,s,a,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(s==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||a==null)){var{dataKey:f,data:h}=s,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return mue({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:a,displayedData:m})}}),Qce=["id"],Yce=["type","layout","connectNulls","needClip"],qce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(r),!0).forEach(function(n){Xce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xce(t,e,r){return(e=Jce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nj(t,e){if(t==null)return{};var r,n,i=eue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zl.apply(null,arguments)}var tue=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:n,value:Pd(r,e),payload:t}]};function rue(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:l,unit:c}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Pd(a,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var LM=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function nue(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var iue=(t,e,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return LM(e,t);for(var i=Math.floor(t/n),s=t%n,a=e-t,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>s){l=[...r.slice(0,c),s-u];break}var d=l.length%2===0?[0,a]:[a];return[...nue(r,i),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function sue(t,e){var r;if(p.isValidElement(t))r=p.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=De("recharts-line-dot",typeof t!="boolean"?t.className:"");r=p.createElement(oM,Zl({},e,{className:n}))}return r}function aue(t,e){return t==null?!1:e?!0:t.length===1}function oue(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:s,needClip:a}=n;if(!aue(r,i))return null;var{id:l}=n,c=Nj(n,Qce),u=qO(i),d=Xs(c),f=at(i,!0),h=r.map((g,y)=>{var w=pi(pi(pi({key:"dot-".concat(y),r:3},d),f),{},{index:y,cx:g.x,cy:g.y,dataKey:s,value:g.value,payload:g.payload,points:r});return sue(i,w)}),m={clipPath:a?"url(#clipPath-".concat(u?"":"dots-").concat(e,")"):void 0};return p.createElement(jr,Zl({className:"recharts-line-dots",key:"dots"},m),h)}function Iw(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:s,showLabels:a}=t,{type:l,layout:c,connectNulls:u,needClip:d}=s,f=Nj(s,Yce),h=pi(pi({},at(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:n,type:l,layout:c,connectNulls:u,strokeDasharray:i??s.strokeDasharray});return p.createElement(p.Fragment,null,(n==null?void 0:n.length)>1&&p.createElement(X5,Zl({},h,{pathRef:r})),p.createElement(oue,{points:n,clipPathId:e,props:s}),a&&Za.renderCallByParent(s,n))}function lue(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function cue(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:g,onAnimationEnd:y,onAnimationStart:w}=r,x=i.current,v=mj(r,"recharts-line-"),[b,j]=p.useState(!1),E=p.useCallback(()=>{typeof y=="function"&&y(),j(!1)},[y]),S=p.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),k=lue(n.current),N=s.current;return p.createElement(gj,{begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:E,onAnimationStart:S,key:v},C=>{var R=mi(N,k+N,C),D=Math.min(R,k),B;if(l){var z="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));B=iue(D,k,z)}else B=LM(k,D);if(x){var Q=x.length/a.length,T=C===1?a:a.map((M,F)=>{var P=Math.floor(F*Q);if(x[P]){var L=x[P];return pi(pi({},M),{},{x:mi(L.x,M.x,C),y:mi(L.y,M.y,C)})}return h?pi(pi({},M),{},{x:mi(m*2,M.x,C),y:mi(g/2,M.y,C)}):pi(pi({},M),{},{x:M.x,y:M.y})});return i.current=T,p.createElement(Iw,{props:r,points:T,clipPathId:e,pathRef:n,showLabels:!b,strokeDasharray:B})}return C>0&&k>0&&(i.current=a,s.current=D),p.createElement(Iw,{props:r,points:a,clipPathId:e,pathRef:n,showLabels:!b,strokeDasharray:B})})}function uue(t){var{clipPathId:e,props:r}=t,{points:n,isAnimationActive:i}=r,s=p.useRef(null),a=p.useRef(0),l=p.useRef(null),c=s.current;return i&&n&&n.length&&c!==n?p.createElement(cue,{props:r,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:a,pathRef:l}):p.createElement(Iw,{props:r,points:n,clipPathId:e,pathRef:l,showLabels:!0})}var due=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:We(t.payload,e)});class fue extends p.Component{render(){var e,{hide:r,dot:n,points:i,className:s,xAxisId:a,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var g=De("recharts-line",s),y=h,{r:w=3,strokeWidth:x=2}=(e=at(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},v=qO(n),b=w*2+x;return p.createElement(p.Fragment,null,p.createElement(jr,{className:g},m&&p.createElement("defs",null,p.createElement(NM,{clipPathId:y,xAxisId:a,yAxisId:l}),!v&&p.createElement("clipPath",{id:"clipPath-dots-".concat(y)},p.createElement("rect",{x:u-b/2,y:c-b/2,width:d+b,height:f+b}))),p.createElement(uue,{props:this.props,clipPathId:y}),p.createElement(jM,{xAxisId:a,yAxisId:l,data:i,dataPointFormatter:due,errorBarOffset:0},this.props.children)),p.createElement(Yoe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var _M={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!cc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function hue(t){var e=Sn(t,_M),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:g,id:y}=e,w=Nj(e,qce),{needClip:x}=vj(m,g),v=xj(),b=qy(),j=Jr(),E=ce(R=>Kce(R,m,g,j,y));if(b!=="horizontal"&&b!=="vertical"||E==null||v==null)return null;var{height:S,width:k,x:N,y:C}=v;return p.createElement(fue,Zl({},w,{id:y,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:g,points:E,layout:b,height:S,width:k,left:N,top:C,needClip:x}))}function mue(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((u,d)=>{var f=We(u,a);if(e==="horizontal"){var h=BS({axis:r,ticks:i,bandSize:l,entry:u,index:d}),m=rt(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var g=rt(f)?null:r.scale(f),y=BS({axis:n,ticks:s,bandSize:l,entry:u,index:d});return g==null||y==null?null:{x:g,y,value:f,payload:u}}).filter(Boolean)}function Aj(t){var e=Sn(t,_M),r=Jr();return p.createElement(pj,{id:e.id,type:"line"},n=>p.createElement(p.Fragment,null,p.createElement(pM,{legendPayload:tue(e)}),p.createElement(hj,{fn:rue,args:e}),p.createElement(yM,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),p.createElement(hue,Zl({},e,{id:n}))))}Aj.displayName="Line";function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){pue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pue(t,e,r){return(e=gue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gue(t){var e=yue(t,"string");return typeof e=="symbol"?e:e+""}function yue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xue={xAxis:{},yAxis:{},zAxis:{}},BM=En({name:"cartesianAxis",initialState:xue,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=Hk(Hk({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:vue,removeXAxis:bue,addYAxis:wue,removeYAxis:jue,addZAxis:Ufe,removeZAxis:$fe,updateYAxisWidth:Nue}=BM.actions,Aue=BM.reducer,Eue=["children"],Sue=["dangerouslySetInnerHTML","ticks"];function FM(t,e,r){return(e=kue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kue(t){var e=Pue(t,"string");return typeof e=="symbol"?e:e+""}function Pue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dw.apply(null,arguments)}function UM(t,e){if(t==null)return{};var r,n,i=Cue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Cue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Tue(t){var e=Et(),r=p.useMemo(()=>{var{children:s}=t,a=UM(t,Eue);return a},[t]),n=ce(s=>ta(s,r.id)),i=r===n;return p.useEffect(()=>(e(vue(r)),()=>{e(bue(r))}),[r,e]),i?t.children:null}var Oue=t=>{var{xAxisId:e,className:r}=t,n=ce(vI),i=Jr(),s="xAxis",a=ce(m=>Md(m,s,e,i)),l=ce(m=>vR(m,s,e,i)),c=ce(m=>pR(m,e)),u=ce(m=>Yne(m,e));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=t,h=UM(t,Sue);return p.createElement(ko,Dw({},h,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:De("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},Iue=t=>{var e,r,n,i,s;return p.createElement(Tue,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},p.createElement(Oue,t))};class _l extends p.Component{render(){return p.createElement(Iue,this.props)}}FM(_l,"displayName","XAxis");FM(_l,"defaultProps",{allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,height:en.height,hide:!1,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tickCount:en.tickCount,type:en.type,xAxisId:0});var Due=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){e.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},Rue=["dangerouslySetInnerHTML","ticks"];function $M(t,e,r){return(e=Mue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rw.apply(null,arguments)}function _ue(t,e){if(t==null)return{};var r,n,i=Bue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bue(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Fue(t){var e=Et();return p.useEffect(()=>(e(wue(t)),()=>{e(jue(t))}),[t,e]),null}var Uue=t=>{var e,{yAxisId:r,className:n,width:i,label:s}=t,a=p.useRef(null),l=p.useRef(null),c=ce(vI),u=Jr(),d=Et(),f="yAxis",h=ce(b=>Md(b,f,r,u)),m=ce(b=>gR(b,r)),g=ce(b=>qne(b,r)),y=ce(b=>vR(b,f,r,u));if(p.useLayoutEffect(()=>{var b;if(!(i!=="auto"||!m||sj(s)||p.isValidElement(s))){var j=a.current,E=j==null||(b=j.tickRefs)===null||b===void 0?void 0:b.current,{tickSize:S,tickMargin:k}=j.props,N=Due({ticks:E,label:l.current,labelGapWithTick:5,tickSize:S,tickMargin:k});Math.round(m.width)!==Math.round(N)&&d(Nue({id:r,width:N}))}},[a,a==null||(e=a.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||g==null)return null;var{dangerouslySetInnerHTML:w,ticks:x}=t,v=_ue(t,Rue);return p.createElement(ko,Rw({},v,{ref:a,labelRef:l,scale:h,x:g.x,y:g.y,width:m.width,height:m.height,className:De("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:y}))},$ue=t=>{var e,r,n,i,s;return p.createElement(p.Fragment,null,p.createElement(Fue,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(r=t.includeHidden)!==null&&r!==void 0?r:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(n=t.angle)!==null&&n!==void 0?n:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),p.createElement(Uue,t))},Vue={allowDataOverflow:tn.allowDataOverflow,allowDecimals:tn.allowDecimals,allowDuplicatedCategory:tn.allowDuplicatedCategory,hide:!1,mirror:tn.mirror,orientation:tn.orientation,padding:tn.padding,reversed:tn.reversed,scale:tn.scale,tickCount:tn.tickCount,type:tn.type,width:tn.width,yAxisId:0};class Bl extends p.Component{render(){return p.createElement($ue,this.props)}}$M(Bl,"displayName","YAxis");$M(Bl,"defaultProps",Vue);var zue={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=p;function Hue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wue=typeof Object.is=="function"?Object.is:Hue,Gue=wh.useSyncExternalStore,Kue=wh.useRef,Que=wh.useEffect,Yue=wh.useMemo,que=wh.useDebugValue;zue.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=Kue(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Yue(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,Wue(d,m))return g;var y=n(m);return i!==void 0&&i(g,y)?(d=m,g):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(e())},h===null?void 0:function(){return c(h())}]},[e,r,n,i]);var l=Gue(t,s[0],s[1]);return Que(function(){a.hasValue=!0,a.value=l},[l]),que(l),l};function Xue(t){t()}function Jue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Xue(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Wk={notify(){},get:()=>[]};function Zue(t,e){let r,n=Wk,i=0,s=!1;function a(y){d();const w=n.subscribe(y);let x=!1;return()=>{x||(x=!0,w(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,r||(r=t.subscribe(c),n=Jue())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Wk)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var ede=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tde=ede(),rde=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nde=rde(),ide=()=>tde||nde?p.useLayoutEffect:p.useEffect,sde=ide(),Kx=Symbol.for("react-redux-context"),Qx=typeof globalThis<"u"?globalThis:{};function ade(){if(!p.createContext)return{};const t=Qx[Kx]??(Qx[Kx]=new Map);let e=t.get(p.createContext);return e||(e=p.createContext(null),t.set(p.createContext,e)),e}var ode=ade();function lde(t){const{children:e,context:r,serverState:n,store:i}=t,s=p.useMemo(()=>{const c=Zue(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=p.useMemo(()=>i.getState(),[i]);sde(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||ode;return p.createElement(l.Provider,{value:s},e)}var cde=lde,ude=(t,e)=>e,Ej=V([ude,ke,GD,Vt,RR,ra,tse,Ut],ase),Sj=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},VM=Yn("mouseClick"),zM=oh();zM.startListening({actionCreator:VM,effect:(t,e)=>{var r=t.payload,n=Ej(e.getState(),Sj(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(cie({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Mw=Yn("mouseMove"),HM=oh();HM.startListening({actionCreator:Mw,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=Y6(n,n.tooltip.settings.shared),s=Ej(n,Sj(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(kR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(SR()))}});function dde(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var Gk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},WM=En({name:"rootProps",initialState:Gk,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:Gk.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),fde=WM.reducer,{updateOptions:hde}=WM.actions,GM=En({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:mde}=GM.actions,pde=GM.reducer,KM=Yn("keyDown"),QM=Yn("focus"),kj=oh();kj.startListening({actionCreator:KM,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(q6(i,_d(r))),l=ra(r);if(s==="Enter"){var c=yg(r,"axis","hover",String(i.index));e.dispatch(Sw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=eie(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=yg(r,"axis","hover",String(h));e.dispatch(Sw({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});kj.startListening({actionCreator:QM,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=yg(r,"axis","hover",String(s));e.dispatch(Sw({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var On=Yn("externalEvent"),YM=oh();YM.startListening({actionCreator:On,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:Wie(r),activeDataKey:BR(r),activeIndex:mo(r),activeLabel:_R(r),activeTooltipIndex:mo(r),isTooltipActive:Gie(r)};t.payload.handler(n,t.payload.reactEvent)}}});var gde=V([Ld],t=>t.tooltipItemPayloads),yde=V([gde,yh,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),qM=Yn("touchMove"),XM=oh();XM.startListening({actionCreator:qM,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=Y6(n,n.tooltip.settings.shared);if(i==="axis"){var s=Ej(n,Sj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(kR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(yI),d=(a=c.getAttribute(xI))!==null&&a!==void 0?a:void 0,f=yde(e.getState(),u,d);e.dispatch(ER({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var xde=z9({brush:nce,cartesianAxis:Aue,chartData:wse,errorBars:ole,graphicalItems:goe,layout:AJ,legend:lZ,options:gse,polarAxis:Bae,polarOptions:pde,referenceElements:uce,rootProps:fde,tooltip:uie}),vde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return YX({reducer:xde,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([zM.middleware,HM.middleware,kj.middleware,YM.middleware,XM.middleware]),devTools:{serialize:{replacer:dde},name:"recharts-".concat(r)}})};function JM(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Jr(),s=p.useRef(null);if(i)return r;s.current==null&&(s.current=vde(e,n));var a=U5;return p.createElement(cde,{context:a,store:s.current},r)}function ZM(t){var{layout:e,width:r,height:n,margin:i}=t,s=Et(),a=Jr();return p.useEffect(()=>{a||(s(wJ(e)),s(jJ({width:r,height:n})),s(bJ(i)))},[s,a,e,r,n,i]),null}function e7(t){var e=Et();return p.useEffect(()=>{e(hde(t))},[e,t]),null}var bde=["children"];function wde(t,e){if(t==null)return{};var r,n,i=jde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eg.apply(null,arguments)}var Nde={width:"100%",height:"100%"},Ade=p.forwardRef((t,e)=>{var r=wI(),n=jI(),i=SI();if(!gd(r)||!gd(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,p.createElement(XO,Eg({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Nde,ref:e}),s)}),Ede=t=>{var{children:e}=t,r=ce(Yy);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return p.createElement(XO,{width:n,height:i,x:a,y:s},e)},Kk=p.forwardRef((t,e)=>{var{children:r}=t,n=wde(t,bde),i=Jr();return i?p.createElement(Ede,null,r):p.createElement(Ade,Eg({ref:e},n),r)});function Sde(){var t=Et(),[e,r]=p.useState(null),n=ce(ZJ);return p.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;jn(s)&&s!==n&&t(NJ(s))}},[e,t,n]),r}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kde(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){Pde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pde(t,e,r){return(e=Cde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cde(t){var e=Tde(t,"string");return typeof e=="symbol"?e:e+""}function Tde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode=p.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:w,width:x}=t,v=Et(),[b,j]=p.useState(null),[E,S]=p.useState(null);Ase();var k=Sde(),N=p.useCallback(G=>{k(G),typeof e=="function"&&e(G),j(G),S(G)},[k,e,j,S]),C=p.useCallback(G=>{v(VM(G)),v(On({handler:s,reactEvent:G}))},[v,s]),R=p.useCallback(G=>{v(Mw(G)),v(On({handler:u,reactEvent:G}))},[v,u]),D=p.useCallback(G=>{v(SR()),v(On({handler:d,reactEvent:G}))},[v,d]),B=p.useCallback(G=>{v(Mw(G)),v(On({handler:f,reactEvent:G}))},[v,f]),z=p.useCallback(()=>{v(QM())},[v]),Q=p.useCallback(G=>{v(KM(G.key))},[v]),T=p.useCallback(G=>{v(On({handler:a,reactEvent:G}))},[v,a]),M=p.useCallback(G=>{v(On({handler:l,reactEvent:G}))},[v,l]),F=p.useCallback(G=>{v(On({handler:c,reactEvent:G}))},[v,c]),P=p.useCallback(G=>{v(On({handler:h,reactEvent:G}))},[v,h]),L=p.useCallback(G=>{v(On({handler:y,reactEvent:G}))},[v,y]),W=p.useCallback(G=>{v(qM(G)),v(On({handler:g,reactEvent:G}))},[v,g]),$=p.useCallback(G=>{v(On({handler:m,reactEvent:G}))},[v,m]);return p.createElement(HR.Provider,{value:b},p.createElement(ZY.Provider,{value:E},p.createElement("div",{className:De("recharts-wrapper",n),style:kde({position:"relative",cursor:"default",width:x,height:i},w),onClick:C,onContextMenu:T,onDoubleClick:M,onFocus:z,onKeyDown:Q,onMouseDown:F,onMouseEnter:R,onMouseLeave:D,onMouseMove:B,onMouseUp:P,onTouchEnd:$,onTouchMove:W,onTouchStart:L,ref:N},r)))}),Ide=["children","className","width","height","style","compact","title","desc"];function Dde(t,e){if(t==null)return{};var r,n,i=Rde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var t7=p.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=t,d=Dde(t,Ide),f=Xs(d);return l?p.createElement(Kk,{otherAttributes:f,title:c,desc:u},r):p.createElement(Ode,{className:n,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},p.createElement(Kk,{otherAttributes:f,title:c,desc:u,ref:e},p.createElement(fce,null,r)))}),Mde=["width","height"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lw.apply(null,arguments)}function Lde(t,e){if(t==null)return{};var r,n,i=_de(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function _de(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Bde={top:5,right:5,bottom:5,left:5},Fde={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bde,reverseStackOrder:!1,syncMethod:"index"},r7=p.forwardRef(function(e,r){var n,i=Sn(e.categoricalChartProps,Fde),{width:s,height:a}=i,l=Lde(i,Mde);if(!gd(s)||!gd(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=e,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return p.createElement(JM,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},p.createElement(kM,{chartData:h.data}),p.createElement(ZM,{width:s,height:a,layout:i.layout,margin:i.margin}),p.createElement(e7,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),p.createElement(t7,Lw({},l,{width:s,height:a,ref:r})))}),Ude=["axis"],n7=p.forwardRef((t,e)=>p.createElement(r7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ude,tooltipPayloadSearcher:ij,categoricalChartProps:t,ref:e})),$de=["axis","item"],_w=p.forwardRef((t,e)=>p.createElement(r7,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:$de,tooltipPayloadSearcher:ij,categoricalChartProps:t,ref:e}));function Vde(t){var e=Et();return p.useEffect(()=>{e(mde(t))},[e,t]),null}var zde=["width","height","layout"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bw.apply(null,arguments)}function Hde(t,e){if(t==null)return{};var r,n,i=Wde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Wde(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Gde={top:5,right:5,bottom:5,left:5},Kde={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gde,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Qde=p.forwardRef(function(e,r){var n,i=Sn(e.categoricalChartProps,Kde),{width:s,height:a,layout:l}=i,c=Hde(i,zde);if(!gd(s)||!gd(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=e,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return p.createElement(JM,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},p.createElement(kM,{chartData:i.data}),p.createElement(ZM,{width:s,height:a,layout:l,margin:i.margin}),p.createElement(e7,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),p.createElement(Vde,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),p.createElement(t7,Bw({width:s,height:a},c,{ref:r})))}),Yde=["item"],qde={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Xde=p.forwardRef((t,e)=>{var r=Sn(t,qde);return p.createElement(Qde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yde,tooltipPayloadSearcher:ij,categoricalChartProps:r,ref:e})});class Jde{constructor(){this.allocations=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_credit_allocations");if(e){const r=JSON.parse(e);this.allocations=new Map(r)}}catch(e){console.error("Failed to load credit allocations from storage:",e),this.allocations=new Map}}saveToStorage(){try{const e=Array.from(this.allocations.entries());localStorage.setItem("cblock_credit_allocations",JSON.stringify(e))}catch(e){console.error("Failed to save credit allocations to storage:",e)}}async processAutomaticAllocation(e,r){var n,i;try{console.log("💰 Processing automatic credit allocation:",{documentId:r.id,recipient:e.recipient,amount:e.amount,transactionHash:e.hash});const s=`alloc_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,a={id:s,documentId:r.id||r.cid,documentName:r.projectName||r.filename,recipientAddress:e.recipient,recipientName:r.uploaderName||"Unknown",recipientEmail:r.uploaderEmail||null,amount:e.amount,tokenId:e.tokenId,transactionHash:e.hash,blockchainReceipt:e.receipt,status:"completed",allocatedAt:new Date().toISOString(),allocatedBy:(n=ue.getCurrentUser())==null?void 0:n.walletAddress,verifierName:(i=ue.getCurrentUser())==null?void 0:i.name,notificationSent:!1,notificationAttempts:0,lastNotificationAttempt:null,retryCount:0,lastRetryAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.allocations.set(s,a),this.saveToStorage(),await this.sendAllocationNotification(a),console.log("✅ Credit allocation processed successfully:",{allocationId:s,recipient:a.recipientAddress,amount:a.amount}),{success:!0,allocation:a,message:`Successfully allocated ${a.amount} credits to ${this.formatAddress(a.recipientAddress)}`}}catch(s){console.error("❌ Failed to process automatic allocation:",s);const a=`failed_alloc_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,l={id:a,documentId:r.id||r.cid,documentName:r.projectName||r.filename,recipientAddress:e.recipient,amount:e.amount,transactionHash:e.hash,status:"failed",error:s.message,createdAt:new Date().toISOString(),retryCount:0,needsRetry:!0};throw this.allocations.set(a,l),this.saveToStorage(),new Error(`Credit allocation failed: ${s.message}`)}}async sendAllocationNotification(e){try{console.log("📧 Sending allocation notification:",{allocationId:e.id,recipient:e.recipientAddress,amount:e.amount}),e.notificationAttempts+=1,e.lastNotificationAttempt=new Date().toISOString();const{default:r}=await i5(async()=>{const{default:n}=await import("./notificationService-9yIvllv4.js");return{default:n}},[]);return await r.showCreditAllocationNotification(e,{showToast:!0,showBrowserNotification:!0,priority:"normal"}),e.notificationSent=!0,e.updatedAt=new Date().toISOString(),this.allocations.set(e.id,e),this.saveToStorage(),console.log("✅ Notification sent successfully"),!0}catch(r){return console.error("❌ Failed to send notification:",r),e.notificationError=r.message,e.updatedAt=new Date().toISOString(),this.allocations.set(e.id,e),this.saveToStorage(),!1}}async getUserAllocations(e){try{if(!e){const n=ue.getCurrentUser();if(!(n!=null&&n.walletAddress))return[];e=n.walletAddress}console.log("📋 Fetching allocations for user:",e);const r=Array.from(this.allocations.values()).filter(n=>{var i;return n.recipientAddress===e||n.recipientEmail&&n.recipientEmail===((i=ue.getCurrentUser())==null?void 0:i.email)}).sort((n,i)=>new Date(i.createdAt)-new Date(n.createdAt));return console.log(`📋 Found ${r.length} allocations for user`),r}catch(r){return console.error("❌ Failed to get user allocations:",r),[]}}async getUserTotalAllocatedCredits(e){try{return(await this.getUserAllocations(e)).filter(i=>i.status==="completed").reduce((i,s)=>i+(s.amount||0),0)}catch(r){return console.error("❌ Failed to calculate total allocated credits:",r),0}}async getUserCurrentBalance(e){try{if(!e){const i=ue.getCurrentUser();if(!(i!=null&&i.walletAddress))return 0;e=i.walletAddress}return(await de.getUserTokens(e)).reduce((i,s)=>i+s.balance,0)}catch(r){return console.error("❌ Failed to get user balance:",r),0}}async getUserBalanceInfo(e){try{const[r,n,i,s]=await Promise.all([this.getUserCurrentBalance(e),this.getUserTotalAllocatedCredits(e),this.getUserAllocations(e),de.getUserTokens(e).catch(()=>[])]),a=i.slice(0,5),l=i.filter(c=>c.status==="pending"||c.status==="failed");return{currentBalance:r,totalAllocated:n,totalAllocations:i.length,recentAllocations:a,pendingAllocations:l,tokens:s,lastUpdated:new Date().toISOString()}}catch(r){return console.error("❌ Failed to get user balance info:",r),{currentBalance:0,totalAllocated:0,totalAllocations:0,recentAllocations:[],pendingAllocations:[],tokens:[],lastUpdated:new Date().toISOString(),error:r.message}}}async retryFailedAllocation(e){try{const r=this.allocations.get(e);if(!r)throw new Error("Allocation not found");if(r.status!=="failed")throw new Error("Only failed allocations can be retried");return console.log("🔄 Retrying failed allocation:",e),r.retryCount+=1,r.lastRetryAt=new Date().toISOString(),r.status="retrying",this.allocations.set(e,r),this.saveToStorage(),await this.sendAllocationNotification(r)?(r.status="completed",r.needsRetry=!1):(r.status="failed",r.needsRetry=!0),r.updatedAt=new Date().toISOString(),this.allocations.set(e,r),this.saveToStorage(),{success:r.status==="completed",allocation:r,message:r.status==="completed"?"Allocation retry successful":"Allocation retry failed"}}catch(r){throw console.error("❌ Failed to retry allocation:",r),new Error(`Retry failed: ${r.message}`)}}getFailedAllocations(){return Array.from(this.allocations.values()).filter(e=>e.status==="failed"&&e.needsRetry).sort((e,r)=>new Date(r.createdAt)-new Date(e.createdAt))}getAllocationStats(){const e=Array.from(this.allocations.values());return{total:e.length,completed:e.filter(r=>r.status==="completed").length,failed:e.filter(r=>r.status==="failed").length,pending:e.filter(r=>r.status==="pending").length,totalAmount:e.filter(r=>r.status==="completed").reduce((r,n)=>r+(n.amount||0),0),notificationsSent:e.filter(r=>r.notificationSent).length,needsRetry:e.filter(r=>r.needsRetry).length}}async requestNotificationPermission(){try{return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(console.warn("Notification permission denied"),!1):await Notification.requestPermission()==="granted":(console.warn("Browser does not support notifications"),!1)}catch(e){return console.error("Failed to request notification permission:",e),!1}}formatAddress(e){return e?`${e.slice(0,6)}...${e.slice(-4)}`:"Unknown"}formatAmount(e){return e?new Intl.NumberFormat("en-US").format(e):"0"}clearAllAllocations(){this.allocations.clear(),localStorage.removeItem("cblock_credit_allocations"),console.log("🗑️ All allocation data cleared")}}const Fw=new Jde,Zde=Object.freeze(Object.defineProperty({__proto__:null,default:Fw},Symbol.toStringTag,{value:"Module"}));function efe({className:t="",showDetails:e=!1}){const[r,n]=p.useState(null),[i,s]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(e),[d,f]=p.useState(!1),h=p.useCallback(async()=>{try{l(null);const x=ue.getCurrentUser();if(!(x!=null&&x.walletAddress)){n(null);return}console.log("💰 Loading user balance info...");const v=await Fw.getUserBalanceInfo(x.walletAddress);n(v)}catch(x){console.error("❌ Failed to load balance info:",x),l(x.message)}finally{s(!1),f(!1)}},[]),m=p.useCallback(async()=>{f(!0),await h()},[h]),g=p.useCallback(async x=>{try{console.log("🔄 Retrying allocation:",x),te.loading("Retrying credit allocation...",{id:"retry-allocation"});const v=await Fw.retryFailedAllocation(x);te.dismiss("retry-allocation"),v.success?(te.success("Credit allocation retry successful!"),await h()):te.error("Credit allocation retry failed")}catch(v){te.dismiss("retry-allocation"),te.error(`Retry failed: ${v.message}`)}},[h]);if(p.useEffect(()=>{h()},[h]),p.useEffect(()=>{const x=setInterval(()=>{!i&&!d&&h()},3e4);return()=>clearInterval(x)},[i,d,h]),!ue.getCurrentUser())return null;if(i)return o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-carbon-200 p-6 ${t}`,children:o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx(He,{className:"w-6 h-6 text-primary-500 animate-spin"}),o.jsx("span",{className:"ml-2 text-carbon-600",children:"Loading balance..."})]})});if(a)return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-red-200 p-6 ${t}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-red-700 font-medium",children:"Error loading balance"})]}),o.jsx("button",{onClick:m,className:"text-red-600 hover:text-red-700 underline text-sm",children:"Try again"})]}),o.jsx("p",{className:"text-red-600 text-sm mt-2",children:a})]});if(!r)return o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-carbon-200 p-6 ${t}`,children:o.jsxs("div",{className:"text-center py-4",children:[o.jsx(so,{className:"w-8 h-8 text-carbon-400 mx-auto mb-2"}),o.jsx("p",{className:"text-carbon-600",children:"No balance information available"}),o.jsx("p",{className:"text-carbon-500 text-sm",children:"Connect your wallet to view credits"})]})});const w=x=>new Intl.NumberFormat("en-US").format(x||0);return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-xl shadow-sm border border-carbon-200 ${t}`,children:[o.jsx("div",{className:"p-6 border-b border-carbon-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:o.jsx(so,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Credit Balance"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Your carbon credit portfolio"})]})]}),o.jsx("button",{onClick:m,disabled:d,className:"p-2 text-carbon-400 hover:text-carbon-600 hover:bg-carbon-100 rounded-lg transition-colors disabled:opacity-50",children:o.jsx(He,{className:`w-5 h-5 ${d?"animate-spin":""}`})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[o.jsx("p",{className:"text-sm font-medium text-green-900 mb-1",children:"Current Balance"}),o.jsx("p",{className:"text-2xl font-bold text-green-700",children:w(r.currentBalance)}),o.jsx("p",{className:"text-xs text-green-600",children:"Credits available"})]}),o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[o.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Total Allocated"}),o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:w(r.totalAllocated)}),o.jsx("p",{className:"text-xs text-blue-600",children:"Lifetime earnings"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200",children:[o.jsx("p",{className:"text-sm font-medium text-purple-900 mb-1",children:"Allocations"}),o.jsx("p",{className:"text-2xl font-bold text-purple-700",children:r.totalAllocations}),o.jsx("p",{className:"text-xs text-purple-600",children:"Documents verified"})]})]}),r.pendingAllocations.length>0&&o.jsxs(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Os,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("p",{className:"text-yellow-800 font-medium",children:[r.pendingAllocations.length," pending allocation",r.pendingAllocations.length!==1?"s":""]})]}),o.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Some credit allocations are still being processed or need retry."})]}),r.recentAllocations.length>0&&o.jsxs("div",{className:"border-t border-carbon-200 pt-4",children:[o.jsxs("button",{onClick:()=>u(!c),className:"flex items-center justify-between w-full text-left",children:[o.jsxs("span",{className:"text-sm font-medium text-carbon-900",children:["Recent Allocations (",r.recentAllocations.length,")"]}),c?o.jsx(pz,{className:"w-4 h-4 text-carbon-500"}):o.jsx(uz,{className:"w-4 h-4 text-carbon-500"})]}),o.jsx(Bt,{children:c&&o.jsx(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-3",children:r.recentAllocations.map(x=>o.jsx(tfe,{allocation:x,onRetry:g},x.id))})})]}),r.totalAllocations===0&&o.jsxs("div",{className:"text-center py-6 border-t border-carbon-200",children:[o.jsx(xn,{className:"w-8 h-8 text-carbon-400 mx-auto mb-2"}),o.jsx("p",{className:"text-carbon-600 font-medium",children:"No credit allocations yet"}),o.jsx("p",{className:"text-carbon-500 text-sm",children:"Upload documents for verification to start earning credits"})]})]})]})}function tfe({allocation:t,onRetry:e}){const r=a=>{switch(a){case"completed":return o.jsx(ze,{className:"w-4 h-4 text-green-500"});case"failed":return o.jsx(Ve,{className:"w-4 h-4 text-red-500"});case"pending":case"retrying":return o.jsx(Os,{className:"w-4 h-4 text-yellow-500"});default:return o.jsx(xn,{className:"w-4 h-4 text-carbon-500"})}},n=a=>{switch(a){case"completed":return"text-green-700 bg-green-50 border-green-200";case"failed":return"text-red-700 bg-red-50 border-red-200";case"pending":case"retrying":return"text-yellow-700 bg-yellow-50 border-yellow-200";default:return"text-carbon-700 bg-carbon-50 border-carbon-200"}},i=a=>new Intl.NumberFormat("en-US").format(a||0),s=a=>{if(!a)return"Unknown";try{return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid date"}};return o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-3 rounded-lg border ${n(t.status)}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[r(t.status),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium",children:[i(t.amount)," credits"]}),o.jsx("p",{className:"text-xs opacity-75",children:t.documentName||"Unknown document"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs opacity-75",children:s(t.allocatedAt||t.createdAt)}),t.status==="failed"&&t.needsRetry&&o.jsx("button",{onClick:()=>e(t.id),className:"text-xs text-red-600 hover:text-red-700 underline mt-1",children:"Retry"})]})]}),t.transactionHash&&o.jsx("div",{className:"mt-2 pt-2 border-t border-current border-opacity-20",children:o.jsxs("p",{className:"text-xs opacity-75 font-mono",children:["Tx: ",t.transactionHash.slice(0,10),"...",t.transactionHash.slice(-6)]})})]})}const Yk=[{month:"Jan",price:25,volume:1200},{month:"Feb",price:28,volume:1400},{month:"Mar",price:32,volume:1600},{month:"Apr",price:30,volume:1300},{month:"May",price:35,volume:1800},{month:"Jun",price:38,volume:2e3}];function qk({walletAddress:t,onPageChange:e}){const[r,n]=p.useState({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),[i,s]=p.useState([]),[a,l]=p.useState(!0);p.useEffect(()=>{t?c():l(!1)},[t]);const c=async()=>{var d,f;try{if(l(!0),!t){l(!1);return}if(!de.isConfigured()){console.warn("Smart contracts not configured"),n({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),s([]),l(!1);return}de.isInitialized||await de.initialize();const h=await de.getUserTokens(t),m=await de.getRetirementCertificates(t),g=await de.getMarketplaceListings(),y=h.reduce((b,j)=>b+j.balance,0),w=y*35,x=g.filter(b=>b.seller.toLowerCase()===t.toLowerCase());n({totalTokens:y,totalValue:w,retiredTokens:m.length,marketListings:x.length});const v=[];h.length>0&&v.push({type:"mint",amount:((d=h[h.length-1])==null?void 0:d.balance)||0,time:"Recently",txHash:`0x${Math.random().toString(16).slice(2,10)}...`}),x.length>0&&v.push({type:"list",amount:((f=x[x.length-1])==null?void 0:f.amount)||0,time:"Recently",txHash:`0x${Math.random().toString(16).slice(2,10)}...`}),m.length>0&&v.push({type:"retire",amount:10,time:"Recently",txHash:`0x${Math.random().toString(16).slice(2,10)}...`}),s(v)}catch(h){console.error("Error loading dashboard data:",h),n({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),s([])}finally{l(!1)}},u=({title:d,value:f,change:h,icon:m,color:g,onClick:y})=>o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},onClick:y,className:`card cursor-pointer bg-gradient-to-br ${g} text-white`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/80 text-sm font-medium",children:d}),o.jsx("p",{className:"text-2xl font-bold",children:f}),h&&o.jsxs("p",{className:"text-white/90 text-xs",children:[o.jsxs("span",{className:"text-green-300",children:["↗ ",h,"%"]})," from last month"]})]}),o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx(m,{className:"w-6 h-6"})})]})});return t?a?o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64 mb-8"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((d,f)=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"h-24 bg-carbon-100 rounded"})},f))})]})}):o.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[!de.isConfigured()&&o.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ve,{className:"w-5 h-5 text-yellow-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Smart contracts not configured"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Deploy contracts and update the .env file to enable blockchain features."})]})]})}),o.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"Dashboard"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Welcome back to your carbon credit portfolio"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("mint"),className:"btn-primary",children:[o.jsx(As,{className:"w-5 h-5 mr-2"}),"Mint Credits"]}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("market"),className:"btn-secondary",children:[o.jsx(Wl,{className:"w-5 h-5 mr-2"}),"View Market"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(u,{title:"Total Credits",value:r.totalTokens.toLocaleString(),change:"12",icon:Ot,color:"from-blue-500 to-blue-600",onClick:()=>e("tokens")}),o.jsx(u,{title:"Portfolio Value",value:`$${r.totalValue.toLocaleString()}`,change:"8",icon:mn,color:"from-primary-500 to-primary-600",onClick:()=>e("tokens")}),o.jsx(u,{title:"Active Listings",value:r.marketListings.toLocaleString(),change:"15",icon:ji,color:"from-purple-500 to-purple-600",onClick:()=>e("market")}),o.jsx(u,{title:"Retired Credits",value:r.retiredTokens.toLocaleString(),change:"25",icon:Qi,color:"from-red-500 to-red-600",onClick:()=>e("retire")})]}),o.jsx(efe,{className:"mb-8"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Price Trend"}),o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(Tm,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"+12.5%"})]})]}),o.jsx(Vc,{width:"100%",height:300,children:o.jsxs(n7,{data:Yk,children:[o.jsx(au,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(_l,{dataKey:"month",stroke:"#64748b"}),o.jsx(Bl,{stroke:"#64748b"}),o.jsx($c,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(Aj,{type:"monotone",dataKey:"price",stroke:"#22c55e",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:4}})]})})]}),o.jsxs(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Trading Volume"}),o.jsx("span",{className:"text-sm text-carbon-600",children:"Credits/Month"})]}),o.jsx(Vc,{width:"100%",height:300,children:o.jsxs(_w,{data:Yk,children:[o.jsx(au,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(_l,{dataKey:"month",stroke:"#64748b"}),o.jsx(Bl,{stroke:"#64748b"}),o.jsx($c,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(jg,{dataKey:"volume",fill:"#22c55e",radius:[4,4,0,0]})]})})]})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Recent Activity"}),o.jsx("div",{className:"space-y-4",children:i.length===0?o.jsx("p",{className:"text-carbon-600 text-center py-8",children:"No recent activity"}):i.map((d,f)=>o.jsxs(I.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:f*.1},className:"flex items-center space-x-4 p-4 rounded-lg bg-carbon-50 hover:bg-carbon-100 transition-colors",children:[o.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d.type==="mint"?"bg-green-100 text-green-600":d.type==="sell"?"bg-blue-100 text-blue-600":"bg-red-100 text-red-600"}`,children:[d.type==="mint"&&o.jsx(As,{className:"w-5 h-5"}),d.type==="sell"&&o.jsx(ji,{className:"w-5 h-5"}),d.type==="retire"&&o.jsx(Qi,{className:"w-5 h-5"})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"font-medium text-carbon-900",children:[d.type==="mint"&&"Minted carbon credits",d.type==="sell"&&"Listed credits for sale",d.type==="retire"&&"Retired carbon credits"]}),o.jsxs("p",{className:"text-sm text-carbon-600",children:[d.amount," credits • ",d.time]})]}),o.jsx("div",{className:"text-right",children:o.jsx("p",{className:"text-xs text-carbon-500 font-mono",children:d.txHash})})]},f))})]})]}):o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-20",children:[o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Ot,{className:"w-10 h-10 text-primary-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-4",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-carbon-600 mb-8 max-w-md mx-auto",children:"Connect your MetaMask wallet to view your dashboard, manage carbon credits, and track your environmental impact."}),o.jsx(I.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-block",children:o.jsxs("div",{className:"btn-primary",children:[o.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Connect Wallet in Sidebar"]})})]})})}const Yx=[{month:"Jan",price:25,volume:1200,credits:450},{month:"Feb",price:28,volume:1400,credits:520},{month:"Mar",price:32,volume:1600,credits:680},{month:"Apr",price:30,volume:1300,credits:590},{month:"May",price:35,volume:1800,credits:750},{month:"Jun",price:38,volume:2e3,credits:820}],of=["#22c55e","#3b82f6","#8b5cf6","#ef4444","#f59e0b"];function rfe({walletAddress:t}){const[e,r]=p.useState({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0}),[n,i]=p.useState({totalGlobalCredits:0,totalGlobalValue:0,totalActiveListings:0,totalRetiredCredits:0}),[s,a]=p.useState(!0);p.useEffect(()=>{l()},[t]);const l=async()=>{try{if(a(!0),t&&de.isConfigured()){de.isInitialized||await de.initialize();const u=await de.getUserTokens(t),d=await de.getRetirementCertificates(t),f=await de.getMarketplaceListings(),h=u.reduce((y,w)=>y+w.balance,0),m=h*35,g=f.filter(y=>y.seller.toLowerCase()===t.toLowerCase());r({totalTokens:h,totalValue:m,retiredTokens:d.length,marketListings:g.length})}i({totalGlobalCredits:125e3,totalGlobalValue:4375e3,totalActiveListings:450,totalRetiredCredits:89e3})}catch(u){console.error("Error loading analytics data:",u),r({totalTokens:0,totalValue:0,retiredTokens:0,marketListings:0})}finally{a(!1)}},c=({title:u,value:d,change:f,icon:h,color:m,subtitle:g})=>o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},className:`card cursor-pointer bg-gradient-to-br ${m} text-white`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white/80 text-sm font-medium",children:u}),o.jsx("p",{className:"text-2xl font-bold",children:d}),f&&o.jsxs("p",{className:"text-white/90 text-xs flex items-center",children:[f>0?o.jsx(Tm,{className:"w-3 h-3 mr-1"}):o.jsx(qV,{className:"w-3 h-3 mr-1"}),o.jsxs("span",{className:f>0?"text-green-300":"text-red-300",children:[f>0?"+":"",f,"% from last month"]})]}),g&&o.jsx("p",{className:"text-white/70 text-xs mt-1",children:g})]}),o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:o.jsx(h,{className:"w-6 h-6"})})]})});return s?o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64 mb-8"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[...Array(4)].map((u,d)=>o.jsx("div",{className:"card",children:o.jsx("div",{className:"h-24 bg-carbon-100 rounded"})},d))})]})}):o.jsxs("div",{className:"p-8 max-w-7xl mx-auto space-y-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Carbon Market Analytics"}),o.jsx("p",{className:"text-carbon-600 mt-2",children:"Comprehensive insights into carbon credit markets and your portfolio"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-carbon-900",children:"Your Portfolio"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(c,{title:"Total Credits",value:e.totalTokens.toLocaleString(),change:12,icon:Ot,color:"from-blue-500 to-blue-600",subtitle:"Carbon credits owned"}),o.jsx(c,{title:"Portfolio Value",value:`$${e.totalValue.toLocaleString()}`,change:8,icon:mn,color:"from-green-500 to-green-600",subtitle:"Estimated market value"}),o.jsx(c,{title:"Active Listings",value:e.marketListings.toLocaleString(),change:15,icon:ji,color:"from-purple-500 to-purple-600",subtitle:"Credits listed for sale"}),o.jsx(c,{title:"Retired Credits",value:e.retiredTokens.toLocaleString(),change:25,icon:Qi,color:"from-red-500 to-red-600",subtitle:"Credits permanently retired"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-carbon-900",children:"Market Overview"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(c,{title:"Global Credits",value:n.totalGlobalCredits.toLocaleString(),change:18,icon:Tm,color:"from-indigo-500 to-indigo-600",subtitle:"Total credits in circulation"}),o.jsx(c,{title:"Market Value",value:`$${(n.totalGlobalValue/1e6).toFixed(1)}M`,change:22,icon:mn,color:"from-teal-500 to-teal-600",subtitle:"Total market capitalization"}),o.jsx(c,{title:"Active Listings",value:n.totalActiveListings.toLocaleString(),change:-5,icon:ji,color:"from-orange-500 to-orange-600",subtitle:"Credits available for trading"}),o.jsx(c,{title:"Retired Credits",value:n.totalRetiredCredits.toLocaleString(),change:30,icon:Qi,color:"from-pink-500 to-pink-600",subtitle:"Credits removed from circulation"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Carbon Credit Price Trend"}),o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(Tm,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-medium",children:"+12.5%"})]})]}),o.jsx(Vc,{width:"100%",height:300,children:o.jsxs(n7,{data:Yx,children:[o.jsx(au,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(_l,{dataKey:"month",stroke:"#64748b"}),o.jsx(Bl,{stroke:"#64748b"}),o.jsx($c,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(Aj,{type:"monotone",dataKey:"price",stroke:"#22c55e",strokeWidth:3,dot:{fill:"#22c55e",strokeWidth:2,r:4}})]})})]}),o.jsxs(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"card",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Trading Volume"}),o.jsx("span",{className:"text-sm text-carbon-600",children:"Credits traded per month"})]}),o.jsx(Vc,{width:"100%",height:300,children:o.jsxs(_w,{data:Yx,children:[o.jsx(au,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(_l,{dataKey:"month",stroke:"#64748b"}),o.jsx(Bl,{stroke:"#64748b"}),o.jsx($c,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(jg,{dataKey:"volume",fill:"#22c55e",radius:[4,4,0,0]})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Credit Status Distribution"}),o.jsx(Vc,{width:"100%",height:300,children:o.jsxs(Xde,{children:[o.jsx(vM,{data:[{name:"Active",value:e.totalTokens,fill:of[0]},{name:"Listed",value:e.marketListings*10,fill:of[1]},{name:"Retired",value:e.retiredTokens*5,fill:of[2]}],cx:"50%",cy:"50%",labelLine:!1,label:({name:u,percent:d})=>`${u} ${(d*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Active",value:e.totalTokens},{name:"Listed",value:e.marketListings*10},{name:"Retired",value:e.retiredTokens*5}].map((u,d)=>o.jsx(vh,{fill:of[d%of.length]},`cell-${d}`))}),o.jsx($c,{})]})})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"card",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-6",children:"Monthly Credit Growth"}),o.jsx(Vc,{width:"100%",height:300,children:o.jsxs(_w,{data:Yx,children:[o.jsx(au,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),o.jsx(_l,{dataKey:"month",stroke:"#64748b"}),o.jsx(Bl,{stroke:"#64748b"}),o.jsx($c,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(jg,{dataKey:"credits",fill:"#3b82f6",radius:[4,4,0,0]})]})})]})]})]})}function nfe({user:t,onLogout:e}){const[r,n]=p.useState(!1),[i,s]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState(!1),d=async()=>{if(!i.trim()){X.error("Please enter your password to confirm");return}u(!0);try{await ue.deleteAccount(i),X.success("Account deleted successfully"),n(!1),setTimeout(()=>{e()},1e3)}catch(f){X.error(f.message||"Failed to delete account")}finally{u(!1)}};return o.jsxs("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(Ft,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"Account Settings"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Manage your account preferences and security"})]})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-carbon-900 mb-6",children:"Profile Information"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:[o.jsx(Ft,{className:"w-5 h-5 text-carbon-400 mr-3"}),o.jsx("span",{className:"text-carbon-900",children:(t==null?void 0:t.name)||"Not set"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Email Address"}),o.jsx("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:o.jsx("span",{className:"text-carbon-900",children:t==null?void 0:t.email})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Account Type"}),o.jsx("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:o.jsx("span",{className:"text-carbon-900 capitalize",children:(t==null?void 0:t.accountType)||"Individual"})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Organization"}),o.jsx("div",{className:"flex items-center p-3 bg-carbon-50 rounded-lg",children:o.jsx("span",{className:"text-carbon-900",children:(t==null?void 0:t.organization)||"Not set"})})]})]})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[o.jsx("h2",{className:"text-xl font-semibold text-carbon-900 mb-6",children:"Security Settings"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 bg-carbon-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(nd,{className:"w-5 h-5 text-carbon-400"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-carbon-900",children:"Password"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Last updated recently"})]})]}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-secondary text-sm",children:"Change Password"})]})})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"card border-red-200 bg-red-50/50",children:[o.jsx("h2",{className:"text-xl font-semibold text-red-900 mb-6",children:"Danger Zone"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-red-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(Ve,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-900",children:"Delete Account"}),o.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all associated data"})]})]}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Delete Account"})]})})]}),r&&o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>n(!1),children:o.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:f=>f.stopPropagation(),className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(Ve,{className:"w-5 h-5 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900",children:"Delete Account"})]}),o.jsx("button",{onClick:()=>n(!1),className:"p-2 hover:bg-carbon-100 rounded-lg transition-colors",children:o.jsx(n5,{className:"w-5 h-5 text-carbon-600"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-carbon-700 mb-4",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-red-700",children:o.jsx("strong",{children:"What will be deleted:"})}),o.jsxs("ul",{className:"text-sm text-red-700 mt-2 space-y-1",children:[o.jsx("li",{children:"• Your account and profile information"}),o.jsx("li",{children:"• All carbon credit transactions and history"}),o.jsx("li",{children:"• Retirement certificates and attestations"}),o.jsx("li",{children:"• Marketplace listings and offers"})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"deletePassword",className:"block text-sm font-semibold text-carbon-700 mb-2",children:"Enter your password to confirm"}),o.jsxs("div",{className:"relative",children:[o.jsx(nd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:a?"text":"password",id:"deletePassword",value:i,onChange:f=>s(f.target.value),className:"input-field pl-10 pr-10",placeholder:"Enter your password",required:!0}),o.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-carbon-400 hover:text-carbon-600",children:a?o.jsx(Sp,{className:"w-5 h-5"}):o.jsx(Wl,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(!1),className:"flex-1 btn-secondary",disabled:c,children:"Cancel"}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:c||!i.trim(),className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete Account"})]})]})})]})}class ife{constructor(){this.web3StorageToken="did:key:z6MkttyCL4Z5v56YRnc7fVvHZfyGDQXW922CgVBrBfMmcUM2"}async uploadFile(e){try{if(!this.web3StorageToken)throw new Error("Web3.Storage token not configured");const r=new FormData;r.append("file",e);const n=await fetch("https://api.web3.storage/upload",{method:"POST",headers:{Authorization:`Bearer ${this.web3StorageToken}`},body:r});if(!n.ok)throw new Error(`Upload failed: ${n.statusText}`);const i=await n.json();return{cid:i.cid,url:`https://w3s.link/ipfs/${i.cid}`,name:e.name,size:e.size,type:e.type}}catch(r){console.error("IPFS upload error:",r);const n=`baf${Math.random().toString(36).slice(2,15)}`;return{cid:n,url:`https://w3s.link/ipfs/${n}`,name:e.name,size:e.size,type:e.type,isMock:!0}}}async uploadJSON(e){try{if(!this.web3StorageToken)throw new Error("Web3.Storage token not configured");const r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=new File([r],"metadata.json",{type:"application/json"});return await this.uploadFile(n)}catch(r){console.error("JSON upload error:",r);const n=`json${Math.random().toString(36).slice(2,15)}`;return{cid:n,url:`https://w3s.link/ipfs/${n}`,name:"metadata.json",size:JSON.stringify(e).length,type:"application/json",isMock:!0}}}createCarbonCreditMetadata(e){const{projectName:r,projectDescription:n,methodology:i,vintage:s,quantity:a,gsProjectId:l,gsSerial:c,verifier:u,documentCid:d}=e;return{name:`Carbon Credit - ${r}`,description:n,image:"https://w3s.link/ipfs/bafkreiabvdjwclwujxgbqfpqzq5x3mdjmdx3qk3fqiepvyqm3bkm7rldlm",attributes:[{trait_type:"Project ID",value:l},{trait_type:"Serial Number",value:c},{trait_type:"Vintage",value:s},{trait_type:"Quantity",value:a,display_type:"number"},{trait_type:"Methodology",value:i},{trait_type:"Verifier",value:u},{trait_type:"Standard",value:"Gold Standard"}],properties:{projectName:r,methodology:i,vintage:s,quantity:a,gsProjectId:l,gsSerial:c,verifier:u,documentCid:d,createdAt:new Date().toISOString(),standard:"Gold Standard",status:"active"}}}createRetirementCertificateMetadata(e){const{tokenId:r,amount:n,beneficiary:i,retirementMessage:s,retiredBy:a,carbonCreditData:l}=e;return{name:`Retirement Certificate - ${n} Credits`,description:`Certificate for retirement of ${n} carbon credits${i?` on behalf of ${i}`:""}`,image:"https://w3s.link/ipfs/bafkreiahvdjwclwujxgbqfpqzq5x3mdjmdx3qk3fqiepvyqm3bkm7rldlm",attributes:[{trait_type:"Amount Retired",value:n,display_type:"number"},{trait_type:"Token ID",value:r,display_type:"number"},{trait_type:"Retired By",value:a},{trait_type:"Beneficiary",value:i||"Self"},{trait_type:"Retirement Date",value:new Date().toLocaleDateString()}],properties:{tokenId:r,amount:n,beneficiary:i,retirementMessage:s,retiredBy:a,retiredAt:new Date().toISOString(),carbonCreditData:l,certificateType:"Carbon Credit Retirement"}}}async fetchMetadata(e){try{const r=await fetch(`https://w3s.link/ipfs/${e}`);if(!r.ok)throw new Error(`Failed to fetch metadata: ${r.statusText}`);return await r.json()}catch(r){return console.error("Error fetching IPFS metadata:",r),null}}getIPFSUrl(e){return`https://w3s.link/ipfs/${e}`}extractCID(e){const r=e.match(/\/ipfs\/([^\/\?]+)/);return r?r[1]:null}validateDocumentFile(e){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png"].includes(e.type))throw new Error("Invalid file type. Please upload PDF, DOC, DOCX, TXT, JPG, or PNG files.");if(e.size>10485760)throw new Error("File too large. Maximum size is 10MB.");return!0}isConfigured(){return!!this.web3StorageToken}getUploadStatus(){return this.isConfigured()?{status:"ready",message:"Ready to upload files"}:{status:"error",message:"IPFS service not configured"}}}const qx=new ife,ve={PENDING:"pending",ATTESTED:"attested",MINTED:"minted",REJECTED:"rejected"},Xk=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","image/jpeg","image/png","image/jpg"],Jk=10*1024*1024;class sfe{constructor(){this.documents=new Map,this.initializeStorage()}initializeStorage(){try{const e=localStorage.getItem("cblock_documents");if(e){const r=JSON.parse(e);this.documents=new Map(r)}}catch(e){console.error("Failed to load documents from storage:",e),this.documents=new Map}}saveToStorage(){try{const e=Array.from(this.documents.entries());localStorage.setItem("cblock_documents",JSON.stringify(e))}catch(e){console.error("Failed to save documents to storage:",e)}}validateFile(e){if(!e)throw new Error("No file provided");if(!Xk.includes(e.type))throw new Error("Invalid file type. Please upload PDF, DOC, DOCX, TXT, JPG, or PNG files.");if(e.size>Jk)throw new Error("File too large. Maximum size is 10MB.");if(!e.name||e.name.trim()==="")throw new Error("File must have a valid name");return!0}validateMetadata(e){const{projectName:r,projectType:n,description:i,location:s,estimatedCredits:a}=e;if(!r||r.trim()==="")throw new Error("Project name is required");if(r.length>100)throw new Error("Project name must be 100 characters or less");if(n&&n.length>50)throw new Error("Project type must be 50 characters or less");if(i&&i.length>500)throw new Error("Description must be 500 characters or less");if(s&&s.length>100)throw new Error("Location must be 100 characters or less");if(a!==void 0){const l=Number(a);if(isNaN(l)||l<0||l>1e6)throw new Error("Estimated credits must be a number between 0 and 1,000,000")}return!0}async uploadDocument(e,r,n={}){try{const i=ue.getCurrentUser();if(!i)throw new Error("User must be authenticated to upload documents");if(!ue.hasPermission("upload_document"))throw new Error("User does not have permission to upload documents");this.validateFile(e),this.validateMetadata(r),console.log("📤 Starting document upload process...",{fileName:e.name,fileSize:e.size,projectName:r.projectName,userRole:i.accountType});const s=Ue.loading("Uploading document to IPFS...",{roleSpecific:!0,operation:"document_upload"});let a;try{a=await x0.executeWithRetry(()=>qx.uploadFile(e),{maxRetries:3,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","IPFS_ERROR"]})}catch(h){throw Ue.dismiss(s),Nt.handleIPFSError(h,{fileName:e.name,fileSize:e.size,userRole:i.accountType,retryAction:()=>qx.uploadFile(e)}).error}console.log("📁 File uploaded to IPFS:",{cid:a.cid,url:a.url,isMock:a.isMock});const l={cid:a.cid,projectName:r.projectName,projectType:r.projectType||"",description:r.description||"",location:r.location||"",estimatedCredits:Number(r.estimatedCredits||0)};Ue.dismiss(s);const c=Ue.loading("Registering document on blockchain...",{roleSpecific:!0,operation:"document_upload"});let u=null,d=null;try{u=await x0.executeWithRetry(()=>de.registerDocument(l),{maxRetries:2,retryableErrors:["NETWORK_ERROR","BLOCKCHAIN_CONGESTION"]}),d=u.documentId,console.log("⛓️ Document registered on blockchain:",{documentId:d,transactionHash:u.hash})}catch(h){console.warn("⚠️ Blockchain registration failed, storing locally:",h.message),Nt.handleBlockchainError(h,"document_registration",{documentCid:a.cid,projectName:r.projectName,userRole:i.accountType,retryAction:()=>de.registerDocument(l)}),d=`local_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}finally{Ue.dismiss(c)}const f={id:d,cid:a.cid,filename:e.name,fileSize:e.size,mimeType:e.type,uploadedBy:i.walletAddress||i.email,uploaderType:i.accountType,uploaderName:i.name,uploaderEmail:i.email,projectName:r.projectName,projectType:r.projectType||"",description:r.description||"",location:r.location||"",estimatedCredits:Number(r.estimatedCredits||0),status:ve.PENDING,ipfsUrl:a.url,isMockIPFS:a.isMock||!1,attestation:{verifierAddress:null,attestedAt:null,signature:null,gsProjectId:null,gsSerial:null},mintingResult:{tokenId:null,amount:null,transactionHash:null,mintedAt:null},blockchainRegistered:!!u,transactionHash:(u==null?void 0:u.hash)||null,blockchainDocumentId:(u==null?void 0:u.documentId)||null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return this.documents.set(d,f),this.saveToStorage(),console.log("✅ Document upload completed successfully:",{documentId:d,status:f.status,blockchainRegistered:f.blockchainRegistered}),Ue.documentUploadSuccess(f.filename,i.accountType),{success:!0,documentId:d,document:f,ipfs:a,blockchain:u,message:u?"Document uploaded and registered on blockchain successfully":"Document uploaded to IPFS successfully (blockchain registration pending)"}}catch(i){console.error("❌ Document upload failed:",i);const s=Nt.handleDocumentUploadError(i,(currentUser==null?void 0:currentUser.accountType)||"guest",{fileName:e.name,fileSize:e.size,projectName:r.projectName,retryAction:()=>this.uploadDocument(e,r,n)});throw Ue.documentUploadError(s.message.message||i.message,(currentUser==null?void 0:currentUser.accountType)||"guest"),s.error}}async getDocumentsForVerifier(e={}){try{if(!ue.isVerifier())throw new Error("Only verifiers can access all documents");console.log("📋 Fetching documents for verifier dashboard...");let r=[];try{r=(await de.getAllDocuments()).map(s=>{var l;const a=this.documents.get((l=s.id)==null?void 0:l.toString())||this.documents.get(s.cid);return{...s,filename:(a==null?void 0:a.filename)||"Unknown",fileSize:(a==null?void 0:a.fileSize)||0,mimeType:(a==null?void 0:a.mimeType)||"application/octet-stream",uploaderName:(a==null?void 0:a.uploaderName)||"Unknown",uploaderEmail:(a==null?void 0:a.uploaderEmail)||"Unknown",ipfsUrl:(a==null?void 0:a.ipfsUrl)||`https://w3s.link/ipfs/${s.cid}`,isMockIPFS:(a==null?void 0:a.isMockIPFS)||!1,status:s.isAttested?ve.ATTESTED:ve.PENDING,uploaderType:this.getUserTypeFromAddress(s.uploader),blockchainRegistered:!0,source:"blockchain"}}),console.log(`📋 Retrieved ${r.length} documents from blockchain`)}catch(i){console.warn("⚠️ Failed to fetch from blockchain, using local documents:",i.message),r=Array.from(this.documents.values()).map(s=>({...s,source:"local"}))}const n=Array.from(this.documents.values()).filter(i=>!i.blockchainRegistered).map(i=>({...i,source:"local_only"}));if(r=[...r,...n],e.status&&(r=r.filter(i=>i.status===e.status)),e.uploaderType&&(r=r.filter(i=>i.uploaderType===e.uploaderType)),e.projectType&&(r=r.filter(i=>{var s;return(s=i.projectType)==null?void 0:s.toLowerCase().includes(e.projectType.toLowerCase())})),e.search){const i=e.search.toLowerCase();r=r.filter(s=>{var a,l,c;return((a=s.projectName)==null?void 0:a.toLowerCase().includes(i))||((l=s.description)==null?void 0:l.toLowerCase().includes(i))||((c=s.uploaderName)==null?void 0:c.toLowerCase().includes(i))})}return r.sort((i,s)=>{const a=new Date(i.uploadedAt||i.createdAt);return new Date(s.uploadedAt||s.createdAt)-a}),console.log(`📋 Returning ${r.length} documents after filtering`),r}catch(r){throw console.error("❌ Failed to get documents for verifier:",r),r.message.includes("Only verifiers")?r:new Error(`Failed to fetch documents: ${r.message}`)}}async getUserDocuments(){try{const e=ue.getCurrentUser();if(!e)throw new Error("User must be authenticated to view documents");console.log("📋 Fetching documents for current user...");let r=[];if(e.walletAddress)try{r=(await de.getUserDocuments(e.walletAddress)).map(l=>{const c=this.documents.get(l.cid);return{...l,filename:(c==null?void 0:c.filename)||"Unknown",fileSize:(c==null?void 0:c.fileSize)||0,mimeType:(c==null?void 0:c.mimeType)||"application/octet-stream",ipfsUrl:(c==null?void 0:c.ipfsUrl)||`https://w3s.link/ipfs/${l.cid}`,isMockIPFS:(c==null?void 0:c.isMockIPFS)||!1,status:l.isAttested?ve.ATTESTED:ve.PENDING,blockchainRegistered:!0,source:"blockchain"}})}catch(a){console.warn("⚠️ Failed to fetch user documents from blockchain:",a.message)}const n=Array.from(this.documents.values()).filter(a=>a.uploadedBy===e.walletAddress||a.uploadedBy===e.email||a.uploaderEmail===e.email).map(a=>({...a,source:a.blockchainRegistered?"blockchain":"local"})),s=[...r,...n].filter((a,l,c)=>l===c.findIndex(u=>u.cid===a.cid));return s.sort((a,l)=>{const c=new Date(a.uploadedAt||a.createdAt);return new Date(l.uploadedAt||l.createdAt)-c}),console.log(`📋 Retrieved ${s.length} documents for user`),s}catch(e){throw console.error("❌ Failed to get user documents:",e),new Error(`Failed to fetch your documents: ${e.message}`)}}async getDocument(e){try{if(!e)throw new Error("Document ID is required");console.log(`📄 Fetching document: ${e}`);let r=this.documents.get(e);if(!r)try{const n=await de.getDocument(e);n&&(r={...n,filename:"Unknown",fileSize:0,mimeType:"application/octet-stream",uploaderName:"Unknown",uploaderEmail:"Unknown",ipfsUrl:`https://w3s.link/ipfs/${n.cid}`,isMockIPFS:!1,status:n.isAttested?ve.ATTESTED:ve.PENDING,uploaderType:this.getUserTypeFromAddress(n.uploader),blockchainRegistered:!0,source:"blockchain"})}catch(n){console.warn("⚠️ Failed to fetch document from blockchain:",n.message)}if(!r)throw new Error("Document not found");return r}catch(r){throw console.error("❌ Failed to get document:",r),new Error(`Failed to fetch document: ${r.message}`)}}async updateDocumentStatus(e,r,n={}){try{if(!e)throw new Error("Document ID is required");if(!Object.values(ve).includes(r))throw new Error("Invalid document status");console.log(`📝 Updating document ${e} status to: ${r}`);const i=this.documents.get(e);if(!i)throw new Error("Document not found");const s={...i,status:r,updatedAt:new Date().toISOString(),...n};return this.documents.set(e,s),this.saveToStorage(),console.log("✅ Document status updated successfully"),s}catch(i){throw console.error("❌ Failed to update document status:",i),new Error(`Failed to update document: ${i.message}`)}}async getDocumentStats(){try{if(!ue.getCurrentUser())return{total:0,pending:0,attested:0,minted:0,rejected:0};let r=[];return ue.isVerifier()?r=await this.getDocumentsForVerifier():r=await this.getUserDocuments(),{total:r.length,pending:r.filter(i=>i.status===ve.PENDING).length,attested:r.filter(i=>i.status===ve.ATTESTED).length,minted:r.filter(i=>i.status===ve.MINTED).length,rejected:r.filter(i=>i.status===ve.REJECTED).length}}catch(e){return console.error("❌ Failed to get document stats:",e),{total:0,pending:0,attested:0,minted:0,rejected:0}}}async attestDocument(e,r){try{if(!ue.isUserAuthenticated())throw new Error("Please log in to attest documents");if(!ue.isVerifier())throw new Error("Only verifiers can attest documents");if(!e)throw new Error("Document ID is required");if(!r)throw new Error("Attestation data is required");console.log(`🔍 Attesting document: ${e}`);const n=await this.getDocument(e);if(!n)throw new Error("Document not found");if(n.status===ve.ATTESTED)throw new Error("Document has already been attested");if(n.status===ve.MINTED)throw new Error("Document has already been minted");if(n.status===ve.REJECTED)throw new Error("Document has been rejected and cannot be attested");const s=ue.getCurrentUser().walletAddress;if(!s)throw new Error("Verifier wallet address not found");let a=null;try{n.blockchainRegistered&&n.blockchainDocumentId&&(a=await de.attestDocument(n.blockchainDocumentId),console.log("⛓️ Document attested on blockchain:",a))}catch(u){console.warn("⚠️ Blockchain attestation failed:",u.message)}const l={verifierAddress:s,attestedAt:new Date().toISOString(),signature:r.signature,gsProjectId:r.gsProjectId,gsSerial:r.gsSerial,amount:r.amount,blockchainAttested:!!a,blockchainTransactionHash:(a==null?void 0:a.hash)||null},c=await this.updateDocumentStatus(e,ve.ATTESTED,{attestation:l});return console.log("✅ Document attestation completed successfully"),{success:!0,document:c,blockchain:a,message:a?"Document attested successfully on blockchain":"Document attested locally (blockchain attestation pending)"}}catch(n){throw console.error("❌ Document attestation failed:",n),n.message.includes("Only verifiers")||n.message.includes("already been attested")||n.message.includes("not found")?n:new Error(`Attestation failed: ${n.message}`)}}getUserTypeFromAddress(e){var i;const n=Array.from(((i=ue.users)==null?void 0:i.values())||[]).find(s=>s.walletAddress===e);return(n==null?void 0:n.accountType)||"individual"}getAllowedFileTypes(){return[...Xk]}getMaxFileSize(){return Jk}formatFileSize(e){if(e===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/Math.pow(r,i)).toFixed(2))+" "+n[i]}async updateDocumentMinting(e,r){try{if(!e)throw new Error("Document ID is required");if(!r)throw new Error("Minting data is required");console.log(`🪙 Updating document ${e} with minting data`);const n=this.documents.get(e);if(!n)throw new Error("Document not found");if(n.status===ve.MINTED)throw new Error("Document has already been minted");if(n.status!==ve.ATTESTED)throw new Error("Document must be attested before minting");const i=await this.updateDocumentStatus(e,ve.MINTED,{mintingResult:{transactionHash:r.transactionHash,mintedAt:r.mintedAt||new Date().toISOString(),mintedBy:r.mintedBy,amount:r.amount,recipient:r.recipient,tokenId:r.tokenId||null}});return console.log("✅ Document minting information updated successfully"),i}catch(n){throw console.error("❌ Failed to update document minting:",n),new Error(`Failed to update minting information: ${n.message}`)}}async canDocumentBeMinted(e){try{if(!e)throw new Error("Document ID is required");const r=await this.getDocument(e);return r?r.status===ve.MINTED?{canMint:!1,reason:"Document has already been minted"}:r.status!==ve.ATTESTED?{canMint:!1,reason:"Document must be attested before minting"}:!r.attestation||!r.attestation.signature?{canMint:!1,reason:"Document attestation data is incomplete"}:{canMint:!0,reason:"Document is eligible for minting"}:{canMint:!1,reason:"Document not found"}}catch(r){return console.error("❌ Failed to check minting eligibility:",r),{canMint:!1,reason:`Error checking eligibility: ${r.message}`}}}getServiceStatus(){const e=qx.getUploadStatus(),r=de.isConfigured();return{ipfs:e,blockchain:{status:r?"ready":"warning",message:r?"Blockchain service configured":"Blockchain service not fully configured - documents will be stored locally"},overall:{status:e.status==="ready"?"ready":"warning",message:e.status==="ready"?"Document service ready":"Document service partially configured"}}}}const wa=new sfe;function i7({onUploaded:t,user:e}){var W;const[r,n]=p.useState(null),[i,s]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(0),[d,f]=p.useState(!1),[h,m]=p.useState(!1),[g,y]=p.useState({projectName:"",projectType:"",description:"",location:"",estimatedCredits:""}),[w,x]=p.useState({}),[v,b]=p.useState("preparing"),[j,E]=p.useState(0),S=p.useRef(null),{addNotification:k}=BO();wa.getAllowedFileTypes();const N=wa.getMaxFileSize(),C={"application/pdf":".pdf","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","text/plain":".txt","image/jpeg":".jpg, .jpeg","image/png":".png"},R=$=>{if(!$)return{valid:!1,message:"Please select a file"};try{return wa.validateFile($),{valid:!0}}catch(G){return{valid:!1,message:G.message}}},D=()=>{const $={};if(g.projectName.trim()?g.projectName.length>100&&($.projectName="Project name must be 100 characters or less"):$.projectName="Project name is required",g.projectType&&g.projectType.length>50&&($.projectType="Project type must be 50 characters or less"),g.description&&g.description.length>500&&($.description="Description must be 500 characters or less"),g.location&&g.location.length>100&&($.location="Location must be 100 characters or less"),g.estimatedCredits){const G=Number(g.estimatedCredits);(isNaN(G)||G<0||G>1e6)&&($.estimatedCredits="Estimated credits must be a number between 0 and 1,000,000")}return x($),Object.keys($).length===0},B=$=>{const G=ue.getCurrentUser(),fe=(G==null?void 0:G.accountType)||"guest";try{const pe=R($);if(!pe.valid){Nt.handleError(new Error(pe.message),{operation:"file_validation",component:"Upload",userRole:fe,fileName:$==null?void 0:$.name},{showToast:!0});return}n($),s(null),m(!0),E(0),Ue.success(`File selected: ${$.name}`,{roleSpecific:!0,operation:"file_selection",duration:3e3})}catch(pe){Nt.handleError(pe,{operation:"file_selection",component:"Upload",userRole:fe,fileName:$==null?void 0:$.name},{showToast:!0})}},z=($,G)=>{y(fe=>({...fe,[$]:G})),w[$]&&x(fe=>({...fe,[$]:void 0}))},Q=()=>{n(null),s(null),m(!1),y({projectName:"",projectType:"",description:"",location:"",estimatedCredits:""}),x({}),u(0)},T=$=>{$.preventDefault(),f(!0)},M=$=>{$.preventDefault(),f(!1)},F=$=>{$.preventDefault(),f(!1);const G=$.dataTransfer.files[0];G&&B(G)};async function P(){const $=ue.getCurrentUser(),G=($==null?void 0:$.accountType)||"guest";try{const fe=R(r);if(!fe.valid){Nt.handleError(new Error(fe.message),{operation:"file_validation",component:"Upload",userRole:G,fileName:r==null?void 0:r.name},{showToast:!0});return}if(!D()){Nt.handleError(new Error("Please fix the validation errors before uploading"),{operation:"metadata_validation",component:"Upload",userRole:G,validationErrors:w},{showToast:!0});return}l(!0),b("preparing"),u(0),console.log("📤 Starting document upload with DocumentService...");const pe=async()=>{b("uploading"),u(20);const ye=await wa.uploadDocument(r,g);return b("completing"),u(100),ye},ne=await x0.executeWithRetry(pe,{maxRetries:3,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","IPFS_ERROR","BLOCKCHAIN_CONGESTION"],onRetry:ye=>{E(ye),u(0),Ue.warning(`Upload attempt ${ye+1} failed, retrying...`,{roleSpecific:!0,operation:"upload_retry",duration:3e3})}});await new Promise(ye=>setTimeout(ye,500)),s(ne),t&&t({documentId:ne.documentId,cid:ne.document.cid,url:ne.document.ipfsUrl,name:ne.document.filename,size:ne.document.fileSize,type:ne.document.mimeType,projectName:ne.document.projectName,status:ne.document.status}),$&&$.accountType!=="verifier"&&k({message:`New document uploaded by ${$.name}: ${ne.document.projectName}`,link:"verifier-dashboard"}),Ue.documentUploadSuccess(ne.document.filename,G),m(!1),E(0)}catch(fe){console.error("Upload error:",fe),Nt.handleDocumentUploadError(fe,G,{fileName:r==null?void 0:r.name,fileSize:r==null?void 0:r.size,projectName:g.projectName,retryAction:P,retryCount:j}),u(0),b("preparing")}finally{l(!1)}}const L=$=>wa.formatFileSize($);return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(Om,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Upload Project Document"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Upload your carbon credit project documentation to IPFS"})]})]}),o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(xn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Supported File Types"}),o.jsx("p",{className:"text-blue-700 mt-1",children:"PDF, Word documents (.doc, .docx), text files (.txt), and images (.jpg, .png)"}),o.jsxs("p",{className:"text-blue-600 text-xs mt-2",children:["Maximum file size: ",L(N)]})]})]})}),i?o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(ze,{className:"w-7 h-7 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-2",children:"Document Uploaded Successfully! 🎉"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Project:"}),o.jsx("span",{className:"text-sm text-green-800",children:i.document.projectName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"File:"}),o.jsx("span",{className:"text-sm text-green-800",children:i.document.filename})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Document ID:"}),o.jsx("code",{className:"text-xs bg-green-100 px-2 py-1 rounded font-mono text-green-800",children:i.documentId})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"IPFS CID:"}),o.jsx("code",{className:"text-xs bg-green-100 px-2 py-1 rounded font-mono text-green-800",children:i.document.cid})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Status:"}),o.jsx("span",{className:"text-sm text-green-800 capitalize",children:i.document.status})]})]}),o.jsx("div",{className:"mt-4",children:o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,className:"btn-secondary text-sm",children:"Upload Another Document"})})]})]})}):o.jsxs("div",{className:"space-y-6",children:[!r&&o.jsxs(I.div,{whileHover:{scale:1.01},className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ${d?"border-primary-400 bg-primary-50":"border-carbon-300 bg-carbon-50 hover:border-primary-300 hover:bg-primary-50"}`,onDragOver:T,onDragLeave:M,onDrop:F,children:[o.jsx("input",{ref:S,type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:Object.values(C).join(","),onChange:$=>B($.target.files[0])}),o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto ${d?"bg-primary-100":"bg-carbon-100"}`,children:o.jsx(Om,{className:`w-8 h-8 ${d?"text-primary-600":"text-carbon-400"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-semibold text-carbon-900",children:d?"Drop your file here":"Drag and drop your file here"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"or"})]}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>{var $;return($=S.current)==null?void 0:$.click()},className:"btn-secondary inline-flex items-center space-x-2",children:[o.jsx(Fz,{className:"w-5 h-5"}),o.jsx("span",{children:"Choose File"})]})]})]}),r&&!h&&o.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ui,{className:"w-7 h-7 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-2",children:"File Selected"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"File:"}),o.jsx("span",{className:"text-sm text-green-800",children:r.name})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Size:"}),o.jsx("span",{className:"text-sm text-green-800",children:L(r.size)})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Type:"}),o.jsx("span",{className:"text-sm text-green-800",children:r.type})]})]}),o.jsxs("div",{className:"mt-4 flex space-x-3",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!0),className:"btn-primary text-sm",children:"Continue"}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,className:"btn-secondary text-sm",children:"Choose Different File"})]})]})]})}),o.jsx(Bt,{children:h&&r&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white border border-carbon-200 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(J0,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-bold text-carbon-900",children:"Project Details"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Provide information about your carbon credit project"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:"Project Name *"}),o.jsx("input",{type:"text",value:g.projectName,onChange:$=>z("projectName",$.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${w.projectName?"border-red-300":"border-carbon-300"}`,placeholder:"Enter your project name",maxLength:100}),w.projectName&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.projectName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:"Project Type"}),o.jsxs("select",{value:g.projectType,onChange:$=>z("projectType",$.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${w.projectType?"border-red-300":"border-carbon-300"}`,children:[o.jsx("option",{value:"",children:"Select project type"}),o.jsx("option",{value:"Renewable Energy",children:"Renewable Energy"}),o.jsx("option",{value:"Reforestation",children:"Reforestation"}),o.jsx("option",{value:"Energy Efficiency",children:"Energy Efficiency"}),o.jsx("option",{value:"Waste Management",children:"Waste Management"}),o.jsx("option",{value:"Agriculture",children:"Agriculture"}),o.jsx("option",{value:"Transportation",children:"Transportation"}),o.jsx("option",{value:"Other",children:"Other"})]}),w.projectType&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.projectType})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:[o.jsx(r5,{className:"w-4 h-4 inline mr-1"}),"Location"]}),o.jsx("input",{type:"text",value:g.location,onChange:$=>z("location",$.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${w.location?"border-red-300":"border-carbon-300"}`,placeholder:"Project location (city, country)",maxLength:100}),w.location&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.location})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:[o.jsx(so,{className:"w-4 h-4 inline mr-1"}),"Estimated Credits"]}),o.jsx("input",{type:"number",value:g.estimatedCredits,onChange:$=>z("estimatedCredits",$.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${w.estimatedCredits?"border-red-300":"border-carbon-300"}`,placeholder:"Expected carbon credits",min:"0",max:"1000000"}),w.estimatedCredits&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.estimatedCredits})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:"Description"}),o.jsx("textarea",{value:g.description,onChange:$=>z("description",$.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${w.description?"border-red-300":"border-carbon-300"}`,placeholder:"Brief description of your project",rows:3,maxLength:500}),o.jsx("div",{className:"flex justify-between items-center mt-1",children:w.description?o.jsx("p",{className:"text-sm text-red-600",children:w.description}):o.jsxs("span",{className:"text-xs text-carbon-500",children:[g.description.length,"/500 characters"]})})]})]}),o.jsxs("div",{className:"flex space-x-4 mt-6",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:P,disabled:a,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:a?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Uploading Document..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Om,{className:"w-5 h-5"}),o.jsx("span",{children:"Upload Document"})]})}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!1),className:"btn-secondary px-6",disabled:a,children:"Back"})]})]})}),o.jsx(Bt,{children:a&&o.jsx(SY,{stage:v,progress:c,fileName:(r==null?void 0:r.name)||"",userRole:((W=ue.getCurrentUser())==null?void 0:W.accountType)||"individual"})}),o.jsx(Bt,{children:j>0&&!a&&o.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ve,{className:"w-5 h-5 text-yellow-600"}),o.jsxs("div",{className:"text-sm",children:[o.jsxs("p",{className:"font-medium text-yellow-900",children:["Upload failed after ",j," attempts"]}),o.jsx("p",{className:"text-yellow-700 mt-1",children:"Please check your connection and try again. If the problem persists, try a smaller file or contact support."})]})]})})})]})]})}const eo=[{inputs:[{internalType:"address",name:"_verifierRegistry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"verifier",type:"address"}],name:"MintedWithAttestation",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[],name:"ATTESTATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"attestations",outputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"verifier",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"gsProjectId",type:"string"},{internalType:"string",name:"gsSerial",type:"string"},{internalType:"string",name:"ipfsCid",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"mintWithAttestation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"nextTokenId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"amounts",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"id",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"verifierRegistry",outputs:[{internalType:"contract IVerifierRegistry",name:"",type:"address"}],stateMutability:"view",type:"function"}];function s7({onSigned:t,uploadedData:e,uploaderAddress:r}){const[n,i]=p.useState({gsProjectId:"",gsSerial:"",ipfsCid:"",amount:1,vintage:new Date().getFullYear(),recipient:""}),[s,a]=p.useState(!1),[l,c]=p.useState(""),[u,d]=p.useState({}),[f,h]=p.useState(!1),[m,g]=p.useState(!1),[y,w]=p.useState(!1);p.useEffect(()=>{e&&e.cid&&i(N=>({...N,ipfsCid:e.cid,recipient:r||""}))},[e,r]),p.useEffect(()=>{x()},[]),p.useEffect(()=>{l&&!n.recipient&&i(N=>({...N,recipient:l}))},[l,n.recipient]);const x=async()=>{if(window.ethereum)try{const N=await window.ethereum.request({method:"eth_accounts"});N.length>0&&(c(N[0]),h(!0),i(C=>({...C,recipient:N[0]})),await v(N[0]))}catch(N){console.error("Error checking wallet connection:",N)}},v=async N=>{if(N){w(!0);try{const C=new st(window.ethereum),R="0xD009D4EA4B9f546261433a75A32353a60d750200",D=["function isVerifier(address account) external view returns (bool)","function addVerifier(address verifier) external"],z=await new Ce(R,D,C).isVerifier(N);g(z),z?te.success("✅ You are registered as a verifier!"):te.warning("You are not registered as a verifier. You can register yourself for testing.",{icon:"⚠️",style:{background:"#fff3cd",color:"#856404",border:"1px solid #ffeeba"}})}catch(C){console.error("Error checking verifier status:",C),te.error("Could not check verifier status",{style:{background:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb"}})}finally{w(!1)}}},b=async()=>{if(!f){te.error("Please connect your wallet first");return}w(!0);try{const C=await new st(window.ethereum).getSigner(),R="0xD009D4EA4B9f546261433a75A32353a60d750200",D=["function isVerifier(address account) external view returns (bool)","function addVerifier(address verifier) external"],B=new Ce(R,D,C);te.loading("Registering as verifier...",{id:"registering"}),await(await B.addVerifier(l)).wait(),te.dismiss("registering"),te.success("🎉 Successfully registered as a verifier!"),g(!0)}catch(N){console.error("Error registering as verifier:",N),te.dismiss("registering");let C="Failed to register as verifier: ";N.message.includes("user rejected")?C="Registration was cancelled by user.":N.message.includes("insufficient funds")?C="Insufficient funds for registration transaction.":C+=N.message||"Unknown error occurred",te.error(C)}finally{w(!1)}},j=async()=>{if(!window.ethereum){te.error("Please install MetaMask to continue");return}try{await window.ethereum.request({method:"eth_requestAccounts"});const N=await window.ethereum.request({method:"eth_accounts"});N.length>0&&(c(N[0]),h(!0),i(C=>({...C,recipient:N[0]})),te.success("Wallet connected successfully!"),await v(N[0]))}catch(N){console.error("Wallet connection error:",N),te.error("Failed to connect wallet")}},E=()=>{const N={};return n.gsProjectId.trim()?/^[A-Z]{2,3}-\d{3,6}$/i.test(n.gsProjectId.trim())||(N.gsProjectId='Project ID format should be like "GS-1234" or "VCS-12345"'):N.gsProjectId="Project ID is required",n.gsSerial.trim()?n.gsSerial.trim().length<5&&(N.gsSerial="Serial number should be at least 5 characters"):N.gsSerial="Serial number is required",n.ipfsCid.trim()||(N.ipfsCid="IPFS CID is required (upload a file first)"),!n.amount||n.amount<=0?N.amount="Amount must be greater than 0":n.amount%1!==0?N.amount="Amount must be a whole number (no decimals)":n.amount>1e6&&(N.amount="Amount seems too large (max: 1,000,000)"),(!n.vintage||n.vintage<2e3||n.vintage>new Date().getFullYear()+1)&&(N.vintage="Please enter a valid vintage year"),n.recipient.trim()?/^0x[a-fA-F0-9]{40}$/.test(n.recipient.trim())||(N.recipient="Please enter a valid Ethereum address"):N.recipient="Recipient address is required",f||(N.wallet="Please connect your wallet first"),d(N),Object.keys(N).length===0},S=N=>{const{name:C,value:R}=N.target;i(D=>({...D,[C]:R})),u[C]&&d(D=>{const B={...D};return delete B[C],B})};async function k(){if(!E()){te.error("Please fix the validation errors before proceeding");return}a(!0);try{const N=new st(window.ethereum),C=await N.getSigner(),R=await C.getAddress(),D="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",B=new Ce(D,eo,C),T={name:"CarbonCredit",version:"1",chainId:(await N.getNetwork()).chainId,verifyingContract:D},M={Attestation:[{name:"gsProjectId",type:"string"},{name:"gsSerial",type:"string"},{name:"ipfsCid",type:"string"},{name:"amount",type:"uint256"},{name:"recipient",type:"address"},{name:"nonce",type:"uint256"}]},F=n.recipient.trim();let P;try{P=Number(await B.nonces(F))}catch(G){console.error("Error fetching nonce:",G),te.error("Cannot connect to carbon contract. Make sure you are on the correct network.");return}const L=BigInt(Math.floor(Number(n.amount))),W={gsProjectId:n.gsProjectId.trim(),gsSerial:n.gsSerial.trim(),ipfsCid:n.ipfsCid.trim(),amount:L,recipient:F,nonce:P};te.loading("Please sign the attestation in your wallet...",{id:"signing"});const $=await C.signTypedData(T,M,W);te.dismiss("signing"),te.success("🎉 Attestation signed successfully!"),t({signature:$,payload:{...W,quantity:Number(n.amount),vintage:n.vintage},signer:R,nonce:P})}catch(N){console.error("Signing error:",N),te.dismiss("signing");let C="Error signing attestation: ";N.message.includes("user rejected")?C="Attestation signing was cancelled by user.":N.message.includes("insufficient funds")?C="Insufficient funds for transaction fees.":C+=N.message||"Unknown error occurred",te.error(C)}finally{a(!1)}}return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(Tt,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Verifier Attestation"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Sign the carbon credit attestation using EIP-712"})]})]}),o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(xn,{className:"w-5 h-5 text-purple-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-purple-900",children:"About Verifier Attestation"}),o.jsx("p",{className:"text-purple-700 mt-1",children:"As a registered verifier, you're attesting to the validity of this carbon credit project. Your digital signature creates an immutable record on the blockchain using EIP-712 standard."})]})]})}),e&&o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Ep,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-green-900",children:"Document Uploaded"}),o.jsx("p",{className:"text-sm text-green-700",children:e.name}),o.jsxs("p",{className:"text-xs text-green-600 font-mono mt-1",children:["IPFS: ",e.cid]})]})]})}),f?o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ze,{className:"w-5 h-5 text-green-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-green-900",children:"Wallet Connected"}),o.jsx("p",{className:"text-sm text-green-700 font-mono",children:l})]})]}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(l),disabled:y,className:"btn-secondary text-xs px-3 py-1.5 flex items-center space-x-1",children:[y?o.jsx(He,{className:"w-3 h-3 animate-spin"}):o.jsx(He,{className:"w-3 h-3"}),o.jsx("span",{children:"Refresh Status"})]})]})}),o.jsxs("div",{className:`border rounded-lg p-4 ${m?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${m?"bg-green-100":"bg-orange-100"}`,children:o.jsx(Tt,{className:`w-5 h-5 ${m?"text-green-600":"text-orange-600"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:`font-medium ${m?"text-green-900":"text-orange-900"}`,children:m?"Registered Verifier":"Not Registered"}),o.jsx("p",{className:`text-sm ${m?"text-green-700":"text-orange-700"}`,children:m?"You can sign attestations for carbon credits":"Register your wallet to become a verifier for testing"})]})]}),o.jsx("div",{className:"flex space-x-2",children:!m&&o.jsxs(o.Fragment,{children:[o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,disabled:y,className:"btn-primary text-sm px-4 py-2 flex items-center space-x-2",children:y?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Registering..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tt,{className:"w-4 h-4"}),o.jsx("span",{children:"Register as Verifier"})]})}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{te.loading("Activating demo verifier mode...",{id:"demo"}),setTimeout(()=>{te.dismiss("demo"),te.success("🎭 Demo Verifier Mode Activated!"),g(!0)},1500)},disabled:y,className:"btn-secondary text-sm px-3 py-2 flex items-center space-x-1.5",children:[o.jsx(Vn,{className:"w-4 h-4"}),o.jsx("span",{children:"Demo Mode"})]})]})})]}),!m&&o.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Vn,{className:"w-4 h-4 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{className:"font-medium",children:"Quick Demo Option:"}),o.jsx("p",{children:'Use "Demo Mode" to simulate verifier registration without blockchain transactions. Perfect for testing the complete flow!'})]})]})})]})]}):o.jsxs(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[o.jsx(Ot,{className:"w-12 h-12 text-yellow-600 mx-auto mb-3"}),o.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"Connect your wallet to sign the attestation as a registered verifier"}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:j,className:"btn-primary inline-flex items-center space-x-2",children:[o.jsx(Ot,{className:"w-5 h-5"}),o.jsx("span",{children:"Connect Wallet"})]}),u.wallet&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:u.wallet})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Kz,{className:"w-4 h-4 inline mr-2"}),"Project ID"]}),o.jsx("input",{type:"text",name:"gsProjectId",value:n.gsProjectId||"",onChange:S,placeholder:"GS-1234 or VCS-12345",className:`input-field ${u.gsProjectId?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.gsProjectId&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),u.gsProjectId]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Hz,{className:"w-4 h-4 inline mr-2"}),"Serial Number"]}),o.jsx("input",{type:"text",name:"gsSerial",value:n.gsSerial||"",onChange:S,placeholder:"ABC-123-456-789",className:`input-field ${u.gsSerial?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.gsSerial&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),u.gsSerial]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Ep,{className:"w-4 h-4 inline mr-2"}),"Vintage Year"]}),o.jsx("input",{type:"number",name:"vintage",value:n.vintage||"",onChange:S,placeholder:"2023",min:"2000",max:new Date().getFullYear()+1,className:`input-field ${u.vintage?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.vintage&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),u.vintage]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Ez,{className:"w-4 h-4 inline mr-2"}),"Credit Amount"]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",name:"amount",value:n.amount||"",onChange:S,placeholder:"100",min:"1",step:"1",className:`input-field pr-16 ${u.amount?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o.jsx("span",{className:"text-carbon-500 text-sm",children:"CO2e tons"})})]}),u.amount&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),u.amount]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(yz,{className:"w-4 h-4 inline mr-2"}),"IPFS Document CID"]}),o.jsx("input",{type:"text",name:"ipfsCid",value:n.ipfsCid||"",onChange:S,placeholder:"QmXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxX",readOnly:!!(e!=null&&e.cid),className:"input-field"}),u.ipfsCid&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),u.ipfsCid]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Ot,{className:"w-4 h-4 inline mr-2"}),"Recipient Address (Project Owner)"]}),o.jsx("input",{type:"text",name:"recipient",value:n.recipient||"",onChange:S,placeholder:"0x742d35Cc6634C0532925a3b8D4C9db96590c6C87",className:`input-field ${u.recipient?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`}),u.recipient&&o.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),u.recipient]}),o.jsx("p",{className:"text-xs text-carbon-600",children:"The Ethereum address that will receive the carbon credits (usually the project owner)"})]}),!m&&!y&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Ve,{className:"w-5 h-5 text-red-600"}),o.jsx("p",{className:"text-red-800 font-medium",children:"Access Restricted"})]}),o.jsx("p",{className:"text-red-700 mt-1",children:"Only registered verifiers can sign carbon credit attestations. Please register as a verifier or use demo mode to test the functionality."})]}),o.jsxs("div",{className:"flex space-x-4 pt-4",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:k,disabled:s||!f||!m,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:s?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Signing Attestation..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tt,{className:"w-5 h-5"}),o.jsx("span",{children:"Sign Attestation"})]})}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{i({gsProjectId:"",gsSerial:"",ipfsCid:(e==null?void 0:e.cid)||"",amount:1,vintage:new Date().getFullYear(),recipient:l||r||""}),d({})},className:"btn-secondary px-6",disabled:s,children:"Reset Form"})]}),o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-carbon-50 border border-carbon-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-carbon-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-carbon-600 font-bold text-xs",children:"ℹ"})}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-carbon-900",children:"EIP-712 Structured Data Signing"}),o.jsx("p",{className:"text-carbon-700 mt-1",children:"This attestation uses the EIP-712 standard for secure, readable transaction signing. Your signature will be cryptographically linked to the project data above."})]})]})})]})}function a7({signedData:t}){const[e,r]=p.useState({gsProjectId:"",gsSerial:"",vintage:new Date().getFullYear(),quantity:1,ipfsHash:"",recipient:""}),[n,i]=p.useState(""),[s,a]=p.useState(""),[l,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(""),[m,g]=p.useState({}),[y,w]=p.useState(!1);p.useEffect(()=>{if(t&&t.payload){const{gsProjectId:N,gsSerial:C,ipfsCid:R,quantity:D,vintage:B,recipient:z}=t.payload;r({gsProjectId:N||"",gsSerial:C||"",vintage:B||new Date().getFullYear(),quantity:D||1,ipfsHash:R||"",recipient:z||""}),i(t.signature||""),a(t.nonce!==void 0?t.nonce:"")}},[t]),p.useEffect(()=>{(async()=>{if(window.ethereum&&!e.recipient)try{const C=await window.ethereum.request({method:"eth_accounts"});C.length>0&&r(R=>({...R,recipient:C[0]}))}catch(C){console.error("Error getting current address:",C)}})()},[e.recipient]);const x=()=>{const N={};return e.gsProjectId.trim()||(N.gsProjectId="Project ID is required"),e.gsSerial.trim()||(N.gsSerial="Serial number is required"),(!e.vintage||e.vintage<2e3)&&(N.vintage="Valid vintage year is required"),(!e.quantity||e.quantity<=0)&&(N.quantity="Quantity must be greater than 0"),e.ipfsHash.trim()||(N.ipfsHash="IPFS hash is required"),e.recipient.trim()||(N.recipient="Recipient address is required"),n.trim()||(N.signature="Verifier signature is required"),e.recipient&&!vG(e.recipient)&&(N.recipient="Invalid Ethereum address format"),g(N),Object.keys(N).length===0},v=(N,C)=>{r(R=>({...R,[N]:C})),m[N]&&g(R=>({...R,[N]:""}))},b=()=>{const N="0x"+Array.from({length:130},()=>Math.floor(Math.random()*16).toString(16)).join("");i(N),X.success("🎭 Demo signature generated! Ready for demo minting."),g(C=>({...C,signature:""}))},j=async()=>{if(!x()){X.error("Please fix the validation errors before proceeding");return}c(!0),d("pending");try{X.loading("🎭 Demo Mode: Simulating carbon credit minting...",{id:"demo-mint"}),await new Promise(C=>setTimeout(C,3e3));const N="0x"+Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("");h(N),d("confirmed"),X.dismiss("demo-mint"),X.success(`🎉 Demo Mode: Carbon credits minted successfully!
${e.quantity} CO2e tons minted to ${e.recipient}`),setTimeout(()=>{window.confirm("Demo carbon credits minted successfully! Would you like to mint more credits?")&&S()},3e3)}catch(N){console.error("Demo mint error:",N),d("error"),X.dismiss("demo-mint"),X.error("Demo mint failed. Please try again.")}finally{c(!1)}},E=async()=>{if(!x()){X.error("Please fix the validation errors before proceeding");return}if(!window.ethereum){X.error("Please install MetaMask to mint carbon credits");return}c(!0),d(null);try{de.isInitialized||await de.initialize();const N=new st(window.ethereum),C=await N.getSigner(),R="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",D=new Ce(R,eo,C);console.log("🔍 Debug Info:"),console.log("- Signature:",n),console.log("- Form data:",e),console.log("- Signer address:",await C.getAddress());const B="0xD009D4EA4B9f546261433a75A32353a60d750200";if(B){const M=["function isVerifier(address account) external view returns (bool)"],F=new Ce(B,M,N),P=await C.getAddress(),L=await F.isVerifier(P);if(console.log("- Is signer a verifier?",L),!L){X.error("Current wallet is not registered as a verifier. Please switch to the verifier wallet or register this wallet as a verifier.");return}}const z=await D.nonces(e.recipient);if(console.log("- Current nonce for recipient:",z.toString()),console.log("- Expected nonce:",s),Number(z)!==s){X.error(`Nonce mismatch! Expected ${s}, but contract has ${z}. Please sign the attestation again.`);return}const Q=await D.mintWithAttestation(e.gsProjectId,e.gsSerial,e.ipfsHash,BigInt(e.quantity),e.recipient,n,{gasLimit:5e5});h(Q.hash),d("pending"),X.success(`Transaction submitted! Hash: ${Q.hash}`);const T=await Q.wait();d("confirmed"),X.success(`✅ Carbon credits minted successfully!
Block: ${T.blockNumber}`),setTimeout(()=>{window.confirm("Carbon credits minted successfully! Would you like to mint more credits?")&&S()},3e3)}catch(N){console.error("Minting error:",N),d("error");let C="Error minting carbon credits: ";N.message.includes("attestation not signed by registered verifier")?C="The signature is not from a registered verifier. Please ensure the attestation is signed by an authorized verifier.":N.message.includes("insufficient funds")?C="Insufficient funds for gas fees. Please ensure you have enough ETH in your wallet.":N.message.includes("user rejected")?C="Transaction was cancelled by user.":N.message.includes("no matching fragment")?C="Contract function signature mismatch. Please check the smart contract deployment.":C+=N.reason||N.message||"Unknown error occurred",X.error(C)}finally{c(!1)}},S=()=>{r({gsProjectId:"",gsSerial:"",vintage:new Date().getFullYear(),quantity:1,ipfsHash:"",recipient:""}),i(""),a(""),d(null),h(""),g({})},k=({label:N,field:C,type:R="text",placeholder:D,icon:B,...z})=>o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[B&&o.jsx(B,{className:"w-4 h-4 inline mr-2"}),N]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:R,placeholder:D,value:e[C],onChange:Q=>v(C,Q.target.value),className:`input-field ${m[C]?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`,...z}),m[C]&&o.jsxs(I.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),m[C]]})]})]});return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(Vn,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Mint Carbon Credits"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Create new carbon credits with verifier attestation"})]})]}),o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(xn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Attestation Required"}),o.jsxs("p",{className:"text-blue-700 mt-1",children:["All carbon credits must be verified by a registered verifier before minting.",!n&&" Please complete the attestation process first."]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(k,{label:"Project ID",field:"gsProjectId",placeholder:"GS-1234",icon:Ep}),o.jsx(k,{label:"Serial Number",field:"gsSerial",placeholder:"ABC-123-456"}),o.jsx(k,{label:"Vintage Year",field:"vintage",type:"number",placeholder:"2023",min:"2000",max:new Date().getFullYear()+1}),o.jsx(k,{label:"Quantity (CO2e tons)",field:"quantity",type:"number",placeholder:"100",min:"1",step:"0.01"})]}),o.jsx(k,{label:"IPFS Document Hash",field:"ipfsHash",placeholder:"QmXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxXxX"}),o.jsx(k,{label:"Recipient Address",field:"recipient",placeholder:"0x742d35Cc6634C0532925a3b8D8095d8e9f3c1234"}),o.jsxs(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700",children:[o.jsx(Ep,{className:"w-4 h-4 inline mr-2"}),"Verifier Signature"]}),o.jsx("textarea",{placeholder:"0x1234567890abcdef... (Generated from attestation process)",value:n,onChange:N=>i(N.target.value),rows:4,className:`input-field resize-none ${m.signature?"border-red-300 focus:border-red-500 focus:ring-red-200":""}`,style:{fontFamily:"monospace",fontSize:"0.875rem"}}),m.signature&&o.jsxs(I.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),m.signature]}),!n&&o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Vn,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-700",children:[o.jsx("p",{className:"font-medium",children:"Need a Signature for Testing?"}),o.jsx("p",{children:"Generate a demo signature to test the complete minting flow without verifier registration."})]})]}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:b,className:"btn-secondary text-xs px-3 py-1.5 flex items-center space-x-1.5",children:[o.jsx(Vn,{className:"w-3 h-3"}),o.jsx("span",{children:"Generate Demo Signature"})]})]})})]}),o.jsx(Bt,{children:u&&o.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded-lg border ${u==="pending"?"bg-yellow-50 border-yellow-200":u==="confirmed"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-3",children:[u==="pending"&&o.jsx(He,{className:"w-5 h-5 text-yellow-600 animate-spin"}),u==="confirmed"&&o.jsx(ze,{className:"w-5 h-5 text-green-600"}),u==="error"&&o.jsx(Ve,{className:"w-5 h-5 text-red-600"}),o.jsxs("div",{children:[o.jsxs("p",{className:`font-medium ${u==="pending"?"text-yellow-900":u==="confirmed"?"text-green-900":"text-red-900"}`,children:[u==="pending"&&"Transaction Pending...",u==="confirmed"&&"Carbon Credits Minted Successfully!",u==="error"&&"Transaction Failed"]}),f&&o.jsxs("p",{className:`text-sm mt-1 ${u==="pending"?"text-yellow-700":u==="confirmed"?"text-green-700":"text-red-700"}`,children:["Transaction Hash: ",o.jsx("code",{className:"font-mono text-xs",children:f})]})]})]})})}),o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:E,disabled:l,className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Minting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Vn,{className:"w-5 h-5"}),o.jsx("span",{children:"Mint Carbon Credits"})]})}),o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:j,disabled:l,className:"btn-secondary px-6 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Vn,{className:"w-4 h-4"}),o.jsx("span",{children:"Demo Mint"})]})]}),o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Vn,{className:"w-4 h-4 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("p",{children:o.jsx("strong",{children:"Two Minting Options:"})}),o.jsxs("p",{children:["• ",o.jsx("strong",{children:"Mint Carbon Credits:"})," Real blockchain transaction (requires registered verifier signature)"]}),o.jsxs("p",{children:["• ",o.jsx("strong",{children:"Demo Mint:"})," Simulated transaction for testing the complete flow without blockchain costs"]})]})]})}),o.jsx("div",{className:"flex justify-center",children:o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:S,className:"btn-secondary px-8",children:"Reset Form"})})]})]})}function afe({onShow:t}){const[e,r]=p.useState(null),[n,i]=p.useState([]),[s,a]=p.useState(!1),[l,c]=p.useState(!1),[u,d]=p.useState(!1),[f]=p.useState("0x076d107Ca3757C37e63cC894F2F75E068B975A97");p.useEffect(()=>{window.ethereum&&(window.ethereum.on("accountsChanged",()=>window.location.reload()),h())},[]);const h=async()=>{if(window.ethereum)try{const x=await window.ethereum.request({method:"eth_accounts"});x.length>0&&(r(x[0]),await g(x[0]))}catch(x){console.error("Error checking connection:",x)}};async function m(){if(!window.ethereum){X.error("MetaMask not found. Please install MetaMask.");return}a(!0);try{await window.ethereum.request({method:"eth_requestAccounts"});const b=await(await new st(window.ethereum).getSigner()).getAddress();r(b),X.success("Wallet connected successfully!"),await g(b)}catch(x){console.error("Connection error:",x),X.error("Failed to connect wallet")}finally{a(!1)}}async function g(x){const v="0xe74f9e14F5858a92eD59ECF21866afc42101a45E";a(!0);try{const j=await new st(window.ethereum).getSigner(),E=new Ce(v,eo,j),S=Number(await E.nextTokenId()),k=[];for(let N=1;N<S;N++)try{const C=await E.balanceOf(x,N);if(C&&C.toString()!=="0")try{const R=await E.attestations(N),D=await E.uri(N);k.push({tokenId:N,balance:C.toString(),gsProjectId:R.gsProjectId,gsSerial:R.gsSerial,ipfsCid:R.ipfsCid,verifier:R.verifier,uri:D})}catch{k.push({tokenId:N,balance:C.toString()})}}catch(C){console.error(`Error fetching token ${N}:`,C)}if(i(k),f){const N=await E.isApprovedForAll(x,f);c(N)}}catch(b){console.error("Error loading tokens:",b),X.error("Failed to load tokens")}finally{a(!1)}}async function y(){if(window.ethereum){d(!0);try{const v=await new st(window.ethereum).getSigner(),b="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",j=new Ce(b,eo,v);X.loading("Approving marketplace...",{id:"approve"}),await(await j.setApprovalForAll(f,!0)).wait(),c(!0),X.success("Marketplace approved successfully!",{id:"approve"})}catch(x){console.error("Approval error:",x),X.error("Failed to approve marketplace",{id:"approve"})}finally{d(!1)}}}const w=x=>x?`${x.slice(0,6)}...${x.slice(-4)}`:"";return e?o.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900",children:"My Carbon Credits"}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Manage your carbon credit portfolio"})]}),o.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("mint"),className:"btn-primary",children:[o.jsx(As,{className:"w-5 h-5 mr-2"}),"Mint Credits"]}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("market"),className:"btn-secondary",children:[o.jsx(ji,{className:"w-5 h-5 mr-2"}),"Marketplace"]})]})]}),o.jsx(I.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-primary-50 rounded-xl p-4 border border-primary-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(ze,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-primary-900",children:"Wallet Connected"}),o.jsx("p",{className:"text-sm text-primary-700 font-mono",children:w(e)})]})]}),!l&&f&&o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:y,disabled:u,className:"btn-primary",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2"}),u?"Approving...":"Approve Marketplace"]}),l&&o.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[o.jsx(ze,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm font-semibold",children:"Marketplace Approved"})]})]})}),s&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((x,v)=>o.jsx("div",{className:"card animate-pulse",children:o.jsx("div",{className:"h-48 bg-carbon-100 rounded-lg"})},v))}),!s&&o.jsx(Bt,{children:n.length===0?o.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx(ob,{className:"w-16 h-16 text-carbon-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-carbon-900 mb-2",children:"No tokens found"}),o.jsx("p",{className:"text-carbon-600 mb-6",children:"You haven't minted any carbon credits yet."}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("mint"),className:"btn-primary",children:[o.jsx(As,{className:"w-5 h-5 mr-2"}),"Mint Your First Credits"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((x,v)=>o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"card hover:shadow-lg transition-all duration-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-lg",children:"🌱"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-bold text-carbon-900",children:["Token #",x.tokenId]}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Carbon Credit NFT"})]})]})}),o.jsx("div",{className:"bg-primary-50 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-primary-600",children:x.balance}),o.jsx("p",{className:"text-sm text-primary-700",children:"Credits Available"})]})}),x.gsProjectId&&o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"Project ID:"}),o.jsx("span",{className:"font-semibold text-carbon-900",children:x.gsProjectId})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"Serial:"}),o.jsx("span",{className:"font-semibold text-carbon-900",children:x.gsSerial})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"IPFS CID:"}),o.jsx("span",{className:"font-mono text-xs text-carbon-900 truncate max-w-24",children:x.ipfsCid})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-carbon-600",children:"Verifier:"}),o.jsx("span",{className:"font-mono text-xs text-carbon-900",children:w(x.verifier)})]})]}),o.jsx("div",{className:"border-t border-carbon-200 pt-4",children:o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t("market"),className:"w-full btn-secondary",children:[o.jsx(ji,{className:"w-4 h-4 mr-2"}),"List for Sale"]})}),x.uri&&o.jsx("div",{className:"mt-3",children:o.jsxs("a",{href:x.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center text-xs text-carbon-600 hover:text-primary-600 transition-colors",children:[o.jsx(qz,{className:"w-3 h-3 mr-1"}),"View Metadata"]})})]},x.tokenId))})})]}):o.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-20",children:[o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-20 h-20 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Ot,{className:"w-10 h-10 text-primary-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-carbon-900 mb-4",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-carbon-600 mb-8 max-w-md mx-auto",children:"Connect your MetaMask wallet to view and manage your carbon credit tokens."}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,disabled:s,className:"btn-primary",children:[o.jsx(Ot,{className:"w-5 h-5 mr-2"}),s?"Connecting...":"Connect Wallet"]})]})})}function ofe({onShow:t}){const[e,r]=p.useState(null),[n,i]=p.useState([]),[s,a]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState("browse"),[f,h]=p.useState(""),[m,g]=p.useState({tokenId:"",amount:1,pricePerToken:.01}),[y,w]=p.useState({}),[x,v]=p.useState(!1),[b,j]=p.useState({}),[E,S]=p.useState({});p.useEffect(()=>{if(N(),window.ethereum)return window.ethereum.on("accountsChanged",k),()=>window.ethereum.removeAllListeners("accountsChanged")},[]);const k=P=>{P.length>0?(r(P[0]),N()):(r(null),i([]),a([]))},N=async()=>{try{c(!0),await C(),await Promise.all([R(),D()])}catch(P){console.error("Error initializing marketplace:",P),X.error("Failed to initialize marketplace")}finally{c(!1)}},C=async()=>{if(!window.ethereum){X.error("Please install MetaMask to use the marketplace");return}try{const P=await de.connectWallet();r(P.address),X.success("Wallet connected successfully!")}catch(P){console.error("Error connecting wallet:",P),X.error("Failed to connect wallet")}},R=async()=>{if(window.ethereum)try{const P=new st(window.ethereum),L="0x076d107Ca3757C37e63cC894F2F75E068B975A97",W=new Ce(L,$a,P),$=await W.nextListingId(),G=[];console.log("📋 Fetching listings, nextListingId:",$.toString());const fe=Number($);for(let pe=1;pe<=fe;pe++)try{const ne=await W.listings(pe);if(console.log(`Listing ${pe}:`,{seller:ne.seller,tokenId:Number(ne.tokenId),amount:Number(ne.amount),pricePerUnit:ne.pricePerUnit.toString()}),Number(ne.amount)>0){const ye=Number(a0(ne.pricePerUnit));G.push({id:pe,seller:ne.seller,tokenId:Number(ne.tokenId),amount:Number(ne.amount),pricePerToken:ye,totalValue:ye*Number(ne.amount),active:!0})}}catch(ne){console.warn(`Error fetching listing ${pe}:`,ne)}i(G)}catch(P){console.error("Error fetching listings:",P)}},D=async()=>{if(!e||!de.isConfigured()){console.log("Cannot fetch tokens - wallet not connected or service not configured"),console.log("Wallet:",e),console.log("Service configured:",de.isConfigured());return}try{console.log("🔍 Fetching tokens for wallet:",e),de.isInitialized||(console.log("Initializing blockchain service..."),await de.initialize());const P=await de.getUserTokens(e);console.log("📋 Found tokens:",P),a(P),P.length===0&&X.info(`No tokens found for address ${e.slice(0,6)}...${e.slice(-4)}`)}catch(P){console.error("❌ Error fetching user tokens:",P),X.error("Failed to fetch your tokens: "+P.message)}},B=()=>{const P={};m.tokenId||(P.tokenId="Token ID is required"),(!m.amount||m.amount<=0)&&(P.amount="Amount must be greater than 0"),(!m.pricePerToken||m.pricePerToken<=0)&&(P.pricePerToken="Price must be greater than 0");const L=s.find(W=>W.tokenId===parseInt(m.tokenId));return L?L.balance<m.amount&&(P.amount=`You only have ${L.balance} tokens available`):P.tokenId="You do not own this token",w(P),Object.keys(P).length===0},z=async()=>{if(!B()){X.error("Please fix the form errors");return}if(!e){X.error("Please connect your wallet first"),await C();return}v(!0);try{de.signer||await de.connectWallet();const P=await de.listCarbonCredits(parseInt(m.tokenId),m.amount,m.pricePerToken);X.success("Listing created successfully!"),g({tokenId:"",amount:1,pricePerToken:.01}),w({}),await Promise.all([R(),D()]),d("browse")}catch(P){console.error("Error creating listing:",P);let L="Failed to create listing: ";P.message.includes("insufficient funds")?L+="Insufficient funds for gas fees":P.message.includes("user rejected")?L="Transaction was cancelled by user":L+=P.reason||P.message||"Unknown error",X.error(L)}finally{v(!1)}},Q=async(P,L)=>{if(L<=0){X.error("Please enter a valid amount");return}if(!e){X.error("Please connect your wallet first"),await C();return}j(W=>({...W,[P]:{...W[P],loading:!0}}));try{de.signer||await de.connectWallet(),await de.buyCarbonCredits(P,L),X.success(`Successfully purchased ${L} carbon credits!`),j(W=>({...W,[P]:{amount:1,loading:!1}})),await R()}catch(W){console.error("Error buying tokens:",W);let $="Failed to purchase tokens: ";W.message.includes("insufficient funds")?$+="Insufficient ETH balance":W.message.includes("user rejected")?$="Transaction was cancelled by user":$+=W.reason||W.message||"Unknown error",X.error($)}finally{j(W=>({...W,[P]:{...W[P],loading:!1}}))}},T=async P=>{if(window.confirm("Are you sure you want to take down this listing? You will pay the full listing price to remove it from the marketplace.")){if(!e){X.error("Please connect your wallet first"),await C();return}S(L=>({...L,[P]:!0}));try{de.signer||await de.connectWallet(),await de.takeDownListing(P),X.success("Listing taken down successfully!"),await R(),await D()}catch(L){console.error("Error taking down listing:",L);let W="Failed to take down listing: ";L.message.includes("insufficient funds")?W+="Insufficient ETH balance to buy back your listing":L.message.includes("user rejected")?W="Transaction was cancelled by user":W+=L.reason||L.message||"Unknown error",X.error(W)}finally{S(L=>({...L,[P]:!1}))}}},M=P=>`${P.slice(0,6)}...${P.slice(-4)}`,F=n.filter(P=>f===""||P.id.toString().includes(f)||P.tokenId.toString().includes(f)||P.seller.toLowerCase().includes(f.toLowerCase()));return l?o.jsx("div",{className:"p-8 max-w-6xl mx-auto",children:o.jsxs("div",{className:"animate-pulse space-y-8",children:[o.jsx("div",{className:"h-8 bg-carbon-200 rounded w-64"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((P,L)=>o.jsx("div",{className:"card h-64 bg-carbon-100"},L))})]})}):o.jsxs("div",{className:"p-8 max-w-6xl mx-auto space-y-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-carbon-900 flex items-center",children:[o.jsx(ji,{className:"w-8 h-8 mr-3 text-primary-600"}),"Carbon Credit Marketplace"]}),o.jsx("p",{className:"text-carbon-600 mt-1",children:"Buy and sell verified carbon credits"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-4 sm:mt-0",children:[e&&o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-3 py-2 border border-white/20 shadow-sm",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),o.jsx("span",{className:"text-sm font-mono text-carbon-700",children:M(e)})]})}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("tokens"),className:"btn-secondary",children:"My Tokens"}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{R(),D(),X.info("Refreshing marketplace data...")},className:"btn-secondary px-3 py-2 text-sm",children:o.jsx(He,{className:"w-4 h-4"})})]})]}),!de.isConfigured()&&o.jsx(I.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ve,{className:"w-5 h-5 text-yellow-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Smart contracts not configured"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Deploy contracts and update .env to enable marketplace features."})]})]})}),o.jsx("div",{className:"flex space-x-1 bg-carbon-100 p-1 rounded-lg",children:[{key:"browse",label:"Browse Listings",icon:id},{key:"create",label:"Create Listing",icon:As}].map(P=>o.jsxs(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(P.key),className:`flex items-center space-x-2 px-4 py-2 rounded-md font-medium text-sm transition-colors ${u===P.key?"bg-white text-primary-600 shadow-sm":"text-carbon-600 hover:text-carbon-900"}`,children:[o.jsx(P.icon,{className:"w-4 h-4"}),o.jsx("span",{children:P.label})]},P.key))}),o.jsxs(Bt,{mode:"wait",children:[u==="browse"&&o.jsxs(I.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-carbon-400"}),o.jsx("input",{type:"text",placeholder:"Search by ID, token, or seller...",value:f,onChange:P=>h(P.target.value),className:"pl-10 input-primary"})]}),o.jsxs("div",{className:"text-sm text-carbon-600",children:[F.length," listing",F.length!==1?"s":""," available"]})]}),F.length===0?o.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[o.jsx(ji,{className:"w-16 h-16 text-carbon-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-carbon-900 mb-2",children:"No Listings Found"}),o.jsx("p",{className:"text-carbon-600 mb-6",children:f?"No listings match your search criteria.":"There are currently no active listings in the marketplace."}),!f&&o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d("create"),className:"btn-primary",children:[o.jsx(As,{className:"w-5 h-5 mr-2"}),"Create First Listing"]})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map((P,L)=>{var W,$,G,fe;return o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"card hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(J0,{className:"w-4 h-4 text-primary-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-carbon-900",children:["Listing #",P.id]}),o.jsxs("p",{className:"text-xs text-carbon-500",children:["Token ID: ",P.tokenId]})]})]}),P.seller.toLowerCase()===(e==null?void 0:e.toLowerCase())&&o.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Your Listing"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center text-sm text-carbon-600",children:[o.jsx(Ft,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:["Seller: ",M(P.seller)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-carbon-500",children:"Available"}),o.jsxs("p",{className:"font-semibold text-carbon-900",children:[P.amount," credits"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-carbon-500",children:"Price"}),o.jsxs("p",{className:"font-semibold text-primary-600",children:[P.pricePerToken.toFixed(4)," ETH/credit"]})]})]})]}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx("div",{className:"flex items-center space-x-2 mb-3",children:o.jsx("input",{type:"number",min:"1",max:P.amount,value:((W=b[P.id])==null?void 0:W.amount)||1,onChange:pe=>j(ne=>({...ne,[P.id]:{...ne[P.id],amount:parseInt(pe.target.value)||1}})),className:"input-primary text-sm flex-1",placeholder:"Amount"})}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm text-carbon-600",children:"Total Cost:"}),o.jsxs("span",{className:"font-semibold text-carbon-900",children:[(((($=b[P.id])==null?void 0:$.amount)||1)*P.pricePerToken).toFixed(4)," ETH"]})]}),P.seller.toLowerCase()===(e==null?void 0:e.toLowerCase())?o.jsxs("div",{className:"space-y-2",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>T(P.id),disabled:E[P.id],className:"btn-danger w-full text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:E[P.id]?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Taking Down..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(dH,{className:"w-4 h-4"}),o.jsx("span",{children:"Take Down Listing"})]})}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-2",children:o.jsxs("p",{className:"text-xs text-amber-700",children:["⚠️ You'll pay ",P.totalValue.toFixed(4)," ETH to remove this listing"]})})]}):o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var pe;return Q(P.id,((pe=b[P.id])==null?void 0:pe.amount)||1)},disabled:(G=b[P.id])==null?void 0:G.loading,className:"btn-primary w-full text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:(fe=b[P.id])!=null&&fe.loading?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Buying..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(so,{className:"w-4 h-4"}),o.jsx("span",{children:"Buy Credits"})]})})]})]})},P.id)})})]},"browse"),u==="create"&&o.jsx(I.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"max-w-2xl mx-auto",children:o.jsxs("div",{className:"card space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:o.jsx(As,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Create New Listing"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"List your carbon credits for sale on the marketplace"})]})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(xn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"Marketplace Fee"}),o.jsx("p",{className:"text-blue-700 mt-1",children:"A small fee may be charged for marketplace transactions. You'll see the exact fee during transaction confirmation."})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700",children:"Token ID"}),o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:"text-xs text-primary-600 hover:text-primary-700 flex items-center space-x-1",children:[o.jsx(He,{className:"w-3 h-3"}),o.jsx("span",{children:"Refresh Tokens"})]})]}),o.jsxs("select",{value:m.tokenId,onChange:P=>g(L=>({...L,tokenId:P.target.value})),className:`input-primary ${y.tokenId?"border-red-300":""}`,children:[o.jsx("option",{value:"",children:"Select a token to list"}),s.map(P=>o.jsxs("option",{value:P.tokenId,children:["Token #",P.tokenId," (Balance: ",P.balance,")"]},P.tokenId))]}),s.length===0&&e&&o.jsxs("p",{className:"text-sm text-amber-600 flex items-center",children:[o.jsx(xn,{className:"w-4 h-4 mr-1"}),"No tokens found for your wallet. Make sure you've minted some carbon credits first."]}),y.tokenId&&o.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),y.tokenId]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700",children:"Amount to Sell"}),o.jsx("input",{type:"number",min:"1",value:m.amount,onChange:P=>g(L=>({...L,amount:parseInt(P.target.value)||1})),className:`input-primary ${y.amount?"border-red-300":""}`,placeholder:"Number of credits to sell"}),y.amount&&o.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),y.amount]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-carbon-700",children:"Price per Credit (ETH)"}),o.jsx("input",{type:"number",step:"0.0001",min:"0",value:m.pricePerToken,onChange:P=>g(L=>({...L,pricePerToken:parseFloat(P.target.value)||0})),className:`input-primary ${y.pricePerToken?"border-red-300":""}`,placeholder:"0.01"}),y.pricePerToken&&o.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[o.jsx(Ve,{className:"w-4 h-4 mr-1"}),y.pricePerToken]})]}),m.amount&&m.pricePerToken&&o.jsx("div",{className:"bg-carbon-50 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm font-medium text-carbon-700",children:"Total Value:"}),o.jsxs("span",{className:"text-lg font-bold text-primary-600",children:[(m.amount*m.pricePerToken).toFixed(4)," ETH"]})]})})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:z,disabled:x||!e||!de.isConfigured(),className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Creating Listing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(As,{className:"w-5 h-5"}),o.jsx("span",{children:"Create Listing"})]})}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{g({tokenId:"",amount:1,pricePerToken:.01}),w({})},className:"btn-secondary px-6",children:"Reset"})]})]})},"create")]})]})}function lfe(){const[t,e]=p.useState(null),[r,n]=p.useState([]),[i,s]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState({}),[d,f]=p.useState({}),[h,m]=p.useState({}),[g,y]=p.useState({}),[w]=p.useState("0x076d107Ca3757C37e63cC894F2F75E068B975A97"),[x]=p.useState("0xe74f9e14F5858a92eD59ECF21866afc42101a45E");p.useEffect(()=>{window.ethereum&&(window.ethereum.on("accountsChanged",()=>window.location.reload()),v())},[]);const v=async()=>{if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0&&await b(!1)}catch(R){console.error("Error checking connection:",R)}};async function b(R=!0){if(!window.ethereum){X.error("Please install MetaMask to continue");return}l(!0);try{R&&await window.ethereum.request({method:"eth_requestAccounts"});const B=await new st(window.ethereum).getSigner(),z=await B.getAddress();e(z),await j(B,z),X.success("Wallet connected successfully!")}catch(D){console.error("Connection error:",D),X.error("Failed to connect wallet")}finally{l(!1)}}async function j(R,D){s(!0);try{const B=new Ce(x,eo,R),z=await B.nextTokenId(),Q=[],T={};console.log(`Loading tokens for address: ${D}`),console.log(`Next token ID: ${z}, checking tokens 1 to ${Number(z)-1}`);for(let M=1;M<Number(z);M++)try{const F=await B.balanceOf(D,M);if(console.log(`Token ${M}: balance = ${(F==null?void 0:F.toString())||"0"}`),F&&F.toString()!=="0"){console.log(`Found token ${M} with balance ${F.toString()}`);try{const P=await B.uri(M),L=await B.attestations(M);T[M]={uri:P,gsProjectId:L.gsProjectId,gsSerial:L.gsSerial,amount:L.amount.toString(),ipfsCid:L.ipfsCid}}catch(P){console.warn(`Could not load metadata for token ${M}:`,P)}Q.push({tokenId:M,balance:F.toString()}),m(P=>({...P,[M]:"1"}))}}catch(F){console.warn(`Error checking token ${M}:`,F)}console.log(`Found ${Q.length} tokens total:`,Q),n(Q),y(T)}catch(B){console.error("Error loading tokens:",B),X.error("Failed to load your tokens")}finally{s(!1)}}async function E(R,D){const B=c[R]||"",z="QmRetire"+Math.random().toString(36).substring(2,15),Q={tokenId:R,amount:D,note:B,timestamp:new Date().toISOString(),retiredBy:t};return console.log("Mock retirement metadata:",Q),`https://dweb.link/ipfs/${z}/retire-${R}.json`}async function S(R,D){if(!window.ethereum){X.error("Please connect your wallet first");return}f(B=>({...B,[R]:!0}));try{const z=await new st(window.ethereum).getSigner(),Q=new Ce(w,$a,z),T=await E(R,D),M=BigInt(Math.floor(parseFloat(D))),F=await Q.retire(R,M,T);X.success(`Retirement transaction submitted! Hash: ${F.hash}`),await F.wait(),X.success("🎉 Carbon credits retired successfully! Certificate minted."),await j(z,t),u(P=>({...P,[R]:""}))}catch(B){console.error("Retirement error:",B);let z="Error retiring carbon credits: ";B.message.includes("insufficient funds")?z="Insufficient funds for gas fees. Please ensure you have enough ETH.":B.message.includes("user rejected")?z="Transaction was cancelled by user.":B.message.includes("insufficient balance")?z="Insufficient token balance for retirement.":z+=B.reason||B.message||"Unknown error occurred",X.error(z)}finally{f(B=>({...B,[R]:!1}))}}const k=(R,D)=>{u(B=>({...B,[R]:D}))},N=(R,D)=>{var Q;const B=parseInt(D),z=parseInt(((Q=r.find(T=>T.tokenId===R))==null?void 0:Q.balance)||"0");if(!(isNaN(B)||B<=0)){if(B>z){X.error(`Amount cannot exceed your balance of ${z} tokens`);return}m(T=>({...T,[R]:D}))}},C=({token:R})=>{const D=g[R.tokenId],B=d[R.tokenId],z=h[R.tokenId]||"1",Q=parseFloat(R.balance);return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:o.jsx(Vn,{className:"w-6 h-6 text-primary-600"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-carbon-900",children:["Carbon Credit #",R.tokenId]}),o.jsx("p",{className:"text-sm text-carbon-600",children:D?`${D.gsProjectId} • ${D.gsSerial}`:"Loading metadata..."})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-lg font-bold text-primary-600",children:R.balance}),o.jsx("p",{className:"text-xs text-carbon-500",children:"CO2e tons"})]})]}),D&&o.jsx("div",{className:"mb-4 p-3 bg-carbon-50 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-carbon-600",children:"Project:"}),o.jsx("span",{className:"ml-2 font-medium",children:D.gsProjectId})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-carbon-600",children:"Serial:"}),o.jsx("span",{className:"ml-2 font-medium",children:D.gsSerial})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("span",{className:"text-carbon-600",children:"Amount:"}),o.jsxs("span",{className:"ml-2 font-medium",children:[D.amount," CO2e tons"]})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:[o.jsx(Qi,{className:"w-4 h-4 inline mr-1"}),"Amount to Retire (CO2e tons)"]}),o.jsx("input",{type:"number",min:"1",max:Q,step:"1",value:z,onChange:T=>N(R.tokenId,T.target.value),className:"input-field",placeholder:"Enter whole number of tokens"}),o.jsxs("p",{className:"text-xs text-carbon-500 mt-1",children:["Maximum: ",R.balance," tokens"]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-carbon-700 mb-2",children:[o.jsx(Ui,{className:"w-4 h-4 inline mr-1"}),"Retirement Note (Optional)"]}),o.jsx("textarea",{rows:3,value:c[R.tokenId]||"",onChange:T=>k(R.tokenId,T.target.value),placeholder:"Add a note about this retirement (e.g., offsetting company emissions for Q4 2024)",className:"input-field resize-none"})]}),o.jsx(I.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>S(R.tokenId,z),disabled:B||!z||parseFloat(z)<=0,className:"btn-danger w-full disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:B?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Retiring..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Qi,{className:"w-5 h-5"}),o.jsxs("span",{children:["Retire ",z," CO2e tons"]}),o.jsx(HV,{className:"w-4 h-4"})]})})]})]})};return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:o.jsx(Qi,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-carbon-900",children:"Retire Carbon Credits"}),o.jsx("p",{className:"text-sm text-carbon-600",children:"Permanently retire your carbon credits and receive certificates"})]})]})}),o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(xn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"font-medium text-blue-900",children:"What happens when you retire carbon credits?"}),o.jsx("p",{className:"text-blue-700 mt-1",children:"Retirement permanently removes carbon credits from circulation and generates a certificate of retirement. This is how you claim the environmental benefit and prevent double-counting."})]})]})}),t?o.jsxs("div",{children:[o.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ze,{className:"w-5 h-5 text-primary-600"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-primary-900",children:"Wallet Connected"}),o.jsx("p",{className:"text-sm text-primary-700",children:t})]})]})}),i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(He,{className:"w-8 h-8 text-primary-600 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-carbon-600",children:"Loading your carbon credits..."})]}):o.jsx(Bt,{children:r.length===0?o.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[o.jsx(Vn,{className:"w-16 h-16 text-carbon-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"No Carbon Credits Found"}),o.jsx("p",{className:"text-carbon-600 max-w-md mx-auto",children:"You don't have any carbon credits to retire yet. Visit the Mint page to create new credits or the Marketplace to purchase existing ones."})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(R=>o.jsx(C,{token:R},R.tokenId))})})]}):o.jsxs(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-12",children:[o.jsx(Ot,{className:"w-16 h-16 text-carbon-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-carbon-600 mb-6 max-w-md mx-auto",children:"Connect your wallet to view and retire your carbon credits"}),o.jsx(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(!0),disabled:a,className:"btn-primary inline-flex items-center space-x-2",children:a?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{children:"Connecting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Ot,{className:"w-5 h-5"}),o.jsx("span",{children:"Connect Wallet"}),o.jsx(Hl,{className:"w-4 h-4"})]})})]})]})}const o7=p.createContext(),Xx=({children:t})=>{const[e,r]=p.useState([]),[n,i]=p.useState([]),s=p.useCallback(l=>{const c={...l,id:Date.now().toString(),createdAt:new Date().toISOString(),status:"minted",tokenId:`DCT-${Math.random().toString(36).substr(2,8).toUpperCase()}`,transactionHash:`0x${Math.random().toString(16).substr(2,64)}`};return r(u=>[c,...u]),i(u=>[{id:c.id,type:"mint",projectName:l.projectName,credits:l.credits,timestamp:new Date().toISOString()},...u]),c},[]),a={demoCredits:e,mintHistory:n,addDemoCredit:s,totalCredits:e.reduce((l,c)=>l+c.credits,0)};return o.jsx(o7.Provider,{value:a,children:t})},l7=()=>{const t=p.useContext(o7);if(!t)throw new Error("useDemoCredits must be used within a DemoCreditsProvider");return t},hm=[{id:"renewable-energy",name:"Renewable Energy",icon:"⚡",description:"Solar, wind, and other clean energy projects",color:"from-yellow-400 to-orange-500",examples:["Solar Farm Installation","Wind Energy Project","Hydroelectric Plant"],defaultCredits:1e3},{id:"forest-conservation",name:"Forest Conservation",icon:"🌲",description:"Forest protection and reforestation initiatives",color:"from-green-400 to-emerald-600",examples:["Amazon Rainforest Protection","Urban Tree Planting","Mangrove Restoration"],defaultCredits:750},{id:"carbon-capture",name:"Carbon Capture",icon:"🏭",description:"Direct air capture and storage technologies",color:"from-blue-400 to-indigo-600",examples:["Industrial Carbon Capture","Ocean Carbon Storage","Soil Carbon Enhancement"],defaultCredits:1200},{id:"sustainable-transport",name:"Sustainable Transport",icon:"🚌",description:"Electric vehicles and public transport projects",color:"from-purple-400 to-pink-500",examples:["Electric Bus Fleet","EV Charging Network","Bike Share Program"],defaultCredits:500},{id:"waste-management",name:"Waste Management",icon:"♻️",description:"Recycling and waste reduction initiatives",color:"from-teal-400 to-cyan-600",examples:["Plastic Recycling Plant","Composting Facility","Waste-to-Energy Plant"],defaultCredits:300},{id:"agricultural",name:"Sustainable Agriculture",icon:"🌾",description:"Regenerative farming and soil health projects",color:"from-amber-400 to-yellow-600",examples:["Regenerative Farming","Precision Agriculture","Organic Conversion"],defaultCredits:400}],Zk=["California, USA","New York, USA","Texas, USA","British Columbia, Canada","Ontario, Canada","London, UK","Berlin, Germany","Paris, France","Amsterdam, Netherlands","São Paulo, Brazil","Tokyo, Japan","Sydney, Australia","Singapore","Mumbai, India","Beijing, China","Lagos, Nigeria"];function cfe({onNavigate:t}){const{addDemoCredit:e,totalCredits:r,demoCredits:n}=l7(),[i,s]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(null),[g,y]=p.useState({projectName:"",projectType:"",description:"",location:"",startDate:"",endDate:"",credits:"",pricePerCredit:"",methodology:"",verificationStandard:"",images:[]});p.useEffect(()=>{try{const j=ue.getCurrentUser(),E=co(j);f(j),m(E),zm(j)&&(Ue.info("As a verifier, you should use the Verifier Dashboard for document review and minting.",{icon:"🔄",duration:3e3,roleSpecific:!0,operation:"role_redirect"}),setTimeout(()=>{t("verifierDashboard")},2e3))}catch(j){Nt.handleError(j,{operation:"user_role_check",component:"MintCreditsPage"},{showToast:!0,showRetry:!1})}},[t]);const w=j=>{u(j),y(E=>({...E,projectType:j.id,credits:j.defaultCredits.toString(),pricePerCredit:"25"}))},x=(j,E)=>{y(S=>({...S,[j]:E}))},v=()=>{const j=hm[Math.floor(Math.random()*hm.length)],E=j.examples[Math.floor(Math.random()*j.examples.length)],S=Zk[Math.floor(Math.random()*Zk.length)],k=new Date;k.setMonth(k.getMonth()-Math.floor(Math.random()*12));const N=new Date(k);N.setFullYear(N.getFullYear()+1+Math.floor(Math.random()*3)),u(j),y({projectName:E,projectType:j.id,description:`A comprehensive ${j.name.toLowerCase()} project focused on reducing carbon emissions and promoting environmental sustainability.`,location:S,startDate:k.toISOString().split("T")[0],endDate:N.toISOString().split("T")[0],credits:(j.defaultCredits+Math.floor(Math.random()*500)).toString(),pricePerCredit:(20+Math.floor(Math.random()*20)).toString(),methodology:"VCS (Verified Carbon Standard)",verificationStandard:"Gold Standard",images:[]}),s(!0)},b=async j=>{j.preventDefault();const E=h||co(d);try{l(!0);const S=Ue.loading("Creating project submission...",{roleSpecific:!0,operation:"project_creation"});if(!g.projectName.trim())throw new Error("Project name is required");if(!g.description.trim())throw new Error("Project description is required");if(!g.location.trim())throw new Error("Project location is required");if(await new Promise(k=>setTimeout(k,2e3)),E!==le.VERIFIER){const k={...g,credits:g.credits?parseInt(g.credits):null,pricePerCredit:null,template:c,status:"pending_verification",submittedBy:(d==null?void 0:d.email)||"Unknown",submitterRole:h},N=e(k);Ue.dismiss(S),Ue.success("Project submitted successfully for verification!",{roleSpecific:!0,operation:"project_submission",duration:5e3}),setTimeout(()=>{Ue.info("Your project is now in the verification queue. You'll be notified when a verifier reviews it.",{roleSpecific:!0,operation:"verification_queue",duration:7e3})},2e3)}y({projectName:"",projectType:"",description:"",location:"",startDate:"",endDate:"",credits:"",pricePerCredit:"",methodology:"",verificationStandard:"",images:[]}),u(null),s(!1)}catch(S){Nt.handleError(S,{operation:"project_submission",component:"MintCreditsPage",userRole:E,formData:{projectName:g.projectName,projectType:g.projectType,location:g.location}},{showToast:!0,showRetry:!0,retryAction:()=>b(j)})}finally{l(!1)}};return o.jsxs(ii,{componentName:"MintCreditsPage",context:{userRole:h,currentUser:d},children:[o.jsx($O,{show:a,message:"Processing project submission...",userRole:h,operation:"project_creation"}),o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(Vn,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:h===le.VERIFIER?"Verifier Dashboard Access":"Submit Project Documents"})]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:h===le.VERIFIER?"As a verifier, you have access to the Verifier Dashboard where you can review documents, perform attestations, and mint carbon credits.":"Submit your environmental impact project documentation for verification. Upload project details to begin the carbon credit verification process."})]}),h&&h!==le.VERIFIER&&o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-8",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(xn,{className:"w-8 h-8 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:["Document Upload for ",Hm(h),"s"]}),o.jsxs("p",{className:"text-blue-800 mb-3",children:["As a ",Hm(h).toLowerCase(),", you can upload documents for verification. Only verified documents can be minted into carbon credits by authorized verifiers."]}),o.jsxs("div",{className:"bg-blue-100 rounded-lg p-3",children:[o.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"📋 What you can do: Upload project documents, track submission status, view your document portfolio"}),o.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"🔒 What requires verification: Document attestation and credit minting (performed by verifiers)"})]})]})]})})}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(mn,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h===le.VERIFIER?r.toLocaleString():n.length}),o.jsx("p",{className:"text-gray-600",children:h===le.VERIFIER?"Total Credits Minted":"Documents Submitted"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Ui,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length}),o.jsx("p",{className:"text-gray-600",children:"Active Projects"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(so,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(r*25).toLocaleString()]}),o.jsx("p",{className:"text-gray-600",children:"Estimated Value"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:o.jsx(s0,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(r*2.3).toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"CO₂ Tons Offset"})]})]})})]}),h&&h!==le.VERIFIER&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[o.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold rounded-2xl hover:from-green-600 hover:to-blue-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(Ui,{className:"w-6 h-6 mr-3"}),"Upload Document"]}),o.jsxs("button",{onClick:v,className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-600 text-white font-semibold rounded-2xl hover:from-purple-600 hover:to-pink-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(tz,{className:"w-6 h-6 mr-3"}),"Generate Demo Document"]}),n.length>0&&o.jsxs("button",{onClick:()=>t("portfolio"),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-semibold rounded-2xl hover:from-amber-600 hover:to-orange-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(Hl,{className:"w-6 h-6 mr-3"}),"View My Documents"]})]}),h===le.VERIFIER&&o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex justify-center mb-12",children:o.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-2xl p-8 max-w-2xl text-center shadow-lg",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Tt,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"text-2xl font-bold text-indigo-900 mb-3",children:"Verifier Access Detected"}),o.jsx("p",{className:"text-indigo-700 mb-4",children:"As a verifier, you have access to the Verifier Dashboard where you can review, attest, and mint carbon credits from uploaded documents."}),o.jsx("p",{className:"text-sm text-indigo-600 mb-6",children:"Redirecting you to the Verifier Dashboard..."}),o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Os,{className:"w-5 h-5 text-indigo-500 animate-spin"}),o.jsx("span",{className:"text-indigo-600 font-medium",children:"Please wait..."})]})]})}),!i&&h&&h!==le.VERIFIER&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Choose Your Project Type"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:hm.map((j,E)=>o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*E},onClick:()=>w(j),className:"group cursor-pointer",children:o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300",children:[o.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${j.color} rounded-2xl flex items-center justify-center text-2xl shadow-lg mb-4 group-hover:scale-110 transition-transform duration-200`,children:j.icon}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:j.name}),o.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:j.description}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("span",{children:[j.defaultCredits," credits"]}),o.jsx(Hl,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})},j.id))})]}),o.jsx(Bt,{children:i&&o.jsxs(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 px-8 py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[c&&o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center text-xl",children:c.icon}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Upload Project Document"}),o.jsx("p",{className:"text-white/80",children:"Submit your project documentation for verification"})]})]}),o.jsx("button",{onClick:()=>s(!1),className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors duration-200",children:o.jsx(n5,{className:"w-5 h-5"})})]})}),o.jsxs("form",{onSubmit:b,className:"p-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Project Name *"]}),o.jsx("input",{type:"text",value:g.projectName,onChange:j=>x("projectName",j.target.value),placeholder:"Enter your project name",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(J0,{className:"w-4 h-4 mr-2"}),"Project Type *"]}),o.jsxs("select",{value:g.projectType,onChange:j=>x("projectType",j.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0,children:[o.jsx("option",{value:"",children:"Select project type"}),hm.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(r5,{className:"w-4 h-4 mr-2"}),"Location *"]}),o.jsx("input",{type:"text",value:g.location,onChange:j=>x("location",j.target.value),placeholder:"Enter project location",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(ab,{className:"w-4 h-4 mr-2"}),"Start Date *"]}),o.jsx("input",{type:"date",value:g.startDate,onChange:j=>x("startDate",j.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(ab,{className:"w-4 h-4 mr-2"}),"End Date *"]}),o.jsx("input",{type:"date",value:g.endDate,onChange:j=>x("endDate",j.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",required:!0})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Description *"]}),o.jsx("textarea",{value:g.description,onChange:j=>x("description",j.target.value),placeholder:"Describe your project's environmental impact...",rows:"4",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",required:!0})]}),h!==le.VERIFIER&&o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(mn,{className:"w-4 h-4 mr-2"}),"Estimated Credits"]}),o.jsx("div",{className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600",children:g.credits||"To be determined by verifier"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Credit amount will be determined during the verification process"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Methodology"]}),o.jsxs("select",{value:g.methodology,onChange:j=>x("methodology",j.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[o.jsx("option",{value:"",children:"Select methodology"}),o.jsx("option",{value:"VCS (Verified Carbon Standard)",children:"VCS (Verified Carbon Standard)"}),o.jsx("option",{value:"CDM (Clean Development Mechanism)",children:"CDM (Clean Development Mechanism)"}),o.jsx("option",{value:"CAR (Climate Action Reserve)",children:"CAR (Climate Action Reserve)"}),o.jsx("option",{value:"ACR (American Carbon Registry)",children:"ACR (American Carbon Registry)"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center text-sm font-semibold text-gray-700 mb-2",children:[o.jsx(ze,{className:"w-4 h-4 mr-2"}),"Verification Standard"]}),o.jsxs("select",{value:g.verificationStandard,onChange:j=>x("verificationStandard",j.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:[o.jsx("option",{value:"",children:"Select standard"}),o.jsx("option",{value:"Gold Standard",children:"Gold Standard"}),o.jsx("option",{value:"Plan Vivo",children:"Plan Vivo"}),o.jsx("option",{value:"Social Carbon",children:"Social Carbon"}),o.jsx("option",{value:"CCBA Standards",children:"CCBA Standards"})]})]})]}),h!==le.VERIFIER&&g.projectName&&g.description&&o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Document Status:"}),o.jsx("span",{className:"text-lg font-semibold text-blue-600",children:"Ready for Submission"})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("p",{children:"Your project documentation will be submitted for verification by authorized verifiers."}),o.jsx("p",{className:"mt-1 font-medium text-blue-700",children:"Next step: Verifier review and attestation"})]})]})]})]}),o.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-end",children:[o.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-8 py-3 border border-gray-300 text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:a,className:"px-8 py-3 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold rounded-xl hover:from-green-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center",children:a?o.jsxs(o.Fragment,{children:[o.jsx(Os,{className:"w-5 h-5 mr-2 animate-spin"}),"Uploading Document..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ui,{className:"w-5 h-5 mr-2"}),"Submit for Verification"]})})]})]})]})}),n.length>0&&!i&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:h===le.VERIFIER?"Recent Minted Credits":"Your Submitted Documents"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,6).map((j,E)=>o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*E},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[j.template&&o.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${j.template.color} rounded-xl flex items-center justify-center text-sm`,children:j.template.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:j.projectName}),o.jsx("p",{className:"text-sm text-gray-600",children:j.location})]})]}),o.jsx("div",{className:"space-y-2 mb-4",children:h===le.VERIFIER?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Credits Minted:"}),o.jsx("span",{className:"font-semibold",children:j.credits.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Value:"}),o.jsxs("span",{className:"font-semibold",children:["$",(j.credits*(j.pricePerCredit||25)).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Token ID:"}),o.jsx("span",{className:"font-mono text-xs",children:j.tokenId})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsx("span",{className:"font-semibold",children:j.status==="pending_verification"?"Pending Verification":"Verified"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Submitted By:"}),o.jsx("span",{className:"font-semibold",children:Hm(j.submitterRole||h)})]}),j.credits&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Est. Credits:"}),o.jsx("span",{className:"font-semibold",children:j.credits.toLocaleString()})]})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[h===le.VERIFIER?o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(ze,{className:"w-3 h-3 mr-1"}),"Minted"]}):o.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${j.status==="pending_verification"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[o.jsx(Os,{className:"w-3 h-3 mr-1"}),j.status==="pending_verification"?"Pending Review":"Verified"]}),o.jsx("span",{className:"text-xs text-gray-500",children:new Date(j.createdAt).toLocaleDateString()})]})]},j.id))})]})]})})]})}const ufe=[{id:"all",label:"All Projects",count:0},{id:"renewable-energy",label:"Renewable Energy",count:0},{id:"forest-conservation",label:"Forest Conservation",count:0},{id:"carbon-capture",label:"Carbon Capture",count:0},{id:"sustainable-transport",label:"Sustainable Transport",count:0},{id:"waste-management",label:"Waste Management",count:0},{id:"agricultural",label:"Sustainable Agriculture",count:0}],dfe=[{id:"newest",label:"Newest First"},{id:"oldest",label:"Oldest First"},{id:"credits-high",label:"Most Credits"},{id:"credits-low",label:"Least Credits"},{id:"value-high",label:"Highest Value"},{id:"value-low",label:"Lowest Value"}];function ffe({onNavigate:t}){var S,k;const{demoCredits:e,totalCredits:r,mintHistory:n}=l7(),[i,s]=p.useState("all"),[a,l]=p.useState("newest"),[c,u]=p.useState(""),[d,f]=p.useState(null),[h,m]=p.useState("grid"),y=[...e.filter(N=>{const C=i==="all"||N.projectType===i,R=N.projectName.toLowerCase().includes(c.toLowerCase())||N.location.toLowerCase().includes(c.toLowerCase())||N.description.toLowerCase().includes(c.toLowerCase());return C&&R})].sort((N,C)=>{switch(a){case"newest":return new Date(C.createdAt)-new Date(N.createdAt);case"oldest":return new Date(N.createdAt)-new Date(C.createdAt);case"credits-high":return C.credits-N.credits;case"credits-low":return N.credits-C.credits;case"value-high":return C.credits*C.pricePerCredit-N.credits*N.pricePerCredit;case"value-low":return N.credits*N.pricePerCredit-C.credits*C.pricePerCredit;default:return 0}}),w=ufe.map(N=>({...N,count:N.id==="all"?e.length:e.filter(C=>C.projectType===N.id).length})),x=e.reduce((N,C)=>N+C.credits*C.pricePerCredit,0),v=r*2.3,b=r>0?x/r:0,j=N=>{te.success("Carbon credits retired successfully!",{icon:"🌿",duration:3e3})},E=N=>{navigator.share?navigator.share({title:`Carbon Credit: ${N.projectName}`,text:`Check out this carbon credit project: ${N.projectName} in ${N.location}`,url:window.location.href}):(navigator.clipboard.writeText(`${N.projectName} - ${N.credits} carbon credits from ${N.location}`),te.success("Project details copied to clipboard!"))};return e.length===0?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-400 to-blue-500 rounded-3xl flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Ot,{className:"w-12 h-12 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Your Carbon Credits Portfolio"}),o.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"You haven't minted any carbon credits yet. Start creating projects to build your sustainable portfolio."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>t("mintCredits"),className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold rounded-2xl hover:from-green-600 hover:to-blue-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",children:[o.jsx(KA,{className:"w-6 h-6 mr-3"}),"Create Your First Project"]}),o.jsx("button",{onClick:()=>t("dashboard"),className:"inline-flex items-center px-8 py-4 border border-gray-300 text-gray-700 font-semibold rounded-2xl hover:bg-gray-50 transition-colors duration-200",children:"Back to Dashboard"})]})]})})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(Ot,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Your Portfolio"})]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Manage and track your carbon credit investments. Monitor your environmental impact and portfolio performance."})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(mn,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"Total Credits"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(so,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",x.toLocaleString()]}),o.jsx("p",{className:"text-gray-600",children:"Portfolio Value"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:o.jsx(s0,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"CO₂ Tons Offset"})]})]})}),o.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(J0,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",b.toFixed(2)]}),o.jsx("p",{className:"text-gray-600",children:"Avg. Price/Credit"})]})]})})]}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg mb-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search projects...",value:c,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("select",{value:i,onChange:N=>s(N.target.value),className:"px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:w.map(N=>o.jsxs("option",{value:N.id,children:[N.label," (",N.count,")"]},N.id))}),o.jsx("select",{value:a,onChange:N=>l(N.target.value),className:"px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",children:dfe.map(N=>o.jsx("option",{value:N.id,children:N.label},N.id))}),o.jsxs("button",{onClick:()=>t("mintCredits"),className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-green-500 to-blue-600 text-white font-semibold rounded-xl hover:from-green-600 hover:to-blue-700 transition-all duration-200",children:[o.jsx(KA,{className:"w-5 h-5 mr-2"}),"Add Project"]})]})]})}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:y.map((N,C)=>{var R;return o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*C},className:"bg-white/80 backdrop-blur-sm rounded-2xl overflow-hidden border border-white/20 shadow-lg hover:shadow-2xl transition-all duration-300 group",children:[o.jsx("div",{className:`h-2 bg-gradient-to-r ${((R=N.template)==null?void 0:R.color)||"from-gray-400 to-gray-600"}`}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[N.template&&o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${N.template.color} rounded-xl flex items-center justify-center text-lg shadow-md`,children:N.template.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 text-lg leading-tight",children:N.projectName}),o.jsxs("p",{className:"text-gray-600 text-sm flex items-center",children:[o.jsx(r5,{className:"w-4 h-4 mr-1"}),N.location]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>f(N),className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors duration-200",children:o.jsx(Wl,{className:"w-4 h-4 text-gray-600"})}),o.jsx("button",{onClick:()=>E(N),className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center hover:bg-gray-200 transition-colors duration-200",children:o.jsx(sH,{className:"w-4 h-4 text-gray-600"})})]})]}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Credits:"}),o.jsx("span",{className:"font-semibold text-gray-900",children:N.credits.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Value:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:["$",(N.credits*N.pricePerCredit).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"Price/Credit:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:["$",N.pricePerCredit]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 text-sm",children:"CO₂ Offset:"}),o.jsxs("span",{className:"font-semibold text-gray-900",children:[(N.credits*2.3).toLocaleString()," tons"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-3 mb-4",children:o.jsxs("div",{className:"flex justify-between items-center text-xs",children:[o.jsx("span",{className:"text-gray-600",children:"Token ID:"}),o.jsx("span",{className:"font-mono font-semibold",children:N.tokenId})]})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(ze,{className:"w-3 h-3 mr-1"}),"Active"]}),o.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[o.jsx(Os,{className:"w-3 h-3 mr-1"}),new Date(N.createdAt).toLocaleDateString()]})]}),o.jsxs("div",{className:"mt-4 flex space-x-2",children:[o.jsx("button",{onClick:()=>j(N.id),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-sm font-semibold py-2 px-4 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:"Retire Credits"}),o.jsx("button",{onClick:()=>f(N),className:"flex-1 border border-gray-300 text-gray-700 text-sm font-semibold py-2 px-4 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"View Details"})]})]})]},N.id)})}),y.length===0&&(c||i!=="all")&&o.jsxs(I.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(id,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No projects found"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filter criteria."}),o.jsxs("button",{onClick:()=>{u(""),s("all")},className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-colors duration-200",children:[o.jsx(He,{className:"w-5 h-5 mr-2"}),"Clear Filters"]})]})]}),o.jsx(Bt,{children:d&&o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:o.jsxs(I.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:N=>N.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:`h-32 bg-gradient-to-r ${((S=d.template)==null?void 0:S.color)||"from-gray-400 to-gray-600"} relative overflow-hidden`,children:[o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsxs("div",{className:"relative h-full flex items-center justify-between p-6",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[d.template&&o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center text-2xl",children:d.template.icon}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:d.projectName}),o.jsx("p",{className:"text-white/80",children:d.location})]})]}),o.jsx("button",{onClick:()=>f(null),className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors duration-200",children:"×"})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Project Description"}),o.jsx("p",{className:"text-gray-600 leading-relaxed",children:d.description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Project Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Project Type:"}),o.jsx("span",{className:"font-medium",children:(k=d.template)==null?void 0:k.name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Start Date:"}),o.jsx("span",{className:"font-medium",children:new Date(d.startDate).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"End Date:"}),o.jsx("span",{className:"font-medium",children:new Date(d.endDate).toLocaleDateString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Methodology:"}),o.jsx("span",{className:"font-medium",children:d.methodology||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Standard:"}),o.jsx("span",{className:"font-medium",children:d.verificationStandard||"N/A"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Token Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Credits Minted:"}),o.jsx("span",{className:"font-medium",children:d.credits.toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Price per Credit:"}),o.jsxs("span",{className:"font-medium",children:["$",d.pricePerCredit]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Total Value:"}),o.jsxs("span",{className:"font-medium",children:["$",(d.credits*d.pricePerCredit).toLocaleString()]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"CO₂ Offset:"}),o.jsxs("span",{className:"font-medium",children:[(d.credits*2.3).toLocaleString()," tons"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Token ID:"}),o.jsx("span",{className:"font-mono text-sm",children:d.tokenId})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Blockchain Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600",children:"Transaction Hash:"}),o.jsx("span",{className:"font-mono text-xs bg-white px-2 py-1 rounded break-all",children:d.transactionHash})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Minted:"}),o.jsx("span",{className:"font-medium",children:new Date(d.createdAt).toLocaleString()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(ze,{className:"w-3 h-3 mr-1"}),"Active"]})]})]})]}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("button",{onClick:()=>j(d.id),className:"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold py-3 px-6 rounded-xl hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:"Retire Credits"}),o.jsx("button",{onClick:()=>E(d),className:"flex-1 border border-gray-300 text-gray-700 font-semibold py-3 px-6 rounded-xl hover:bg-gray-50 transition-colors duration-200",children:"Share Project"})]})]})]})})})]})}const Jx=[{id:"upload",title:"Upload Document",description:"Upload carbon project document to IPFS",icon:Pz,color:"blue"},{id:"sign",title:"Sign Attestation",description:"Verifier signs the carbon credit attestation",icon:Tt,color:"purple"},{id:"mint",title:"Mint Credits",description:"Mint carbon credits on the blockchain",icon:Vn,color:"green"}];function hfe(){const[t,e]=p.useState("upload"),[r,n]=p.useState(new Set),[i,s]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState(!1),[g,y]=p.useState(!1),[w,x]=p.useState({carbonAddress:"",registryAddress:"",isDeployed:!1}),[v,b]=p.useState({chainId:null,name:""});p.useEffect(()=>{j(),E()},[]);const j=async()=>{if(x({carbonAddress:"0xe74f9e14F5858a92eD59ECF21866afc42101a45E",registryAddress:"0xD009D4EA4B9f546261433a75A32353a60d750200",isDeployed:!0}),window.ethereum)try{const P=await new st(window.ethereum).getNetwork();b({chainId:Number(P.chainId),name:P.name||"Unknown"})}catch(F){console.error("Error getting network info:",F)}},E=async()=>{if(window.ethereum)try{const T=await window.ethereum.request({method:"eth_accounts"});T.length>0&&(f(T[0]),await S(T[0]))}catch(T){console.error("Error checking wallet:",T)}},S=async T=>{if(!(!T||!w.isDeployed)){y(!0);try{const M=new st(window.ethereum),P=await new Ce(w.registryAddress,$p,M).isVerifier(T);m(P)}catch(M){console.error("Error checking verifier status:",M)}finally{y(!1)}}},k=async()=>{if(!window.ethereum){X.error("Please install MetaMask to continue");return}try{await window.ethereum.request({method:"eth_requestAccounts"});const T=await window.ethereum.request({method:"eth_accounts"});T.length>0&&(f(T[0]),X.success("Wallet connected successfully!"),await S(T[0]))}catch(T){console.error("Wallet connection error:",T),X.error("Failed to connect wallet")}},N=async()=>{if(!(!d||!w.isDeployed)){y(!0);try{const M=await new st(window.ethereum).getSigner(),F=new Ce(w.registryAddress,$p,M);X.loading("Registering as verifier...",{id:"registering"}),await(await F.addVerifier(d)).wait(),X.dismiss("registering"),X.success("🎉 Successfully registered as a verifier!"),m(!0)}catch(T){console.error("Error registering as verifier:",T),X.dismiss("registering");let M="Failed to register as verifier";T.message.includes("Not governor executor")?M="Only the governance executor can add verifiers. Use the demo mode for testing.":T.message.includes("user rejected")&&(M="Registration was cancelled by user."),X.error(M)}finally{y(!1)}}},C=()=>{X.loading("Activating demo verifier mode...",{id:"demo"}),setTimeout(()=>{X.dismiss("demo"),X.success("🎭 Demo Verifier Mode Activated!"),m(!0)},1500)},R=(T,M)=>{s(T),u(M),n(F=>new Set([...F,"upload"])),e("sign"),X.success("📄 Document uploaded! Ready for attestation.")},D=T=>{l(T),n(M=>new Set([...M,"sign"])),e("mint"),X.success("✅ Attestation signed! Ready to mint carbon credits.")},B=()=>{n(T=>new Set([...T,"mint"])),X.success("🎉 Carbon credits minted successfully!")},z=()=>{e("upload"),n(new Set),s(null),l(null),u(null),X.success("Workflow reset. Ready to start over!")},Q=({step:T,isActive:M,isCompleted:F})=>{const P=T.icon,L={blue:F?"bg-blue-600 text-white":M?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400",purple:F?"bg-purple-600 text-white":M?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-400",green:F?"bg-green-600 text-white":M?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"};return o.jsxs(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`relative flex flex-col items-center p-4 rounded-xl border-2 transition-all duration-300 ${F?"border-green-200 bg-green-50":M?`border-${T.color}-200 bg-${T.color}-50`:"border-gray-200 bg-gray-50"}`,children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${L[T.color]}`,children:F?o.jsx(ze,{className:"w-6 h-6"}):o.jsx(P,{className:"w-6 h-6"})}),o.jsx("h3",{className:`mt-3 font-semibold text-sm ${F?"text-green-900":M?`text-${T.color}-900`:"text-gray-500"}`,children:T.title}),o.jsx("p",{className:`text-xs text-center mt-1 ${F?"text-green-700":M?`text-${T.color}-700`:"text-gray-500"}`,children:T.description})]})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(ob,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Carbon Credits Minting"})]}),o.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Complete the three-step process to mint verified carbon credits on the blockchain"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[o.jsxs("div",{className:`p-4 rounded-xl border ${d?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{className:`w-5 h-5 ${d?"text-green-600":"text-orange-600"}`}),o.jsx("span",{className:`font-medium text-sm ${d?"text-green-900":"text-orange-900"}`,children:d?"Connected":"Not Connected"})]}),d&&o.jsxs("p",{className:"text-xs text-green-700 font-mono mt-1",children:[d.slice(0,8),"...",d.slice(-6)]})]}),o.jsx("div",{className:`p-4 rounded-xl border ${h?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tt,{className:`w-5 h-5 ${h?"text-green-600":"text-orange-600"}`}),o.jsx("span",{className:`font-medium text-sm ${h?"text-green-900":"text-orange-900"}`,children:g?"Checking...":h?"Verified":"Not Verified"})]})}),o.jsx("div",{className:`p-4 rounded-xl border ${w.isDeployed?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ob,{className:`w-5 h-5 ${w.isDeployed?"text-green-600":"text-red-600"}`}),o.jsx("span",{className:`font-medium text-sm ${w.isDeployed?"text-green-900":"text-red-900"}`,children:w.isDeployed?"Deployed":"Not Deployed"})]})}),o.jsx("div",{className:`p-4 rounded-xl border ${v.chainId?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"font-medium text-sm text-blue-900",children:v.chainId?`Chain ${v.chainId}`:"Unknown"})]})})]}),(!d||!h||!w.isDeployed)&&o.jsx(I.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6 mb-8",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx(Ve,{className:"w-8 h-8 text-yellow-600 flex-shrink-0 mt-1"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-yellow-900 mb-3",children:"Setup Required"}),o.jsxs("div",{className:"space-y-3",children:[!d&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-yellow-800",children:"Connect your wallet to continue"}),o.jsx("button",{onClick:k,className:"px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm font-medium transition-colors",children:"Connect Wallet"})]}),d&&!h&&w.isDeployed&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-yellow-800",children:"Register as a verifier to sign attestations"}),o.jsxs("div",{className:"space-x-2",children:[o.jsx("button",{onClick:N,disabled:g,className:"px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:g?"Registering...":"Register"}),o.jsx("button",{onClick:C,className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg text-sm font-medium transition-colors",children:"Demo Mode"})]})]}),d&&!h&&!w.isDeployed&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-yellow-800",children:"Smart contracts not deployed. Use demo mode for testing."}),o.jsx("button",{onClick:C,className:"px-4 py-2 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg text-sm font-medium transition-colors",children:"Demo Mode"})]}),!w.isDeployed&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-yellow-800 block",children:"Smart contracts not deployed"}),o.jsx("span",{className:"text-yellow-700 text-sm",children:"Deploy contracts or set environment variables"})]}),o.jsx("button",{onClick:()=>{X.error("Please deploy contracts first or check your environment configuration")},className:"px-4 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 rounded-lg text-sm font-medium transition-colors",children:"Deploy Contracts"})]})]})]})]})}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Jx.map((T,M)=>o.jsx(Q,{step:T,isActive:t===T.id,isCompleted:r.has(T.id)},T.id))}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-2xl shadow-lg p-8 mb-8",children:o.jsxs(Bt,{mode:"wait",children:[t==="upload"&&o.jsx(i7,{onUploadComplete:T=>R(T,d),user:{accountType:h?"verifier":"individual"}},"upload"),t==="sign"&&o.jsx(s7,{uploadedData:i,uploaderAddress:c,onSigned:D},"sign"),t==="mint"&&o.jsx(a7,{signedData:a,onMintComplete:B},"mint")]})},t),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("button",{onClick:()=>{const T=Jx.map(F=>F.id),M=T.indexOf(t);M>0&&e(T[M-1])},disabled:t==="upload",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous Step"}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{onClick:z,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(He,{className:"w-5 h-5"}),o.jsx("span",{children:"Reset Workflow"})]}),o.jsx("button",{onClick:()=>{const T=Jx.map(F=>F.id),M=T.indexOf(t);M<T.length-1&&e(T[M+1])},disabled:t==="mint"||!r.has(t),className:"px-6 py-3 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-xl hover:from-green-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Step"})]})]})]})})}function mfe({walletAddress:t}){const[e,r]=p.useState({credits:[],totalCredits:0,totalValue:0,avgPricePerCredit:0,totalCO2Offset:0}),[n,i]=p.useState([]),[s,a]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!1),[f,h]=p.useState("portfolio"),[m,g]=p.useState(""),[y,w]=p.useState("newest"),x="0xe74f9e14F5858a92eD59ECF21866afc42101a45E",v="0x076d107Ca3757C37e63cC894F2F75E068B975A97",b="0x898c8C590223d697d0226B1F68D4abCC04a66e6F";p.useEffect(()=>{t&&x&&j()},[t,x]);const j=async()=>{d(!0);try{await Promise.all([E(),S(),k()])}catch(T){console.error("Error loading portfolio:",T),X.error("Failed to load portfolio data")}finally{d(!1)}},E=async()=>{try{if(!window.ethereum)return;const T=new st(window.ethereum),M=new Ce(x,eo,T),F=M.filters.TransferSingle(null,null,t),P=await M.queryFilter(F),L=[],W=new Map;for(const ne of P){const{id:ye,value:Le}=ne.args,Jt=ye.toString(),Z=Number(Le),he=await M.balanceOf(t,Jt);Number(he)>0&&W.set(Jt,Number(he))}for(const[ne,ye]of W)try{const Le=await M.attestations(ne),Jt=await M.uri(ne);L.push({tokenId:ne,balance:ye,gsProjectId:Le.gsProjectId,gsSerial:Le.gsSerial,ipfsCid:Le.ipfsCid,originalAmount:Number(Le.amount),verifier:Le.verifier,tokenURI:Jt,createdAt:new Date().toISOString(),pricePerCredit:25})}catch(Le){console.error(`Error loading attestation for token ${ne}:`,Le)}const $=L.reduce((ne,ye)=>ne+ye.balance,0),G=L.reduce((ne,ye)=>ne+ye.balance*ye.pricePerCredit,0),fe=$>0?G/$:0,pe=$*2.3;r({credits:L,totalCredits:$,totalValue:G,avgPricePerCredit:fe,totalCO2Offset:pe})}catch(T){console.error("Error loading owned credits:",T)}},S=async()=>{try{if(!window.ethereum||!v)return;const T=new st(window.ethereum),M=new Ce(v,$a,T),F=M.filters.TokenListed(),P=await M.queryFilter(F),L=[],W=[];for(const $ of P){const{seller:G,tokenId:fe,amount:pe,pricePerToken:ne}=$.args;try{const ye=await M.listings(fe);if(Number(ye.amount)>0){const Jt=await new Ce(x,eo,T).attestations(fe),Z={tokenId:fe.toString(),seller:G,amount:Number(ye.amount),pricePerToken:Number(a0(ye.pricePerToken)),totalPrice:Number(a0(ye.pricePerToken))*Number(ye.amount),gsProjectId:Jt.gsProjectId,gsSerial:Jt.gsSerial,ipfsCid:Jt.ipfsCid,verifier:Jt.verifier,isActive:!0};G.toLowerCase()===t.toLowerCase()?W.push(Z):L.push(Z)}}catch(ye){console.error(`Error loading listing for token ${fe}:`,ye)}}i(L),a(W)}catch(T){console.error("Error loading market listings:",T)}},k=async()=>{try{if(!window.ethereum||!b)return;const T=new st(window.ethereum),M=new Ce(b,Wb,T),F=M.filters.Transfer(null,t),P=await M.queryFilter(F),L=[];for(const W of P){const{tokenId:$}=W.args;try{if((await M.ownerOf($)).toLowerCase()===t.toLowerCase()){const fe=await M.tokenURI($);L.push({certificateId:$.toString(),tokenURI:fe,retiredAt:new Date().toISOString(),amount:100,reason:"Voluntary retirement for carbon neutrality"})}}catch(G){console.error(`Error loading certificate ${$}:`,G)}}c(L)}catch(T){console.error("Error loading retired credits:",T)}},N=async(T,M,F)=>{try{if(!window.ethereum){X.error("Please connect your wallet");return}const L=await new st(window.ethereum).getSigner(),W=new Ce(v,$a,L),$=new Ce(x,eo,L);X.loading("Listing token for sale...",{id:"listing"}),await $.isApprovedForAll(t,v)||await(await $.setApprovalForAll(v,!0)).wait(),await(await W.listToken(T,M,fb(F.toString()))).wait(),X.dismiss("listing"),X.success("Token listed successfully!"),await j()}catch(P){console.error("Error listing token:",P),X.dismiss("listing");let L="Failed to list token";P.message.includes("insufficient balance")?L="Insufficient token balance":P.message.includes("user rejected")&&(L="Transaction cancelled by user"),X.error(L)}},C=async(T,M,F)=>{try{if(!window.ethereum){X.error("Please connect your wallet");return}const L=await new st(window.ethereum).getSigner(),W=new Ce(v,$a,L),$=fb((F*M).toString());X.loading("Purchasing tokens...",{id:"buying"}),await(await W.buyToken(T,M,{value:$})).wait(),X.dismiss("buying"),X.success("Tokens purchased successfully!"),await j()}catch(P){console.error("Error buying token:",P),X.dismiss("buying");let L="Failed to purchase token";P.message.includes("insufficient funds")?L="Insufficient ETH balance":P.message.includes("user rejected")&&(L="Transaction cancelled by user"),X.error(L)}},R=async(T,M,F)=>{try{if(!window.ethereum){X.error("Please connect your wallet");return}const L=await new st(window.ethereum).getSigner(),W=new Ce(v,$a,L);X.loading("Retiring carbon credits...",{id:"retiring"}),await(await W.retireToken(T,M,F||"Voluntary retirement")).wait(),X.dismiss("retiring"),X.success("Credits retired successfully! Certificate minted."),await j()}catch(P){console.error("Error retiring credits:",P),X.dismiss("retiring");let L="Failed to retire credits";P.message.includes("insufficient balance")?L="Insufficient token balance":P.message.includes("user rejected")&&(L="Transaction cancelled by user"),X.error(L)}},D=e.credits.filter(T=>T.gsProjectId.toLowerCase().includes(m.toLowerCase())||T.gsSerial.toLowerCase().includes(m.toLowerCase())),B=n.filter(T=>T.gsProjectId.toLowerCase().includes(m.toLowerCase())||T.gsSerial.toLowerCase().includes(m.toLowerCase())),z=({credit:T,showActions:M=!0,isMarketListing:F=!1})=>o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 hover:shadow-lg transition-all duration-300 overflow-hidden",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-green-400 to-blue-500"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:T.gsProjectId}),o.jsx("p",{className:"text-sm text-gray-600",children:T.gsSerial}),o.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1",children:["Token #",T.tokenId]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:F?T.amount:T.balance}),o.jsx("div",{className:"text-sm text-gray-500",children:"credits"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Price per Credit"}),o.jsxs("div",{className:"font-semibold",children:["$",F?T.pricePerToken.toFixed(2):T.pricePerCredit.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Total Value"}),o.jsxs("div",{className:"font-semibold",children:["$",F?T.totalPrice.toLocaleString():(T.balance*T.pricePerCredit).toLocaleString()]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"CO₂ Offset"}),o.jsxs("div",{className:"font-semibold text-green-600",children:[((F?T.amount:T.balance)*2.3).toFixed(1)," tons"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-xs text-gray-500",children:"Verifier"}),o.jsxs("div",{className:"font-mono text-xs",children:[T.verifier.slice(0,6),"...",T.verifier.slice(-4)]})]})]}),M&&o.jsx("div",{className:"flex space-x-2",children:F?o.jsx("button",{onClick:()=>{const P=prompt("How many credits to buy?",T.amount.toString());P&&Number(P)>0&&Number(P)<=T.amount&&C(T.tokenId,Number(P),T.pricePerToken)},className:"flex-1 bg-blue-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Buy Credits"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{const P=prompt("How many credits to list?",T.balance.toString()),L=prompt("Price per credit (ETH)?","0.025");P&&L&&Number(P)>0&&Number(P)<=T.balance&&N(T.tokenId,Number(P),Number(L))},className:"flex-1 bg-green-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"List for Sale"}),o.jsx("button",{onClick:()=>{const P=prompt("How many credits to retire?",T.balance.toString()),L=prompt("Retirement reason (optional)?","Voluntary retirement");P&&Number(P)>0&&Number(P)<=T.balance&&R(T.tokenId,Number(P),L)},className:"flex-1 bg-red-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Retire"})]})})]})]}),Q=({id:T,label:M,icon:F,count:P})=>o.jsxs("button",{onClick:()=>h(T),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${f===T?"bg-green-100 text-green-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[o.jsx(F,{className:"w-5 h-5"}),o.jsx("span",{children:M}),P!==void 0&&o.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${f===T?"bg-green-200 text-green-800":"bg-gray-200 text-gray-600"}`,children:P})]});return t?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(mn,{className:"w-8 h-8 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Carbon Portfolio"})]}),o.jsx("p",{className:"text-xl text-gray-600",children:"Track, trade, and retire your carbon credits"})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:o.jsx(so,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalCredits.toLocaleString()}),o.jsx("p",{className:"text-gray-600",children:"Total Credits"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:o.jsx(Ot,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.totalValue.toLocaleString()]}),o.jsx("p",{className:"text-gray-600",children:"Portfolio Value"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:o.jsx(s0,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalCO2Offset.toFixed(1)}),o.jsx("p",{className:"text-gray-600",children:"CO₂ Tons Offset"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:o.jsx(J0,{className:"w-6 h-6 text-amber-600"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.avgPricePerCredit.toFixed(2)]}),o.jsx("p",{className:"text-gray-600",children:"Avg Price/Credit"})]})]})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[o.jsx(Q,{id:"portfolio",label:"My Credits",icon:Ot,count:e.credits.length}),o.jsx(Q,{id:"marketplace",label:"Marketplace",icon:ji,count:n.length}),o.jsx(Q,{id:"retired",label:"Retired",icon:Qi,count:l.length})]}),o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search credits...",value:m,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),o.jsxs("button",{onClick:j,disabled:u,className:"ml-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[o.jsx(He,{className:`w-5 h-5 ${u?"animate-spin":""}`}),o.jsx("span",{children:"Refresh"})]})]}),o.jsxs(Bt,{mode:"wait",children:[f==="portfolio"&&o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.length>0?D.map(T=>o.jsx(z,{credit:T},T.tokenId)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Credits Found"}),o.jsx("p",{className:"text-gray-600",children:"You don't own any carbon credits yet."})]})},"portfolio"),f==="marketplace"&&o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:B.length>0?B.map(T=>o.jsx(z,{credit:T,isMarketListing:!0},T.tokenId)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(ji,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Listings Found"}),o.jsx("p",{className:"text-gray-600",children:"No carbon credits are currently listed for sale."})]})},"marketplace"),f==="retired"&&o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.length>0?l.map(T=>o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-red-400 to-orange-500"}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:o.jsx(Qi,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Retirement Certificate"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["#",T.certificateId]})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Amount Retired:"}),o.jsxs("span",{className:"font-semibold",children:[T.amount," credits"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Retired At:"}),o.jsx("span",{className:"text-sm",children:new Date(T.retiredAt).toLocaleDateString()})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-gray-700",children:[o.jsx("span",{className:"font-medium",children:"Reason:"})," ",T.reason]})})]})]},T.certificateId)):o.jsxs("div",{className:"col-span-full text-center py-12",children:[o.jsx(Qi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Retired Credits"}),o.jsx("p",{className:"text-gray-600",children:"You haven't retired any carbon credits yet."})]})},"retired")]})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:o.jsxs(I.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsx(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Connect Your Wallet"}),o.jsx("p",{className:"text-gray-600",children:"Please connect your wallet to view your carbon credits portfolio"})]})})}const mm=10,eP={status:[{value:"",label:"All Status"},{value:ve.PENDING,label:"Pending"},{value:ve.ATTESTED,label:"Attested"},{value:ve.MINTED,label:"Minted"},{value:ve.REJECTED,label:"Rejected"}],uploaderType:[{value:"",label:"All Users"},{value:"individual",label:"Individual Users"},{value:"business",label:"Business Users"}]};function pfe(){const[t,e]=p.useState([]),[r,n]=p.useState([]),[i,s]=p.useState(!0),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(""),[g,y]=p.useState(""),[w,x]=p.useState(""),[v,b]=p.useState(!1),[j,E]=p.useState(1),[S,k]=p.useState(1),[N,C]=p.useState({total:0,pending:0,attested:0,minted:0,rejected:0}),R=p.useCallback(async()=>{const F=ue.getCurrentUser(),P=(F==null?void 0:F.accountType)||"guest";try{if(s(!0),l(null),!ue.isUserAuthenticated()){const W=new Error("Please log in to access the verifier dashboard");throw W.code="USER_NOT_AUTHENTICATED",W}if(!ue.isVerifier()){Nt.handlePermissionError("access verifier dashboard",P,{component:"VerifierDashboard"});return}console.log("📋 Loading documents for verifier dashboard...");const L=Ue.loading("Loading documents for verification...",{roleSpecific:!0,operation:"document_review"});try{const W=await x0.executeWithRetry(()=>wa.getDocumentsForVerifier(),{maxRetries:3,retryableErrors:["NETWORK_ERROR","TIMEOUT_ERROR","SERVER_ERROR"]});console.log(`📋 Loaded ${W.length} documents`),e(W);const $={total:W.length,pending:W.filter(G=>G.status===ve.PENDING).length,attested:W.filter(G=>G.status===ve.ATTESTED).length,minted:W.filter(G=>G.status===ve.MINTED).length,rejected:W.filter(G=>G.status===ve.REJECTED).length};C($),Ue.dismiss(L),t.length>0&&Ue.success(`Dashboard refreshed - ${W.length} documents loaded`,{roleSpecific:!0,operation:"dashboard_refresh",duration:3e3})}catch(W){throw Ue.dismiss(L),W}}catch(L){console.error("❌ Failed to load documents:",L);const W=Nt.handleError(L,{component:"VerifierDashboard",operation:"load_documents",userRole:"verifier"},{showToast:!0,showRetry:!0,retryAction:R});l(W.message.message||L.message)}finally{s(!1)}},[t.length]),D=p.useCallback(()=>{let F=[...t];if(h.trim()){const L=h.toLowerCase();F=F.filter(W=>{var $,G,fe,pe;return(($=W.projectName)==null?void 0:$.toLowerCase().includes(L))||((G=W.description)==null?void 0:G.toLowerCase().includes(L))||((fe=W.uploaderName)==null?void 0:fe.toLowerCase().includes(L))||((pe=W.uploaderEmail)==null?void 0:pe.toLowerCase().includes(L))})}g&&(F=F.filter(L=>L.status===g)),w&&(F=F.filter(L=>L.uploaderType===w)),n(F);const P=Math.ceil(F.length/mm);k(P),j>P&&P>0&&E(1)},[t,h,g,w,j]),B=p.useCallback(()=>{const F=(j-1)*mm,P=F+mm;return r.slice(F,P)},[r,j]),z=p.useCallback(F=>{u(F),f(!0)},[]),Q=p.useCallback(()=>{f(!1),u(null)},[]),T=p.useCallback(()=>{R()},[R]),M=p.useCallback(()=>{m(""),y(""),x(""),E(1)},[]);return p.useEffect(()=>{R()},[R]),p.useEffect(()=>{D()},[D]),i?o.jsx(ii,{componentName:"VerifierDashboard",children:o.jsx(kY,{userRole:"verifier"})}):a?o.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:o.jsx("div",{className:"flex items-center justify-center min-h-96",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ve,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Error Loading Documents"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:a}),o.jsxs("button",{onClick:T,className:"btn-primary inline-flex items-center space-x-2",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsx("span",{children:"Try Again"})]})]})})}):o.jsx(ii,{componentName:"VerifierDashboard",context:{userRole:"verifier"},children:o.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-carbon-900 mb-2",children:"Verifier Dashboard"}),o.jsx("p",{className:"text-carbon-600",children:"Review and verify documents submitted by users for carbon credit minting"})]}),o.jsxs("button",{onClick:T,className:"btn-secondary inline-flex items-center space-x-2",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsx("span",{children:"Refresh"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[o.jsx(lf,{title:"Total Documents",value:N.total,icon:Ui,color:"blue"}),o.jsx(lf,{title:"Pending",value:N.pending,icon:Os,color:"yellow"}),o.jsx(lf,{title:"Attested",value:N.attested,icon:ze,color:"green"}),o.jsx(lf,{title:"Minted",value:N.minted,icon:ze,color:"emerald"}),o.jsx(lf,{title:"Rejected",value:N.rejected,icon:Tl,color:"red"})]})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-carbon-200 p-6 mb-6",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[o.jsx("div",{className:"flex-1 max-w-md",children:o.jsxs("div",{className:"relative",children:[o.jsx(id,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-carbon-400"}),o.jsx("input",{type:"text",placeholder:"Search documents, projects, or uploaders...",value:h,onChange:F=>m(F.target.value),className:"w-full pl-10 pr-4 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("button",{onClick:()=>b(!v),className:`inline-flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${v?"bg-primary-50 border-primary-200 text-primary-700":"bg-white border-carbon-300 text-carbon-700 hover:bg-carbon-50"}`,children:[o.jsx($z,{className:"w-4 h-4"}),o.jsx("span",{children:"Filters"})]}),(h||g||w)&&o.jsx("button",{onClick:M,className:"text-sm text-carbon-600 hover:text-carbon-900 underline",children:"Clear all"})]})]}),o.jsx(Bt,{children:v&&o.jsx(I.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-carbon-200",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-carbon-700 mb-2",children:"Status"}),o.jsx("select",{id:"status-filter",value:g,onChange:F=>y(F.target.value),className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:eP.status.map(F=>o.jsx("option",{value:F.value,children:F.label},F.value))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"uploader-type-filter",className:"block text-sm font-medium text-carbon-700 mb-2",children:"Uploader Type"}),o.jsx("select",{id:"uploader-type-filter",value:w,onChange:F=>x(F.target.value),className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:eP.uploaderType.map(F=>o.jsx("option",{value:F.value,children:F.label},F.value))})]})]})})})]}),o.jsx(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm border border-carbon-200",children:r.length===0?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx(Ui,{className:"w-12 h-12 text-carbon-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"No Documents Found"}),o.jsx("p",{className:"text-carbon-600",children:t.length===0?"No documents have been uploaded yet.":"No documents match your current filters."}),(h||g||w)&&o.jsx("button",{onClick:M,className:"mt-4 text-primary-600 hover:text-primary-700 underline",children:"Clear filters to see all documents"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-carbon-50 border-b border-carbon-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Project"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Uploader"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Credits"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Uploaded"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-carbon-900",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-carbon-200",children:B().map((F,P)=>o.jsx(gfe,{document:F,index:P,onSelect:z},F.id||F.cid))})]})}),S>1&&o.jsx("div",{className:"px-6 py-4 border-t border-carbon-200",children:o.jsx(yfe,{currentPage:j,totalPages:S,onPageChange:E,totalItems:r.length,itemsPerPage:mm})})]})}),o.jsx(Bt,{children:d&&c&&o.jsx(xfe,{document:c,onClose:Q,onDocumentUpdate:R})})]})})}function lf({title:t,value:e,icon:r,color:n}){const i={blue:"bg-blue-50 text-blue-600 border-blue-200",yellow:"bg-yellow-50 text-yellow-600 border-yellow-200",green:"bg-green-50 text-green-600 border-green-200",emerald:"bg-emerald-50 text-emerald-600 border-emerald-200",red:"bg-red-50 text-red-600 border-red-200"};return o.jsx(I.div,{whileHover:{scale:1.02},className:`p-4 rounded-lg border ${i[n]}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium opacity-80",children:t}),o.jsx("p",{className:"text-2xl font-bold",children:e})]}),o.jsx(r,{className:"w-8 h-8 opacity-60"})]})})}function gfe({document:t,index:e,onSelect:r}){const n=l=>{const c={[ve.PENDING]:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Os,label:"Pending"},[ve.ATTESTED]:{color:"bg-green-100 text-green-800 border-green-200",icon:ze,label:"Attested"},[ve.MINTED]:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:ze,label:"Minted"},[ve.REJECTED]:{color:"bg-red-100 text-red-800 border-red-200",icon:Tl,label:"Rejected"}},u=c[l]||c[ve.PENDING],d=u.icon;return o.jsxs("span",{className:`inline-flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium border ${u.color}`,children:[o.jsx(d,{className:"w-3 h-3"}),o.jsx("span",{children:u.label})]})},i=l=>l==="business"?ac:Ft,s=l=>{if(!l)return"Unknown";try{return new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"Invalid date"}},a=i(t.uploaderType);return o.jsxs(I.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.05},className:"hover:bg-carbon-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-carbon-900 truncate max-w-48",children:t.projectName||"Untitled Project"}),o.jsx("p",{className:"text-sm text-carbon-600 truncate max-w-48",children:t.filename||"Unknown file"})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(a,{className:"w-4 h-4 text-carbon-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-carbon-900",children:t.uploaderName||"Unknown"}),o.jsx("p",{className:"text-xs text-carbon-600 capitalize",children:t.uploaderType||"individual"})]})]})}),o.jsx("td",{className:"px-6 py-4",children:n(t.status)}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("span",{className:"text-sm font-medium text-carbon-900",children:[t.estimatedCredits||0," credits"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-carbon-600",children:[o.jsx(ab,{className:"w-4 h-4"}),o.jsx("span",{children:s(t.createdAt||t.uploadedAt)})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("button",{onClick:()=>r(t),className:"inline-flex items-center space-x-1 px-3 py-1 text-sm font-medium text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-lg transition-colors",children:[o.jsx(Wl,{className:"w-4 h-4"}),o.jsx("span",{children:"View"})]})})]})}function yfe({currentPage:t,totalPages:e,onPageChange:r,totalItems:n,itemsPerPage:i}){const s=(t-1)*i+1,a=Math.min(t*i,n),l=()=>{const c=[];if(e<=5)for(let d=1;d<=e;d++)c.push(d);else{const d=Math.max(1,t-2),f=Math.min(e,d+5-1);for(let h=d;h<=f;h++)c.push(h)}return c};return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-sm text-carbon-600",children:["Showing ",s," to ",a," of ",n," documents"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>r(t-1),disabled:t===1,className:"p-2 rounded-lg border border-carbon-300 text-carbon-600 hover:bg-carbon-50 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(fz,{className:"w-4 h-4"})}),l().map(c=>o.jsx("button",{onClick:()=>r(c),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c===t?"bg-primary-500 text-white":"text-carbon-600 hover:bg-carbon-50"}`,children:c},c)),o.jsx("button",{onClick:()=>r(t+1),disabled:t===e,className:"p-2 rounded-lg border border-carbon-300 text-carbon-600 hover:bg-carbon-50 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(H8,{className:"w-4 h-4"})})]})]})}function xfe({document:t,onClose:e,onDocumentUpdate:r}){var v;const[n,i]=p.useState(!1),[s,a]=p.useState({gsProjectId:"",gsSerial:"",amount:t.estimatedCredits||0}),[l,c]=p.useState(!1),[u,d]=p.useState(null),f=t.status===ve.PENDING,h=t.status===ve.ATTESTED,m=t.status===ve.MINTED,g=t.status===ve.REJECTED,y=async b=>{b.preventDefault();try{c(!0),d(null);const{signAttestation:j,validateAttestationData:E,createAttestationData:S}=await i5(async()=>{const{signAttestation:T,validateAttestationData:M,createAttestationData:F}=await import("./eip712-DXyxYfez.js");return{signAttestation:T,validateAttestationData:M,createAttestationData:F}},[]),k=ue.getCurrentUser();if(!(k!=null&&k.walletAddress))throw new Error("Verifier wallet address not found");const N=await de.getSigner();if(!N)throw new Error("Unable to get wallet signer");const C=de.getContractAddress("carbonCredit");if(!C)throw new Error("Carbon credit contract address not found");const R=await de.getNonce(t.uploadedBy),D=S(s,t,R);E(D),console.log("🔐 Generating attestation signature...",D);const B=await j(D,C,N),z={...D,signature:B};console.log("📝 Submitting attestation...");const Q=await wa.attestDocument(t.id,z);console.log("✅ Attestation successful:",Q),te.success("Document attested successfully!"),i(!1),r&&r()}catch(j){console.error("❌ Attestation failed:",j),d(j.message),te.error(`Attestation failed: ${j.message}`)}finally{c(!1)}},w=(b,j)=>{a(E=>({...E,[b]:j})),u&&d(null)},x=b=>{const j={[ve.PENDING]:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Os,label:"Pending Attestation"},[ve.ATTESTED]:{color:"bg-green-100 text-green-800 border-green-200",icon:ze,label:"Attested"},[ve.MINTED]:{color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:ze,label:"Minted"},[ve.REJECTED]:{color:"bg-red-100 text-red-800 border-red-200",icon:Tl,label:"Rejected"}},E=j[b]||j[ve.PENDING],S=E.icon;return o.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium border ${E.color}`,children:[o.jsx(S,{className:"w-4 h-4"}),o.jsx("span",{children:E.label})]})};return o.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e,children:o.jsx(I.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-carbon-900",children:"Document Details"}),o.jsx("div",{className:"mt-2",children:x(t.status)})]}),o.jsx("button",{onClick:e,className:"p-2 text-carbon-400 hover:text-carbon-600 rounded-lg hover:bg-carbon-100",children:o.jsx(Tl,{className:"w-6 h-6"})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Project Information"}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",t.projectName]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",t.projectType||"Not specified"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Description:"})," ",t.description||"No description"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",t.location||"Not specified"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Estimated Credits:"})," ",t.estimatedCredits||0]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Uploader Information"}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Name:"})," ",t.uploaderName||"Unknown"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",t.uploaderEmail||"Unknown"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Type:"})," ",t.uploaderType||"individual"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Address:"})," ",t.uploadedBy]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"File Information"}),o.jsxs("div",{className:"bg-carbon-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Filename:"})," ",t.filename]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Size:"})," ",wa.formatFileSize(t.fileSize||0)]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"IPFS CID:"})," ",o.jsx("code",{className:"text-xs bg-carbon-200 px-1 rounded",children:t.cid})]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Uploaded:"})," ",new Date(t.createdAt||t.uploadedAt).toLocaleString()]})]})]}),h&&t.attestation&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-carbon-900 mb-2",children:"Attestation Information"}),o.jsxs("div",{className:"bg-green-50 rounded-lg p-4 space-y-2",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Verifier:"})," ",t.attestation.verifierAddress]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Attested At:"})," ",new Date(t.attestation.attestedAt).toLocaleString()]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"GS Project ID:"})," ",t.attestation.gsProjectId]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"GS Serial:"})," ",t.attestation.gsSerial]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Amount:"})," ",t.attestation.amount," credits"]})]})]})]}),o.jsxs("div",{children:[f&&!n&&o.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 text-center",children:[o.jsx(ze,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Ready for Attestation"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"This document is pending attestation. Review the project details and attest if valid."}),o.jsx("button",{onClick:()=>i(!0),className:"btn-primary",children:"Start Attestation"})]}),f&&n&&o.jsxs("div",{className:"bg-white border border-carbon-200 rounded-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-4",children:"Attest Document"}),u&&o.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ve,{className:"w-5 h-5 text-red-500"}),o.jsx("p",{className:"text-sm text-red-700",children:u})]})}),o.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gsProjectId",className:"block text-sm font-medium text-carbon-700 mb-1",children:"Gold Standard Project ID *"}),o.jsx("input",{type:"text",id:"gsProjectId",value:s.gsProjectId,onChange:b=>w("gsProjectId",b.target.value),placeholder:"e.g., GS12345",required:!0,disabled:l,className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-carbon-100"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"gsSerial",className:"block text-sm font-medium text-carbon-700 mb-1",children:"Gold Standard Serial Number *"}),o.jsx("input",{type:"text",id:"gsSerial",value:s.gsSerial,onChange:b=>w("gsSerial",b.target.value),placeholder:"e.g., GS12345-001-2024",required:!0,disabled:l,className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-carbon-100"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-carbon-700 mb-1",children:"Credits to Mint"}),o.jsx("input",{type:"number",id:"amount",value:s.amount,onChange:b=>w("amount",Number(b.target.value)),min:"1",max:"1000000",required:!0,disabled:l,className:"w-full px-3 py-2 border border-carbon-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-carbon-100"}),o.jsxs("p",{className:"text-xs text-carbon-500 mt-1",children:["Estimated: ",t.estimatedCredits||0," credits"]})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(xn,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-700",children:[o.jsx("p",{className:"font-medium mb-1",children:"Attestation Process"}),o.jsx("p",{children:"You will be asked to sign a transaction to attest this document. The credits will be automatically allocated to the document uploader."})]})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>i(!1),disabled:l,className:"btn-secondary flex-1",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:l||!s.gsProjectId||!s.gsSerial,className:"btn-primary flex-1 inline-flex items-center justify-center space-x-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(He,{className:"w-4 h-4 animate-spin"}),o.jsx("span",{children:"Attesting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ze,{className:"w-4 h-4"}),o.jsx("span",{children:"Attest Document"})]})})]})]})]}),h&&o.jsxs("div",{className:"bg-green-50 rounded-lg p-6 text-center",children:[o.jsx(ze,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Document Attested"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"This document has been successfully attested and is ready for minting."}),o.jsxs("div",{className:"text-sm text-carbon-500",children:["Attested on ",new Date((v=t.attestation)==null?void 0:v.attestedAt).toLocaleDateString()]})]}),m&&o.jsxs("div",{className:"bg-emerald-50 rounded-lg p-6 text-center",children:[o.jsx(ze,{className:"w-12 h-12 text-emerald-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Credits Minted"}),o.jsx("p",{className:"text-carbon-600 mb-4",children:"Carbon credits have been minted and allocated to the uploader."})]}),g&&o.jsxs("div",{className:"bg-red-50 rounded-lg p-6 text-center",children:[o.jsx(Tl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-carbon-900 mb-2",children:"Document Rejected"}),o.jsx("p",{className:"text-carbon-600",children:"This document has been rejected and cannot be attested."})]})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-carbon-200 flex justify-end",children:o.jsx("button",{onClick:e,className:"btn-secondary",children:"Close"})})]})})})}function vfe(){console.log("App component rendering");const[t,e]=p.useState(null),[r,n]=p.useState(null),[i,s]=p.useState("welcome"),[a,l]=p.useState("dashboard"),[c,u]=p.useState(null),[d,f]=p.useState(null),[h,m]=p.useState(1),[g,y]=p.useState(!0),[w,x]=p.useState(null);p.useEffect(()=>(console.log("useEffect triggered"),v(),b(),window.ethereum&&(window.ethereum.on("accountsChanged",D=>{D.length>0?n(D[0]):n(null)}),window.ethereum.on("chainChanged",()=>{window.location.reload()})),()=>{window.ethereum&&(window.ethereum.removeAllListeners("accountsChanged"),window.ethereum.removeAllListeners("chainChanged"))}),[]);const v=async()=>{console.log("checkUserSession called"),y(!0);try{const D=ue.initializeSession();if(console.log("sessionUser:",D),D&&(e(D),s("app"),Ue.welcomeMessage(D.accountType||"individual",D.firstName||"User"),D.walletAddress))try{await de.initialize(),console.log("blockchainService initialized")}catch(B){console.warn("Failed to initialize blockchain service:",B.message),Nt.handleBlockchainError(B,"blockchain_initialization",{userRole:D.accountType,component:"App",retryAction:()=>de.initialize()})}x(null)}catch(D){console.error("Failed to check user session:",D);const B=Nt.handleError(D,{operation:"session_initialization",component:"App",userRole:"guest"},{showToast:!0,showRetry:!0,retryAction:v});x(B)}finally{y(!1)}},b=async()=>{if(console.log("checkWalletConnection called"),console.log("window.ethereum:",window.ethereum),window.ethereum)try{const D=await window.ethereum.request({method:"eth_accounts"});console.log("accounts:",D),D.length>0&&n(D[0])}catch(D){console.error("Error checking wallet connection:",D)}else console.log("window.ethereum not available")},j=async()=>{const D=ue.getCurrentUser(),B=(D==null?void 0:D.accountType)||"guest";try{Ue.loading("Connecting wallet...",{id:"wallet-connection",roleSpecific:!0,operation:"wallet_connection"});let z;return ue.isUserAuthenticated()?(z=await ue.connectWallet(),n(z.address),Ue.success(`Wallet connected successfully! Address: ${z.address.slice(0,6)}...${z.address.slice(-4)}`,{id:"wallet-connection",roleSpecific:!0,operation:"wallet_connection",duration:5e3})):(z=await de.connectWallet(),n(z.address),Ue.info("Wallet connected. Please log in to save wallet to your profile.",{id:"wallet-connection",roleSpecific:!0,operation:"wallet_connection"})),z.address}catch(z){throw console.error("Failed to connect wallet:",z),Nt.handleBlockchainError(z,"wallet_connection",{userRole:B,component:"App",retryAction:j}),z}},E=async D=>{try{if(e(D),s("app"),Ue.welcomeMessage(D.accountType||"individual",D.firstName||"User"),D.walletAddress)try{await de.initialize()}catch(B){console.warn("Failed to initialize blockchain service:",B.message),Nt.handleBlockchainError(B,"blockchain_initialization",{userRole:D.accountType,component:"App",retryAction:()=>de.initialize()})}}catch(B){Nt.handleError(B,{operation:"user_login",component:"App",userRole:(D==null?void 0:D.accountType)||"guest"},{showToast:!0,showRetry:!1})}},S=()=>{try{ue.logout(),e(null),n(null),s("welcome"),l("dashboard"),Ue.info("You have been logged out successfully",{duration:3e3})}catch(D){Nt.handleError(D,{operation:"user_logout",component:"App"},{showToast:!0,showRetry:!1})}},k=()=>{u(null),f(null),m(1)},N=D=>{f(D),m(3)},C=D=>{u(D),m(2)},R=()=>{switch(console.log("renderCurrentPage called, currentPage:",a),a){case"dashboard":return o.jsx(qk,{walletAddress:r,onPageChange:l});case"tokens":return o.jsx(yc,{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[$r.VIEW_CREDITS],user:t,children:o.jsx(afe,{onShow:l})});case"verifierDashboard":return o.jsx(yc,{allowedRoles:[le.VERIFIER],requiredPermissions:[$r.VIEW_VERIFIER_DASHBOARD,$r.VIEW_ALL_DOCUMENTS],user:t,children:o.jsx(pfe,{})});case"mint":return o.jsx(yc,{allowedRoles:[le.INDIVIDUAL,le.BUSINESS],requiredPermissions:[$r.UPLOAD_DOCUMENT],user:t,children:o.jsx(bfe,{mintStep:h,uploaded:c,signed:d,onReset:k,onUploaded:C,onSigned:N,user:t})});case"mintCredits":return o.jsx(yc,{allowedRoles:[le.INDIVIDUAL,le.BUSINESS],requiredPermissions:[$r.UPLOAD_DOCUMENT],user:t,children:o.jsx(Xx,{children:o.jsx(cfe,{onNavigate:l})})});case"portfolio":return o.jsx(yc,{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[$r.VIEW_CREDITS],user:t,children:o.jsx(Xx,{children:o.jsx(ffe,{onNavigate:l})})});case"market":return o.jsx(ofe,{onShow:l});case"retire":return o.jsx(yc,{allowedRoles:[le.INDIVIDUAL,le.BUSINESS,le.VERIFIER],requiredPermissions:[$r.VIEW_CREDITS],user:t,children:o.jsx(lfe,{})});case"analytics":return o.jsx(rfe,{walletAddress:r});case"settings":return o.jsx(nfe,{user:t,onLogout:S});case"mintWorkflow":return o.jsx(hfe,{});case"carbonPortfolio":return o.jsx(mfe,{walletAddress:r});default:return o.jsx(qk,{walletAddress:r,onPageChange:l})}};return g?o.jsxs(o.Fragment,{children:[o.jsx(tx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",borderRadius:"12px"}}}),o.jsx($O,{show:!0,message:"Initializing application...",userRole:(t==null?void 0:t.accountType)||"guest",operation:"app_initialization"})]}):(console.log("Rendering auth flow, user:",t,"currentView:",i),!t||i!=="app"?o.jsxs(ii,{componentName:"AuthFlow",context:{currentView:i},children:[o.jsx(tx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",borderRadius:"12px"}}}),o.jsxs(Bt,{mode:"wait",children:[i==="welcome"&&o.jsx(ii,{componentName:"Welcome",children:o.jsx(RY,{onShowAuth:s})}),i==="login"&&o.jsx(ii,{componentName:"Login",children:o.jsx(MY,{onShowAuth:s,onLogin:E})}),i==="signup"&&o.jsx(ii,{componentName:"Signup",children:o.jsx(LY,{onShowAuth:s,onLogin:E})})]})]}):(console.log("Rendering main app, user:",t,"currentView:",i),o.jsx(ii,{componentName:"MainApp",context:{user:t,currentPage:a},children:o.jsx(uY,{children:o.jsxs(Xx,{children:[o.jsx(tx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",borderRadius:"12px"}}}),o.jsx(ii,{componentName:"Layout",context:{currentPage:a,user:t},children:o.jsx(IY,{currentPage:a,onPageChange:l,walletAddress:r,onConnectWallet:j,user:t,onLogout:S,children:o.jsx(ii,{componentName:"RoleBasedRouter",context:{user:t,currentPage:a},children:o.jsx(NY,{user:t,currentPage:a,onPageChange:l,children:o.jsx(ii,{componentName:`Page-${a}`,context:{currentPage:a,user:t},children:R()})})})})})]})})})))}function bfe({mintStep:t,uploaded:e,signed:r,onReset:n,onUploaded:i,onSigned:s,user:a}){const l=[{id:1,title:"Upload Document",description:"Upload project documentation to IPFS",icon:"📄",completed:!!e},{id:2,title:"Sign Attestation",description:"Verifier signs the EIP-712 attestation",icon:"✍️",completed:!!r},{id:3,title:"Mint Tokens",description:"Create carbon credit tokens on blockchain",icon:"🪙",completed:!1}];return o.jsxs("div",{className:"p-4 sm:p-8 max-w-6xl mx-auto",children:[o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:"🌱"})}),o.jsx("h1",{className:"text-4xl font-bold text-carbon-900",children:"Mint Carbon Credits"})]}),o.jsx("p",{className:"text-lg text-carbon-600 max-w-2xl mx-auto",children:"Transform your environmental impact projects into verified carbon credits through our secure, blockchain-based minting process."})]}),o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-12",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute top-8 left-0 right-0 h-0.5 bg-carbon-200",children:o.jsx(I.div,{className:"h-full bg-primary-500",initial:{width:"0%"},animate:{width:`${(t-1)/2*100}%`},transition:{duration:.5}})}),o.jsx("div",{className:"relative flex justify-between",children:l.map((c,u)=>{const d=t>=c.id,f=c.completed;return o.jsxs(I.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1+u*.1},className:"flex flex-col items-center max-w-xs",children:[o.jsxs("div",{className:`relative w-16 h-16 rounded-full border-4 flex items-center justify-center text-2xl transition-all duration-300 ${f?"bg-green-100 border-green-500 text-green-600":d?"bg-primary-100 border-primary-500 text-primary-600":"bg-white border-carbon-300 text-carbon-400"}`,children:[f?o.jsx(ze,{className:"w-8 h-8 text-green-600"}):o.jsx("span",{children:c.icon}),o.jsx("div",{className:`absolute -bottom-1 -right-1 w-6 h-6 rounded-full text-xs font-bold flex items-center justify-center ${d?"bg-primary-500 text-white":"bg-carbon-300 text-white"}`,children:c.id})]}),o.jsxs("div",{className:"mt-4 text-center",children:[o.jsx("h3",{className:`text-sm font-semibold ${d?"text-primary-700":"text-carbon-600"}`,children:c.title}),o.jsx("p",{className:`text-xs mt-1 max-w-32 ${d?"text-primary-600":"text-carbon-500"}`,children:c.description}),f&&o.jsx(I.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},className:"mt-2",children:o.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full font-medium",children:"✓ Completed"})})]})]},c.id)})})]}),o.jsx("div",{className:"flex justify-center mt-8",children:o.jsxs(I.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"btn-secondary inline-flex items-center space-x-2",children:[o.jsx(He,{className:"w-4 h-4"}),o.jsx("span",{children:"Reset Process"})]})})]}),o.jsx("div",{className:"space-y-8",children:o.jsxs(Bt,{mode:"wait",children:[t>=1&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 to-blue-600"}),o.jsx(i7,{onUploaded:i,user:a})]},"step1"),t>=2&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-400 to-purple-600"}),o.jsx(s7,{uploadedData:e,onSigned:s})]},"step2"),t>=3&&o.jsxs(I.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.2},className:"card relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-400 to-green-600"}),o.jsx(a7,{signedData:r})]},"step3")]})})]})}p4(document.getElementById("root")).render(o.jsx(vfe,{}));export{ue as a,te as c};
//# sourceMappingURL=index-D95tUTVY.js.map
